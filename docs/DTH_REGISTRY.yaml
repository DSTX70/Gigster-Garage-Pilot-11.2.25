registry:
  id: "dth_registry_gigster_garage_v1"
  version: "1.3.0"
  updated_at: "2025-12-31"
  owners: ["OS"]
  applies_to_repos: ["GigsterGarage", "DreamTeamHub", "AgencyHub"]
  notes:
    - "Pods are governed workflows; Members/SMEs/Councils are role contracts with enforced outputs."
    - "Gigster Garage includes repo-specific add-ons for platform constraints, scams, and personal gig history insights."

operating_model:
  what_is_a_pod:
    description: "A Pod is a governed workflow (a production pipeline), not 'many bots'."
    components:
      - "Roles (Members/SMEs/Reviewers) with clear input contracts and output contracts"
      - "Routing rules (how requests map to Pods)"
      - "Autonomy + gates (L0-L3) (what can run without explicit approval)"
      - "Adjudication rules (how conflicts are resolved)"
      - "Artifact requirements (packs + receipts)"

  members_vs_smes_vs_councils:
    members_core: "Always-on roles needed to deliver the product's promise."
    smes_optional: "Invoked only when triggers indicate their lane is needed."
    councils: "Invoked when risk/conflict/irreversibility requires formal review. Councils adjudicate decisions, not personalities."

  tracks_to_packs:
    parallax_translate: "surfaces tracks (Literal/Singable/Poetic)"
    gigster_garage: "surfaces packs (Profile, Proposals, Rate Card, Safety Plan, etc.)"

  standard_pod_recipe:
    description: "Stamp across repos"
    steps:
      - "INTAKE"
      - "LOAD_CONSTRAINTS"
      - "CORE_DRAFT"
      - "SME_PASSES (triggered)"
      - "VERIFY (when rules hit)"
      - "ADJUDICATE (OS; Council when thresholds hit)"
      - "FINALIZE_PACKS"
      - "SHIP_GATE (explicit user approval for irreversible actions)"
      - "WRITE_RECEIPT (RunReceipt + update PreferenceSignals)"

shared_system_primitives:
  context_loading_precedence:
    - "page_fields"
    - "explicit_user_prompt"
    - "project_canon_policies"
    - "user_profile_pack"
    - "preference_signals"

  learning_artifacts:
    user_profile_pack:
      schema_name: "UserProfilePack"
      purpose: "Stable, user-approved preferences and constraints."
      fields:
        required: ["userId", "timezone"]
        optional:
          - "preferredName"
          - "preferredTone"
          - "verbosity"
          - "goals"
          - "constraints"
          - "riskTolerance"
          - "defaultDeliverableFormats"

    preference_signals:
      schema_name: "PreferenceSignals"
      purpose: "Implicit learning from selections/edits/rejections; never overrides explicit constraints."
      fields:
        required: ["signalId", "podId"]
        optional:
          - "chosenVariantId"
          - "editDeltasSummary"
          - "rejectionReasons"
          - "timeToApprovalSec"
          - "shipActionTaken"
          - "lastNPatterns"

    run_receipt:
      schema_name: "RunReceipt"
      purpose: "Traceable receipt of each Pod run; supports QA and evidence-grade posture."
      fields:
        required: ["runId", "podId", "workType", "inputsSummary", "rolesInvoked", "outputsProduced"]
        optional:
          - "contextSourcesUsed"
          - "riskScore"
          - "riskBreakdown"
          - "councilInvoked"
          - "decisionLogId"
          - "userApproval"

  factcheck_lane:
    mode: "VERIFY"
    run_when_any_true:
      - "laws_regulations_taxes_contracts_medical_claims"
      - "prices_platform_policies_latest_current_facts"
      - "stats_benchmarks_or_superlatives"
      - "risk_score_at_or_above_council_threshold"
    outputs:
      claims_list: {schema_name: "ClaimsList", fields: ["claimId", "claimText", "claimType", "timeSensitivity", "verifyRequired"]}
      verified_claims: {schema_name: "VerifiedClaims", fields: ["claimId", "status", "supportSummary", "sourceRefs", "confidence", "notes"]}
      unverifiable_flags: {schema_name: "UnverifiableFlags", fields: ["flagId", "claimText", "reason", "rewriteGuidance"]}

  decision_logging:
    decision_log_pack:
      schema_name: "DecisionLogPack"
      required_when: ["adjudication_occurs", "conflict_detected", "council_invoked"]
      fields: ["decisionId", "conflictSummary", "options", "precedenceApplied", "finalChoice", "notes"]

  adjudication_precedence_rules:
    highest_to_lowest:
      - "hard_safety_and_privacy_policies"
      - "repo_brand_canon"
      - "user_explicit_constraints"
      - "domain_correctness"
      - "core_member_quality_preferences"
      - "optional_enhancements"

routing_and_escalation:
  work_types:
    - "PROFILE_OPTIMIZATION"
    - "PROPOSAL_WRITING"
    - "PRICING_SCOPING"
    - "SCAM_SAFETY_CHECK"
    - "CONTRACT_WATCHOUTS"
    - "FINANCE_TAX_PLANNING"
    - "PIVOT_PLAN"
    - "CONTENT_CREATE"
    - "CONTENT_WRITE"
    - "PROMOTION_PLAN"
    - "ANALYTICS_TRACKING"

  routing_hierarchy:
    - "if_ship_action_requested_then_route_to_owner_pod_and_raise_risk"
    - "use_page_context_to_narrow_candidate_pods"
    - "classify_by_keywords_and_required_outputs"

  sme_enrollment_rules:
    sentinelSecuritySME:
      enroll_when_any_phrase: ["ssn","social security","driver's license","passport","pay to apply","wire transfer","gift cards","crypto","deposit first","share your login","password","2fa","teamviewer","anydesk","remote access"]
      enroll_when_any_structure: ["user_uploads_id_or_tax_or_bank_docs","payment_required_before_job"]

    praetorPrivacySME:
      enroll_when_any_phrase: ["pii","gdpr","hipaa","consent","data retention","store customer data"]
      enroll_when_any_structure: ["analytics_or_tracking_includes_personal_data_fields","user_requests_data_collection_or_storage"]

    aegisLegalIPSME:
      enroll_when_any_phrase: ["contract","nda","non-compete","work for hire","ownership","indemnify","legal notice"]
      enroll_when_any_structure: ["contract_text_pasted_or_uploaded"]

    ledgerMoneySME:
      enroll_when_any_phrase: ["how much should i charge","rate","pricing","quote","scope creep"]
      enroll_when_any_structure: ["estimate_or_tiering_requested"]

    tallyTaxSME:
      enroll_when_any_phrase: ["1099","estimated taxes","quarterly","deductions"]
      enroll_when_any_structure: ["income_variability_planning"]

    accessibilitySME:
      enroll_when_any_phrase: ["reading level","accessible","screen reader","alt text"]
      enroll_when_any_structure: ["public_distribution_content"]

    localizationSME:
      enroll_when_any_phrase: ["translate","bilingual","spanish version","multilingual"]
      enroll_when_any_structure: ["multilingual_profile_or_services"]

    terminologySME:
      enroll_when_any_phrase: ["terminology","industry terms","glossary"]

    codaOSSComplianceSME:
      enroll_when_any_phrase: ["open source","gpl","mit license","dependencies"]
      enroll_when_any_structure: ["software_distribution_deliverable"]

    factCheckSME:
      enroll_when: "shared_system_primitives.factcheck_lane.run_when_any_true"

  risk_scoring:
    dimensions:
      LEGAL: {min: 0, max: 3}
      MONEY: {min: 0, max: 3}
      SAFETY_SCAM: {min: 0, max: 3}
      PRIVACY: {min: 0, max: 3}
      IRREVERSIBILITY: {min: 0, max: 3}
      UNCERTAINTY: {min: 0, max: 3}
      RECENCY: {min: 0, max: 3}
    total_range: {min: 0, max: 21}

  council_thresholds:
    low:      {score_range: [0, 5],  rule: "core_members_only; os_adjudicates"}
    medium:   {score_range: [6, 10], rule: "targeted_smes; verify_if_factual_claims"}
    high:     {score_range: [11, 14], rule: "council_required_or_dual_sme_signoff"}
    critical: {score_range: [15, 21], rule: "council_required + verify_required + explicit_ship_gate"}

pods:
  - podId: "GIG_WORKER_SUCCESS_POD"
    purpose: "Increase replies/bookings/earnings via profiles, proposals, outreach, and pricing alignment."
    workTypes: ["PROFILE_OPTIMIZATION","PROPOSAL_WRITING","PRICING_SCOPING"]
    triggers:
      page_context_any: ["GigsterCoach","Profile","Apply","Messages","Rates"]
      phrases_any: ["no replies","fix my profile","better proposals","price this","scope this job"]
    steps: ["INTAKE","LOAD_CONSTRAINTS","CORE_DRAFT","SME_PASSES","VERIFY","ADJUDICATE","FINALIZE_PACKS","SHIP_GATE","WRITE_RECEIPT"]
    coreRoles: ["OS","Prism","Echo","Ledger","Navi"]
    optionalSMEs: ["sentinelSecuritySME","praetorPrivacySME","factCheckSME","accessibilitySME","localizationSME","terminologySME"]
    outputs: ["ProfileDeltaPack","ProposalPack","OutreachSequencePack","RateCardPack","ScopeBoundaryPack","ApplyRoutineChecklistPack","DecisionLogPack","RunReceipt"]

  - podId: "GIG_COMPLIANCE_SAFETY_POD"
    purpose: "Scam detection, PII boundaries, safe response scripts, and escalation guidance."
    workTypes: ["SCAM_SAFETY_CHECK","CONTRACT_WATCHOUTS"]
    triggers:
      phrases_any: ["ssn","id","pay to apply","wire transfer","crypto","remote access","send login","is this a scam"]
    steps: ["INTAKE","RISK_SCORE","CORE_DRAFT","VERIFY","ADJUDICATE","FINALIZE_PACKS","SHIP_GATE","WRITE_RECEIPT"]
    coreRoles: ["OS","Sentinel","Navi","Aegis"]
    optionalSMEs: ["praetorPrivacySME","factCheckSME","ledgerMoneySME"]
    outputs: ["ScamRiskAssessmentPack","PIIHandlingPlanPack","SafeResponseScriptsPack","PlatformSafetyChecklistPack","ContractWatchoutsPack","ClaimsList","VerifiedClaims","UnverifiableFlags","DecisionLogPack","RunReceipt"]

  - podId: "GIG_FINANCE_TAX_POD"
    purpose: "Cashflow stability, sinking funds, tax preparedness (education), debt planning."
    workTypes: ["FINANCE_TAX_PLANNING"]
    triggers:
      phrases_any: ["1099","estimated taxes","quarterly","deductions","budget","debt","income inconsistent"]
    steps: ["INTAKE","LOAD_CONSTRAINTS","CORE_PLAN","VERIFY","ADJUDICATE","FINALIZE_PACKS","SHIP_GATE","WRITE_RECEIPT"]
    coreRoles: ["Harbor","Tally","Relief","Nest","Ledger","OS"]
    optionalSMEs: ["factCheckSME"]
    outputs: ["MonthlyCashflowPlanPack","SinkingFundsMapPack","DebtPaydownPlanPack","EstimatedTaxEducationPack","AutomationRulesPack","ClaimsList","VerifiedClaims","UnverifiableFlags","DecisionLogPack","RunReceipt"]

  - podId: "GIG_CAREER_PIVOT_POD"
    purpose: "Move from random gigs to a high-value niche with a 30/60/90 plan, portfolio outline, and outreach."
    workTypes: ["PIVOT_PLAN"]
    triggers:
      phrases_any: ["pivot","need a niche","portfolio","case study","roadmap"]
    steps: ["INTAKE","LOAD_CONSTRAINTS","CORE_STRATEGY","SME_PASSES","VERIFY","ADJUDICATE","FINALIZE_PACKS","SHIP_GATE","WRITE_RECEIPT"]
    coreRoles: ["Foundry","Prism","Echo","Navi","Ledger","OS"]
    optionalSMEs: ["accessibilitySME","factCheckSME","localizationSME"]
    outputs: ["Pivot90DayPlanPack","OfferLadderPack","PortfolioOutlinePack","CaseStudyTemplatePack","OutreachSequencePack","DecisionLogPack","RunReceipt"]

agency_hub_parity:
  description: "Mirror the same pattern across Agency Hub pages"
  pods:
    - "AGENCY_CREATE_POD"
    - "AGENCY_WRITE_POD"
    - "AGENCY_PROMOTE_POD"
    - "AGENCY_TRACK_POD"
  inherits:
    - "risk scoring rubric + council thresholds"
    - "SME enrollment triggers"
    - "VERIFY lane rules"
    - "learning artifacts (UserProfilePack, PreferenceSignals, RunReceipt)"
    - "precedence rules + DecisionLogPack"

repo_specific_add_ons:
  gigster_garage:
    # Wave 0 (already approved)
    - add_on_id: "GIGSTER_GARAGE_PLATFORM_INTEL_AND_SCAMSHIELD"
      wave: 0
      why_it_matters: "Gig work is platform-driven and scam-prone; platform-intel + scamshield makes outputs more actionable and safer."
      triggers:
        phrases_any: ["is this a scam","pay to apply","wire transfer","crypto","remote access","policy","platform rules","what are the requirements"]
        structures_any: ["job_post_pasted_or_uploaded","sensitive_data_detected","platform_selected"]
      guardrails:
        - "Treat platform rules/policies as time-sensitive; route factual claims through VERIFY."
        - "Prefer user's own history over generic market benchmarks; VERIFY any external benchmarks."
      components:
        - name: "PlatformIntelPack"
          purpose: "Normalized platform-specific constraints/playbooks (VERIFY-gated)."
          outputs: ["PlatformIntelPack"]
        - name: "JobPostNormalizer"
          purpose: "Normalize messy job posts into a structured brief for routing + scoping."
          outputs: ["JobBriefPack","RiskFlagsPack"]
        - name: "ScamPatternLibrary"
          purpose: "Curated, explainable scam indicators feeding Compliance & Safety Pod."
          outputs: ["ScamSignalsPack"]
        - name: "RateBenchmarkLens"
          purpose: "Optional lens comparing user rates to their own history + constraints; VERIFY external benchmark claims."
          outputs: ["RateBenchmarkNotesPack"]

    - add_on_id: "GIGSTER_GARAGE_GIG_HISTORY_LEDGER"
      wave: 0
      why_it_matters: "A user-owned gig + earnings log enables personalized pricing, taxes, and 'what gigs work best for me' insights."
      triggers:
        phrases_any: ["track my gigs","log income","how much did I make","expenses","mileage","my best gigs","history"]
        structures_any: ["user_opts_in_to_history","earnings_entry_created","finance_tax_pod_run"]
      privacy_posture:
        - "User-controlled: opt-in only."
        - "Minimize stored sensitive fields; avoid storing identifiers unless explicitly required."
        - "If storing client info, invoke Praetor/Sentinel lanes."
      components:
        - name: "GigHistoryLedgerPack"
          purpose: "Normalized store of gigs, hours, earnings, expenses, and outcomes to power other Pods."
          outputs: ["GigHistoryLedgerPack"]
          suggested_fields: ["periodStart","periodEnd","entries[]"]
        - name: "GigLogEntry"
          purpose: "Single gig record."
          outputs: ["GigLogEntry"]
          suggested_fields: ["date","platform","gigType","hours","grossPay","tips","expenses","netEstimate","notes","riskFlags"]
        - name: "EarningsInsightsLens"
          purpose: "Transforms history into actionable insights for routing, pricing, and planning."
          outputs: ["EarningsInsightsPack"]
          suggested_fields: ["bestGigTypesByNetPerHour","platformPerformanceSummary","seasonalityHints","expenseHotspots","recommendedRateFloors","confidenceNotes"]

    # Wave 1
    - add_on_id: "GIGSTER_GARAGE_PROOF_OF_WORK_BUILDER"
      wave: 1
      why_it_matters: "Turns user experience into credible proof (mini case studies + portfolio snippets) to increase reply rates."
      triggers:
        phrases_any: ["no replies","no one responds","stand out","no portfolio","proof","case study","credibility"]
        structures_any: ["profile_optimization","proposal_writing","portfolio_requested"]
      components:
        - name: "ProofOfWorkBuilder"
          purpose: "Generate proof stories with credible framing and optional metric placeholders."
          outputs: ["ProofOfWorkPack","CaseStudyMiniPack","PortfolioSnippetPack"]

    - add_on_id: "GIGSTER_GARAGE_OFFER_AND_SCOPE_BUILDER"
      wave: 1
      why_it_matters: "Converts job posts into tiered offers and scope boundaries to reduce scope creep and improve close rate."
      triggers:
        phrases_any: ["scope this","quote this","what should I include","deliverables","timeline","scope creep"]
        structures_any: ["job_post_pasted_or_uploaded","pricing_scoping","estimate_requested"]
      components:
        - name: "OfferAndScopeBuilder"
          purpose: "Generate tiered offers, plain-language SOW, and anti-scope-creep guardrails."
          outputs: ["OfferBuilderPack","ScopeOfWorkLitePack","ScopeCreepGuardrailsPack"]

    - add_on_id: "GIGSTER_GARAGE_NEGOTIATION_OBJECTIONS_KIT"
      wave: 1
      why_it_matters: "Improves conversion by handling common objections with firm-but-kind scripts and boundary language."
      triggers:
        phrases_any: ["too expensive","discount","free sample","can you do it cheaper","negotiate","pushback","objection"]
        structures_any: ["proposal_writing","pricing_scoping","client_message_pasted"]
      components:
        - name: "NegotiationObjectionsKit"
          purpose: "Generate objection scripts, negotiation playbooks, and milestone/deposit messaging."
          outputs: ["ObjectionHandlingScriptsPack","NegotiationPlaybookPack","DepositAndMilestoneMessagingPack"]

    - add_on_id: "GIGSTER_GARAGE_PLATFORM_SUBMISSION_ASSISTANT"
      wave: 1
      why_it_matters: "Reduces apply friction by formatting proposals/messages for platform submission and running a pre-flight checklist."
      triggers:
        phrases_any: ["apply now","submit","Upwork proposal","Fiverr","LinkedIn message","character limit","format"]
        structures_any: ["ship_action_submit","platform_selected","proposal_pack_available"]
      components:
        - name: "PlatformSubmissionAssistant"
          purpose: "Format final text to platform constraints and produce a submission readiness checklist (VERIFY-gated for policy claims)."
          outputs: ["SubmissionReadyPack","AttachmentChecklistPack","PlatformFormattingNotesPack"]

    - add_on_id: "GIGSTER_GARAGE_AVAILABILITY_SCHEDULER"
      wave: 1
      why_it_matters: "Prevents overwhelm and increases consistency by turning availability into a weekly plan (apply/work/recovery blocks)."
      triggers:
        phrases_any: ["overwhelmed","time management","schedule","availability","weekly plan","how do I manage"]
        structures_any: ["user_enters_availability","weekly_planning_requested","gig_history_available"]
      components:
        - name: "AvailabilityScheduler"
          purpose: "Generate weekly schedule plans and capacity guardrails; optionally use gig history to recommend best gig windows."
          outputs: ["WeeklySchedulePlanPack","CapacityAndCommitmentsPack","TimeBlockChecklistPack"]

    - add_on_id: "GIGSTER_GARAGE_EXPENSE_CAPTURE_DEDUCTIONS"
      wave: 1
      why_it_matters: "Makes gig finances 'tax-season ready' by building an expense capture habit and clean categorization (education-only)."
      triggers:
        phrases_any: ["expenses","mileage","receipts","deductions","tax time","gas"]
        structures_any: ["finance_tax_pod_run","gig_history_available","expense_entry_created"]
      components:
        - name: "ExpenseCaptureAndDeductions"
          purpose: "Create capture rules, category map, and tax-season prep checklist (VERIFY-gated if citing specific rules)."
          outputs: ["ExpenseCaptureRulesPack","ExpenseCategoryMapPack","TaxSeasonPrepPack"]

    - add_on_id: "GIGSTER_GARAGE_DISPUTE_REFUND_KIT"
      wave: 1
      why_it_matters: "Protects earnings and reduces panic during disputes by providing scripts and an evidence checklist."
      triggers:
        phrases_any: ["refund","chargeback","dispute","client unhappy","platform mediation","negative review"]
        structures_any: ["dispute_event_reported","client_message_pasted","ship_action_send"]
      components:
        - name: "DisputeRefundKit"
          purpose: "Generate dispute scripts, evidence checklist, and resolution options (non-legal; Aegis/Sentinel may be triggered)."
          outputs: ["DisputeResponseScriptsPack","EvidenceChecklistPack","ResolutionOptionsPack"]

    # Wave 2
    - add_on_id: "GIGSTER_GARAGE_SKILL_GRAPH_NICHE_MATCHER"
      wave: 2
      why_it_matters: "Turns broad experience into a focused niche + offer direction using profile + gig history."
      triggers:
        phrases_any: ["i don't know my niche","what should i focus on","what gigs fit me","my best gigs","strengths","skills"]
        structures_any: ["pivot_plan","gig_history_available","profile_optimization"]
      components:
        - name: "SkillGraphBuilder"
          purpose: "Build a structured skill graph from profile + ledger."
          outputs: ["SkillGraphPack"]
        - name: "NicheMatchEngine"
          purpose: "Map skills to niches + recommended offers."
          outputs: ["NicheMatchPack"]
        - name: "GapToGoalPlanner"
          purpose: "Recommend next-best skills to learn (smallest effort, biggest leverage)."
          outputs: ["GapToGoalPlanPack"]

    - add_on_id: "GIGSTER_GARAGE_CLIENT_FIT_AND_REDFLAGS"
      wave: 2
      why_it_matters: "Avoids bad clients early and increases net earnings by filtering time-wasters and risky jobs."
      triggers:
        phrases_any: ["is this client worth it","this feels off","demanding","unclear scope","red flags","client fit"]
        structures_any: ["client_message_pasted","job_post_pasted_or_uploaded","pricing_scoping"]
      components:
        - name: "ClientFitScorer"
          purpose: "Explainable green/yellow/red fit score."
          outputs: ["ClientFitScorePack"]
        - name: "RedFlagDetector"
          purpose: "Detect scam/scope/disrespect patterns and summarize."
          outputs: ["ClientRedFlagsPack"]
        - name: "ResponseStrategySelector"
          purpose: "Choose respond/clarify/counter/decline strategy + scripts."
          outputs: ["ResponseStrategyPack"]

    - add_on_id: "GIGSTER_GARAGE_PORTFOLIO_ARTIFACT_GENERATOR"
      wave: 2
      why_it_matters: "Creates actual portfolio artifacts (templates + sample deliverables) so users can show, not just tell."
      triggers:
        phrases_any: ["portfolio pieces","examples","sample deliverable","what should i show","template"]
        structures_any: ["portfolio_requested","proof_of_work_requested","profile_optimization"]
      components:
        - name: "DeliverableTemplateFactory"
          purpose: "Generate reusable deliverable templates (checklists, SOPs, outlines)."
          outputs: ["DeliverableTemplatePack"]
        - name: "SampleDeliverableComposer"
          purpose: "Compose a taste-test sample deliverable from a job brief."
          outputs: ["SampleDeliverablePack"]
        - name: "PortfolioPackagingKit"
          purpose: "Guide how to present and label artifacts across platforms."
          outputs: ["PortfolioPackagingPack"]

    - add_on_id: "GIGSTER_GARAGE_RETAINER_AND_UPSELL_ENGINE"
      wave: 2
      why_it_matters: "Helps move from one-off gigs to recurring retainers and aligned upsells."
      triggers:
        phrases_any: ["recurring","retainer","long-term","upsell","ongoing work","monthly"]
        structures_any: ["repeat_client_detected","proposal_pack_available","pricing_scoping"]
      components:
        - name: "RetainerOfferBuilder"
          purpose: "Generate 3 retainer options with boundaries and outcomes."
          outputs: ["RetainerOfferPack"]
        - name: "UpsellMapper"
          purpose: "Map add-ons to gig type without feeling salesy."
          outputs: ["UpsellAddOnPack"]
        - name: "RenewalAndCheckInScripts"
          purpose: "Scripts to renew and check-in professionally."
          outputs: ["RenewalCheckInScriptsPack"]

    - add_on_id: "GIGSTER_GARAGE_REVIEW_RECOVERY_AND_REPUTATION"
      wave: 2
      why_it_matters: "Improves long-term conversion by generating review requests and bad-review recovery responses."
      triggers:
        phrases_any: ["ask for reviews","review request","bad review","rating dropped","reputation"]
        structures_any: ["job_completed","dispute_event_reported","platform_selected"]
      components:
        - name: "ReviewRequestComposer"
          purpose: "Generate review request messages timed to context."
          outputs: ["ReviewRequestPack"]
        - name: "BadReviewResponseKit"
          purpose: "Calm, compliant response drafts + what to do next."
          outputs: ["BadReviewResponsePack"]
        - name: "ServiceRecoveryPlan"
          purpose: "Fix-forward plan to repair trust."
          outputs: ["ServiceRecoveryPlanPack"]

    - add_on_id: "GIGSTER_GARAGE_EARNINGS_FORECAST_AND_GOALS"
      wave: 2
      why_it_matters: "Turns goals into realistic weekly targets using history + schedule + rate floors."
      triggers:
        phrases_any: ["make x per month","earnings goal","how many gigs","i'm behind","forecast"]
        structures_any: ["gig_history_available","user_sets_goal","weekly_planning_requested"]
      components:
        - name: "EarningsForecaster"
          purpose: "Forecast earnings and required volume to hit targets."
          outputs: ["EarningsForecastPack"]
        - name: "GoalTracker"
          purpose: "Weekly tracker with leading/lagging indicators."
          outputs: ["GoalTrackerPack"]
        - name: "StrategyAdjuster"
          purpose: "When behind, recommend adjustments (apply more, raise floors, shift gig mix)."
          outputs: ["StrategyAdjustmentPack"]

    # Wave 3 (user-requested)
    - add_on_id: "GIGSTER_GARAGE_ONBOARDING_OFFBOARDING_AUTOMATIONS"
      wave: 3
      why_it_matters: "Makes every client engagement repeatable with intake, onboarding, and clean handoff/offboarding templates."
      triggers:
        phrases_any: ["onboarding","intake form","client intake","handoff","offboarding","handover","kickoff"]
        structures_any: ["new_client_detected","job_started","job_completed"]
      components:
        - name: "ClientIntakeFormBuilder"
          purpose: "Build simple intake forms and question sets aligned to gig type."
          outputs: ["ClientIntakeFormPack"]
        - name: "OnboardingChecklistBuilder"
          purpose: "Repeatable onboarding checklist (access, expectations, milestones)."
          outputs: ["ClientOnboardingChecklistPack"]
        - name: "OffboardingHandoffBuilder"
          purpose: "Clean handoff packet: what was done, where files are, next steps."
          outputs: ["OffboardingHandoffPack"]

    - add_on_id: "GIGSTER_GARAGE_COMMUNICATION_STYLE_TRAINER"
      wave: 3
      why_it_matters: "Improves outcomes through better tone, boundaries, and practice drills for tough conversations."
      triggers:
        phrases_any: ["tone","rewrite","be more firm","set boundaries","say no","practice","drill"]
        structures_any: ["client_message_pasted","negotiation_objection","dispute_event_reported"]
      components:
        - name: "ToneRewriteCoach"
          purpose: "Rewrite messages in 2-4 tones that match UserProfilePack constraints."
          outputs: ["ToneRewriteVariantsPack"]
        - name: "BoundaryScriptTrainer"
          purpose: "Generate boundary-setting scripts with roleplay prompts."
          outputs: ["BoundaryScriptsPack"]
        - name: "ConversationDrills"
          purpose: "Short drills to practice common scenarios and improve confidence."
          outputs: ["ConversationDrillsPack"]

    - add_on_id: "GIGSTER_GARAGE_MULTI_PLATFORM_PRESENCE_MANAGER"
      wave: 3
      why_it_matters: "Keeps profile and messaging consistent across platforms without drift; VERIFY for platform-specific facts."
      triggers:
        phrases_any: ["keep profiles consistent","multiple platforms","upwork and fiverr","linkedin","refresh my bio","same everywhere"]
        structures_any: ["multiple_platforms_selected","profile_delta_pack_available","platform_selected"]
      components:
        - name: "CanonicalProfileCore"
          purpose: "Generate a single canonical profile core (headline, summary, offers, proof) used everywhere."
          outputs: ["CanonicalProfileCorePack"]
        - name: "PlatformAdaptationLayer"
          purpose: "Adapt canonical core to each platform format; VERIFY if citing platform policy/limits."
          outputs: ["PlatformProfileVariantsPack","PlatformDiffPack"]
        - name: "DriftDetector"
          purpose: "Detect inconsistencies across platform variants and propose a harmonized update plan."
          outputs: ["PresenceDriftReportPack"]

    # Wave 4 (major platform leap)
    - add_on_id: "GIGSTER_GARAGE_GOAL_TO_ACTIONS_PLANNER"
      wave: 4
      why_it_matters: "Converts high-level goals into concrete weekly action lists with measurable milestones."
      triggers:
        phrases_any: ["i want to make","my goal is","how do i get to","action plan","weekly actions","break it down"]
        structures_any: ["user_sets_goal","earnings_goal_defined","pivot_plan"]
      components:
        - name: "GoalDecomposer"
          purpose: "Break a goal into milestones, then milestones into weekly actions."
          outputs: ["GoalDecompositionPack"]
        - name: "ActionPrioritizer"
          purpose: "Rank actions by impact and effort; surface quick wins."
          outputs: ["ActionPriorityPack"]
        - name: "WeeklyActionListGenerator"
          purpose: "Generate a concrete weekly action list with time estimates."
          outputs: ["WeeklyActionListPack"]

    - add_on_id: "GIGSTER_GARAGE_INBOX_TRIAGE_AND_NEXT_ACTION"
      wave: 4
      why_it_matters: "Reduces inbox overwhelm by classifying messages and recommending next actions."
      triggers:
        phrases_any: ["inbox overload","too many messages","what should i reply to","triage","prioritize messages"]
        structures_any: ["client_message_pasted","multiple_messages_detected","inbox_review_requested"]
      components:
        - name: "InboxTriager"
          purpose: "Classify messages by urgency, opportunity, and required action type."
          outputs: ["InboxTriagePack"]
        - name: "NextActionRecommender"
          purpose: "Recommend next action for each message (reply/clarify/decline/defer)."
          outputs: ["NextActionsPack"]
        - name: "QuickReplyDrafter"
          purpose: "Draft quick replies for common scenarios."
          outputs: ["QuickReplyDraftsPack"]

    - add_on_id: "GIGSTER_GARAGE_ONE_CLICK_PACK_COMPOSER"
      wave: 4
      why_it_matters: "Enables one-click generation of complete deliverable packs from minimal input."
      triggers:
        phrases_any: ["one click","generate everything","full pack","complete package","all at once"]
        structures_any: ["job_post_pasted_or_uploaded","proposal_requested","quick_apply"]
      components:
        - name: "PackComposer"
          purpose: "Compose a full pack (proposal + scope + pricing + timeline) from a single job brief."
          outputs: ["ComposedPackBundle"]
        - name: "VariantGenerator"
          purpose: "Generate 2-3 variants with different positioning/pricing."
          outputs: ["PackVariantsPack"]
        - name: "ReadinessChecker"
          purpose: "Validate pack completeness and flag missing elements."
          outputs: ["PackReadinessCheckPack"]

    - add_on_id: "GIGSTER_GARAGE_SHIP_GUARD_AND_COMPLIANCE_GATE"
      wave: 4
      why_it_matters: "Prevents costly mistakes by running pre-ship compliance checks before publish/send/submit actions."
      triggers:
        phrases_any: ["before i send","check this","is this ready","compliance check","pre-flight"]
        structures_any: ["ship_action_submit","ship_action_send","proposal_pack_available"]
      components:
        - name: "ShipGuard"
          purpose: "Run pre-ship checklist (tone, completeness, red flags, platform compliance)."
          outputs: ["ShipGuardReportPack"]
        - name: "ComplianceGate"
          purpose: "Verify no policy violations or risky claims; invoke VERIFY if needed."
          outputs: ["ComplianceGatePack"]
        - name: "FinalApprovalPrompt"
          purpose: "Generate a summary for user final approval with risk score."
          outputs: ["FinalApprovalPromptPack"]

    - add_on_id: "GIGSTER_GARAGE_PERSONAL_PLAYBOOKS_ENGINE"
      wave: 4
      why_it_matters: "Captures and reuses user's best practices as personal playbooks for consistent quality."
      triggers:
        phrases_any: ["my process","how i do it","save this as a template","personal playbook","my workflow"]
        structures_any: ["successful_gig_completed","user_saves_template","repeat_pattern_detected"]
      components:
        - name: "PlaybookCapturer"
          purpose: "Extract and save user workflows as reusable playbooks."
          outputs: ["PersonalPlaybookPack"]
        - name: "PlaybookApplier"
          purpose: "Apply a saved playbook to a new gig context."
          outputs: ["PlaybookApplicationPack"]
        - name: "PlaybookEvolver"
          purpose: "Suggest playbook updates based on new learnings."
          outputs: ["PlaybookEvolutionPack"]

    - add_on_id: "GIGSTER_GARAGE_PORTFOLIO_TO_PIPELINE_LOOP"
      wave: 4
      why_it_matters: "Closes the loop from completed work back to portfolio and outreach to generate new leads."
      triggers:
        phrases_any: ["turn this into a case study","add to portfolio","get more like this","referral","next client"]
        structures_any: ["job_completed","successful_outcome","portfolio_update_requested"]
      components:
        - name: "WorkToCaseStudy"
          purpose: "Convert completed work into a portfolio-ready case study."
          outputs: ["CaseStudyFromWorkPack"]
        - name: "OutreachFromSuccess"
          purpose: "Generate outreach messages leveraging recent success."
          outputs: ["SuccessOutreachPack"]
        - name: "ReferralRequestComposer"
          purpose: "Compose referral request messages."
          outputs: ["ReferralRequestPack"]

  recommended_starting_add_on:
    add_on_id: "GIGSTER_GARAGE_PLATFORM_INTEL_AND_SCAMSHIELD"
    reason: "Uniquely valuable to Gigster Garage because the domain is platform-constraint heavy, users need fast practical templates, scams/PII risks are common, and pricing guidance benefits most from user history + constraints."

schema_name_index:
  - ActionPriorityPack
  - ApplyRoutineChecklistPack
  - AttachmentChecklistPack
  - AutomationRulesPack
  - BadReviewResponsePack
  - BoundaryScriptsPack
  - CanonicalProfileCorePack
  - CapacityAndCommitmentsPack
  - CaseStudyFromWorkPack
  - CaseStudyMiniPack
  - CaseStudyTemplatePack
  - ClaimsList
  - ClientFitScorePack
  - ClientIntakeFormPack
  - ClientOnboardingChecklistPack
  - ClientRedFlagsPack
  - ComplianceGatePack
  - ComposedPackBundle
  - ContractWatchoutsPack
  - ConversationDrillsPack
  - DebtPaydownPlanPack
  - DecisionLogPack
  - DeliverableTemplatePack
  - DepositAndMilestoneMessagingPack
  - DisputeResponseScriptsPack
  - EarningsForecastPack
  - EarningsInsightsPack
  - EstimatedTaxEducationPack
  - EvidenceChecklistPack
  - ExpenseCaptureRulesPack
  - ExpenseCategoryMapPack
  - FinalApprovalPromptPack
  - GapToGoalPlanPack
  - GigHistoryLedgerPack
  - GigLogEntry
  - GoalDecompositionPack
  - GoalTrackerPack
  - InboxTriagePack
  - JobBriefPack
  - MonthlyCashflowPlanPack
  - NegotiationPlaybookPack
  - NextActionsPack
  - NicheMatchPack
  - ObjectionHandlingScriptsPack
  - OfferBuilderPack
  - OfferLadderPack
  - OffboardingHandoffPack
  - OutreachSequencePack
  - PIIHandlingPlanPack
  - PackReadinessCheckPack
  - PackVariantsPack
  - PersonalPlaybookPack
  - Pivot90DayPlanPack
  - PlatformDiffPack
  - PlatformFormattingNotesPack
  - PlatformIntelPack
  - PlatformProfileVariantsPack
  - PlatformSafetyChecklistPack
  - PlaybookApplicationPack
  - PlaybookEvolutionPack
  - PortfolioOutlinePack
  - PortfolioPackagingPack
  - PortfolioSnippetPack
  - PreferenceSignals
  - PresenceDriftReportPack
  - ProfileDeltaPack
  - ProofOfWorkPack
  - ProposalPack
  - QuickReplyDraftsPack
  - RateBenchmarkNotesPack
  - RateCardPack
  - ReferralRequestPack
  - RenewalCheckInScriptsPack
  - ResolutionOptionsPack
  - ResponseStrategyPack
  - RetainerOfferPack
  - ReviewRequestPack
  - RiskFlagsPack
  - RunReceipt
  - SafeResponseScriptsPack
  - SampleDeliverablePack
  - ScamRiskAssessmentPack
  - ScamSignalsPack
  - ScopeBoundaryPack
  - ScopeCreepGuardrailsPack
  - ScopeOfWorkLitePack
  - ServiceRecoveryPlanPack
  - ShipGuardReportPack
  - SinkingFundsMapPack
  - SkillGraphPack
  - StrategyAdjustmentPack
  - SubmissionReadyPack
  - SuccessOutreachPack
  - TaxSeasonPrepPack
  - TimeBlockChecklistPack
  - ToneRewriteVariantsPack
  - UnverifiableFlags
  - UpsellAddOnPack
  - UserProfilePack
  - VerifiedClaims
  - WeeklyActionListPack
  - WeeklySchedulePlanPack
