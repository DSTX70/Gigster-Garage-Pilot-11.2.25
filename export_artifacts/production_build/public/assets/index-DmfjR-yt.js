var Npe=Object.defineProperty;var a6=e=>{throw TypeError(e)};var Spe=(e,t,n)=>t in e?Npe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Cpe=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var H=(e,t,n)=>Spe(e,typeof t!="symbol"?t+"":t,n),dP=(e,t,n)=>t.has(e)||a6("Cannot "+n);var R=(e,t,n)=>(dP(e,t,"read from private field"),n?n.call(e):t.get(e)),de=(e,t,n)=>t.has(e)?a6("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),fe=(e,t,n,r)=>(dP(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),je=(e,t,n)=>(dP(e,t,"access private method"),n);var xw=(e,t,n,r)=>({set _(a){fe(e,t,a,n)},get _(){return R(e,t,r)}});var BNt=Cpe((c1t,P1)=>{function kpe(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var qi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var IG={exports:{}},P2={},FG={exports:{}},Wt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ij=Symbol.for("react.element"),_pe=Symbol.for("react.portal"),Ppe=Symbol.for("react.fragment"),Tpe=Symbol.for("react.strict_mode"),Ape=Symbol.for("react.profiler"),Epe=Symbol.for("react.provider"),Dpe=Symbol.for("react.context"),Ope=Symbol.for("react.forward_ref"),Mpe=Symbol.for("react.suspense"),Rpe=Symbol.for("react.memo"),$pe=Symbol.for("react.lazy"),i6=Symbol.iterator;function Ipe(e){return e===null||typeof e!="object"?null:(e=i6&&e[i6]||e["@@iterator"],typeof e=="function"?e:null)}var LG={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zG=Object.assign,BG={};function av(e,t,n){this.props=e,this.context=t,this.refs=BG,this.updater=n||LG}av.prototype.isReactComponent={};av.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};av.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function UG(){}UG.prototype=av.prototype;function x4(e,t,n){this.props=e,this.context=t,this.refs=BG,this.updater=n||LG}var y4=x4.prototype=new UG;y4.constructor=x4;zG(y4,av.prototype);y4.isPureReactComponent=!0;var o6=Array.isArray,VG=Object.prototype.hasOwnProperty,b4={current:null},WG={key:!0,ref:!0,__self:!0,__source:!0};function HG(e,t,n){var r,a={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)VG.call(t,r)&&!WG.hasOwnProperty(r)&&(a[r]=t[r]);var l=arguments.length-2;if(l===1)a.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)a[r]===void 0&&(a[r]=l[r]);return{$$typeof:ij,type:e,key:i,ref:o,props:a,_owner:b4.current}}function Fpe(e,t){return{$$typeof:ij,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function j4(e){return typeof e=="object"&&e!==null&&e.$$typeof===ij}function Lpe(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var l6=/\/+/g;function uP(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Lpe(""+e.key):t.toString(36)}function LN(e,t,n,r,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ij:case _pe:o=!0}}if(o)return o=e,a=a(o),e=r===""?"."+uP(o,0):r,o6(a)?(n="",e!=null&&(n=e.replace(l6,"$&/")+"/"),LN(a,t,n,"",function(d){return d})):a!=null&&(j4(a)&&(a=Fpe(a,n+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(l6,"$&/")+"/")+e)),t.push(a)),1;if(o=0,r=r===""?".":r+":",o6(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+uP(i,l);o+=LN(i,t,n,c,a)}else if(c=Ipe(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+uP(i,l++),o+=LN(i,t,n,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function yw(e,t,n){if(e==null)return e;var r=[],a=0;return LN(e,r,"","",function(i){return t.call(n,i,a++)}),r}function zpe(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ta={current:null},zN={transition:null},Bpe={ReactCurrentDispatcher:Ta,ReactCurrentBatchConfig:zN,ReactCurrentOwner:b4};function qG(){throw Error("act(...) is not supported in production builds of React.")}Wt.Children={map:yw,forEach:function(e,t,n){yw(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return yw(e,function(){t++}),t},toArray:function(e){return yw(e,function(t){return t})||[]},only:function(e){if(!j4(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Wt.Component=av;Wt.Fragment=Ppe;Wt.Profiler=Ape;Wt.PureComponent=x4;Wt.StrictMode=Tpe;Wt.Suspense=Mpe;Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bpe;Wt.act=qG;Wt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=zG({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=b4.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)VG.call(t,c)&&!WG.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:ij,type:e.type,key:a,ref:i,props:r,_owner:o}};Wt.createContext=function(e){return e={$$typeof:Dpe,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Epe,_context:e},e.Consumer=e};Wt.createElement=HG;Wt.createFactory=function(e){var t=HG.bind(null,e);return t.type=e,t};Wt.createRef=function(){return{current:null}};Wt.forwardRef=function(e){return{$$typeof:Ope,render:e}};Wt.isValidElement=j4;Wt.lazy=function(e){return{$$typeof:$pe,_payload:{_status:-1,_result:e},_init:zpe}};Wt.memo=function(e,t){return{$$typeof:Rpe,type:e,compare:t===void 0?null:t}};Wt.startTransition=function(e){var t=zN.transition;zN.transition={};try{e()}finally{zN.transition=t}};Wt.unstable_act=qG;Wt.useCallback=function(e,t){return Ta.current.useCallback(e,t)};Wt.useContext=function(e){return Ta.current.useContext(e)};Wt.useDebugValue=function(){};Wt.useDeferredValue=function(e){return Ta.current.useDeferredValue(e)};Wt.useEffect=function(e,t){return Ta.current.useEffect(e,t)};Wt.useId=function(){return Ta.current.useId()};Wt.useImperativeHandle=function(e,t,n){return Ta.current.useImperativeHandle(e,t,n)};Wt.useInsertionEffect=function(e,t){return Ta.current.useInsertionEffect(e,t)};Wt.useLayoutEffect=function(e,t){return Ta.current.useLayoutEffect(e,t)};Wt.useMemo=function(e,t){return Ta.current.useMemo(e,t)};Wt.useReducer=function(e,t,n){return Ta.current.useReducer(e,t,n)};Wt.useRef=function(e){return Ta.current.useRef(e)};Wt.useState=function(e){return Ta.current.useState(e)};Wt.useSyncExternalStore=function(e,t,n){return Ta.current.useSyncExternalStore(e,t,n)};Wt.useTransition=function(){return Ta.current.useTransition()};Wt.version="18.3.1";FG.exports=Wt;var b=FG.exports;const O=Tt(b),KG=kpe({__proto__:null,default:O},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Upe=b,Vpe=Symbol.for("react.element"),Wpe=Symbol.for("react.fragment"),Hpe=Object.prototype.hasOwnProperty,qpe=Upe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Kpe={key:!0,ref:!0,__self:!0,__source:!0};function GG(e,t,n){var r,a={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Hpe.call(t,r)&&!Kpe.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:Vpe,type:e,key:i,ref:o,props:a,_owner:qpe.current}}P2.Fragment=Wpe;P2.jsx=GG;P2.jsxs=GG;IG.exports=P2;var s=IG.exports,YG={exports:{}},Si={},XG={exports:{}},QG={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(F,V){var Y=F.length;F.push(V);e:for(;0<Y;){var K=Y-1>>>1,z=F[K];if(0<a(z,V))F[K]=V,F[Y]=z,Y=K;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var V=F[0],Y=F.pop();if(Y!==V){F[0]=Y;e:for(var K=0,z=F.length,L=z>>>1;K<L;){var ee=2*(K+1)-1,le=F[ee],ve=ee+1,ne=F[ve];if(0>a(le,Y))ve<z&&0>a(ne,le)?(F[K]=ne,F[ve]=Y,K=ve):(F[K]=le,F[ee]=Y,K=ee);else if(ve<z&&0>a(ne,Y))F[K]=ne,F[ve]=Y,K=ve;else break e}}return V}function a(F,V){var Y=F.sortIndex-V.sortIndex;return Y!==0?Y:F.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,f=3,g=!1,m=!1,p=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(F){for(var V=n(d);V!==null;){if(V.callback===null)r(d);else if(V.startTime<=F)r(d),V.sortIndex=V.expirationTime,t(c,V);else break;V=n(d)}}function N(F){if(p=!1,j(F),!m)if(n(c)!==null)m=!0,U(w);else{var V=n(d);V!==null&&M(N,V.startTime-F)}}function w(F,V){m=!1,p&&(p=!1,v(_),_=-1),g=!0;var Y=f;try{for(j(V),h=n(c);h!==null&&(!(h.expirationTime>V)||F&&!C());){var K=h.callback;if(typeof K=="function"){h.callback=null,f=h.priorityLevel;var z=K(h.expirationTime<=V);V=e.unstable_now(),typeof z=="function"?h.callback=z:h===n(c)&&r(c),j(V)}else r(c);h=n(c)}if(h!==null)var L=!0;else{var ee=n(d);ee!==null&&M(N,ee.startTime-V),L=!1}return L}finally{h=null,f=Y,g=!1}}var S=!1,k=null,_=-1,T=5,P=-1;function C(){return!(e.unstable_now()-P<T)}function A(){if(k!==null){var F=e.unstable_now();P=F;var V=!0;try{V=k(!0,F)}finally{V?E():(S=!1,k=null)}}else S=!1}var E;if(typeof y=="function")E=function(){y(A)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,$=I.port2;I.port1.onmessage=A,E=function(){$.postMessage(null)}}else E=function(){x(A,0)};function U(F){k=F,S||(S=!0,E())}function M(F,V){_=x(function(){F(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){m||g||(m=!0,U(w))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(F){switch(f){case 1:case 2:case 3:var V=3;break;default:V=f}var Y=f;f=V;try{return F()}finally{f=Y}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,V){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var Y=f;f=F;try{return V()}finally{f=Y}},e.unstable_scheduleCallback=function(F,V,Y){var K=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?K+Y:K):Y=K,F){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=Y+z,F={id:u++,callback:V,priorityLevel:F,startTime:Y,expirationTime:z,sortIndex:-1},Y>K?(F.sortIndex=Y,t(d,F),n(c)===null&&F===n(d)&&(p?(v(_),_=-1):p=!0,M(N,Y-K))):(F.sortIndex=z,t(c,F),m||g||(m=!0,U(w))),F},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(F){var V=f;return function(){var Y=f;f=V;try{return F.apply(this,arguments)}finally{f=Y}}}})(QG);XG.exports=QG;var Gpe=XG.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ype=b,yi=Gpe;function De(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ZG=new Set,Ry={};function qf(e,t){eg(e,t),eg(e+"Capture",t)}function eg(e,t){for(Ry[e]=t,e=0;e<t.length;e++)ZG.add(t[e])}var td=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),MA=Object.prototype.hasOwnProperty,Xpe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,c6={},d6={};function Qpe(e){return MA.call(d6,e)?!0:MA.call(c6,e)?!1:Xpe.test(e)?d6[e]=!0:(c6[e]=!0,!1)}function Zpe(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Jpe(e,t,n,r){if(t===null||typeof t>"u"||Zpe(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Aa(e,t,n,r,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var $s={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){$s[e]=new Aa(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];$s[t]=new Aa(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){$s[e]=new Aa(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){$s[e]=new Aa(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){$s[e]=new Aa(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){$s[e]=new Aa(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){$s[e]=new Aa(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){$s[e]=new Aa(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){$s[e]=new Aa(e,5,!1,e.toLowerCase(),null,!1,!1)});var w4=/[\-:]([a-z])/g;function N4(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(w4,N4);$s[t]=new Aa(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(w4,N4);$s[t]=new Aa(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(w4,N4);$s[t]=new Aa(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){$s[e]=new Aa(e,1,!1,e.toLowerCase(),null,!1,!1)});$s.xlinkHref=new Aa("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){$s[e]=new Aa(e,1,!1,e.toLowerCase(),null,!0,!0)});function S4(e,t,n,r){var a=$s.hasOwnProperty(t)?$s[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Jpe(t,n,a,r)&&(n=null),r||a===null?Qpe(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,r=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var gd=Ype.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bw=Symbol.for("react.element"),Cm=Symbol.for("react.portal"),km=Symbol.for("react.fragment"),C4=Symbol.for("react.strict_mode"),RA=Symbol.for("react.profiler"),JG=Symbol.for("react.provider"),eY=Symbol.for("react.context"),k4=Symbol.for("react.forward_ref"),$A=Symbol.for("react.suspense"),IA=Symbol.for("react.suspense_list"),_4=Symbol.for("react.memo"),Id=Symbol.for("react.lazy"),tY=Symbol.for("react.offscreen"),u6=Symbol.iterator;function Jv(e){return e===null||typeof e!="object"?null:(e=u6&&e[u6]||e["@@iterator"],typeof e=="function"?e:null)}var fr=Object.assign,hP;function Mx(e){if(hP===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);hP=t&&t[1]||""}return`
`+hP+e}var fP=!1;function mP(e,t){if(!e||fP)return"";fP=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=r.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{fP=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Mx(e):""}function ege(e){switch(e.tag){case 5:return Mx(e.type);case 16:return Mx("Lazy");case 13:return Mx("Suspense");case 19:return Mx("SuspenseList");case 0:case 2:case 15:return e=mP(e.type,!1),e;case 11:return e=mP(e.type.render,!1),e;case 1:return e=mP(e.type,!0),e;default:return""}}function FA(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case km:return"Fragment";case Cm:return"Portal";case RA:return"Profiler";case C4:return"StrictMode";case $A:return"Suspense";case IA:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case eY:return(e.displayName||"Context")+".Consumer";case JG:return(e._context.displayName||"Context")+".Provider";case k4:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case _4:return t=e.displayName||null,t!==null?t:FA(e.type)||"Memo";case Id:t=e._payload,e=e._init;try{return FA(e(t))}catch{}}return null}function tge(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return FA(t);case 8:return t===C4?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Su(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function nY(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function nge(e){var t=nY(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function jw(e){e._valueTracker||(e._valueTracker=nge(e))}function rY(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=nY(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function T1(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function LA(e,t){var n=t.checked;return fr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function h6(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Su(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function sY(e,t){t=t.checked,t!=null&&S4(e,"checked",t,!1)}function zA(e,t){sY(e,t);var n=Su(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?BA(e,t.type,n):t.hasOwnProperty("defaultValue")&&BA(e,t.type,Su(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function f6(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function BA(e,t,n){(t!=="number"||T1(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Rx=Array.isArray;function Xm(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Su(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function UA(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(De(91));return fr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function m6(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(De(92));if(Rx(n)){if(1<n.length)throw Error(De(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Su(n)}}function aY(e,t){var n=Su(t.value),r=Su(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function p6(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function iY(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function VA(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?iY(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ww,oY=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ww=ww||document.createElement("div"),ww.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ww.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function $y(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ty={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rge=["Webkit","ms","Moz","O"];Object.keys(ty).forEach(function(e){rge.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ty[t]=ty[e]})});function lY(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ty.hasOwnProperty(e)&&ty[e]?(""+t).trim():t+"px"}function cY(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=lY(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}var sge=fr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function WA(e,t){if(t){if(sge[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(De(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(De(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(De(61))}if(t.style!=null&&typeof t.style!="object")throw Error(De(62))}}function HA(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qA=null;function P4(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var KA=null,Qm=null,Zm=null;function g6(e){if(e=cj(e)){if(typeof KA!="function")throw Error(De(280));var t=e.stateNode;t&&(t=O2(t),KA(e.stateNode,e.type,t))}}function dY(e){Qm?Zm?Zm.push(e):Zm=[e]:Qm=e}function uY(){if(Qm){var e=Qm,t=Zm;if(Zm=Qm=null,g6(e),t)for(e=0;e<t.length;e++)g6(t[e])}}function hY(e,t){return e(t)}function fY(){}var pP=!1;function mY(e,t,n){if(pP)return e(t,n);pP=!0;try{return hY(e,t,n)}finally{pP=!1,(Qm!==null||Zm!==null)&&(fY(),uY())}}function Iy(e,t){var n=e.stateNode;if(n===null)return null;var r=O2(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(De(231,t,typeof n));return n}var GA=!1;if(td)try{var ex={};Object.defineProperty(ex,"passive",{get:function(){GA=!0}}),window.addEventListener("test",ex,ex),window.removeEventListener("test",ex,ex)}catch{GA=!1}function age(e,t,n,r,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(u){this.onError(u)}}var ny=!1,A1=null,E1=!1,YA=null,ige={onError:function(e){ny=!0,A1=e}};function oge(e,t,n,r,a,i,o,l,c){ny=!1,A1=null,age.apply(ige,arguments)}function lge(e,t,n,r,a,i,o,l,c){if(oge.apply(this,arguments),ny){if(ny){var d=A1;ny=!1,A1=null}else throw Error(De(198));E1||(E1=!0,YA=d)}}function Kf(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function pY(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v6(e){if(Kf(e)!==e)throw Error(De(188))}function cge(e){var t=e.alternate;if(!t){if(t=Kf(e),t===null)throw Error(De(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return v6(a),e;if(i===r)return v6(a),t;i=i.sibling}throw Error(De(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o)throw Error(De(189))}}if(n.alternate!==r)throw Error(De(190))}if(n.tag!==3)throw Error(De(188));return n.stateNode.current===n?e:t}function gY(e){return e=cge(e),e!==null?vY(e):null}function vY(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=vY(e);if(t!==null)return t;e=e.sibling}return null}var xY=yi.unstable_scheduleCallback,x6=yi.unstable_cancelCallback,dge=yi.unstable_shouldYield,uge=yi.unstable_requestPaint,Dr=yi.unstable_now,hge=yi.unstable_getCurrentPriorityLevel,T4=yi.unstable_ImmediatePriority,yY=yi.unstable_UserBlockingPriority,D1=yi.unstable_NormalPriority,fge=yi.unstable_LowPriority,bY=yi.unstable_IdlePriority,T2=null,Wl=null;function mge(e){if(Wl&&typeof Wl.onCommitFiberRoot=="function")try{Wl.onCommitFiberRoot(T2,e,void 0,(e.current.flags&128)===128)}catch{}}var Uo=Math.clz32?Math.clz32:vge,pge=Math.log,gge=Math.LN2;function vge(e){return e>>>=0,e===0?32:31-(pge(e)/gge|0)|0}var Nw=64,Sw=4194304;function $x(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function O1(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~a;l!==0?r=$x(l):(i&=o,i!==0&&(r=$x(i)))}else o=n&~a,o!==0?r=$x(o):i!==0&&(r=$x(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Uo(t),a=1<<n,r|=e[n],t&=~a;return r}function xge(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yge(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Uo(i),l=1<<o,c=a[o];c===-1?(!(l&n)||l&r)&&(a[o]=xge(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function XA(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function jY(){var e=Nw;return Nw<<=1,!(Nw&4194240)&&(Nw=64),e}function gP(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function oj(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Uo(t),e[t]=n}function bge(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-Uo(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}function A4(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Uo(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var pn=0;function wY(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var NY,E4,SY,CY,kY,QA=!1,Cw=[],uu=null,hu=null,fu=null,Fy=new Map,Ly=new Map,Bd=[],jge="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function y6(e,t){switch(e){case"focusin":case"focusout":uu=null;break;case"dragenter":case"dragleave":hu=null;break;case"mouseover":case"mouseout":fu=null;break;case"pointerover":case"pointerout":Fy.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ly.delete(t.pointerId)}}function tx(e,t,n,r,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},t!==null&&(t=cj(t),t!==null&&E4(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function wge(e,t,n,r,a){switch(t){case"focusin":return uu=tx(uu,e,t,n,r,a),!0;case"dragenter":return hu=tx(hu,e,t,n,r,a),!0;case"mouseover":return fu=tx(fu,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return Fy.set(i,tx(Fy.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,Ly.set(i,tx(Ly.get(i)||null,e,t,n,r,a)),!0}return!1}function _Y(e){var t=Th(e.target);if(t!==null){var n=Kf(t);if(n!==null){if(t=n.tag,t===13){if(t=pY(n),t!==null){e.blockedOn=t,kY(e.priority,function(){SY(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function BN(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ZA(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);qA=r,n.target.dispatchEvent(r),qA=null}else return t=cj(n),t!==null&&E4(t),e.blockedOn=n,!1;t.shift()}return!0}function b6(e,t,n){BN(e)&&n.delete(t)}function Nge(){QA=!1,uu!==null&&BN(uu)&&(uu=null),hu!==null&&BN(hu)&&(hu=null),fu!==null&&BN(fu)&&(fu=null),Fy.forEach(b6),Ly.forEach(b6)}function nx(e,t){e.blockedOn===t&&(e.blockedOn=null,QA||(QA=!0,yi.unstable_scheduleCallback(yi.unstable_NormalPriority,Nge)))}function zy(e){function t(a){return nx(a,e)}if(0<Cw.length){nx(Cw[0],e);for(var n=1;n<Cw.length;n++){var r=Cw[n];r.blockedOn===e&&(r.blockedOn=null)}}for(uu!==null&&nx(uu,e),hu!==null&&nx(hu,e),fu!==null&&nx(fu,e),Fy.forEach(t),Ly.forEach(t),n=0;n<Bd.length;n++)r=Bd[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Bd.length&&(n=Bd[0],n.blockedOn===null);)_Y(n),n.blockedOn===null&&Bd.shift()}var Jm=gd.ReactCurrentBatchConfig,M1=!0;function Sge(e,t,n,r){var a=pn,i=Jm.transition;Jm.transition=null;try{pn=1,D4(e,t,n,r)}finally{pn=a,Jm.transition=i}}function Cge(e,t,n,r){var a=pn,i=Jm.transition;Jm.transition=null;try{pn=4,D4(e,t,n,r)}finally{pn=a,Jm.transition=i}}function D4(e,t,n,r){if(M1){var a=ZA(e,t,n,r);if(a===null)kP(e,t,r,R1,n),y6(e,r);else if(wge(a,e,t,n,r))r.stopPropagation();else if(y6(e,r),t&4&&-1<jge.indexOf(e)){for(;a!==null;){var i=cj(a);if(i!==null&&NY(i),i=ZA(e,t,n,r),i===null&&kP(e,t,r,R1,n),i===a)break;a=i}a!==null&&r.stopPropagation()}else kP(e,t,r,null,n)}}var R1=null;function ZA(e,t,n,r){if(R1=null,e=P4(r),e=Th(e),e!==null)if(t=Kf(e),t===null)e=null;else if(n=t.tag,n===13){if(e=pY(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return R1=e,null}function PY(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hge()){case T4:return 1;case yY:return 4;case D1:case fge:return 16;case bY:return 536870912;default:return 16}default:return 16}}var ru=null,O4=null,UN=null;function TY(){if(UN)return UN;var e,t=O4,n=t.length,r,a="value"in ru?ru.value:ru.textContent,i=a.length;for(e=0;e<n&&t[e]===a[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===a[i-r];r++);return UN=a.slice(e,1<r?1-r:void 0)}function VN(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function kw(){return!0}function j6(){return!1}function Ci(e){function t(n,r,a,i,o){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?kw:j6,this.isPropagationStopped=j6,this}return fr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=kw)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=kw)},persist:function(){},isPersistent:kw}),t}var iv={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},M4=Ci(iv),lj=fr({},iv,{view:0,detail:0}),kge=Ci(lj),vP,xP,rx,A2=fr({},lj,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:R4,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==rx&&(rx&&e.type==="mousemove"?(vP=e.screenX-rx.screenX,xP=e.screenY-rx.screenY):xP=vP=0,rx=e),vP)},movementY:function(e){return"movementY"in e?e.movementY:xP}}),w6=Ci(A2),_ge=fr({},A2,{dataTransfer:0}),Pge=Ci(_ge),Tge=fr({},lj,{relatedTarget:0}),yP=Ci(Tge),Age=fr({},iv,{animationName:0,elapsedTime:0,pseudoElement:0}),Ege=Ci(Age),Dge=fr({},iv,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Oge=Ci(Dge),Mge=fr({},iv,{data:0}),N6=Ci(Mge),Rge={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$ge={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ige={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fge(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ige[e])?!!t[e]:!1}function R4(){return Fge}var Lge=fr({},lj,{key:function(e){if(e.key){var t=Rge[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=VN(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$ge[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:R4,charCode:function(e){return e.type==="keypress"?VN(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?VN(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zge=Ci(Lge),Bge=fr({},A2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S6=Ci(Bge),Uge=fr({},lj,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:R4}),Vge=Ci(Uge),Wge=fr({},iv,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hge=Ci(Wge),qge=fr({},A2,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Kge=Ci(qge),Gge=[9,13,27,32],$4=td&&"CompositionEvent"in window,ry=null;td&&"documentMode"in document&&(ry=document.documentMode);var Yge=td&&"TextEvent"in window&&!ry,AY=td&&(!$4||ry&&8<ry&&11>=ry),C6=" ",k6=!1;function EY(e,t){switch(e){case"keyup":return Gge.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function DY(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _m=!1;function Xge(e,t){switch(e){case"compositionend":return DY(t);case"keypress":return t.which!==32?null:(k6=!0,C6);case"textInput":return e=t.data,e===C6&&k6?null:e;default:return null}}function Qge(e,t){if(_m)return e==="compositionend"||!$4&&EY(e,t)?(e=TY(),UN=O4=ru=null,_m=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return AY&&t.locale!=="ko"?null:t.data;default:return null}}var Zge={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _6(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Zge[e.type]:t==="textarea"}function OY(e,t,n,r){dY(r),t=$1(t,"onChange"),0<t.length&&(n=new M4("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var sy=null,By=null;function Jge(e){WY(e,0)}function E2(e){var t=Am(e);if(rY(t))return e}function eve(e,t){if(e==="change")return t}var MY=!1;if(td){var bP;if(td){var jP="oninput"in document;if(!jP){var P6=document.createElement("div");P6.setAttribute("oninput","return;"),jP=typeof P6.oninput=="function"}bP=jP}else bP=!1;MY=bP&&(!document.documentMode||9<document.documentMode)}function T6(){sy&&(sy.detachEvent("onpropertychange",RY),By=sy=null)}function RY(e){if(e.propertyName==="value"&&E2(By)){var t=[];OY(t,By,e,P4(e)),mY(Jge,t)}}function tve(e,t,n){e==="focusin"?(T6(),sy=t,By=n,sy.attachEvent("onpropertychange",RY)):e==="focusout"&&T6()}function nve(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return E2(By)}function rve(e,t){if(e==="click")return E2(t)}function sve(e,t){if(e==="input"||e==="change")return E2(t)}function ave(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Go=typeof Object.is=="function"?Object.is:ave;function Uy(e,t){if(Go(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!MA.call(t,a)||!Go(e[a],t[a]))return!1}return!0}function A6(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function E6(e,t){var n=A6(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=A6(n)}}function $Y(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?$Y(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function IY(){for(var e=window,t=T1();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=T1(e.document)}return t}function I4(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ive(e){var t=IY(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&$Y(n.ownerDocument.documentElement,n)){if(r!==null&&I4(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=r.end===void 0?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=E6(n,i);var o=E6(n,r);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ove=td&&"documentMode"in document&&11>=document.documentMode,Pm=null,JA=null,ay=null,eE=!1;function D6(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;eE||Pm==null||Pm!==T1(r)||(r=Pm,"selectionStart"in r&&I4(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ay&&Uy(ay,r)||(ay=r,r=$1(JA,"onSelect"),0<r.length&&(t=new M4("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Pm)))}function _w(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Tm={animationend:_w("Animation","AnimationEnd"),animationiteration:_w("Animation","AnimationIteration"),animationstart:_w("Animation","AnimationStart"),transitionend:_w("Transition","TransitionEnd")},wP={},FY={};td&&(FY=document.createElement("div").style,"AnimationEvent"in window||(delete Tm.animationend.animation,delete Tm.animationiteration.animation,delete Tm.animationstart.animation),"TransitionEvent"in window||delete Tm.transitionend.transition);function D2(e){if(wP[e])return wP[e];if(!Tm[e])return e;var t=Tm[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in FY)return wP[e]=t[n];return e}var LY=D2("animationend"),zY=D2("animationiteration"),BY=D2("animationstart"),UY=D2("transitionend"),VY=new Map,O6="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ku(e,t){VY.set(e,t),qf(t,[e])}for(var NP=0;NP<O6.length;NP++){var SP=O6[NP],lve=SP.toLowerCase(),cve=SP[0].toUpperCase()+SP.slice(1);Ku(lve,"on"+cve)}Ku(LY,"onAnimationEnd");Ku(zY,"onAnimationIteration");Ku(BY,"onAnimationStart");Ku("dblclick","onDoubleClick");Ku("focusin","onFocus");Ku("focusout","onBlur");Ku(UY,"onTransitionEnd");eg("onMouseEnter",["mouseout","mouseover"]);eg("onMouseLeave",["mouseout","mouseover"]);eg("onPointerEnter",["pointerout","pointerover"]);eg("onPointerLeave",["pointerout","pointerover"]);qf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qf("onBeforeInput",["compositionend","keypress","textInput","paste"]);qf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ix="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dve=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ix));function M6(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,lge(r,t,void 0,e),e.currentTarget=null}function WY(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;M6(a,l,d),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;M6(a,l,d),i=c}}}if(E1)throw e=YA,E1=!1,YA=null,e}function Fn(e,t){var n=t[aE];n===void 0&&(n=t[aE]=new Set);var r=e+"__bubble";n.has(r)||(HY(t,e,2,!1),n.add(r))}function CP(e,t,n){var r=0;t&&(r|=4),HY(n,e,r,t)}var Pw="_reactListening"+Math.random().toString(36).slice(2);function Vy(e){if(!e[Pw]){e[Pw]=!0,ZG.forEach(function(n){n!=="selectionchange"&&(dve.has(n)||CP(n,!1,e),CP(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Pw]||(t[Pw]=!0,CP("selectionchange",!1,t))}}function HY(e,t,n,r){switch(PY(t)){case 1:var a=Sge;break;case 4:a=Cge;break;default:a=D4}n=a.bind(null,t,n,e),a=void 0,!GA||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function kP(e,t,n,r,a){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Th(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}mY(function(){var d=i,u=P4(n),h=[];e:{var f=VY.get(e);if(f!==void 0){var g=M4,m=e;switch(e){case"keypress":if(VN(n)===0)break e;case"keydown":case"keyup":g=zge;break;case"focusin":m="focus",g=yP;break;case"focusout":m="blur",g=yP;break;case"beforeblur":case"afterblur":g=yP;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=w6;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Pge;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Vge;break;case LY:case zY:case BY:g=Ege;break;case UY:g=Hge;break;case"scroll":g=kge;break;case"wheel":g=Kge;break;case"copy":case"cut":case"paste":g=Oge;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=S6}var p=(t&4)!==0,x=!p&&e==="scroll",v=p?f!==null?f+"Capture":null:f;p=[];for(var y=d,j;y!==null;){j=y;var N=j.stateNode;if(j.tag===5&&N!==null&&(j=N,v!==null&&(N=Iy(y,v),N!=null&&p.push(Wy(y,N,j)))),x)break;y=y.return}0<p.length&&(f=new g(f,m,null,n,u),h.push({event:f,listeners:p}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",f&&n!==qA&&(m=n.relatedTarget||n.fromElement)&&(Th(m)||m[nd]))break e;if((g||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,g?(m=n.relatedTarget||n.toElement,g=d,m=m?Th(m):null,m!==null&&(x=Kf(m),m!==x||m.tag!==5&&m.tag!==6)&&(m=null)):(g=null,m=d),g!==m)){if(p=w6,N="onMouseLeave",v="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(p=S6,N="onPointerLeave",v="onPointerEnter",y="pointer"),x=g==null?f:Am(g),j=m==null?f:Am(m),f=new p(N,y+"leave",g,n,u),f.target=x,f.relatedTarget=j,N=null,Th(u)===d&&(p=new p(v,y+"enter",m,n,u),p.target=j,p.relatedTarget=x,N=p),x=N,g&&m)t:{for(p=g,v=m,y=0,j=p;j;j=cm(j))y++;for(j=0,N=v;N;N=cm(N))j++;for(;0<y-j;)p=cm(p),y--;for(;0<j-y;)v=cm(v),j--;for(;y--;){if(p===v||v!==null&&p===v.alternate)break t;p=cm(p),v=cm(v)}p=null}else p=null;g!==null&&R6(h,f,g,p,!1),m!==null&&x!==null&&R6(h,x,m,p,!0)}}e:{if(f=d?Am(d):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var w=eve;else if(_6(f))if(MY)w=sve;else{w=nve;var S=tve}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(w=rve);if(w&&(w=w(e,d))){OY(h,w,n,u);break e}S&&S(e,f,d),e==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&BA(f,"number",f.value)}switch(S=d?Am(d):window,e){case"focusin":(_6(S)||S.contentEditable==="true")&&(Pm=S,JA=d,ay=null);break;case"focusout":ay=JA=Pm=null;break;case"mousedown":eE=!0;break;case"contextmenu":case"mouseup":case"dragend":eE=!1,D6(h,n,u);break;case"selectionchange":if(ove)break;case"keydown":case"keyup":D6(h,n,u)}var k;if($4)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else _m?EY(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(AY&&n.locale!=="ko"&&(_m||_!=="onCompositionStart"?_==="onCompositionEnd"&&_m&&(k=TY()):(ru=u,O4="value"in ru?ru.value:ru.textContent,_m=!0)),S=$1(d,_),0<S.length&&(_=new N6(_,e,null,n,u),h.push({event:_,listeners:S}),k?_.data=k:(k=DY(n),k!==null&&(_.data=k)))),(k=Yge?Xge(e,n):Qge(e,n))&&(d=$1(d,"onBeforeInput"),0<d.length&&(u=new N6("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:d}),u.data=k))}WY(h,t)})}function Wy(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $1(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Iy(e,n),i!=null&&r.unshift(Wy(e,i,a)),i=Iy(e,t),i!=null&&r.push(Wy(e,i,a))),e=e.return}return r}function cm(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function R6(e,t,n,r,a){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,a?(c=Iy(n,i),c!=null&&o.unshift(Wy(n,c,l))):a||(c=Iy(n,i),c!=null&&o.push(Wy(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var uve=/\r\n?/g,hve=/\u0000|\uFFFD/g;function $6(e){return(typeof e=="string"?e:""+e).replace(uve,`
`).replace(hve,"")}function Tw(e,t,n){if(t=$6(t),$6(e)!==t&&n)throw Error(De(425))}function I1(){}var tE=null,nE=null;function rE(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var sE=typeof setTimeout=="function"?setTimeout:void 0,fve=typeof clearTimeout=="function"?clearTimeout:void 0,I6=typeof Promise=="function"?Promise:void 0,mve=typeof queueMicrotask=="function"?queueMicrotask:typeof I6<"u"?function(e){return I6.resolve(null).then(e).catch(pve)}:sE;function pve(e){setTimeout(function(){throw e})}function _P(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){e.removeChild(a),zy(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);zy(t)}function mu(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function F6(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ov=Math.random().toString(36).slice(2),Ol="__reactFiber$"+ov,Hy="__reactProps$"+ov,nd="__reactContainer$"+ov,aE="__reactEvents$"+ov,gve="__reactListeners$"+ov,vve="__reactHandles$"+ov;function Th(e){var t=e[Ol];if(t)return t;for(var n=e.parentNode;n;){if(t=n[nd]||n[Ol]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=F6(e);e!==null;){if(n=e[Ol])return n;e=F6(e)}return t}e=n,n=e.parentNode}return null}function cj(e){return e=e[Ol]||e[nd],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Am(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(De(33))}function O2(e){return e[Hy]||null}var iE=[],Em=-1;function Gu(e){return{current:e}}function Wn(e){0>Em||(e.current=iE[Em],iE[Em]=null,Em--)}function Dn(e,t){Em++,iE[Em]=e.current,e.current=t}var Cu={},na=Gu(Cu),Ua=Gu(!1),xf=Cu;function tg(e,t){var n=e.type.contextTypes;if(!n)return Cu;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Va(e){return e=e.childContextTypes,e!=null}function F1(){Wn(Ua),Wn(na)}function L6(e,t,n){if(na.current!==Cu)throw Error(De(168));Dn(na,t),Dn(Ua,n)}function qY(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(De(108,tge(e)||"Unknown",a));return fr({},n,r)}function L1(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Cu,xf=na.current,Dn(na,e),Dn(Ua,Ua.current),!0}function z6(e,t,n){var r=e.stateNode;if(!r)throw Error(De(169));n?(e=qY(e,t,xf),r.__reactInternalMemoizedMergedChildContext=e,Wn(Ua),Wn(na),Dn(na,e)):Wn(Ua),Dn(Ua,n)}var Tc=null,M2=!1,PP=!1;function KY(e){Tc===null?Tc=[e]:Tc.push(e)}function xve(e){M2=!0,KY(e)}function Yu(){if(!PP&&Tc!==null){PP=!0;var e=0,t=pn;try{var n=Tc;for(pn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Tc=null,M2=!1}catch(a){throw Tc!==null&&(Tc=Tc.slice(e+1)),xY(T4,Yu),a}finally{pn=t,PP=!1}}return null}var Dm=[],Om=0,z1=null,B1=0,Bi=[],Ui=0,yf=null,Ic=1,Fc="";function ph(e,t){Dm[Om++]=B1,Dm[Om++]=z1,z1=e,B1=t}function GY(e,t,n){Bi[Ui++]=Ic,Bi[Ui++]=Fc,Bi[Ui++]=yf,yf=e;var r=Ic;e=Fc;var a=32-Uo(r)-1;r&=~(1<<a),n+=1;var i=32-Uo(t)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,Ic=1<<32-Uo(t)+a|n<<a|r,Fc=i+e}else Ic=1<<i|n<<a|r,Fc=e}function F4(e){e.return!==null&&(ph(e,1),GY(e,1,0))}function L4(e){for(;e===z1;)z1=Dm[--Om],Dm[Om]=null,B1=Dm[--Om],Dm[Om]=null;for(;e===yf;)yf=Bi[--Ui],Bi[Ui]=null,Fc=Bi[--Ui],Bi[Ui]=null,Ic=Bi[--Ui],Bi[Ui]=null}var hi=null,ui=null,Xn=!1,Do=null;function YY(e,t){var n=Ki(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function B6(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,hi=e,ui=mu(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,hi=e,ui=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=yf!==null?{id:Ic,overflow:Fc}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ki(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,hi=e,ui=null,!0):!1;default:return!1}}function oE(e){return(e.mode&1)!==0&&(e.flags&128)===0}function lE(e){if(Xn){var t=ui;if(t){var n=t;if(!B6(e,t)){if(oE(e))throw Error(De(418));t=mu(n.nextSibling);var r=hi;t&&B6(e,t)?YY(r,n):(e.flags=e.flags&-4097|2,Xn=!1,hi=e)}}else{if(oE(e))throw Error(De(418));e.flags=e.flags&-4097|2,Xn=!1,hi=e}}}function U6(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;hi=e}function Aw(e){if(e!==hi)return!1;if(!Xn)return U6(e),Xn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!rE(e.type,e.memoizedProps)),t&&(t=ui)){if(oE(e))throw XY(),Error(De(418));for(;t;)YY(e,t),t=mu(t.nextSibling)}if(U6(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(De(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ui=mu(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ui=null}}else ui=hi?mu(e.stateNode.nextSibling):null;return!0}function XY(){for(var e=ui;e;)e=mu(e.nextSibling)}function ng(){ui=hi=null,Xn=!1}function z4(e){Do===null?Do=[e]:Do.push(e)}var yve=gd.ReactCurrentBatchConfig;function sx(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(De(309));var r=n.stateNode}if(!r)throw Error(De(147,e));var a=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(De(284));if(!n._owner)throw Error(De(290,e))}return e}function Ew(e,t){throw e=Object.prototype.toString.call(t),Error(De(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function V6(e){var t=e._init;return t(e._payload)}function QY(e){function t(v,y){if(e){var j=v.deletions;j===null?(v.deletions=[y],v.flags|=16):j.push(y)}}function n(v,y){if(!e)return null;for(;y!==null;)t(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function a(v,y){return v=xu(v,y),v.index=0,v.sibling=null,v}function i(v,y,j){return v.index=j,e?(j=v.alternate,j!==null?(j=j.index,j<y?(v.flags|=2,y):j):(v.flags|=2,y)):(v.flags|=1048576,y)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,y,j,N){return y===null||y.tag!==6?(y=RP(j,v.mode,N),y.return=v,y):(y=a(y,j),y.return=v,y)}function c(v,y,j,N){var w=j.type;return w===km?u(v,y,j.props.children,N,j.key):y!==null&&(y.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Id&&V6(w)===y.type)?(N=a(y,j.props),N.ref=sx(v,y,j),N.return=v,N):(N=XN(j.type,j.key,j.props,null,v.mode,N),N.ref=sx(v,y,j),N.return=v,N)}function d(v,y,j,N){return y===null||y.tag!==4||y.stateNode.containerInfo!==j.containerInfo||y.stateNode.implementation!==j.implementation?(y=$P(j,v.mode,N),y.return=v,y):(y=a(y,j.children||[]),y.return=v,y)}function u(v,y,j,N,w){return y===null||y.tag!==7?(y=lf(j,v.mode,N,w),y.return=v,y):(y=a(y,j),y.return=v,y)}function h(v,y,j){if(typeof y=="string"&&y!==""||typeof y=="number")return y=RP(""+y,v.mode,j),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case bw:return j=XN(y.type,y.key,y.props,null,v.mode,j),j.ref=sx(v,null,y),j.return=v,j;case Cm:return y=$P(y,v.mode,j),y.return=v,y;case Id:var N=y._init;return h(v,N(y._payload),j)}if(Rx(y)||Jv(y))return y=lf(y,v.mode,j,null),y.return=v,y;Ew(v,y)}return null}function f(v,y,j,N){var w=y!==null?y.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return w!==null?null:l(v,y,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case bw:return j.key===w?c(v,y,j,N):null;case Cm:return j.key===w?d(v,y,j,N):null;case Id:return w=j._init,f(v,y,w(j._payload),N)}if(Rx(j)||Jv(j))return w!==null?null:u(v,y,j,N,null);Ew(v,j)}return null}function g(v,y,j,N,w){if(typeof N=="string"&&N!==""||typeof N=="number")return v=v.get(j)||null,l(y,v,""+N,w);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case bw:return v=v.get(N.key===null?j:N.key)||null,c(y,v,N,w);case Cm:return v=v.get(N.key===null?j:N.key)||null,d(y,v,N,w);case Id:var S=N._init;return g(v,y,j,S(N._payload),w)}if(Rx(N)||Jv(N))return v=v.get(j)||null,u(y,v,N,w,null);Ew(y,N)}return null}function m(v,y,j,N){for(var w=null,S=null,k=y,_=y=0,T=null;k!==null&&_<j.length;_++){k.index>_?(T=k,k=null):T=k.sibling;var P=f(v,k,j[_],N);if(P===null){k===null&&(k=T);break}e&&k&&P.alternate===null&&t(v,k),y=i(P,y,_),S===null?w=P:S.sibling=P,S=P,k=T}if(_===j.length)return n(v,k),Xn&&ph(v,_),w;if(k===null){for(;_<j.length;_++)k=h(v,j[_],N),k!==null&&(y=i(k,y,_),S===null?w=k:S.sibling=k,S=k);return Xn&&ph(v,_),w}for(k=r(v,k);_<j.length;_++)T=g(k,v,_,j[_],N),T!==null&&(e&&T.alternate!==null&&k.delete(T.key===null?_:T.key),y=i(T,y,_),S===null?w=T:S.sibling=T,S=T);return e&&k.forEach(function(C){return t(v,C)}),Xn&&ph(v,_),w}function p(v,y,j,N){var w=Jv(j);if(typeof w!="function")throw Error(De(150));if(j=w.call(j),j==null)throw Error(De(151));for(var S=w=null,k=y,_=y=0,T=null,P=j.next();k!==null&&!P.done;_++,P=j.next()){k.index>_?(T=k,k=null):T=k.sibling;var C=f(v,k,P.value,N);if(C===null){k===null&&(k=T);break}e&&k&&C.alternate===null&&t(v,k),y=i(C,y,_),S===null?w=C:S.sibling=C,S=C,k=T}if(P.done)return n(v,k),Xn&&ph(v,_),w;if(k===null){for(;!P.done;_++,P=j.next())P=h(v,P.value,N),P!==null&&(y=i(P,y,_),S===null?w=P:S.sibling=P,S=P);return Xn&&ph(v,_),w}for(k=r(v,k);!P.done;_++,P=j.next())P=g(k,v,_,P.value,N),P!==null&&(e&&P.alternate!==null&&k.delete(P.key===null?_:P.key),y=i(P,y,_),S===null?w=P:S.sibling=P,S=P);return e&&k.forEach(function(A){return t(v,A)}),Xn&&ph(v,_),w}function x(v,y,j,N){if(typeof j=="object"&&j!==null&&j.type===km&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case bw:e:{for(var w=j.key,S=y;S!==null;){if(S.key===w){if(w=j.type,w===km){if(S.tag===7){n(v,S.sibling),y=a(S,j.props.children),y.return=v,v=y;break e}}else if(S.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Id&&V6(w)===S.type){n(v,S.sibling),y=a(S,j.props),y.ref=sx(v,S,j),y.return=v,v=y;break e}n(v,S);break}else t(v,S);S=S.sibling}j.type===km?(y=lf(j.props.children,v.mode,N,j.key),y.return=v,v=y):(N=XN(j.type,j.key,j.props,null,v.mode,N),N.ref=sx(v,y,j),N.return=v,v=N)}return o(v);case Cm:e:{for(S=j.key;y!==null;){if(y.key===S)if(y.tag===4&&y.stateNode.containerInfo===j.containerInfo&&y.stateNode.implementation===j.implementation){n(v,y.sibling),y=a(y,j.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else t(v,y);y=y.sibling}y=$P(j,v.mode,N),y.return=v,v=y}return o(v);case Id:return S=j._init,x(v,y,S(j._payload),N)}if(Rx(j))return m(v,y,j,N);if(Jv(j))return p(v,y,j,N);Ew(v,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,y!==null&&y.tag===6?(n(v,y.sibling),y=a(y,j),y.return=v,v=y):(n(v,y),y=RP(j,v.mode,N),y.return=v,v=y),o(v)):n(v,y)}return x}var rg=QY(!0),ZY=QY(!1),U1=Gu(null),V1=null,Mm=null,B4=null;function U4(){B4=Mm=V1=null}function V4(e){var t=U1.current;Wn(U1),e._currentValue=t}function cE(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ep(e,t){V1=e,B4=Mm=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ia=!0),e.firstContext=null)}function eo(e){var t=e._currentValue;if(B4!==e)if(e={context:e,memoizedValue:t,next:null},Mm===null){if(V1===null)throw Error(De(308));Mm=e,V1.dependencies={lanes:0,firstContext:e}}else Mm=Mm.next=e;return t}var Ah=null;function W4(e){Ah===null?Ah=[e]:Ah.push(e)}function JY(e,t,n,r){var a=t.interleaved;return a===null?(n.next=n,W4(t)):(n.next=a.next,a.next=n),t.interleaved=n,rd(e,r)}function rd(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Fd=!1;function H4(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function eX(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Kc(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function pu(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Zt&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,rd(e,n)}return a=r.interleaved,a===null?(t.next=t,W4(r)):(t.next=a.next,a.next=t),r.interleaved=t,rd(e,n)}function WN(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,A4(e,n)}}function W6(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?a=i=t:i=i.next=t}else a=i=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function W1(e,t,n,r){var a=e.updateQueue;Fd=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var h=a.baseState;o=0,u=d=c=null,l=i;do{var f=l.lane,g=l.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var m=e,p=l;switch(f=t,g=n,p.tag){case 1:if(m=p.payload,typeof m=="function"){h=m.call(g,h,f);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=p.payload,f=typeof m=="function"?m.call(g,h,f):m,f==null)break e;h=fr({},h,f);break e;case 2:Fd=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=a.effects,f===null?a.effects=[l]:f.push(l))}else g={eventTime:g,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=g,c=h):u=u.next=g,o|=f;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;f=l,l=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(!0);if(u===null&&(c=h),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);jf|=o,e.lanes=o,e.memoizedState=h}}function H6(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(De(191,a));a.call(r)}}}var dj={},Hl=Gu(dj),qy=Gu(dj),Ky=Gu(dj);function Eh(e){if(e===dj)throw Error(De(174));return e}function q4(e,t){switch(Dn(Ky,t),Dn(qy,e),Dn(Hl,dj),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:VA(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=VA(t,e)}Wn(Hl),Dn(Hl,t)}function sg(){Wn(Hl),Wn(qy),Wn(Ky)}function tX(e){Eh(Ky.current);var t=Eh(Hl.current),n=VA(t,e.type);t!==n&&(Dn(qy,e),Dn(Hl,n))}function K4(e){qy.current===e&&(Wn(Hl),Wn(qy))}var lr=Gu(0);function H1(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var TP=[];function G4(){for(var e=0;e<TP.length;e++)TP[e]._workInProgressVersionPrimary=null;TP.length=0}var HN=gd.ReactCurrentDispatcher,AP=gd.ReactCurrentBatchConfig,bf=0,hr=null,Zr=null,bs=null,q1=!1,iy=!1,Gy=0,bve=0;function zs(){throw Error(De(321))}function Y4(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Go(e[n],t[n]))return!1;return!0}function X4(e,t,n,r,a,i){if(bf=i,hr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,HN.current=e===null||e.memoizedState===null?Sve:Cve,e=n(r,a),iy){i=0;do{if(iy=!1,Gy=0,25<=i)throw Error(De(301));i+=1,bs=Zr=null,t.updateQueue=null,HN.current=kve,e=n(r,a)}while(iy)}if(HN.current=K1,t=Zr!==null&&Zr.next!==null,bf=0,bs=Zr=hr=null,q1=!1,t)throw Error(De(300));return e}function Q4(){var e=Gy!==0;return Gy=0,e}function bl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bs===null?hr.memoizedState=bs=e:bs=bs.next=e,bs}function to(){if(Zr===null){var e=hr.alternate;e=e!==null?e.memoizedState:null}else e=Zr.next;var t=bs===null?hr.memoizedState:bs.next;if(t!==null)bs=t,Zr=e;else{if(e===null)throw Error(De(310));Zr=e,e={memoizedState:Zr.memoizedState,baseState:Zr.baseState,baseQueue:Zr.baseQueue,queue:Zr.queue,next:null},bs===null?hr.memoizedState=bs=e:bs=bs.next=e}return bs}function Yy(e,t){return typeof t=="function"?t(e):t}function EP(e){var t=to(),n=t.queue;if(n===null)throw Error(De(311));n.lastRenderedReducer=e;var r=Zr,a=r.baseQueue,i=n.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}r.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,r=r.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((bf&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=r):c=c.next=h,hr.lanes|=u,jf|=u}d=d.next}while(d!==null&&d!==i);c===null?o=r:c.next=l,Go(r,t.memoizedState)||(Ia=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){a=e;do i=a.lane,hr.lanes|=i,jf|=i,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function DP(e){var t=to(),n=t.queue;if(n===null)throw Error(De(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(a!==null){n.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Go(i,t.memoizedState)||(Ia=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function nX(){}function rX(e,t){var n=hr,r=to(),a=t(),i=!Go(r.memoizedState,a);if(i&&(r.memoizedState=a,Ia=!0),r=r.queue,Z4(iX.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||bs!==null&&bs.memoizedState.tag&1){if(n.flags|=2048,Xy(9,aX.bind(null,n,r,a,t),void 0,null),Ss===null)throw Error(De(349));bf&30||sX(n,t,a)}return a}function sX(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=hr.updateQueue,t===null?(t={lastEffect:null,stores:null},hr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function aX(e,t,n,r){t.value=n,t.getSnapshot=r,oX(t)&&lX(e)}function iX(e,t,n){return n(function(){oX(t)&&lX(e)})}function oX(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Go(e,n)}catch{return!0}}function lX(e){var t=rd(e,1);t!==null&&Vo(t,e,1,-1)}function q6(e){var t=bl();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yy,lastRenderedState:e},t.queue=e,e=e.dispatch=Nve.bind(null,hr,e),[t.memoizedState,e]}function Xy(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=hr.updateQueue,t===null?(t={lastEffect:null,stores:null},hr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function cX(){return to().memoizedState}function qN(e,t,n,r){var a=bl();hr.flags|=e,a.memoizedState=Xy(1|t,n,void 0,r===void 0?null:r)}function R2(e,t,n,r){var a=to();r=r===void 0?null:r;var i=void 0;if(Zr!==null){var o=Zr.memoizedState;if(i=o.destroy,r!==null&&Y4(r,o.deps)){a.memoizedState=Xy(t,n,i,r);return}}hr.flags|=e,a.memoizedState=Xy(1|t,n,i,r)}function K6(e,t){return qN(8390656,8,e,t)}function Z4(e,t){return R2(2048,8,e,t)}function dX(e,t){return R2(4,2,e,t)}function uX(e,t){return R2(4,4,e,t)}function hX(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function fX(e,t,n){return n=n!=null?n.concat([e]):null,R2(4,4,hX.bind(null,t,e),n)}function J4(){}function mX(e,t){var n=to();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Y4(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function pX(e,t){var n=to();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Y4(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function gX(e,t,n){return bf&21?(Go(n,t)||(n=jY(),hr.lanes|=n,jf|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ia=!0),e.memoizedState=n)}function jve(e,t){var n=pn;pn=n!==0&&4>n?n:4,e(!0);var r=AP.transition;AP.transition={};try{e(!1),t()}finally{pn=n,AP.transition=r}}function vX(){return to().memoizedState}function wve(e,t,n){var r=vu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},xX(e))yX(t,n);else if(n=JY(e,t,n,r),n!==null){var a=Sa();Vo(n,e,r,a),bX(n,t,r)}}function Nve(e,t,n){var r=vu(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(xX(e))yX(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(a.hasEagerState=!0,a.eagerState=l,Go(l,o)){var c=t.interleaved;c===null?(a.next=a,W4(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}n=JY(e,t,a,r),n!==null&&(a=Sa(),Vo(n,e,r,a),bX(n,t,r))}}function xX(e){var t=e.alternate;return e===hr||t!==null&&t===hr}function yX(e,t){iy=q1=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function bX(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,A4(e,n)}}var K1={readContext:eo,useCallback:zs,useContext:zs,useEffect:zs,useImperativeHandle:zs,useInsertionEffect:zs,useLayoutEffect:zs,useMemo:zs,useReducer:zs,useRef:zs,useState:zs,useDebugValue:zs,useDeferredValue:zs,useTransition:zs,useMutableSource:zs,useSyncExternalStore:zs,useId:zs,unstable_isNewReconciler:!1},Sve={readContext:eo,useCallback:function(e,t){return bl().memoizedState=[e,t===void 0?null:t],e},useContext:eo,useEffect:K6,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,qN(4194308,4,hX.bind(null,t,e),n)},useLayoutEffect:function(e,t){return qN(4194308,4,e,t)},useInsertionEffect:function(e,t){return qN(4,2,e,t)},useMemo:function(e,t){var n=bl();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=bl();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=wve.bind(null,hr,e),[r.memoizedState,e]},useRef:function(e){var t=bl();return e={current:e},t.memoizedState=e},useState:q6,useDebugValue:J4,useDeferredValue:function(e){return bl().memoizedState=e},useTransition:function(){var e=q6(!1),t=e[0];return e=jve.bind(null,e[1]),bl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=hr,a=bl();if(Xn){if(n===void 0)throw Error(De(407));n=n()}else{if(n=t(),Ss===null)throw Error(De(349));bf&30||sX(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,K6(iX.bind(null,r,i,e),[e]),r.flags|=2048,Xy(9,aX.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=bl(),t=Ss.identifierPrefix;if(Xn){var n=Fc,r=Ic;n=(r&~(1<<32-Uo(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Gy++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=bve++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Cve={readContext:eo,useCallback:mX,useContext:eo,useEffect:Z4,useImperativeHandle:fX,useInsertionEffect:dX,useLayoutEffect:uX,useMemo:pX,useReducer:EP,useRef:cX,useState:function(){return EP(Yy)},useDebugValue:J4,useDeferredValue:function(e){var t=to();return gX(t,Zr.memoizedState,e)},useTransition:function(){var e=EP(Yy)[0],t=to().memoizedState;return[e,t]},useMutableSource:nX,useSyncExternalStore:rX,useId:vX,unstable_isNewReconciler:!1},kve={readContext:eo,useCallback:mX,useContext:eo,useEffect:Z4,useImperativeHandle:fX,useInsertionEffect:dX,useLayoutEffect:uX,useMemo:pX,useReducer:DP,useRef:cX,useState:function(){return DP(Yy)},useDebugValue:J4,useDeferredValue:function(e){var t=to();return Zr===null?t.memoizedState=e:gX(t,Zr.memoizedState,e)},useTransition:function(){var e=DP(Yy)[0],t=to().memoizedState;return[e,t]},useMutableSource:nX,useSyncExternalStore:rX,useId:vX,unstable_isNewReconciler:!1};function xo(e,t){if(e&&e.defaultProps){t=fr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function dE(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:fr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var $2={isMounted:function(e){return(e=e._reactInternals)?Kf(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Sa(),a=vu(e),i=Kc(r,a);i.payload=t,n!=null&&(i.callback=n),t=pu(e,i,a),t!==null&&(Vo(t,e,a,r),WN(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Sa(),a=vu(e),i=Kc(r,a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=pu(e,i,a),t!==null&&(Vo(t,e,a,r),WN(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Sa(),r=vu(e),a=Kc(n,r);a.tag=2,t!=null&&(a.callback=t),t=pu(e,a,r),t!==null&&(Vo(t,e,r,n),WN(t,e,r))}};function G6(e,t,n,r,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Uy(n,r)||!Uy(a,i):!0}function jX(e,t,n){var r=!1,a=Cu,i=t.contextType;return typeof i=="object"&&i!==null?i=eo(i):(a=Va(t)?xf:na.current,r=t.contextTypes,i=(r=r!=null)?tg(e,a):Cu),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=$2,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Y6(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&$2.enqueueReplaceState(t,t.state,null)}function uE(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},H4(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=eo(i):(i=Va(t)?xf:na.current,a.context=tg(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(dE(e,t,i,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&$2.enqueueReplaceState(a,a.state,null),W1(e,n,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function ag(e,t){try{var n="",r=t;do n+=ege(r),r=r.return;while(r);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function OP(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function hE(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var _ve=typeof WeakMap=="function"?WeakMap:Map;function wX(e,t,n){n=Kc(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Y1||(Y1=!0,wE=r),hE(e,t)},n}function NX(e,t,n){n=Kc(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){hE(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){hE(e,t),typeof r!="function"&&(gu===null?gu=new Set([this]):gu.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function X6(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new _ve;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Bve.bind(null,e,t,n),t.then(e,e))}function Q6(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Z6(e,t,n,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Kc(-1,1),t.tag=2,pu(n,t,1))),n.lanes|=1),e)}var Pve=gd.ReactCurrentOwner,Ia=!1;function ga(e,t,n,r){t.child=e===null?ZY(t,null,n,r):rg(t,e.child,n,r)}function J6(e,t,n,r,a){n=n.render;var i=t.ref;return ep(t,a),r=X4(e,t,n,r,i,a),n=Q4(),e!==null&&!Ia?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,sd(e,t,a)):(Xn&&n&&F4(t),t.flags|=1,ga(e,t,r,a),t.child)}function e3(e,t,n,r,a){if(e===null){var i=n.type;return typeof i=="function"&&!oR(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,SX(e,t,i,r,a)):(e=XN(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Uy,n(o,r)&&e.ref===t.ref)return sd(e,t,a)}return t.flags|=1,e=xu(i,r),e.ref=t.ref,e.return=t,t.child=e}function SX(e,t,n,r,a){if(e!==null){var i=e.memoizedProps;if(Uy(i,r)&&e.ref===t.ref)if(Ia=!1,t.pendingProps=r=i,(e.lanes&a)!==0)e.flags&131072&&(Ia=!0);else return t.lanes=e.lanes,sd(e,t,a)}return fE(e,t,n,r,a)}function CX(e,t,n){var r=t.pendingProps,a=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Dn($m,ri),ri|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Dn($m,ri),ri|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Dn($m,ri),ri|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Dn($m,ri),ri|=r;return ga(e,t,a,n),t.child}function kX(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function fE(e,t,n,r,a){var i=Va(n)?xf:na.current;return i=tg(t,i),ep(t,a),n=X4(e,t,n,r,i,a),r=Q4(),e!==null&&!Ia?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,sd(e,t,a)):(Xn&&r&&F4(t),t.flags|=1,ga(e,t,n,a),t.child)}function t3(e,t,n,r,a){if(Va(n)){var i=!0;L1(t)}else i=!1;if(ep(t,a),t.stateNode===null)KN(e,t),jX(t,n,r),uE(t,n,r,a),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=eo(d):(d=Va(n)?xf:na.current,d=tg(t,d));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==d)&&Y6(t,o,r,d),Fd=!1;var f=t.memoizedState;o.state=f,W1(t,r,o,a),c=t.memoizedState,l!==r||f!==c||Ua.current||Fd?(typeof u=="function"&&(dE(t,n,u,r),c=t.memoizedState),(l=Fd||G6(t,n,l,r,f,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=d,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,eX(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:xo(t.type,l),o.props=d,h=t.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=eo(c):(c=Va(n)?xf:na.current,c=tg(t,c));var g=n.getDerivedStateFromProps;(u=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&Y6(t,o,r,c),Fd=!1,f=t.memoizedState,o.state=f,W1(t,r,o,a);var m=t.memoizedState;l!==h||f!==m||Ua.current||Fd?(typeof g=="function"&&(dE(t,n,g,r),m=t.memoizedState),(d=Fd||G6(t,n,d,r,f,m,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),o.props=r,o.state=m,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return mE(e,t,n,r,i,a)}function mE(e,t,n,r,a,i){kX(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return a&&z6(t,n,!1),sd(e,t,i);r=t.stateNode,Pve.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=rg(t,e.child,null,i),t.child=rg(t,null,l,i)):ga(e,t,l,i),t.memoizedState=r.state,a&&z6(t,n,!0),t.child}function _X(e){var t=e.stateNode;t.pendingContext?L6(e,t.pendingContext,t.pendingContext!==t.context):t.context&&L6(e,t.context,!1),q4(e,t.containerInfo)}function n3(e,t,n,r,a){return ng(),z4(a),t.flags|=256,ga(e,t,n,r),t.child}var pE={dehydrated:null,treeContext:null,retryLane:0};function gE(e){return{baseLanes:e,cachePool:null,transitions:null}}function PX(e,t,n){var r=t.pendingProps,a=lr.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Dn(lr,a&1),e===null)return lE(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=L2(o,r,0,null),e=lf(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=gE(n),t.memoizedState=pE,e):eR(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return Tve(e,t,o,r,l,a,n);if(i){i=r.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=xu(a,c),r.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=xu(l,i):(i=lf(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?gE(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=pE,r}return i=e.child,e=i.sibling,r=xu(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function eR(e,t){return t=L2({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Dw(e,t,n,r){return r!==null&&z4(r),rg(t,e.child,null,n),e=eR(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Tve(e,t,n,r,a,i,o){if(n)return t.flags&256?(t.flags&=-257,r=OP(Error(De(422))),Dw(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=L2({mode:"visible",children:r.children},a,0,null),i=lf(i,a,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&rg(t,e.child,null,o),t.child.memoizedState=gE(o),t.memoizedState=pE,i);if(!(t.mode&1))return Dw(e,t,o,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(De(419)),r=OP(i,r,void 0),Dw(e,t,o,r)}if(l=(o&e.childLanes)!==0,Ia||l){if(r=Ss,r!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,rd(e,a),Vo(r,e,a,-1))}return iR(),r=OP(Error(De(421))),Dw(e,t,o,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=Uve.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,ui=mu(a.nextSibling),hi=t,Xn=!0,Do=null,e!==null&&(Bi[Ui++]=Ic,Bi[Ui++]=Fc,Bi[Ui++]=yf,Ic=e.id,Fc=e.overflow,yf=t),t=eR(t,r.children),t.flags|=4096,t)}function r3(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),cE(e.return,t,n)}function MP(e,t,n,r,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function TX(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(ga(e,t,r.children,n),r=lr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&r3(e,n,t);else if(e.tag===19)r3(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Dn(lr,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&H1(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),MP(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&H1(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}MP(t,!0,n,null,i);break;case"together":MP(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function KN(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function sd(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),jf|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(De(153));if(t.child!==null){for(e=t.child,n=xu(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=xu(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Ave(e,t,n){switch(t.tag){case 3:_X(t),ng();break;case 5:tX(t);break;case 1:Va(t.type)&&L1(t);break;case 4:q4(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Dn(U1,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Dn(lr,lr.current&1),t.flags|=128,null):n&t.child.childLanes?PX(e,t,n):(Dn(lr,lr.current&1),e=sd(e,t,n),e!==null?e.sibling:null);Dn(lr,lr.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return TX(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Dn(lr,lr.current),r)break;return null;case 22:case 23:return t.lanes=0,CX(e,t,n)}return sd(e,t,n)}var AX,vE,EX,DX;AX=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};vE=function(){};EX=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Eh(Hl.current);var i=null;switch(n){case"input":a=LA(e,a),r=LA(e,r),i=[];break;case"select":a=fr({},a,{value:void 0}),r=fr({},r,{value:void 0}),i=[];break;case"textarea":a=UA(e,a),r=UA(e,r),i=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=I1)}WA(n,r);var o;n=null;for(d in a)if(!r.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ry.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(l=a!=null?a[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Ry.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Fn("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};DX=function(e,t,n,r){n!==r&&(t.flags|=4)};function ax(e,t){if(!Xn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Bs(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Eve(e,t,n){var r=t.pendingProps;switch(L4(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bs(t),null;case 1:return Va(t.type)&&F1(),Bs(t),null;case 3:return r=t.stateNode,sg(),Wn(Ua),Wn(na),G4(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Aw(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Do!==null&&(CE(Do),Do=null))),vE(e,t),Bs(t),null;case 5:K4(t);var a=Eh(Ky.current);if(n=t.type,e!==null&&t.stateNode!=null)EX(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(De(166));return Bs(t),null}if(e=Eh(Hl.current),Aw(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Ol]=t,r[Hy]=i,e=(t.mode&1)!==0,n){case"dialog":Fn("cancel",r),Fn("close",r);break;case"iframe":case"object":case"embed":Fn("load",r);break;case"video":case"audio":for(a=0;a<Ix.length;a++)Fn(Ix[a],r);break;case"source":Fn("error",r);break;case"img":case"image":case"link":Fn("error",r),Fn("load",r);break;case"details":Fn("toggle",r);break;case"input":h6(r,i),Fn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Fn("invalid",r);break;case"textarea":m6(r,i),Fn("invalid",r)}WA(n,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Tw(r.textContent,l,e),a=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Tw(r.textContent,l,e),a=["children",""+l]):Ry.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Fn("scroll",r)}switch(n){case"input":jw(r),f6(r,i,!0);break;case"textarea":jw(r),p6(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=I1)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=iY(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Ol]=t,e[Hy]=r,AX(e,t,!1,!1),t.stateNode=e;e:{switch(o=HA(n,r),n){case"dialog":Fn("cancel",e),Fn("close",e),a=r;break;case"iframe":case"object":case"embed":Fn("load",e),a=r;break;case"video":case"audio":for(a=0;a<Ix.length;a++)Fn(Ix[a],e);a=r;break;case"source":Fn("error",e),a=r;break;case"img":case"image":case"link":Fn("error",e),Fn("load",e),a=r;break;case"details":Fn("toggle",e),a=r;break;case"input":h6(e,r),a=LA(e,r),Fn("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=fr({},r,{value:void 0}),Fn("invalid",e);break;case"textarea":m6(e,r),a=UA(e,r),Fn("invalid",e);break;default:a=r}WA(n,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?cY(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&oY(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&$y(e,c):typeof c=="number"&&$y(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ry.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Fn("scroll",e):c!=null&&S4(e,i,c,o))}switch(n){case"input":jw(e),f6(e,r,!1);break;case"textarea":jw(e),p6(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Su(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Xm(e,!!r.multiple,i,!1):r.defaultValue!=null&&Xm(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=I1)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Bs(t),null;case 6:if(e&&t.stateNode!=null)DX(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(De(166));if(n=Eh(Ky.current),Eh(Hl.current),Aw(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ol]=t,(i=r.nodeValue!==n)&&(e=hi,e!==null))switch(e.tag){case 3:Tw(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Tw(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ol]=t,t.stateNode=r}return Bs(t),null;case 13:if(Wn(lr),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Xn&&ui!==null&&t.mode&1&&!(t.flags&128))XY(),ng(),t.flags|=98560,i=!1;else if(i=Aw(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(De(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(De(317));i[Ol]=t}else ng(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Bs(t),i=!1}else Do!==null&&(CE(Do),Do=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||lr.current&1?os===0&&(os=3):iR())),t.updateQueue!==null&&(t.flags|=4),Bs(t),null);case 4:return sg(),vE(e,t),e===null&&Vy(t.stateNode.containerInfo),Bs(t),null;case 10:return V4(t.type._context),Bs(t),null;case 17:return Va(t.type)&&F1(),Bs(t),null;case 19:if(Wn(lr),i=t.memoizedState,i===null)return Bs(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)ax(i,!1);else{if(os!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=H1(e),o!==null){for(t.flags|=128,ax(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Dn(lr,lr.current&1|2),t.child}e=e.sibling}i.tail!==null&&Dr()>ig&&(t.flags|=128,r=!0,ax(i,!1),t.lanes=4194304)}else{if(!r)if(e=H1(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ax(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Xn)return Bs(t),null}else 2*Dr()-i.renderingStartTime>ig&&n!==1073741824&&(t.flags|=128,r=!0,ax(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Dr(),t.sibling=null,n=lr.current,Dn(lr,r?n&1|2:n&1),t):(Bs(t),null);case 22:case 23:return aR(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ri&1073741824&&(Bs(t),t.subtreeFlags&6&&(t.flags|=8192)):Bs(t),null;case 24:return null;case 25:return null}throw Error(De(156,t.tag))}function Dve(e,t){switch(L4(t),t.tag){case 1:return Va(t.type)&&F1(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return sg(),Wn(Ua),Wn(na),G4(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return K4(t),null;case 13:if(Wn(lr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(De(340));ng()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Wn(lr),null;case 4:return sg(),null;case 10:return V4(t.type._context),null;case 22:case 23:return aR(),null;case 24:return null;default:return null}}var Ow=!1,Ys=!1,Ove=typeof WeakSet=="function"?WeakSet:Set,Je=null;function Rm(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){vr(e,t,r)}else n.current=null}function xE(e,t,n){try{n()}catch(r){vr(e,t,r)}}var s3=!1;function Mve(e,t){if(tE=M1,e=IY(),I4(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,f=null;t:for(;;){for(var g;h!==n||a!==0&&h.nodeType!==3||(l=o+a),h!==i||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===e)break t;if(f===n&&++d===a&&(l=o),f===i&&++u===r&&(c=o),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nE={focusedElem:e,selectionRange:n},M1=!1,Je=t;Je!==null;)if(t=Je,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Je=e;else for(;Je!==null;){t=Je;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var p=m.memoizedProps,x=m.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?p:xo(t.type,p),x);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(De(163))}}catch(N){vr(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,Je=e;break}Je=t.return}return m=s3,s3=!1,m}function oy(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&xE(t,n,i)}a=a.next}while(a!==r)}}function I2(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function yE(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function OX(e){var t=e.alternate;t!==null&&(e.alternate=null,OX(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ol],delete t[Hy],delete t[aE],delete t[gve],delete t[vve])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function MX(e){return e.tag===5||e.tag===3||e.tag===4}function a3(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||MX(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bE(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=I1));else if(r!==4&&(e=e.child,e!==null))for(bE(e,t,n),e=e.sibling;e!==null;)bE(e,t,n),e=e.sibling}function jE(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(jE(e,t,n),e=e.sibling;e!==null;)jE(e,t,n),e=e.sibling}var Os=null,ko=!1;function kd(e,t,n){for(n=n.child;n!==null;)RX(e,t,n),n=n.sibling}function RX(e,t,n){if(Wl&&typeof Wl.onCommitFiberUnmount=="function")try{Wl.onCommitFiberUnmount(T2,n)}catch{}switch(n.tag){case 5:Ys||Rm(n,t);case 6:var r=Os,a=ko;Os=null,kd(e,t,n),Os=r,ko=a,Os!==null&&(ko?(e=Os,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Os.removeChild(n.stateNode));break;case 18:Os!==null&&(ko?(e=Os,n=n.stateNode,e.nodeType===8?_P(e.parentNode,n):e.nodeType===1&&_P(e,n),zy(e)):_P(Os,n.stateNode));break;case 4:r=Os,a=ko,Os=n.stateNode.containerInfo,ko=!0,kd(e,t,n),Os=r,ko=a;break;case 0:case 11:case 14:case 15:if(!Ys&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&xE(n,t,o),a=a.next}while(a!==r)}kd(e,t,n);break;case 1:if(!Ys&&(Rm(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){vr(n,t,l)}kd(e,t,n);break;case 21:kd(e,t,n);break;case 22:n.mode&1?(Ys=(r=Ys)||n.memoizedState!==null,kd(e,t,n),Ys=r):kd(e,t,n);break;default:kd(e,t,n)}}function i3(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Ove),t.forEach(function(r){var a=Vve.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}}function mo(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Os=l.stateNode,ko=!1;break e;case 3:Os=l.stateNode.containerInfo,ko=!0;break e;case 4:Os=l.stateNode.containerInfo,ko=!0;break e}l=l.return}if(Os===null)throw Error(De(160));RX(i,o,a),Os=null,ko=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){vr(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)$X(t,e),t=t.sibling}function $X(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mo(t,e),vl(e),r&4){try{oy(3,e,e.return),I2(3,e)}catch(p){vr(e,e.return,p)}try{oy(5,e,e.return)}catch(p){vr(e,e.return,p)}}break;case 1:mo(t,e),vl(e),r&512&&n!==null&&Rm(n,n.return);break;case 5:if(mo(t,e),vl(e),r&512&&n!==null&&Rm(n,n.return),e.flags&32){var a=e.stateNode;try{$y(a,"")}catch(p){vr(e,e.return,p)}}if(r&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&sY(a,i),HA(l,o);var d=HA(l,i);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?cY(a,h):u==="dangerouslySetInnerHTML"?oY(a,h):u==="children"?$y(a,h):S4(a,u,h,d)}switch(l){case"input":zA(a,i);break;case"textarea":aY(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Xm(a,!!i.multiple,g,!1):f!==!!i.multiple&&(i.defaultValue!=null?Xm(a,!!i.multiple,i.defaultValue,!0):Xm(a,!!i.multiple,i.multiple?[]:"",!1))}a[Hy]=i}catch(p){vr(e,e.return,p)}}break;case 6:if(mo(t,e),vl(e),r&4){if(e.stateNode===null)throw Error(De(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(p){vr(e,e.return,p)}}break;case 3:if(mo(t,e),vl(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{zy(t.containerInfo)}catch(p){vr(e,e.return,p)}break;case 4:mo(t,e),vl(e);break;case 13:mo(t,e),vl(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(rR=Dr())),r&4&&i3(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(Ys=(d=Ys)||u,mo(t,e),Ys=d):mo(t,e),vl(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(Je=e,u=e.child;u!==null;){for(h=Je=u;Je!==null;){switch(f=Je,g=f.child,f.tag){case 0:case 11:case 14:case 15:oy(4,f,f.return);break;case 1:Rm(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(p){vr(r,n,p)}}break;case 5:Rm(f,f.return);break;case 22:if(f.memoizedState!==null){l3(h);continue}}g!==null?(g.return=f,Je=g):l3(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{a=h.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=lY("display",o))}catch(p){vr(e,e.return,p)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(p){vr(e,e.return,p)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:mo(t,e),vl(e),r&4&&i3(e);break;case 21:break;default:mo(t,e),vl(e)}}function vl(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(MX(n)){var r=n;break e}n=n.return}throw Error(De(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&($y(a,""),r.flags&=-33);var i=a3(e);jE(e,i,a);break;case 3:case 4:var o=r.stateNode.containerInfo,l=a3(e);bE(e,l,o);break;default:throw Error(De(161))}}catch(c){vr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Rve(e,t,n){Je=e,IX(e)}function IX(e,t,n){for(var r=(e.mode&1)!==0;Je!==null;){var a=Je,i=a.child;if(a.tag===22&&r){var o=a.memoizedState!==null||Ow;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Ys;l=Ow;var d=Ys;if(Ow=o,(Ys=c)&&!d)for(Je=a;Je!==null;)o=Je,c=o.child,o.tag===22&&o.memoizedState!==null?c3(a):c!==null?(c.return=o,Je=c):c3(a);for(;i!==null;)Je=i,IX(i),i=i.sibling;Je=a,Ow=l,Ys=d}o3(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Je=i):o3(e)}}function o3(e){for(;Je!==null;){var t=Je;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ys||I2(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ys)if(n===null)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:xo(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&H6(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}H6(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&zy(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(De(163))}Ys||t.flags&512&&yE(t)}catch(f){vr(t,t.return,f)}}if(t===e){Je=null;break}if(n=t.sibling,n!==null){n.return=t.return,Je=n;break}Je=t.return}}function l3(e){for(;Je!==null;){var t=Je;if(t===e){Je=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Je=n;break}Je=t.return}}function c3(e){for(;Je!==null;){var t=Je;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{I2(4,t)}catch(c){vr(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(c){vr(t,a,c)}}var i=t.return;try{yE(t)}catch(c){vr(t,i,c)}break;case 5:var o=t.return;try{yE(t)}catch(c){vr(t,o,c)}}}catch(c){vr(t,t.return,c)}if(t===e){Je=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Je=l;break}Je=t.return}}var $ve=Math.ceil,G1=gd.ReactCurrentDispatcher,tR=gd.ReactCurrentOwner,Qi=gd.ReactCurrentBatchConfig,Zt=0,Ss=null,Vr=null,Rs=0,ri=0,$m=Gu(0),os=0,Qy=null,jf=0,F2=0,nR=0,ly=null,$a=null,rR=0,ig=1/0,kc=null,Y1=!1,wE=null,gu=null,Mw=!1,su=null,X1=0,cy=0,NE=null,GN=-1,YN=0;function Sa(){return Zt&6?Dr():GN!==-1?GN:GN=Dr()}function vu(e){return e.mode&1?Zt&2&&Rs!==0?Rs&-Rs:yve.transition!==null?(YN===0&&(YN=jY()),YN):(e=pn,e!==0||(e=window.event,e=e===void 0?16:PY(e.type)),e):1}function Vo(e,t,n,r){if(50<cy)throw cy=0,NE=null,Error(De(185));oj(e,n,r),(!(Zt&2)||e!==Ss)&&(e===Ss&&(!(Zt&2)&&(F2|=n),os===4&&Ud(e,Rs)),Wa(e,r),n===1&&Zt===0&&!(t.mode&1)&&(ig=Dr()+500,M2&&Yu()))}function Wa(e,t){var n=e.callbackNode;yge(e,t);var r=O1(e,e===Ss?Rs:0);if(r===0)n!==null&&x6(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&x6(n),t===1)e.tag===0?xve(d3.bind(null,e)):KY(d3.bind(null,e)),mve(function(){!(Zt&6)&&Yu()}),n=null;else{switch(wY(r)){case 1:n=T4;break;case 4:n=yY;break;case 16:n=D1;break;case 536870912:n=bY;break;default:n=D1}n=HX(n,FX.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function FX(e,t){if(GN=-1,YN=0,Zt&6)throw Error(De(327));var n=e.callbackNode;if(tp()&&e.callbackNode!==n)return null;var r=O1(e,e===Ss?Rs:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Q1(e,r);else{t=r;var a=Zt;Zt|=2;var i=zX();(Ss!==e||Rs!==t)&&(kc=null,ig=Dr()+500,of(e,t));do try{Lve();break}catch(l){LX(e,l)}while(!0);U4(),G1.current=i,Zt=a,Vr!==null?t=0:(Ss=null,Rs=0,t=os)}if(t!==0){if(t===2&&(a=XA(e),a!==0&&(r=a,t=SE(e,a))),t===1)throw n=Qy,of(e,0),Ud(e,r),Wa(e,Dr()),n;if(t===6)Ud(e,r);else{if(a=e.current.alternate,!(r&30)&&!Ive(a)&&(t=Q1(e,r),t===2&&(i=XA(e),i!==0&&(r=i,t=SE(e,i))),t===1))throw n=Qy,of(e,0),Ud(e,r),Wa(e,Dr()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(De(345));case 2:gh(e,$a,kc);break;case 3:if(Ud(e,r),(r&130023424)===r&&(t=rR+500-Dr(),10<t)){if(O1(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){Sa(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=sE(gh.bind(null,e,$a,kc),t);break}gh(e,$a,kc);break;case 4:if(Ud(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-Uo(r);i=1<<o,o=t[o],o>a&&(a=o),r&=~i}if(r=a,r=Dr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*$ve(r/1960))-r,10<r){e.timeoutHandle=sE(gh.bind(null,e,$a,kc),r);break}gh(e,$a,kc);break;case 5:gh(e,$a,kc);break;default:throw Error(De(329))}}}return Wa(e,Dr()),e.callbackNode===n?FX.bind(null,e):null}function SE(e,t){var n=ly;return e.current.memoizedState.isDehydrated&&(of(e,t).flags|=256),e=Q1(e,t),e!==2&&(t=$a,$a=n,t!==null&&CE(t)),e}function CE(e){$a===null?$a=e:$a.push.apply($a,e)}function Ive(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!Go(i(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ud(e,t){for(t&=~nR,t&=~F2,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Uo(t),r=1<<n;e[n]=-1,t&=~r}}function d3(e){if(Zt&6)throw Error(De(327));tp();var t=O1(e,0);if(!(t&1))return Wa(e,Dr()),null;var n=Q1(e,t);if(e.tag!==0&&n===2){var r=XA(e);r!==0&&(t=r,n=SE(e,r))}if(n===1)throw n=Qy,of(e,0),Ud(e,t),Wa(e,Dr()),n;if(n===6)throw Error(De(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,gh(e,$a,kc),Wa(e,Dr()),null}function sR(e,t){var n=Zt;Zt|=1;try{return e(t)}finally{Zt=n,Zt===0&&(ig=Dr()+500,M2&&Yu())}}function wf(e){su!==null&&su.tag===0&&!(Zt&6)&&tp();var t=Zt;Zt|=1;var n=Qi.transition,r=pn;try{if(Qi.transition=null,pn=1,e)return e()}finally{pn=r,Qi.transition=n,Zt=t,!(Zt&6)&&Yu()}}function aR(){ri=$m.current,Wn($m)}function of(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,fve(n)),Vr!==null)for(n=Vr.return;n!==null;){var r=n;switch(L4(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&F1();break;case 3:sg(),Wn(Ua),Wn(na),G4();break;case 5:K4(r);break;case 4:sg();break;case 13:Wn(lr);break;case 19:Wn(lr);break;case 10:V4(r.type._context);break;case 22:case 23:aR()}n=n.return}if(Ss=e,Vr=e=xu(e.current,null),Rs=ri=t,os=0,Qy=null,nR=F2=jf=0,$a=ly=null,Ah!==null){for(t=0;t<Ah.length;t++)if(n=Ah[t],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=a,r.next=o}n.pending=r}Ah=null}return e}function LX(e,t){do{var n=Vr;try{if(U4(),HN.current=K1,q1){for(var r=hr.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}q1=!1}if(bf=0,bs=Zr=hr=null,iy=!1,Gy=0,tR.current=null,n===null||n.return===null){os=1,Qy=t,Vr=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=Rs,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=Q6(o);if(g!==null){g.flags&=-257,Z6(g,o,l,i,t),g.mode&1&&X6(i,d,t),t=g,c=d;var m=t.updateQueue;if(m===null){var p=new Set;p.add(c),t.updateQueue=p}else m.add(c);break e}else{if(!(t&1)){X6(i,d,t),iR();break e}c=Error(De(426))}}else if(Xn&&l.mode&1){var x=Q6(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Z6(x,o,l,i,t),z4(ag(c,l));break e}}i=c=ag(c,l),os!==4&&(os=2),ly===null?ly=[i]:ly.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=wX(i,c,t);W6(i,v);break e;case 1:l=c;var y=i.type,j=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(gu===null||!gu.has(j)))){i.flags|=65536,t&=-t,i.lanes|=t;var N=NX(i,l,t);W6(i,N);break e}}i=i.return}while(i!==null)}UX(n)}catch(w){t=w,Vr===n&&n!==null&&(Vr=n=n.return);continue}break}while(!0)}function zX(){var e=G1.current;return G1.current=K1,e===null?K1:e}function iR(){(os===0||os===3||os===2)&&(os=4),Ss===null||!(jf&268435455)&&!(F2&268435455)||Ud(Ss,Rs)}function Q1(e,t){var n=Zt;Zt|=2;var r=zX();(Ss!==e||Rs!==t)&&(kc=null,of(e,t));do try{Fve();break}catch(a){LX(e,a)}while(!0);if(U4(),Zt=n,G1.current=r,Vr!==null)throw Error(De(261));return Ss=null,Rs=0,os}function Fve(){for(;Vr!==null;)BX(Vr)}function Lve(){for(;Vr!==null&&!dge();)BX(Vr)}function BX(e){var t=WX(e.alternate,e,ri);e.memoizedProps=e.pendingProps,t===null?UX(e):Vr=t,tR.current=null}function UX(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Dve(n,t),n!==null){n.flags&=32767,Vr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{os=6,Vr=null;return}}else if(n=Eve(n,t,ri),n!==null){Vr=n;return}if(t=t.sibling,t!==null){Vr=t;return}Vr=t=e}while(t!==null);os===0&&(os=5)}function gh(e,t,n){var r=pn,a=Qi.transition;try{Qi.transition=null,pn=1,zve(e,t,n,r)}finally{Qi.transition=a,pn=r}return null}function zve(e,t,n,r){do tp();while(su!==null);if(Zt&6)throw Error(De(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(De(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(bge(e,i),e===Ss&&(Vr=Ss=null,Rs=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Mw||(Mw=!0,HX(D1,function(){return tp(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Qi.transition,Qi.transition=null;var o=pn;pn=1;var l=Zt;Zt|=4,tR.current=null,Mve(e,n),$X(n,e),ive(nE),M1=!!tE,nE=tE=null,e.current=n,Rve(n),uge(),Zt=l,pn=o,Qi.transition=i}else e.current=n;if(Mw&&(Mw=!1,su=e,X1=a),i=e.pendingLanes,i===0&&(gu=null),mge(n.stateNode),Wa(e,Dr()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Y1)throw Y1=!1,e=wE,wE=null,e;return X1&1&&e.tag!==0&&tp(),i=e.pendingLanes,i&1?e===NE?cy++:(cy=0,NE=e):cy=0,Yu(),null}function tp(){if(su!==null){var e=wY(X1),t=Qi.transition,n=pn;try{if(Qi.transition=null,pn=16>e?16:e,su===null)var r=!1;else{if(e=su,su=null,X1=0,Zt&6)throw Error(De(331));var a=Zt;for(Zt|=4,Je=e.current;Je!==null;){var i=Je,o=i.child;if(Je.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Je=d;Je!==null;){var u=Je;switch(u.tag){case 0:case 11:case 15:oy(8,u,i)}var h=u.child;if(h!==null)h.return=u,Je=h;else for(;Je!==null;){u=Je;var f=u.sibling,g=u.return;if(OX(u),u===d){Je=null;break}if(f!==null){f.return=g,Je=f;break}Je=g}}}var m=i.alternate;if(m!==null){var p=m.child;if(p!==null){m.child=null;do{var x=p.sibling;p.sibling=null,p=x}while(p!==null)}}Je=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Je=o;else e:for(;Je!==null;){if(i=Je,i.flags&2048)switch(i.tag){case 0:case 11:case 15:oy(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,Je=v;break e}Je=i.return}}var y=e.current;for(Je=y;Je!==null;){o=Je;var j=o.child;if(o.subtreeFlags&2064&&j!==null)j.return=o,Je=j;else e:for(o=y;Je!==null;){if(l=Je,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:I2(9,l)}}catch(w){vr(l,l.return,w)}if(l===o){Je=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,Je=N;break e}Je=l.return}}if(Zt=a,Yu(),Wl&&typeof Wl.onPostCommitFiberRoot=="function")try{Wl.onPostCommitFiberRoot(T2,e)}catch{}r=!0}return r}finally{pn=n,Qi.transition=t}}return!1}function u3(e,t,n){t=ag(n,t),t=wX(e,t,1),e=pu(e,t,1),t=Sa(),e!==null&&(oj(e,1,t),Wa(e,t))}function vr(e,t,n){if(e.tag===3)u3(e,e,n);else for(;t!==null;){if(t.tag===3){u3(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(gu===null||!gu.has(r))){e=ag(n,e),e=NX(t,e,1),t=pu(t,e,1),e=Sa(),t!==null&&(oj(t,1,e),Wa(t,e));break}}t=t.return}}function Bve(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Sa(),e.pingedLanes|=e.suspendedLanes&n,Ss===e&&(Rs&n)===n&&(os===4||os===3&&(Rs&130023424)===Rs&&500>Dr()-rR?of(e,0):nR|=n),Wa(e,t)}function VX(e,t){t===0&&(e.mode&1?(t=Sw,Sw<<=1,!(Sw&130023424)&&(Sw=4194304)):t=1);var n=Sa();e=rd(e,t),e!==null&&(oj(e,t,n),Wa(e,n))}function Uve(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),VX(e,n)}function Vve(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(De(314))}r!==null&&r.delete(t),VX(e,n)}var WX;WX=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ua.current)Ia=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ia=!1,Ave(e,t,n);Ia=!!(e.flags&131072)}else Ia=!1,Xn&&t.flags&1048576&&GY(t,B1,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;KN(e,t),e=t.pendingProps;var a=tg(t,na.current);ep(t,n),a=X4(null,t,r,e,a,n);var i=Q4();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Va(r)?(i=!0,L1(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,H4(t),a.updater=$2,t.stateNode=a,a._reactInternals=t,uE(t,r,e,n),t=mE(null,t,r,!0,i,n)):(t.tag=0,Xn&&i&&F4(t),ga(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(KN(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=Hve(r),e=xo(r,e),a){case 0:t=fE(null,t,r,e,n);break e;case 1:t=t3(null,t,r,e,n);break e;case 11:t=J6(null,t,r,e,n);break e;case 14:t=e3(null,t,r,xo(r.type,e),n);break e}throw Error(De(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:xo(r,a),fE(e,t,r,a,n);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:xo(r,a),t3(e,t,r,a,n);case 3:e:{if(_X(t),e===null)throw Error(De(387));r=t.pendingProps,i=t.memoizedState,a=i.element,eX(e,t),W1(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=ag(Error(De(423)),t),t=n3(e,t,r,n,a);break e}else if(r!==a){a=ag(Error(De(424)),t),t=n3(e,t,r,n,a);break e}else for(ui=mu(t.stateNode.containerInfo.firstChild),hi=t,Xn=!0,Do=null,n=ZY(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ng(),r===a){t=sd(e,t,n);break e}ga(e,t,r,n)}t=t.child}return t;case 5:return tX(t),e===null&&lE(t),r=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,rE(r,a)?o=null:i!==null&&rE(r,i)&&(t.flags|=32),kX(e,t),ga(e,t,o,n),t.child;case 6:return e===null&&lE(t),null;case 13:return PX(e,t,n);case 4:return q4(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=rg(t,null,r,n):ga(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:xo(r,a),J6(e,t,r,a,n);case 7:return ga(e,t,t.pendingProps,n),t.child;case 8:return ga(e,t,t.pendingProps.children,n),t.child;case 12:return ga(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Dn(U1,r._currentValue),r._currentValue=o,i!==null)if(Go(i.value,o)){if(i.children===a.children&&!Ua.current){t=sd(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Kc(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),cE(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(De(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),cE(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ga(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,ep(t,n),a=eo(a),r=r(a),t.flags|=1,ga(e,t,r,n),t.child;case 14:return r=t.type,a=xo(r,t.pendingProps),a=xo(r.type,a),e3(e,t,r,a,n);case 15:return SX(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:xo(r,a),KN(e,t),t.tag=1,Va(r)?(e=!0,L1(t)):e=!1,ep(t,n),jX(t,r,a),uE(t,r,a,n),mE(null,t,r,!0,e,n);case 19:return TX(e,t,n);case 22:return CX(e,t,n)}throw Error(De(156,t.tag))};function HX(e,t){return xY(e,t)}function Wve(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ki(e,t,n,r){return new Wve(e,t,n,r)}function oR(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Hve(e){if(typeof e=="function")return oR(e)?1:0;if(e!=null){if(e=e.$$typeof,e===k4)return 11;if(e===_4)return 14}return 2}function xu(e,t){var n=e.alternate;return n===null?(n=Ki(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function XN(e,t,n,r,a,i){var o=2;if(r=e,typeof e=="function")oR(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case km:return lf(n.children,a,i,t);case C4:o=8,a|=8;break;case RA:return e=Ki(12,n,t,a|2),e.elementType=RA,e.lanes=i,e;case $A:return e=Ki(13,n,t,a),e.elementType=$A,e.lanes=i,e;case IA:return e=Ki(19,n,t,a),e.elementType=IA,e.lanes=i,e;case tY:return L2(n,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case JG:o=10;break e;case eY:o=9;break e;case k4:o=11;break e;case _4:o=14;break e;case Id:o=16,r=null;break e}throw Error(De(130,e==null?e:typeof e,""))}return t=Ki(o,n,t,a),t.elementType=e,t.type=r,t.lanes=i,t}function lf(e,t,n,r){return e=Ki(7,e,r,t),e.lanes=n,e}function L2(e,t,n,r){return e=Ki(22,e,r,t),e.elementType=tY,e.lanes=n,e.stateNode={isHidden:!1},e}function RP(e,t,n){return e=Ki(6,e,null,t),e.lanes=n,e}function $P(e,t,n){return t=Ki(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qve(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gP(0),this.expirationTimes=gP(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gP(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function lR(e,t,n,r,a,i,o,l,c){return e=new qve(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ki(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},H4(i),e}function Kve(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Cm,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function qX(e){if(!e)return Cu;e=e._reactInternals;e:{if(Kf(e)!==e||e.tag!==1)throw Error(De(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Va(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(De(171))}if(e.tag===1){var n=e.type;if(Va(n))return qY(e,n,t)}return t}function KX(e,t,n,r,a,i,o,l,c){return e=lR(n,r,!0,e,a,i,o,l,c),e.context=qX(null),n=e.current,r=Sa(),a=vu(n),i=Kc(r,a),i.callback=t??null,pu(n,i,a),e.current.lanes=a,oj(e,a,r),Wa(e,r),e}function z2(e,t,n,r){var a=t.current,i=Sa(),o=vu(a);return n=qX(n),t.context===null?t.context=n:t.pendingContext=n,t=Kc(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=pu(a,t,o),e!==null&&(Vo(e,a,o,i),WN(e,a,o)),o}function Z1(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function h3(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function cR(e,t){h3(e,t),(e=e.alternate)&&h3(e,t)}function Gve(){return null}var GX=typeof reportError=="function"?reportError:function(e){console.error(e)};function dR(e){this._internalRoot=e}B2.prototype.render=dR.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(De(409));z2(e,t,null,null)};B2.prototype.unmount=dR.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;wf(function(){z2(null,e,null,null)}),t[nd]=null}};function B2(e){this._internalRoot=e}B2.prototype.unstable_scheduleHydration=function(e){if(e){var t=CY();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Bd.length&&t!==0&&t<Bd[n].priority;n++);Bd.splice(n,0,e),n===0&&_Y(e)}};function uR(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function U2(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function f3(){}function Yve(e,t,n,r,a){if(a){if(typeof r=="function"){var i=r;r=function(){var d=Z1(o);i.call(d)}}var o=KX(t,r,e,0,null,!1,!1,"",f3);return e._reactRootContainer=o,e[nd]=o.current,Vy(e.nodeType===8?e.parentNode:e),wf(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var l=r;r=function(){var d=Z1(c);l.call(d)}}var c=lR(e,0,!1,null,null,!1,!1,"",f3);return e._reactRootContainer=c,e[nd]=c.current,Vy(e.nodeType===8?e.parentNode:e),wf(function(){z2(t,c,n,r)}),c}function V2(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=Z1(o);l.call(c)}}z2(t,o,e,a)}else o=Yve(n,t,e,a,r);return Z1(o)}NY=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=$x(t.pendingLanes);n!==0&&(A4(t,n|1),Wa(t,Dr()),!(Zt&6)&&(ig=Dr()+500,Yu()))}break;case 13:wf(function(){var r=rd(e,1);if(r!==null){var a=Sa();Vo(r,e,1,a)}}),cR(e,1)}};E4=function(e){if(e.tag===13){var t=rd(e,134217728);if(t!==null){var n=Sa();Vo(t,e,134217728,n)}cR(e,134217728)}};SY=function(e){if(e.tag===13){var t=vu(e),n=rd(e,t);if(n!==null){var r=Sa();Vo(n,e,t,r)}cR(e,t)}};CY=function(){return pn};kY=function(e,t){var n=pn;try{return pn=e,t()}finally{pn=n}};KA=function(e,t,n){switch(t){case"input":if(zA(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=O2(r);if(!a)throw Error(De(90));rY(r),zA(r,a)}}}break;case"textarea":aY(e,n);break;case"select":t=n.value,t!=null&&Xm(e,!!n.multiple,t,!1)}};hY=sR;fY=wf;var Xve={usingClientEntryPoint:!1,Events:[cj,Am,O2,dY,uY,sR]},ix={findFiberByHostInstance:Th,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Qve={bundleType:ix.bundleType,version:ix.version,rendererPackageName:ix.rendererPackageName,rendererConfig:ix.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gd.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=gY(e),e===null?null:e.stateNode},findFiberByHostInstance:ix.findFiberByHostInstance||Gve,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rw=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rw.isDisabled&&Rw.supportsFiber)try{T2=Rw.inject(Qve),Wl=Rw}catch{}}Si.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xve;Si.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uR(t))throw Error(De(200));return Kve(e,t,null,n)};Si.createRoot=function(e,t){if(!uR(e))throw Error(De(299));var n=!1,r="",a=GX;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=lR(e,1,!1,null,null,n,!1,r,a),e[nd]=t.current,Vy(e.nodeType===8?e.parentNode:e),new dR(t)};Si.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(De(188)):(e=Object.keys(e).join(","),Error(De(268,e)));return e=gY(t),e=e===null?null:e.stateNode,e};Si.flushSync=function(e){return wf(e)};Si.hydrate=function(e,t,n){if(!U2(t))throw Error(De(200));return V2(null,e,t,!0,n)};Si.hydrateRoot=function(e,t,n){if(!uR(e))throw Error(De(405));var r=n!=null&&n.hydratedSources||null,a=!1,i="",o=GX;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=KX(t,null,e,1,n??null,a,!1,i,o),e[nd]=t.current,Vy(e),r)for(e=0;e<r.length;e++)n=r[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new B2(t)};Si.render=function(e,t,n){if(!U2(t))throw Error(De(200));return V2(null,e,t,!1,n)};Si.unmountComponentAtNode=function(e){if(!U2(e))throw Error(De(40));return e._reactRootContainer?(wf(function(){V2(null,null,e,!1,function(){e._reactRootContainer=null,e[nd]=null})}),!0):!1};Si.unstable_batchedUpdates=sR;Si.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!U2(n))throw Error(De(200));if(e==null||e._reactInternals===void 0)throw Error(De(38));return V2(e,t,n,!1,r)};Si.version="18.3.1-next-f1338f8080-20240426";function YX(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(YX)}catch(e){console.error(e)}}YX(),YG.exports=Si;var Gi=YG.exports;const hR=Tt(Gi);var XX,m3=Gi;XX=m3.createRoot,m3.hydrateRoot;function Zve(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,a,i,o=[],l="",c=e.split("/");for(c[0]||c.shift();a=c.shift();)n=a[0],n==="*"?(o.push(n),l+=a[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=a.indexOf("?",1),i=a.indexOf(".",1),o.push(a.substring(1,~r?r:~i?i:a.length)),l+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(l+=(~r?"?":"")+"\\"+a.substring(i))):l+="/"+a;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var QX={exports:{}},ZX={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var og=b;function Jve(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var exe=typeof Object.is=="function"?Object.is:Jve,txe=og.useState,nxe=og.useEffect,rxe=og.useLayoutEffect,sxe=og.useDebugValue;function axe(e,t){var n=t(),r=txe({inst:{value:n,getSnapshot:t}}),a=r[0].inst,i=r[1];return rxe(function(){a.value=n,a.getSnapshot=t,IP(a)&&i({inst:a})},[e,n,t]),nxe(function(){return IP(a)&&i({inst:a}),e(function(){IP(a)&&i({inst:a})})},[e]),sxe(n),n}function IP(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!exe(e,n)}catch{return!0}}function ixe(e,t){return t()}var oxe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ixe:axe;ZX.useSyncExternalStore=og.useSyncExternalStore!==void 0?og.useSyncExternalStore:oxe;QX.exports=ZX;var lxe=QX.exports;const cxe=KG.useInsertionEffect,dxe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uxe=dxe?b.useLayoutEffect:b.useEffect,hxe=cxe||uxe,JX=e=>{const t=b.useRef([e,(...n)=>t[0](...n)]).current;return hxe(()=>{t[0]=e}),t[1]},fxe="popstate",fR="pushState",mR="replaceState",mxe="hashchange",p3=[fxe,fR,mR,mxe],pxe=e=>{for(const t of p3)addEventListener(t,e);return()=>{for(const t of p3)removeEventListener(t,e)}},eQ=(e,t)=>lxe.useSyncExternalStore(pxe,e,t),gxe=()=>location.search,vxe=({ssrSearch:e=""}={})=>eQ(gxe,()=>e),g3=()=>location.pathname,xxe=({ssrPath:e}={})=>eQ(g3,e?()=>e:g3),yxe=(e,{replace:t=!1,state:n=null}={})=>history[t?mR:fR](n,"",e),bxe=(e={})=>[xxe(e),yxe],v3=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[v3]>"u"){for(const e of[fR,mR]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,v3,{value:!0})}const jxe=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",tQ=(e="")=>e==="/"?"":e,wxe=(e,t)=>e[0]==="~"?e.slice(1):tQ(t)+e,Nxe=(e="",t)=>jxe(x3(tQ(e)),x3(t)),x3=e=>{try{return decodeURI(e)}catch{return e}},nQ={hook:bxe,searchHook:vxe,parser:Zve,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},rQ=b.createContext(nQ),lv=()=>b.useContext(rQ),sQ={},aQ=b.createContext(sQ),W2=()=>b.useContext(aQ),H2=e=>{const[t,n]=e.hook(e);return[Nxe(e.base,t),JX((r,a)=>n(wxe(r,e.base),a))]},Fs=()=>H2(lv()),pR=(e,t,n,r)=>{const{pattern:a,keys:i}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),o=a.exec(n)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const d=i!==!1?Object.fromEntries(i.map((h,f)=>[h,c[f]])):o.groups;let u={...c};return d&&Object.assign(u,d),u})(),...r?[l]:[]]:[!1,null]},Sxe=e=>pR(lv().parser,e,Fs()[0]),Cxe=({children:e,...t})=>{var u,h;const n=lv(),r=t.hook?nQ:n;let a=r;const[i,o]=((u=t.ssrPath)==null?void 0:u.split("?"))??[];o&&(t.ssrSearch=o,t.ssrPath=i),t.hrefs=t.hrefs??((h=t.hook)==null?void 0:h.hrefs);let l=b.useRef({}),c=l.current,d=c;for(let f in r){const g=f==="base"?r[f]+(t[f]||""):t[f]||r[f];c===d&&g!==d[f]&&(l.current=d={...d}),d[f]=g,g!==r[f]&&(a=d)}return b.createElement(rQ.Provider,{value:a,children:e})},y3=({children:e,component:t},n)=>t?b.createElement(t,{params:n}):typeof e=="function"?e(n):e,kxe=e=>{let t=b.useRef(sQ),n=t.current;for(const r in e)e[r]!==n[r]&&(n=e);return Object.keys(e).length===0&&(n=e),t.current=n},gt=({path:e,nest:t,match:n,...r})=>{const a=lv(),[i]=H2(a),[o,l,c]=n??pR(a.parser,e,i,t),d=kxe({...W2(),...l});if(!o)return null;const u=c?b.createElement(Cxe,{base:c},y3(r,d)):y3(r,d);return b.createElement(aQ.Provider,{value:d,children:u})},ze=b.forwardRef((e,t)=>{const n=lv(),[r,a]=H2(n),{to:i="",href:o=i,onClick:l,asChild:c,children:d,className:u,replace:h,state:f,...g}=e,m=JX(x=>{x.ctrlKey||x.metaKey||x.altKey||x.shiftKey||x.button!==0||(l==null||l(x),x.defaultPrevented||(x.preventDefault(),a(o,e)))}),p=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return c&&b.isValidElement(d)?b.cloneElement(d,{onClick:m,href:p}):b.createElement("a",{...g,onClick:m,href:p,className:u!=null&&u.call?u(r===o):u,children:d,ref:t})}),iQ=e=>Array.isArray(e)?e.flatMap(t=>iQ(t&&t.type===b.Fragment?t.props.children:t)):[e],FP=({children:e,location:t})=>{const n=lv(),[r]=H2(n);for(const a of iQ(e)){let i=0;if(b.isValidElement(a)&&(i=pR(n.parser,a.props.path,t||r,a.props.nest))[0])return b.cloneElement(a,{match:i})}return null};var cv=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Nf=typeof window>"u"||"Deno"in globalThis;function Ii(){}function _xe(e,t){return typeof e=="function"?e(t):e}function kE(e){return typeof e=="number"&&e>=0&&e!==1/0}function oQ(e,t){return Math.max(e+(t||0)-Date.now(),0)}function np(e,t){return typeof e=="function"?e(t):e}function Oo(e,t){return typeof e=="function"?e(t):e}function b3(e,t){const{type:n="all",exact:r,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(r){if(t.queryHash!==gR(o,t.options))return!1}else if(!Zy(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function j3(e,t){const{exact:n,status:r,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Sf(t.options.mutationKey)!==Sf(i))return!1}else if(!Zy(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||a&&!a(t))}function gR(e,t){return((t==null?void 0:t.queryKeyHashFn)||Sf)(e)}function Sf(e){return JSON.stringify(e,(t,n)=>_E(n)?Object.keys(n).sort().reduce((r,a)=>(r[a]=n[a],r),{}):n)}function Zy(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!Zy(e[n],t[n])):!1}function lQ(e,t){if(e===t)return e;const n=w3(e)&&w3(t);if(n||_E(e)&&_E(t)){const r=n?e:Object.keys(e),a=r.length,i=n?t:Object.keys(t),o=i.length,l=n?[]:{};let c=0;for(let d=0;d<o;d++){const u=n?d:i[d];(!n&&r.includes(u)||n)&&e[u]===void 0&&t[u]===void 0?(l[u]=void 0,c++):(l[u]=lQ(e[u],t[u]),l[u]===e[u]&&e[u]!==void 0&&c++)}return a===o&&c===a?e:l}return t}function J1(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function w3(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function _E(e){if(!N3(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!N3(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function N3(e){return Object.prototype.toString.call(e)==="[object Object]"}function Pxe(e){return new Promise(t=>{setTimeout(t,e)})}function PE(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?lQ(e,t):t}function Txe(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function Axe(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var vR=Symbol();function cQ(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===vR?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Uh,qd,jp,BW,Exe=(BW=class extends cv{constructor(){super();de(this,Uh);de(this,qd);de(this,jp);fe(this,jp,t=>{if(!Nf&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){R(this,qd)||this.setEventListener(R(this,jp))}onUnsubscribe(){var t;this.hasListeners()||((t=R(this,qd))==null||t.call(this),fe(this,qd,void 0))}setEventListener(t){var n;fe(this,jp,t),(n=R(this,qd))==null||n.call(this),fe(this,qd,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){R(this,Uh)!==t&&(fe(this,Uh,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof R(this,Uh)=="boolean"?R(this,Uh):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Uh=new WeakMap,qd=new WeakMap,jp=new WeakMap,BW),xR=new Exe,wp,Kd,Np,UW,Dxe=(UW=class extends cv{constructor(){super();de(this,wp,!0);de(this,Kd);de(this,Np);fe(this,Np,t=>{if(!Nf&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){R(this,Kd)||this.setEventListener(R(this,Np))}onUnsubscribe(){var t;this.hasListeners()||((t=R(this,Kd))==null||t.call(this),fe(this,Kd,void 0))}setEventListener(t){var n;fe(this,Np,t),(n=R(this,Kd))==null||n.call(this),fe(this,Kd,t(this.setOnline.bind(this)))}setOnline(t){R(this,wp)!==t&&(fe(this,wp,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return R(this,wp)}},wp=new WeakMap,Kd=new WeakMap,Np=new WeakMap,UW),eS=new Dxe;function TE(){let e,t;const n=new Promise((a,i)=>{e=a,t=i});n.status="pending",n.catch(()=>{});function r(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{r({status:"fulfilled",value:a}),e(a)},n.reject=a=>{r({status:"rejected",reason:a}),t(a)},n}function Oxe(e){return Math.min(1e3*2**e,3e4)}function dQ(e){return(e??"online")==="online"?eS.isOnline():!0}var uQ=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function LP(e){return e instanceof uQ}function hQ(e){let t=!1,n=0,r=!1,a;const i=TE(),o=p=>{var x;r||(f(new uQ(p)),(x=e.abort)==null||x.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>xR.isFocused()&&(e.networkMode==="always"||eS.isOnline())&&e.canRun(),u=()=>dQ(e.networkMode)&&e.canRun(),h=p=>{var x;r||(r=!0,(x=e.onSuccess)==null||x.call(e,p),a==null||a(),i.resolve(p))},f=p=>{var x;r||(r=!0,(x=e.onError)==null||x.call(e,p),a==null||a(),i.reject(p))},g=()=>new Promise(p=>{var x;a=v=>{(r||d())&&p(v)},(x=e.onPause)==null||x.call(e)}).then(()=>{var p;a=void 0,r||(p=e.onContinue)==null||p.call(e)}),m=()=>{if(r)return;let p;const x=n===0?e.initialPromise:void 0;try{p=x??e.fn()}catch(v){p=Promise.reject(v)}Promise.resolve(p).then(h).catch(v=>{var S;if(r)return;const y=e.retry??(Nf?0:3),j=e.retryDelay??Oxe,N=typeof j=="function"?j(n,v):j,w=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,v);if(t||!w){f(v);return}n++,(S=e.onFail)==null||S.call(e,n,v),Pxe(N).then(()=>d()?void 0:g()).then(()=>{t?f(v):m()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?m():g().then(m),i)}}function Mxe(){let e=[],t=0,n=l=>{l()},r=l=>{l()},a=l=>setTimeout(l,0);const i=l=>{t?e.push(l):a(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{a=l}}}var rs=Mxe(),Vh,VW,fQ=(VW=class{constructor(){de(this,Vh)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),kE(this.gcTime)&&fe(this,Vh,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Nf?1/0:5*60*1e3))}clearGcTimeout(){R(this,Vh)&&(clearTimeout(R(this,Vh)),fe(this,Vh,void 0))}},Vh=new WeakMap,VW),Sp,Cp,Ri,Ws,Rb,Wh,yo,Sc,WW,Rxe=(WW=class extends fQ{constructor(t){super();de(this,yo);de(this,Sp);de(this,Cp);de(this,Ri);de(this,Ws);de(this,Rb);de(this,Wh);fe(this,Wh,!1),fe(this,Rb,t.defaultOptions),this.setOptions(t.options),this.observers=[],fe(this,Ri,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,fe(this,Sp,$xe(this.options)),this.state=t.state??R(this,Sp),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=R(this,Ws))==null?void 0:t.promise}setOptions(t){this.options={...R(this,Rb),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&R(this,Ri).remove(this)}setData(t,n){const r=PE(this.state.data,t,this.options);return je(this,yo,Sc).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){je(this,yo,Sc).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,a;const n=(r=R(this,Ws))==null?void 0:r.promise;return(a=R(this,Ws))==null||a.cancel(t),n?n.then(Ii).catch(Ii):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(R(this,Sp))}isActive(){return this.observers.some(t=>Oo(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===vR||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!oQ(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=R(this,Ws))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=R(this,Ws))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),R(this,Ri).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(R(this,Ws)&&(R(this,Wh)?R(this,Ws).cancel({revert:!0}):R(this,Ws).cancelRetry()),this.scheduleGc()),R(this,Ri).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||je(this,yo,Sc).call(this,{type:"invalidate"})}fetch(t,n){var c,d,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(R(this,Ws))return R(this,Ws).continueRetry(),R(this,Ws).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,a=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(fe(this,Wh,!0),r.signal)})},i=()=>{const h=cQ(this.options,n),f={queryKey:this.queryKey,meta:this.meta};return a(f),fe(this,Wh,!1),this.options.persister?this.options.persister(h,f,this):h(f)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};a(o),(c=this.options.behavior)==null||c.onFetch(o,this),fe(this,Cp,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&je(this,yo,Sc).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const l=h=>{var f,g,m,p;LP(h)&&h.silent||je(this,yo,Sc).call(this,{type:"error",error:h}),LP(h)||((g=(f=R(this,Ri).config).onError)==null||g.call(f,h,this),(p=(m=R(this,Ri).config).onSettled)==null||p.call(m,this.state.data,h,this)),this.scheduleGc()};return fe(this,Ws,hQ({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var f,g,m,p;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(x){l(x);return}(g=(f=R(this,Ri).config).onSuccess)==null||g.call(f,h,this),(p=(m=R(this,Ri).config).onSettled)==null||p.call(m,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,f)=>{je(this,yo,Sc).call(this,{type:"failed",failureCount:h,error:f})},onPause:()=>{je(this,yo,Sc).call(this,{type:"pause"})},onContinue:()=>{je(this,yo,Sc).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),R(this,Ws).start()}},Sp=new WeakMap,Cp=new WeakMap,Ri=new WeakMap,Ws=new WeakMap,Rb=new WeakMap,Wh=new WeakMap,yo=new WeakSet,Sc=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...mQ(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return LP(a)&&a.revert&&R(this,Cp)?{...R(this,Cp),fetchStatus:"idle"}:{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),rs.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),R(this,Ri).notify({query:this,type:"updated",action:t})})},WW);function mQ(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:dQ(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function $xe(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Nl,HW,Ixe=(HW=class extends cv{constructor(t={}){super();de(this,Nl);this.config=t,fe(this,Nl,new Map)}build(t,n,r){const a=n.queryKey,i=n.queryHash??gR(a,n);let o=this.get(i);return o||(o=new Rxe({cache:this,queryKey:a,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){R(this,Nl).has(t.queryHash)||(R(this,Nl).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=R(this,Nl).get(t.queryHash);n&&(t.destroy(),n===t&&R(this,Nl).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){rs.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return R(this,Nl).get(t)}getAll(){return[...R(this,Nl).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>b3(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>b3(t,r)):n}notify(t){rs.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){rs.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){rs.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Nl=new WeakMap,HW),Sl,ha,Hh,Cl,Ed,qW,Fxe=(qW=class extends fQ{constructor(t){super();de(this,Cl);de(this,Sl);de(this,ha);de(this,Hh);this.mutationId=t.mutationId,fe(this,ha,t.mutationCache),fe(this,Sl,[]),this.state=t.state||pQ(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){R(this,Sl).includes(t)||(R(this,Sl).push(t),this.clearGcTimeout(),R(this,ha).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){fe(this,Sl,R(this,Sl).filter(n=>n!==t)),this.scheduleGc(),R(this,ha).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){R(this,Sl).length||(this.state.status==="pending"?this.scheduleGc():R(this,ha).remove(this))}continue(){var t;return((t=R(this,Hh))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,i,o,l,c,d,u,h,f,g,m,p,x,v,y,j,N,w,S,k;fe(this,Hh,hQ({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(_,T)=>{je(this,Cl,Ed).call(this,{type:"failed",failureCount:_,error:T})},onPause:()=>{je(this,Cl,Ed).call(this,{type:"pause"})},onContinue:()=>{je(this,Cl,Ed).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>R(this,ha).canRun(this)}));const n=this.state.status==="pending",r=!R(this,Hh).canStart();try{if(!n){je(this,Cl,Ed).call(this,{type:"pending",variables:t,isPaused:r}),await((i=(a=R(this,ha).config).onMutate)==null?void 0:i.call(a,t,this));const T=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));T!==this.state.context&&je(this,Cl,Ed).call(this,{type:"pending",context:T,variables:t,isPaused:r})}const _=await R(this,Hh).start();return await((d=(c=R(this,ha).config).onSuccess)==null?void 0:d.call(c,_,t,this.state.context,this)),await((h=(u=this.options).onSuccess)==null?void 0:h.call(u,_,t,this.state.context)),await((g=(f=R(this,ha).config).onSettled)==null?void 0:g.call(f,_,null,this.state.variables,this.state.context,this)),await((p=(m=this.options).onSettled)==null?void 0:p.call(m,_,null,t,this.state.context)),je(this,Cl,Ed).call(this,{type:"success",data:_}),_}catch(_){try{throw await((v=(x=R(this,ha).config).onError)==null?void 0:v.call(x,_,t,this.state.context,this)),await((j=(y=this.options).onError)==null?void 0:j.call(y,_,t,this.state.context)),await((w=(N=R(this,ha).config).onSettled)==null?void 0:w.call(N,void 0,_,this.state.variables,this.state.context,this)),await((k=(S=this.options).onSettled)==null?void 0:k.call(S,void 0,_,t,this.state.context)),_}finally{je(this,Cl,Ed).call(this,{type:"error",error:_})}}finally{R(this,ha).runNext(this)}}},Sl=new WeakMap,ha=new WeakMap,Hh=new WeakMap,Cl=new WeakSet,Ed=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),rs.batch(()=>{R(this,Sl).forEach(r=>{r.onMutationUpdate(t)}),R(this,ha).notify({mutation:this,type:"updated",action:t})})},qW);function pQ(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ni,$b,KW,Lxe=(KW=class extends cv{constructor(t={}){super();de(this,ni);de(this,$b);this.config=t,fe(this,ni,new Map),fe(this,$b,Date.now())}build(t,n,r){const a=new Fxe({mutationCache:this,mutationId:++xw(this,$b)._,options:t.defaultMutationOptions(n),state:r});return this.add(a),a}add(t){const n=$w(t),r=R(this,ni).get(n)??[];r.push(t),R(this,ni).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=$w(t);if(R(this,ni).has(n)){const a=(r=R(this,ni).get(n))==null?void 0:r.filter(i=>i!==t);a&&(a.length===0?R(this,ni).delete(n):R(this,ni).set(n,a))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=R(this,ni).get($w(t)))==null?void 0:r.find(a=>a.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=R(this,ni).get($w(t)))==null?void 0:r.find(a=>a!==t&&a.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){rs.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...R(this,ni).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>j3(n,r))}findAll(t={}){return this.getAll().filter(n=>j3(t,n))}notify(t){rs.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return rs.batch(()=>Promise.all(t.map(n=>n.continue().catch(Ii))))}},ni=new WeakMap,$b=new WeakMap,KW);function $w(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function S3(e){return{onFetch:(t,n)=>{var u,h,f,g,m;const r=t.options,a=(f=(h=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((g=t.state.data)==null?void 0:g.pages)||[],o=((m=t.state.data)==null?void 0:m.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let p=!1;const x=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},v=cQ(t.options,t.fetchOptions),y=async(j,N,w)=>{if(p)return Promise.reject();if(N==null&&j.pages.length)return Promise.resolve(j);const S={queryKey:t.queryKey,pageParam:N,direction:w?"backward":"forward",meta:t.options.meta};x(S);const k=await v(S),{maxPages:_}=t.options,T=w?Axe:Txe;return{pages:T(j.pages,k,_),pageParams:T(j.pageParams,N,_)}};if(a&&i.length){const j=a==="backward",N=j?zxe:C3,w={pages:i,pageParams:o},S=N(r,w);l=await y(w,S,j)}else{const j=e??i.length;do{const N=c===0?o[0]??r.initialPageParam:C3(r,l);if(c>0&&N==null)break;l=await y(l,N),c++}while(c<j)}return l};t.options.persister?t.fetchFn=()=>{var p,x;return(x=(p=t.options).persister)==null?void 0:x.call(p,d,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=d}}}function C3(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function zxe(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var pr,Gd,Yd,kp,_p,Xd,Pp,Tp,GW,Bxe=(GW=class{constructor(e={}){de(this,pr);de(this,Gd);de(this,Yd);de(this,kp);de(this,_p);de(this,Xd);de(this,Pp);de(this,Tp);fe(this,pr,e.queryCache||new Ixe),fe(this,Gd,e.mutationCache||new Lxe),fe(this,Yd,e.defaultOptions||{}),fe(this,kp,new Map),fe(this,_p,new Map),fe(this,Xd,0)}mount(){xw(this,Xd)._++,R(this,Xd)===1&&(fe(this,Pp,xR.subscribe(async e=>{e&&(await this.resumePausedMutations(),R(this,pr).onFocus())})),fe(this,Tp,eS.subscribe(async e=>{e&&(await this.resumePausedMutations(),R(this,pr).onOnline())})))}unmount(){var e,t;xw(this,Xd)._--,R(this,Xd)===0&&((e=R(this,Pp))==null||e.call(this),fe(this,Pp,void 0),(t=R(this,Tp))==null||t.call(this),fe(this,Tp,void 0))}isFetching(e){return R(this,pr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return R(this,Gd).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=R(this,pr).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=R(this,pr).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(np(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return R(this,pr).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),a=R(this,pr).get(r.queryHash),i=a==null?void 0:a.state.data,o=_xe(t,i);if(o!==void 0)return R(this,pr).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return rs.batch(()=>R(this,pr).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=R(this,pr).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=R(this,pr);rs.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=R(this,pr),r={type:"active",...e};return rs.batch(()=>(n.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=rs.batch(()=>R(this,pr).findAll(e).map(a=>a.cancel(n)));return Promise.all(r).then(Ii).catch(Ii)}invalidateQueries(e={},t={}){return rs.batch(()=>{if(R(this,pr).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=rs.batch(()=>R(this,pr).findAll(e).filter(a=>!a.isDisabled()).map(a=>{let i=a.fetch(void 0,n);return n.throwOnError||(i=i.catch(Ii)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Ii)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=R(this,pr).build(this,t);return n.isStaleByTime(np(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ii).catch(Ii)}fetchInfiniteQuery(e){return e.behavior=S3(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ii).catch(Ii)}ensureInfiniteQueryData(e){return e.behavior=S3(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return eS.isOnline()?R(this,Gd).resumePausedMutations():Promise.resolve()}getQueryCache(){return R(this,pr)}getMutationCache(){return R(this,Gd)}getDefaultOptions(){return R(this,Yd)}setDefaultOptions(e){fe(this,Yd,e)}setQueryDefaults(e,t){R(this,kp).set(Sf(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...R(this,kp).values()];let n={};return t.forEach(r=>{Zy(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){R(this,_p).set(Sf(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...R(this,_p).values()];let n={};return t.forEach(r=>{Zy(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...R(this,Yd).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=gR(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===vR&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...R(this,Yd).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){R(this,pr).clear(),R(this,Gd).clear()}},pr=new WeakMap,Gd=new WeakMap,Yd=new WeakMap,kp=new WeakMap,_p=new WeakMap,Xd=new WeakMap,Pp=new WeakMap,Tp=new WeakMap,GW),Oa,qt,Ib,fa,qh,Ap,Qd,kl,Fb,Ep,Dp,Kh,Gh,Zd,Op,hn,Fx,AE,EE,DE,OE,ME,RE,$E,gQ,YW,Uxe=(YW=class extends cv{constructor(t,n){super();de(this,hn);de(this,Oa);de(this,qt);de(this,Ib);de(this,fa);de(this,qh);de(this,Ap);de(this,Qd);de(this,kl);de(this,Fb);de(this,Ep);de(this,Dp);de(this,Kh);de(this,Gh);de(this,Zd);de(this,Op,new Set);this.options=n,fe(this,Oa,t),fe(this,kl,null),fe(this,Qd,TE()),this.options.experimental_prefetchInRender||R(this,Qd).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(R(this,qt).addObserver(this),k3(R(this,qt),this.options)?je(this,hn,Fx).call(this):this.updateResult(),je(this,hn,OE).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return IE(R(this,qt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return IE(R(this,qt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,je(this,hn,ME).call(this),je(this,hn,RE).call(this),R(this,qt).removeObserver(this)}setOptions(t,n){const r=this.options,a=R(this,qt);if(this.options=R(this,Oa).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Oo(this.options.enabled,R(this,qt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");je(this,hn,$E).call(this),R(this,qt).setOptions(this.options),r._defaulted&&!J1(this.options,r)&&R(this,Oa).getQueryCache().notify({type:"observerOptionsUpdated",query:R(this,qt),observer:this});const i=this.hasListeners();i&&_3(R(this,qt),a,this.options,r)&&je(this,hn,Fx).call(this),this.updateResult(n),i&&(R(this,qt)!==a||Oo(this.options.enabled,R(this,qt))!==Oo(r.enabled,R(this,qt))||np(this.options.staleTime,R(this,qt))!==np(r.staleTime,R(this,qt)))&&je(this,hn,AE).call(this);const o=je(this,hn,EE).call(this);i&&(R(this,qt)!==a||Oo(this.options.enabled,R(this,qt))!==Oo(r.enabled,R(this,qt))||o!==R(this,Zd))&&je(this,hn,DE).call(this,o)}getOptimisticResult(t){const n=R(this,Oa).getQueryCache().build(R(this,Oa),t),r=this.createResult(n,t);return Wxe(this,r)&&(fe(this,fa,r),fe(this,Ap,this.options),fe(this,qh,R(this,qt).state)),r}getCurrentResult(){return R(this,fa)}trackResult(t,n){const r={};return Object.keys(t).forEach(a=>{Object.defineProperty(r,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),n==null||n(a),t[a])})}),r}trackProp(t){R(this,Op).add(t)}getCurrentQuery(){return R(this,qt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=R(this,Oa).defaultQueryOptions(t),r=R(this,Oa).getQueryCache().build(R(this,Oa),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return je(this,hn,Fx).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),R(this,fa)))}createResult(t,n){var _;const r=R(this,qt),a=this.options,i=R(this,fa),o=R(this,qh),l=R(this,Ap),d=t!==r?t.state:R(this,Ib),{state:u}=t;let h={...u},f=!1,g;if(n._optimisticResults){const T=this.hasListeners(),P=!T&&k3(t,n),C=T&&_3(t,r,n,a);(P||C)&&(h={...h,...mQ(u.data,t.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:m,errorUpdatedAt:p,status:x}=h;if(n.select&&h.data!==void 0)if(i&&h.data===(o==null?void 0:o.data)&&n.select===R(this,Fb))g=R(this,Ep);else try{fe(this,Fb,n.select),g=n.select(h.data),g=PE(i==null?void 0:i.data,g,n),fe(this,Ep,g),fe(this,kl,null)}catch(T){fe(this,kl,T)}else g=h.data;if(n.placeholderData!==void 0&&g===void 0&&x==="pending"){let T;if(i!=null&&i.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData))T=i.data;else if(T=typeof n.placeholderData=="function"?n.placeholderData((_=R(this,Dp))==null?void 0:_.state.data,R(this,Dp)):n.placeholderData,n.select&&T!==void 0)try{T=n.select(T),fe(this,kl,null)}catch(P){fe(this,kl,P)}T!==void 0&&(x="success",g=PE(i==null?void 0:i.data,T,n),f=!0)}R(this,kl)&&(m=R(this,kl),g=R(this,Ep),p=Date.now(),x="error");const v=h.fetchStatus==="fetching",y=x==="pending",j=x==="error",N=y&&v,w=g!==void 0,k={status:x,fetchStatus:h.fetchStatus,isPending:y,isSuccess:x==="success",isError:j,isInitialLoading:N,isLoading:N,data:g,dataUpdatedAt:h.dataUpdatedAt,error:m,errorUpdatedAt:p,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>d.dataUpdateCount||h.errorUpdateCount>d.errorUpdateCount,isFetching:v,isRefetching:v&&!y,isLoadingError:j&&!w,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:j&&w,isStale:yR(t,n),refetch:this.refetch,promise:R(this,Qd)};if(this.options.experimental_prefetchInRender){const T=A=>{k.status==="error"?A.reject(k.error):k.data!==void 0&&A.resolve(k.data)},P=()=>{const A=fe(this,Qd,k.promise=TE());T(A)},C=R(this,Qd);switch(C.status){case"pending":t.queryHash===r.queryHash&&T(C);break;case"fulfilled":(k.status==="error"||k.data!==C.value)&&P();break;case"rejected":(k.status!=="error"||k.error!==C.reason)&&P();break}}return k}updateResult(t){const n=R(this,fa),r=this.createResult(R(this,qt),this.options);if(fe(this,qh,R(this,qt).state),fe(this,Ap,this.options),R(this,qh).data!==void 0&&fe(this,Dp,R(this,qt)),J1(r,n))return;fe(this,fa,r);const a={},i=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!R(this,Op).size)return!0;const c=new Set(l??R(this,Op));return this.options.throwOnError&&c.add("error"),Object.keys(R(this,fa)).some(d=>{const u=d;return R(this,fa)[u]!==n[u]&&c.has(u)})};(t==null?void 0:t.listeners)!==!1&&i()&&(a.listeners=!0),je(this,hn,gQ).call(this,{...a,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&je(this,hn,OE).call(this)}},Oa=new WeakMap,qt=new WeakMap,Ib=new WeakMap,fa=new WeakMap,qh=new WeakMap,Ap=new WeakMap,Qd=new WeakMap,kl=new WeakMap,Fb=new WeakMap,Ep=new WeakMap,Dp=new WeakMap,Kh=new WeakMap,Gh=new WeakMap,Zd=new WeakMap,Op=new WeakMap,hn=new WeakSet,Fx=function(t){je(this,hn,$E).call(this);let n=R(this,qt).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Ii)),n},AE=function(){je(this,hn,ME).call(this);const t=np(this.options.staleTime,R(this,qt));if(Nf||R(this,fa).isStale||!kE(t))return;const r=oQ(R(this,fa).dataUpdatedAt,t)+1;fe(this,Kh,setTimeout(()=>{R(this,fa).isStale||this.updateResult()},r))},EE=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(R(this,qt)):this.options.refetchInterval)??!1},DE=function(t){je(this,hn,RE).call(this),fe(this,Zd,t),!(Nf||Oo(this.options.enabled,R(this,qt))===!1||!kE(R(this,Zd))||R(this,Zd)===0)&&fe(this,Gh,setInterval(()=>{(this.options.refetchIntervalInBackground||xR.isFocused())&&je(this,hn,Fx).call(this)},R(this,Zd)))},OE=function(){je(this,hn,AE).call(this),je(this,hn,DE).call(this,je(this,hn,EE).call(this))},ME=function(){R(this,Kh)&&(clearTimeout(R(this,Kh)),fe(this,Kh,void 0))},RE=function(){R(this,Gh)&&(clearInterval(R(this,Gh)),fe(this,Gh,void 0))},$E=function(){const t=R(this,Oa).getQueryCache().build(R(this,Oa),this.options);if(t===R(this,qt))return;const n=R(this,qt);fe(this,qt,t),fe(this,Ib,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},gQ=function(t){rs.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(R(this,fa))}),R(this,Oa).getQueryCache().notify({query:R(this,qt),type:"observerResultsUpdated"})})},YW);function Vxe(e,t){return Oo(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function k3(e,t){return Vxe(e,t)||e.state.data!==void 0&&IE(e,t,t.refetchOnMount)}function IE(e,t,n){if(Oo(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&yR(e,t)}return!1}function _3(e,t,n,r){return(e!==t||Oo(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&yR(e,n)}function yR(e,t){return Oo(t.enabled,e)!==!1&&e.isStaleByTime(np(t.staleTime,e))}function Wxe(e,t){return!J1(e.getCurrentResult(),t)}var Jd,eu,Ma,Ec,ed,QN,FE,XW,Hxe=(XW=class extends cv{constructor(n,r){super();de(this,ed);de(this,Jd);de(this,eu);de(this,Ma);de(this,Ec);fe(this,Jd,n),this.setOptions(r),this.bindMethods(),je(this,ed,QN).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var a;const r=this.options;this.options=R(this,Jd).defaultMutationOptions(n),J1(this.options,r)||R(this,Jd).getMutationCache().notify({type:"observerOptionsUpdated",mutation:R(this,Ma),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Sf(r.mutationKey)!==Sf(this.options.mutationKey)?this.reset():((a=R(this,Ma))==null?void 0:a.state.status)==="pending"&&R(this,Ma).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=R(this,Ma))==null||n.removeObserver(this)}onMutationUpdate(n){je(this,ed,QN).call(this),je(this,ed,FE).call(this,n)}getCurrentResult(){return R(this,eu)}reset(){var n;(n=R(this,Ma))==null||n.removeObserver(this),fe(this,Ma,void 0),je(this,ed,QN).call(this),je(this,ed,FE).call(this)}mutate(n,r){var a;return fe(this,Ec,r),(a=R(this,Ma))==null||a.removeObserver(this),fe(this,Ma,R(this,Jd).getMutationCache().build(R(this,Jd),this.options)),R(this,Ma).addObserver(this),R(this,Ma).execute(n)}},Jd=new WeakMap,eu=new WeakMap,Ma=new WeakMap,Ec=new WeakMap,ed=new WeakSet,QN=function(){var r;const n=((r=R(this,Ma))==null?void 0:r.state)??pQ();fe(this,eu,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},FE=function(n){rs.batch(()=>{var r,a,i,o,l,c,d,u;if(R(this,Ec)&&this.hasListeners()){const h=R(this,eu).variables,f=R(this,eu).context;(n==null?void 0:n.type)==="success"?((a=(r=R(this,Ec)).onSuccess)==null||a.call(r,n.data,h,f),(o=(i=R(this,Ec)).onSettled)==null||o.call(i,n.data,null,h,f)):(n==null?void 0:n.type)==="error"&&((c=(l=R(this,Ec)).onError)==null||c.call(l,n.error,h,f),(u=(d=R(this,Ec)).onSettled)==null||u.call(d,void 0,n.error,h,f))}this.listeners.forEach(h=>{h(R(this,eu))})})},XW),vQ=b.createContext(void 0),qr=e=>{const t=b.useContext(vQ);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},qxe=({client:e,children:t})=>(b.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(vQ.Provider,{value:e,children:t})),xQ=b.createContext(!1),Kxe=()=>b.useContext(xQ);xQ.Provider;function Gxe(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Yxe=b.createContext(Gxe()),Xxe=()=>b.useContext(Yxe);function yQ(e,t){return typeof e=="function"?e(...t):!!e}function LE(){}var Qxe=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Zxe=e=>{b.useEffect(()=>{e.clearReset()},[e])},Jxe=({result:e,errorResetBoundary:t,throwOnError:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&yQ(n,[e.error,r]),eye=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},tye=(e,t)=>e.isLoading&&e.isFetching&&!t,nye=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,P3=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function rye(e,t,n){var u,h,f,g,m;const r=qr(),a=Kxe(),i=Xxe(),o=r.defaultQueryOptions(e);(h=(u=r.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||h.call(u,o),o._optimisticResults=a?"isRestoring":"optimistic",eye(o),Qxe(o,i),Zxe(i);const l=!r.getQueryCache().get(o.queryHash),[c]=b.useState(()=>new t(r,o)),d=c.getOptimisticResult(o);if(b.useSyncExternalStore(b.useCallback(p=>{const x=a?LE:c.subscribe(rs.batchCalls(p));return c.updateResult(),x},[c,a]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),b.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),nye(o,d))throw P3(o,c,i);if(Jxe({result:d,errorResetBoundary:i,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw d.error;if((g=(f=r.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||g.call(f,o,d),o.experimental_prefetchInRender&&!Nf&&tye(d,a)){const p=l?P3(o,c,i):(m=r.getQueryCache().get(o.queryHash))==null?void 0:m.promise;p==null||p.catch(LE).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function he(e,t){return rye(e,Uxe)}function Se(e,t){const n=qr(),[r]=b.useState(()=>new Hxe(n,e));b.useEffect(()=>{r.setOptions(e)},[r,e]);const a=b.useSyncExternalStore(b.useCallback(o=>r.subscribe(rs.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=b.useCallback((o,l)=>{r.mutate(o,l).catch(LE)},[r]);if(a.error&&yQ(r.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}async function bQ(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function ke(e,t,n){const r=await fetch(t,{method:e,headers:n?{"Content-Type":"application/json"}:{},body:n?JSON.stringify(n):void 0,credentials:"include"});return await bQ(r),r}const sye=({on401:e})=>async({queryKey:t})=>{const n=await fetch(t.join("/"),{credentials:"include"});return e==="returnNull"&&n.status===401?null:(await bQ(n),await n.json())},rt=new Bxe({defaultOptions:{queries:{queryFn:sye({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),aye=1,iye=1e6;let zP=0;function oye(){return zP=(zP+1)%Number.MAX_SAFE_INTEGER,zP.toString()}const BP=new Map,T3=e=>{if(BP.has(e))return;const t=setTimeout(()=>{BP.delete(e),dy({type:"REMOVE_TOAST",toastId:e})},iye);BP.set(e,t)},lye=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,aye)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?T3(n):e.toasts.forEach(r=>{T3(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},ZN=[];let JN={toasts:[]};function dy(e){JN=lye(JN,e),ZN.forEach(t=>{t(JN)})}function cye({...e}){const t=oye(),n=a=>dy({type:"UPDATE_TOAST",toast:{...a,id:t}}),r=()=>dy({type:"DISMISS_TOAST",toastId:t});return dy({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||r()}}}),{id:t,dismiss:r,update:n}}function mt(){const[e,t]=b.useState(JN);return b.useEffect(()=>(ZN.push(t),()=>{const n=ZN.indexOf(t);n>-1&&ZN.splice(n,1)}),[e]),{...e,toast:cye,dismiss:n=>dy({type:"DISMISS_TOAST",toastId:n})}}function Pe(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function A3(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function q2(...e){return t=>{let n=!1;const r=e.map(a=>{const i=A3(a,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let a=0;a<r.length;a++){const i=r[a];typeof i=="function"?i():A3(e[a],null)}}}}function wt(...e){return b.useCallback(q2(...e),e)}function dye(e,t){const n=b.createContext(t),r=i=>{const{children:o,...l}=i,c=b.useMemo(()=>l,Object.values(l));return s.jsx(n.Provider,{value:c,children:o})};r.displayName=e+"Provider";function a(i){const o=b.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,a]}function fs(e,t=[]){let n=[];function r(i,o){const l=b.createContext(o),c=n.length;n=[...n,o];const d=h=>{var v;const{scope:f,children:g,...m}=h,p=((v=f==null?void 0:f[e])==null?void 0:v[c])||l,x=b.useMemo(()=>m,Object.values(m));return s.jsx(p.Provider,{value:x,children:g})};d.displayName=i+"Provider";function u(h,f){var p;const g=((p=f==null?void 0:f[e])==null?void 0:p[c])||l,m=b.useContext(g);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[d,u]}const a=()=>{const i=n.map(o=>b.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return b.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,uye(a,...t)]}function uye(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...l,...h}},{});return b.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function ku(e){const t=hye(e),n=b.forwardRef((r,a)=>{const{children:i,...o}=r,l=b.Children.toArray(i),c=l.find(fye);if(c){const d=c.props.children,u=l.map(h=>h===c?b.Children.count(d)>1?b.Children.only(null):b.isValidElement(d)?d.props.children:null:h);return s.jsx(t,{...o,ref:a,children:b.isValidElement(d)?b.cloneElement(d,void 0,u):null})}return s.jsx(t,{...o,ref:a,children:i})});return n.displayName=`${e}.Slot`,n}var jQ=ku("Slot");function hye(e){const t=b.forwardRef((n,r)=>{const{children:a,...i}=n;if(b.isValidElement(a)){const o=pye(a),l=mye(i,a.props);return a.type!==b.Fragment&&(l.ref=r?q2(r,o):o),b.cloneElement(a,l)}return b.Children.count(a)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var wQ=Symbol("radix.slottable");function NQ(e){const t=({children:n})=>s.jsx(s.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=wQ,t}function fye(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===wQ}function mye(e,t){const n={...t};for(const r in t){const a=e[r],i=t[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...l)=>{i(...l),a(...l)}:a&&(n[r]=a):r==="style"?n[r]={...a,...i}:r==="className"&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function pye(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function uj(e){const t=e+"CollectionProvider",[n,r]=fs(t),[a,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:x,children:v}=p,y=O.useRef(null),j=O.useRef(new Map).current;return s.jsx(a,{scope:x,itemMap:j,collectionRef:y,children:v})};o.displayName=t;const l=e+"CollectionSlot",c=ku(l),d=O.forwardRef((p,x)=>{const{scope:v,children:y}=p,j=i(l,v),N=wt(x,j.collectionRef);return s.jsx(c,{ref:N,children:y})});d.displayName=l;const u=e+"CollectionItemSlot",h="data-radix-collection-item",f=ku(u),g=O.forwardRef((p,x)=>{const{scope:v,children:y,...j}=p,N=O.useRef(null),w=wt(x,N),S=i(u,v);return O.useEffect(()=>(S.itemMap.set(N,{ref:N,...j}),()=>void S.itemMap.delete(N))),s.jsx(f,{[h]:"",ref:w,children:y})});g.displayName=u;function m(p){const x=i(e+"CollectionConsumer",p);return O.useCallback(()=>{const y=x.collectionRef.current;if(!y)return[];const j=Array.from(y.querySelectorAll(`[${h}]`));return Array.from(x.itemMap.values()).sort((S,k)=>j.indexOf(S.ref.current)-j.indexOf(k.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:d,ItemSlot:g},m,r]}var gye=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Qe=gye.reduce((e,t)=>{const n=ku(`Primitive.${t}`),r=b.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function bR(e,t){e&&Gi.flushSync(()=>e.dispatchEvent(t))}function Qn(e){const t=b.useRef(e);return b.useEffect(()=>{t.current=e}),b.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function vye(e,t=globalThis==null?void 0:globalThis.document){const n=Qn(e);b.useEffect(()=>{const r=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var xye="DismissableLayer",zE="dismissableLayer.update",yye="dismissableLayer.pointerDownOutside",bye="dismissableLayer.focusOutside",E3,SQ=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Gf=b.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=b.useContext(SQ),[u,h]=b.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=b.useState({}),m=wt(t,k=>h(k)),p=Array.from(d.layers),[x]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),v=p.indexOf(x),y=u?p.indexOf(u):-1,j=d.layersWithOutsidePointerEventsDisabled.size>0,N=y>=v,w=wye(k=>{const _=k.target,T=[...d.branches].some(P=>P.contains(_));!N||T||(a==null||a(k),o==null||o(k),k.defaultPrevented||l==null||l())},f),S=Nye(k=>{const _=k.target;[...d.branches].some(P=>P.contains(_))||(i==null||i(k),o==null||o(k),k.defaultPrevented||l==null||l())},f);return vye(k=>{y===d.layers.size-1&&(r==null||r(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},f),b.useEffect(()=>{if(u)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(E3=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),D3(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=E3)}},[u,f,n,d]),b.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),D3())},[u,d]),b.useEffect(()=>{const k=()=>g({});return document.addEventListener(zE,k),()=>document.removeEventListener(zE,k)},[]),s.jsx(Qe.div,{...c,ref:m,style:{pointerEvents:j?N?"auto":"none":void 0,...e.style},onFocusCapture:Pe(e.onFocusCapture,S.onFocusCapture),onBlurCapture:Pe(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:Pe(e.onPointerDownCapture,w.onPointerDownCapture)})});Gf.displayName=xye;var jye="DismissableLayerBranch",CQ=b.forwardRef((e,t)=>{const n=b.useContext(SQ),r=b.useRef(null),a=wt(t,r);return b.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),s.jsx(Qe.div,{...e,ref:a})});CQ.displayName=jye;function wye(e,t=globalThis==null?void 0:globalThis.document){const n=Qn(e),r=b.useRef(!1),a=b.useRef(()=>{});return b.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){kQ(yye,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Nye(e,t=globalThis==null?void 0:globalThis.document){const n=Qn(e),r=b.useRef(!1);return b.useEffect(()=>{const a=i=>{i.target&&!r.current&&kQ(bye,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function D3(){const e=new CustomEvent(zE);document.dispatchEvent(e)}function kQ(e,t,n,{discrete:r}){const a=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?bR(a,i):a.dispatchEvent(i)}var Sye=Gf,Cye=CQ,$r=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},kye="Portal",dv=b.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[a,i]=b.useState(!1);$r(()=>i(!0),[]);const o=n||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?hR.createPortal(s.jsx(Qe.div,{...r,ref:t}),o):null});dv.displayName=kye;function _ye(e,t){return b.useReducer((n,r)=>t[n][r]??n,e)}var ms=e=>{const{present:t,children:n}=e,r=Pye(t),a=typeof n=="function"?n({present:r.isPresent}):b.Children.only(n),i=wt(r.ref,Tye(a));return typeof n=="function"||r.isPresent?b.cloneElement(a,{ref:i}):null};ms.displayName="Presence";function Pye(e){const[t,n]=b.useState(),r=b.useRef({}),a=b.useRef(e),i=b.useRef("none"),o=e?"mounted":"unmounted",[l,c]=_ye(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const d=Iw(r.current);i.current=l==="mounted"?d:"none"},[l]),$r(()=>{const d=r.current,u=a.current;if(u!==e){const f=i.current,g=Iw(d);e?c("MOUNT"):g==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&f!==g?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),$r(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,h=g=>{const p=Iw(r.current).includes(g.animationName);if(g.target===t&&p&&(c("ANIMATION_END"),!a.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},f=g=>{g.target===t&&(i.current=Iw(r.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:b.useCallback(d=>{d&&(r.current=getComputedStyle(d)),n(d)},[])}}function Iw(e){return(e==null?void 0:e.animationName)||"none"}function Tye(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function bi({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,a]=Aye({defaultProp:t,onChange:n}),i=e!==void 0,o=i?e:r,l=Qn(n),c=b.useCallback(d=>{if(i){const h=typeof d=="function"?d(e):d;h!==e&&l(h)}else a(d)},[i,e,a,l]);return[o,c]}function Aye({defaultProp:e,onChange:t}){const n=b.useState(e),[r]=n,a=b.useRef(r),i=Qn(t);return b.useEffect(()=>{a.current!==r&&(i(r),a.current=r)},[r,a,i]),n}var Eye="VisuallyHidden",hj=b.forwardRef((e,t)=>s.jsx(Qe.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));hj.displayName=Eye;var Dye=hj,jR="ToastProvider",[wR,Oye,Mye]=uj("Toast"),[_Q,WNt]=fs("Toast",[Mye]),[Rye,K2]=_Q(jR),PQ=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=b.useState(null),[d,u]=b.useState(0),h=b.useRef(!1),f=b.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${jR}\`. Expected non-empty \`string\`.`),s.jsx(wR.Provider,{scope:t,children:s.jsx(Rye,{scope:t,label:n,duration:r,swipeDirection:a,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:b.useCallback(()=>u(g=>g+1),[]),onToastRemove:b.useCallback(()=>u(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};PQ.displayName=jR;var TQ="ToastViewport",$ye=["F8"],BE="toast.viewportPause",UE="toast.viewportResume",AQ=b.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=$ye,label:a="Notifications ({hotkey})",...i}=e,o=K2(TQ,n),l=Oye(n),c=b.useRef(null),d=b.useRef(null),u=b.useRef(null),h=b.useRef(null),f=wt(t,h,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),m=o.toastCount>0;b.useEffect(()=>{const x=v=>{var j;r.length!==0&&r.every(N=>v[N]||v.code===N)&&((j=h.current)==null||j.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),b.useEffect(()=>{const x=c.current,v=h.current;if(m&&x&&v){const y=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(BE);v.dispatchEvent(S),o.isClosePausedRef.current=!0}},j=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(UE);v.dispatchEvent(S),o.isClosePausedRef.current=!1}},N=S=>{!x.contains(S.relatedTarget)&&j()},w=()=>{x.contains(document.activeElement)||j()};return x.addEventListener("focusin",y),x.addEventListener("focusout",N),x.addEventListener("pointermove",y),x.addEventListener("pointerleave",w),window.addEventListener("blur",y),window.addEventListener("focus",j),()=>{x.removeEventListener("focusin",y),x.removeEventListener("focusout",N),x.removeEventListener("pointermove",y),x.removeEventListener("pointerleave",w),window.removeEventListener("blur",y),window.removeEventListener("focus",j)}}},[m,o.isClosePausedRef]);const p=b.useCallback(({tabbingDirection:x})=>{const y=l().map(j=>{const N=j.ref.current,w=[N,...Yye(N)];return x==="forwards"?w:w.reverse()});return(x==="forwards"?y.reverse():y).flat()},[l]);return b.useEffect(()=>{const x=h.current;if(x){const v=y=>{var w,S,k;const j=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!j){const _=document.activeElement,T=y.shiftKey;if(y.target===x&&T){(w=d.current)==null||w.focus();return}const A=p({tabbingDirection:T?"backwards":"forwards"}),E=A.findIndex(I=>I===_);UP(A.slice(E+1))?y.preventDefault():T?(S=d.current)==null||S.focus():(k=u.current)==null||k.focus()}};return x.addEventListener("keydown",v),()=>x.removeEventListener("keydown",v)}},[l,p]),s.jsxs(Cye,{ref:c,role:"region","aria-label":a.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:m?void 0:"none"},children:[m&&s.jsx(VE,{ref:d,onFocusFromOutsideViewport:()=>{const x=p({tabbingDirection:"forwards"});UP(x)}}),s.jsx(wR.Slot,{scope:n,children:s.jsx(Qe.ol,{tabIndex:-1,...i,ref:f})}),m&&s.jsx(VE,{ref:u,onFocusFromOutsideViewport:()=>{const x=p({tabbingDirection:"backwards"});UP(x)}})]})});AQ.displayName=TQ;var EQ="ToastFocusProxy",VE=b.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...a}=e,i=K2(EQ,n);return s.jsx(hj,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&r()}})});VE.displayName=EQ;var G2="Toast",Iye="toast.swipeStart",Fye="toast.swipeMove",Lye="toast.swipeCancel",zye="toast.swipeEnd",DQ=b.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:a,onOpenChange:i,...o}=e,[l=!0,c]=bi({prop:r,defaultProp:a,onChange:i});return s.jsx(ms,{present:n||l,children:s.jsx(Vye,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Qn(e.onPause),onResume:Qn(e.onResume),onSwipeStart:Pe(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Pe(e.onSwipeMove,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Pe(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Pe(e.onSwipeEnd,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});DQ.displayName=G2;var[Bye,Uye]=_Q(G2,{onClose(){}}),Vye=b.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:g,...m}=e,p=K2(G2,n),[x,v]=b.useState(null),y=wt(t,I=>v(I)),j=b.useRef(null),N=b.useRef(null),w=a||p.duration,S=b.useRef(0),k=b.useRef(w),_=b.useRef(0),{onToastAdd:T,onToastRemove:P}=p,C=Qn(()=>{var $;(x==null?void 0:x.contains(document.activeElement))&&(($=p.viewport)==null||$.focus()),o()}),A=b.useCallback(I=>{!I||I===1/0||(window.clearTimeout(_.current),S.current=new Date().getTime(),_.current=window.setTimeout(C,I))},[C]);b.useEffect(()=>{const I=p.viewport;if(I){const $=()=>{A(k.current),d==null||d()},U=()=>{const M=new Date().getTime()-S.current;k.current=k.current-M,window.clearTimeout(_.current),c==null||c()};return I.addEventListener(BE,U),I.addEventListener(UE,$),()=>{I.removeEventListener(BE,U),I.removeEventListener(UE,$)}}},[p.viewport,w,c,d,A]),b.useEffect(()=>{i&&!p.isClosePausedRef.current&&A(w)},[i,w,p.isClosePausedRef,A]),b.useEffect(()=>(T(),()=>P()),[T,P]);const E=b.useMemo(()=>x?LQ(x):null,[x]);return p.viewport?s.jsxs(s.Fragment,{children:[E&&s.jsx(Wye,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:E}),s.jsx(Bye,{scope:n,onClose:C,children:Gi.createPortal(s.jsx(wR.ItemSlot,{scope:n,children:s.jsx(Sye,{asChild:!0,onEscapeKeyDown:Pe(l,()=>{p.isFocusedToastEscapeKeyDownRef.current||C(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(Qe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":p.swipeDirection,...m,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Pe(e.onKeyDown,I=>{I.key==="Escape"&&(l==null||l(I.nativeEvent),I.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,C()))}),onPointerDown:Pe(e.onPointerDown,I=>{I.button===0&&(j.current={x:I.clientX,y:I.clientY})}),onPointerMove:Pe(e.onPointerMove,I=>{if(!j.current)return;const $=I.clientX-j.current.x,U=I.clientY-j.current.y,M=!!N.current,F=["left","right"].includes(p.swipeDirection),V=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,Y=F?V(0,$):0,K=F?0:V(0,U),z=I.pointerType==="touch"?10:2,L={x:Y,y:K},ee={originalEvent:I,delta:L};M?(N.current=L,Fw(Fye,h,ee,{discrete:!1})):O3(L,p.swipeDirection,z)?(N.current=L,Fw(Iye,u,ee,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs($)>z||Math.abs(U)>z)&&(j.current=null)}),onPointerUp:Pe(e.onPointerUp,I=>{const $=N.current,U=I.target;if(U.hasPointerCapture(I.pointerId)&&U.releasePointerCapture(I.pointerId),N.current=null,j.current=null,$){const M=I.currentTarget,F={originalEvent:I,delta:$};O3($,p.swipeDirection,p.swipeThreshold)?Fw(zye,g,F,{discrete:!0}):Fw(Lye,f,F,{discrete:!0}),M.addEventListener("click",V=>V.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),Wye=e=>{const{__scopeToast:t,children:n,...r}=e,a=K2(G2,t),[i,o]=b.useState(!1),[l,c]=b.useState(!1);return Kye(()=>o(!0)),b.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:s.jsx(dv,{asChild:!0,children:s.jsx(hj,{...r,children:i&&s.jsxs(s.Fragment,{children:[a.label," ",n]})})})},Hye="ToastTitle",OQ=b.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx(Qe.div,{...r,ref:t})});OQ.displayName=Hye;var qye="ToastDescription",MQ=b.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx(Qe.div,{...r,ref:t})});MQ.displayName=qye;var RQ="ToastAction",$Q=b.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?s.jsx(FQ,{altText:n,asChild:!0,children:s.jsx(NR,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${RQ}\`. Expected non-empty \`string\`.`),null)});$Q.displayName=RQ;var IQ="ToastClose",NR=b.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,a=Uye(IQ,n);return s.jsx(FQ,{asChild:!0,children:s.jsx(Qe.button,{type:"button",...r,ref:t,onClick:Pe(e.onClick,a.onClose)})})});NR.displayName=IQ;var FQ=b.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...a}=e;return s.jsx(Qe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...a,ref:t})});function LQ(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),Gye(r)){const a=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...LQ(r))}}),t}function Fw(e,t,n,{discrete:r}){const a=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?bR(a,i):a.dispatchEvent(i)}var O3=(e,t,n=0)=>{const r=Math.abs(e.x),a=Math.abs(e.y),i=r>a;return t==="left"||t==="right"?i&&r>n:!i&&a>n};function Kye(e=()=>{}){const t=Qn(e);$r(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function Gye(e){return e.nodeType===e.ELEMENT_NODE}function Yye(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function UP(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var Xye=PQ,zQ=AQ,BQ=DQ,UQ=OQ,VQ=MQ,WQ=$Q,HQ=NR;function qQ(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=qQ(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ct(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=qQ(e))&&(r&&(r+=" "),r+=t);return r}const M3=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,R3=Ct,uv=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return R3(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(d=>{const u=n==null?void 0:n[d],h=i==null?void 0:i[d];if(u===null)return null;const f=M3(u)||M3(h);return a[d][f]}),l=n&&Object.entries(n).reduce((d,u)=>{let[h,f]=u;return f===void 0||(d[h]=f),d},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((d,u)=>{let{class:h,className:f,...g}=u;return Object.entries(g).every(m=>{let[p,x]=m;return Array.isArray(x)?x.includes({...i,...l}[p]):{...i,...l}[p]===x})?[...d,h,f]:d},[]);return R3(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qye=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),KQ=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Zye={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jye=b.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:i,iconNode:o,...l},c)=>b.createElement("svg",{ref:c,...Zye,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:KQ("lucide",a),...l},[...o.map(([d,u])=>b.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=(e,t)=>{const n=b.forwardRef(({className:r,...a},i)=>b.createElement(Jye,{ref:i,iconNode:t,className:KQ(`lucide-${Qye(e)}`,r),...a}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=me("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0e=me("AlignLeft",[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GQ=me("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0e=me("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=me("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=me("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0e=me("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=me("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r0e=me("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0e=me("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=me("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YQ=me("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fj=me("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=me("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0e=me("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=me("Brush",[["path",{d:"m9.06 11.9 8.07-8.06a2.85 2.85 0 1 1 4.03 4.03l-8.06 8.08",key:"1styjt"}],["path",{d:"M7.07 14.94c-1.66 0-3 1.35-3 3.02 0 1.33-2.5 1.52-2 2.02 1.08 1.1 2.49 2.02 4 2.02 2.2 0 4-1.8 4-4.04a3.01 3.01 0 0 0-3-3.02z",key:"z0l1mu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _u=me("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=me("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=me("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i0e=me("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o0e=me("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=me("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yo=me("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XQ=me("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=me("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mj=me("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=me("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=me("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=me("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QQ=me("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=me("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=me("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0e=me("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lc=me("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZQ=me("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=me("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=me("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=me("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=me("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=me("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SR=me("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0e=me("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=me("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0e=me("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=me("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jy=me("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=me("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=me("FileType",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 13v-1h6v1",key:"1bb014"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"M11 18h2",key:"12mj7e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=me("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0e=me("FilterX",[["path",{d:"M13.013 3H2l8 9.46V19l4 2v-8.54l.9-1.055",key:"1fi1da"}],["path",{d:"m22 3-5 5",key:"12jva0"}],["path",{d:"m17 3 5 5",key:"k36vhe"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0=me("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sh=me("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=me("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0e=me("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0e=me("FolderTree",[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pu=me("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JQ=me("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=me("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=me("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0e=me("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=me("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const au=me("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xo=me("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=me("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=me("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=me("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uy=me("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0e=me("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=me("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=me("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g0e=me("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=me("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0e=me("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0e=me("MailOpen",[["path",{d:"M21.2 8.4c.5.38.8.97.8 1.6v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V10a2 2 0 0 1 .8-1.6l8-6a2 2 0 0 1 2.4 0l8 6Z",key:"1jhwl8"}],["path",{d:"m22 10-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 10",key:"1qfld7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=me("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0e=me("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0e=me("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lw=me("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=me("MemoryStick",[["path",{d:"M6 19v-3",key:"1nvgqn"}],["path",{d:"M10 19v-3",key:"iu8nkm"}],["path",{d:"M14 19v-3",key:"kcehxu"}],["path",{d:"M18 19v-3",key:"1vh91z"}],["path",{d:"M8 11V9",key:"63erz4"}],["path",{d:"M16 11V9",key:"fru6f3"}],["path",{d:"M12 11V9",key:"ha00sb"}],["path",{d:"M2 15h20",key:"16ne18"}],["path",{d:"M2 7a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v1.1a2 2 0 0 0 0 3.837V17a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-5.1a2 2 0 0 0 0-3.837Z",key:"lhddv3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eZ=me("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vd=me("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=me("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tZ=me("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0e=me("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0e=me("OctagonAlert",[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0e=me("Octagon",[["path",{d:"M2.586 16.726A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2h6.624a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586z",key:"2d38gg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=me("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Il=me("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nZ=me("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=me("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=me("PenTool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rZ=me("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=me("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tu=me("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=me("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=me("Presentation",[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pj=me("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=me("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=me("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Au=me("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0e=me("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=me("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=me("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0e=me("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=me("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k0e=me("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=me("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _0e=me("Slack",[["rect",{width:"3",height:"8",x:"13",y:"2",rx:"1.5",key:"diqz80"}],["path",{d:"M19 8.5V10h1.5A1.5 1.5 0 1 0 19 8.5",key:"183iwg"}],["rect",{width:"3",height:"8",x:"8",y:"14",rx:"1.5",key:"hqg7r1"}],["path",{d:"M5 15.5V14H3.5A1.5 1.5 0 1 0 5 15.5",key:"76g71w"}],["rect",{width:"8",height:"3",x:"14",y:"13",rx:"1.5",key:"1kmz0a"}],["path",{d:"M15.5 19H14v1.5a1.5 1.5 0 1 0 1.5-1.5",key:"jc4sz0"}],["rect",{width:"8",height:"3",x:"2",y:"8",rx:"1.5",key:"1omvl4"}],["path",{d:"M8.5 5H10V3.5A1.5 1.5 0 1 0 8.5 5",key:"16f3cl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kR=me("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sZ=me("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=me("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=me("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=me("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0e=me("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=me("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sc=me("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gj=me("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aZ=me("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=me("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zw=me("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0e=me("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=me("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=me("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iZ=me("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=me("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0e=me("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oZ=me("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0e=me("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=me("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=me("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0e=me("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=me("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=me("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=me("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),PR="-",O0e=e=>{const t=R0e(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const l=o.split(PR);return l[0]===""&&l.length!==1&&l.shift(),lZ(l,t)||M0e(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},lZ=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),a=r?lZ(e.slice(1),r):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(PR);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},B3=/^\[(.+)\]$/,M0e=e=>{if(B3.test(e)){const t=B3.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},R0e=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return I0e(Object.entries(e.classGroups),n).forEach(([i,o])=>{XE(o,r,i,t)}),r},XE=(e,t,n,r)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:U3(t,a);i.classGroupId=n;return}if(typeof a=="function"){if($0e(a)){XE(a(r),t,n,r);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([i,o])=>{XE(o,U3(t,i),n,r)})})},U3=(e,t)=>{let n=e;return t.split(PR).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},$0e=e=>e.isThemeGetter,I0e=(e,t)=>t?e.map(([n,r])=>{const a=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[n,a]}):e,F0e=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const a=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return a(i,o),o},set(i,o){n.has(i)?n.set(i,o):a(i,o)}}},cZ="!",L0e=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let d=0,u=0,h;for(let x=0;x<l.length;x++){let v=l[x];if(d===0){if(v===a&&(r||l.slice(x,x+i)===t)){c.push(l.slice(u,x)),u=x+i;continue}if(v==="/"){h=x;continue}}v==="["?d++:v==="]"&&d--}const f=c.length===0?l:l.substring(u),g=f.startsWith(cZ),m=g?f.substring(1):f,p=h&&h>u?h-u:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:m,maybePostfixModifierPosition:p}};return n?l=>n({className:l,parseClassName:o}):o},z0e=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},B0e=e=>({cache:F0e(e.cacheSize),parseClassName:L0e(e),...O0e(e)}),U0e=/\s+/,V0e=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(U0e);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:g}=n(d);let m=!!g,p=r(m?f.substring(0,g):f);if(!p){if(!m){l=d+(l.length>0?" "+l:l);continue}if(p=r(f),!p){l=d+(l.length>0?" "+l:l);continue}m=!1}const x=z0e(u).join(":"),v=h?x+cZ:x,y=v+p;if(i.includes(y))continue;i.push(y);const j=a(p,m);for(let N=0;N<j.length;++N){const w=j[N];i.push(v+w)}l=d+(l.length>0?" "+l:l)}return l};function W0e(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=dZ(t))&&(r&&(r+=" "),r+=n);return r}const dZ=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=dZ(e[r]))&&(n&&(n+=" "),n+=t);return n};function H0e(e,...t){let n,r,a,i=o;function o(c){const d=t.reduce((u,h)=>h(u),e());return n=B0e(d),r=n.cache.get,a=n.cache.set,i=l,l(c)}function l(c){const d=r(c);if(d)return d;const u=V0e(c,n);return a(c,u),u}return function(){return i(W0e.apply(null,arguments))}}const In=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},uZ=/^\[(?:([a-z-]+):)?(.+)\]$/i,q0e=/^\d+\/\d+$/,K0e=new Set(["px","full","screen"]),G0e=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Y0e=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,X0e=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Q0e=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Z0e=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,xc=e=>sp(e)||K0e.has(e)||q0e.test(e),_d=e=>mv(e,"length",ibe),sp=e=>!!e&&!Number.isNaN(Number(e)),HP=e=>mv(e,"number",sp),ox=e=>!!e&&Number.isInteger(Number(e)),J0e=e=>e.endsWith("%")&&sp(e.slice(0,-1)),Rt=e=>uZ.test(e),Pd=e=>G0e.test(e),ebe=new Set(["length","size","percentage"]),tbe=e=>mv(e,ebe,hZ),nbe=e=>mv(e,"position",hZ),rbe=new Set(["image","url"]),sbe=e=>mv(e,rbe,lbe),abe=e=>mv(e,"",obe),lx=()=>!0,mv=(e,t,n)=>{const r=uZ.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},ibe=e=>Y0e.test(e)&&!X0e.test(e),hZ=()=>!1,obe=e=>Q0e.test(e),lbe=e=>Z0e.test(e),cbe=()=>{const e=In("colors"),t=In("spacing"),n=In("blur"),r=In("brightness"),a=In("borderColor"),i=In("borderRadius"),o=In("borderSpacing"),l=In("borderWidth"),c=In("contrast"),d=In("grayscale"),u=In("hueRotate"),h=In("invert"),f=In("gap"),g=In("gradientColorStops"),m=In("gradientColorStopPositions"),p=In("inset"),x=In("margin"),v=In("opacity"),y=In("padding"),j=In("saturate"),N=In("scale"),w=In("sepia"),S=In("skew"),k=In("space"),_=In("translate"),T=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto",Rt,t],A=()=>[Rt,t],E=()=>["",xc,_d],I=()=>["auto",sp,Rt],$=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],M=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],V=()=>["","0",Rt],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],K=()=>[sp,Rt];return{cacheSize:500,separator:":",theme:{colors:[lx],spacing:[xc,_d],blur:["none","",Pd,Rt],brightness:K(),borderColor:[e],borderRadius:["none","","full",Pd,Rt],borderSpacing:A(),borderWidth:E(),contrast:K(),grayscale:V(),hueRotate:K(),invert:V(),gap:A(),gradientColorStops:[e],gradientColorStopPositions:[J0e,_d],inset:C(),margin:C(),opacity:K(),padding:A(),saturate:K(),scale:K(),sepia:V(),skew:K(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",Rt]}],container:["container"],columns:[{columns:[Pd]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...$(),Rt]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ox,Rt]}],basis:[{basis:C()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Rt]}],grow:[{grow:V()}],shrink:[{shrink:V()}],order:[{order:["first","last","none",ox,Rt]}],"grid-cols":[{"grid-cols":[lx]}],"col-start-end":[{col:["auto",{span:["full",ox,Rt]},Rt]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[lx]}],"row-start-end":[{row:["auto",{span:[ox,Rt]},Rt]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Rt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Rt]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Rt,t]}],"min-w":[{"min-w":[Rt,t,"min","max","fit"]}],"max-w":[{"max-w":[Rt,t,"none","full","min","max","fit","prose",{screen:[Pd]},Pd]}],h:[{h:[Rt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Rt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Rt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Rt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Pd,_d]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",HP]}],"font-family":[{font:[lx]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Rt]}],"line-clamp":[{"line-clamp":["none",sp,HP]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",xc,Rt]}],"list-image":[{"list-image":["none",Rt]}],"list-style-type":[{list:["none","disc","decimal",Rt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",xc,_d]}],"underline-offset":[{"underline-offset":["auto",xc,Rt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Rt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Rt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...$(),nbe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",tbe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},sbe]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:U()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[xc,Rt]}],"outline-w":[{outline:[xc,_d]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:E()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[xc,_d]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Pd,abe]}],"shadow-color":[{shadow:[lx]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...M(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":M()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Pd,Rt]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[j]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Rt]}],duration:[{duration:K()}],ease:[{ease:["linear","in","out","in-out",Rt]}],delay:[{delay:K()}],animate:[{animate:["none","spin","ping","pulse","bounce",Rt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[ox,Rt]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Rt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Rt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Rt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[xc,_d,HP]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},dbe=H0e(cbe);function Ne(...e){return dbe(Ct(e))}const ube=Xye,fZ=b.forwardRef(({className:e,...t},n)=>s.jsx(zQ,{ref:n,className:Ne("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));fZ.displayName=zQ.displayName;const hbe=uv("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),mZ=b.forwardRef(({className:e,variant:t,...n},r)=>s.jsx(BQ,{ref:r,className:Ne(hbe({variant:t}),e),...n}));mZ.displayName=BQ.displayName;const fbe=b.forwardRef(({className:e,...t},n)=>s.jsx(WQ,{ref:n,className:Ne("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));fbe.displayName=WQ.displayName;const pZ=b.forwardRef(({className:e,...t},n)=>s.jsx(HQ,{ref:n,className:Ne("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(Kt,{className:"h-4 w-4"})}));pZ.displayName=HQ.displayName;const gZ=b.forwardRef(({className:e,...t},n)=>s.jsx(UQ,{ref:n,className:Ne("text-sm font-semibold",e),...t}));gZ.displayName=UQ.displayName;const vZ=b.forwardRef(({className:e,...t},n)=>s.jsx(VQ,{ref:n,className:Ne("text-sm opacity-90",e),...t}));vZ.displayName=VQ.displayName;function mbe(){const{toasts:e}=mt();return s.jsxs(ube,{children:[e.map(function({id:t,title:n,description:r,action:a,...i}){return s.jsxs(mZ,{...i,children:[s.jsxs("div",{className:"grid gap-1",children:[n&&s.jsx(gZ,{children:n}),r&&s.jsx(vZ,{children:r})]}),a,s.jsx(pZ,{})]},t)}),s.jsx(fZ,{})]})}var pbe=KG[" useId ".trim().toString()]||(()=>{}),gbe=0;function mi(e){const[t,n]=b.useState(pbe());return $r(()=>{n(r=>r??String(gbe++))},[e]),t?`radix-${t}`:""}const vbe=["top","right","bottom","left"],Eu=Math.min,ii=Math.max,aS=Math.round,Bw=Math.floor,ql=e=>({x:e,y:e}),xbe={left:"right",right:"left",bottom:"top",top:"bottom"},ybe={start:"end",end:"start"};function QE(e,t,n){return ii(e,Eu(t,n))}function id(e,t){return typeof e=="function"?e(t):e}function od(e){return e.split("-")[0]}function pv(e){return e.split("-")[1]}function TR(e){return e==="x"?"y":"x"}function AR(e){return e==="y"?"height":"width"}function Du(e){return["top","bottom"].includes(od(e))?"y":"x"}function ER(e){return TR(Du(e))}function bbe(e,t,n){n===void 0&&(n=!1);const r=pv(e),a=ER(e),i=AR(a);let o=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=iS(o)),[o,iS(o)]}function jbe(e){const t=iS(e);return[ZE(e),t,ZE(t)]}function ZE(e){return e.replace(/start|end/g,t=>ybe[t])}function wbe(e,t,n){const r=["left","right"],a=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?a:r:t?r:a;case"left":case"right":return t?i:o;default:return[]}}function Nbe(e,t,n,r){const a=pv(e);let i=wbe(od(e),n==="start",r);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(ZE)))),i}function iS(e){return e.replace(/left|right|bottom|top/g,t=>xbe[t])}function Sbe(e){return{top:0,right:0,bottom:0,left:0,...e}}function xZ(e){return typeof e!="number"?Sbe(e):{top:e,right:e,bottom:e,left:e}}function oS(e){const{x:t,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:t,right:t+r,bottom:n+a,x:t,y:n}}function V3(e,t,n){let{reference:r,floating:a}=e;const i=Du(t),o=ER(t),l=AR(o),c=od(t),d=i==="y",u=r.x+r.width/2-a.width/2,h=r.y+r.height/2-a.height/2,f=r[l]/2-a[l]/2;let g;switch(c){case"top":g={x:u,y:r.y-a.height};break;case"bottom":g={x:u,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:h};break;case"left":g={x:r.x-a.width,y:h};break;default:g={x:r.x,y:r.y}}switch(pv(t)){case"start":g[o]-=f*(n&&d?-1:1);break;case"end":g[o]+=f*(n&&d?-1:1);break}return g}const Cbe=async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:h}=V3(d,r,c),f=r,g={},m=0;for(let p=0;p<l.length;p++){const{name:x,fn:v}=l[p],{x:y,y:j,data:N,reset:w}=await v({x:u,y:h,initialPlacement:r,placement:f,strategy:a,middlewareData:g,rects:d,platform:o,elements:{reference:e,floating:t}});u=y??u,h=j??h,g={...g,[x]:{...g[x],...N}},w&&m<=50&&(m++,typeof w=="object"&&(w.placement&&(f=w.placement),w.rects&&(d=w.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):w.rects),{x:u,y:h}=V3(d,f,c)),p=-1)}return{x:u,y:h,placement:f,strategy:a,middlewareData:g}};async function t0(e,t){var n;t===void 0&&(t={});const{x:r,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:f=!1,padding:g=0}=id(t,e),m=xZ(g),x=l[f?h==="floating"?"reference":"floating":h],v=oS(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),y=h==="floating"?{x:r,y:a,width:o.floating.width,height:o.floating.height}:o.reference,j=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),N=await(i.isElement==null?void 0:i.isElement(j))?await(i.getScale==null?void 0:i.getScale(j))||{x:1,y:1}:{x:1,y:1},w=oS(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:j,strategy:c}):y);return{top:(v.top-w.top+m.top)/N.y,bottom:(w.bottom-v.bottom+m.bottom)/N.y,left:(v.left-w.left+m.left)/N.x,right:(w.right-v.right+m.right)/N.x}}const kbe=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=id(e,t)||{};if(d==null)return{};const h=xZ(u),f={x:n,y:r},g=ER(a),m=AR(g),p=await o.getDimensions(d),x=g==="y",v=x?"top":"left",y=x?"bottom":"right",j=x?"clientHeight":"clientWidth",N=i.reference[m]+i.reference[g]-f[g]-i.floating[m],w=f[g]-i.reference[g],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let k=S?S[j]:0;(!k||!await(o.isElement==null?void 0:o.isElement(S)))&&(k=l.floating[j]||i.floating[m]);const _=N/2-w/2,T=k/2-p[m]/2-1,P=Eu(h[v],T),C=Eu(h[y],T),A=P,E=k-p[m]-C,I=k/2-p[m]/2+_,$=QE(A,I,E),U=!c.arrow&&pv(a)!=null&&I!==$&&i.reference[m]/2-(I<A?P:C)-p[m]/2<0,M=U?I<A?I-A:I-E:0;return{[g]:f[g]+M,data:{[g]:$,centerOffset:I-$-M,...U&&{alignmentOffset:M}},reset:U}}}),_be=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:p=!0,...x}=id(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=od(a),y=Du(l),j=od(l)===l,N=await(c.isRTL==null?void 0:c.isRTL(d.floating)),w=f||(j||!p?[iS(l)]:jbe(l)),S=m!=="none";!f&&S&&w.push(...Nbe(l,p,m,N));const k=[l,...w],_=await t0(t,x),T=[];let P=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&T.push(_[v]),h){const I=bbe(a,o,N);T.push(_[I[0]],_[I[1]])}if(P=[...P,{placement:a,overflows:T}],!T.every(I=>I<=0)){var C,A;const I=(((C=i.flip)==null?void 0:C.index)||0)+1,$=k[I];if($)return{data:{index:I,overflows:P},reset:{placement:$}};let U=(A=P.filter(M=>M.overflows[0]<=0).sort((M,F)=>M.overflows[1]-F.overflows[1])[0])==null?void 0:A.placement;if(!U)switch(g){case"bestFit":{var E;const M=(E=P.filter(F=>{if(S){const V=Du(F.placement);return V===y||V==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(V=>V>0).reduce((V,Y)=>V+Y,0)]).sort((F,V)=>F[1]-V[1])[0])==null?void 0:E[0];M&&(U=M);break}case"initialPlacement":U=l;break}if(a!==U)return{reset:{placement:U}}}return{}}}};function W3(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function H3(e){return vbe.some(t=>e[t]>=0)}const Pbe=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...a}=id(e,t);switch(r){case"referenceHidden":{const i=await t0(t,{...a,elementContext:"reference"}),o=W3(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:H3(o)}}}case"escaped":{const i=await t0(t,{...a,altBoundary:!0}),o=W3(i,n.floating);return{data:{escapedOffsets:o,escaped:H3(o)}}}default:return{}}}}};async function Tbe(e,t){const{placement:n,platform:r,elements:a}=e,i=await(r.isRTL==null?void 0:r.isRTL(a.floating)),o=od(n),l=pv(n),c=Du(n)==="y",d=["left","top"].includes(o)?-1:1,u=i&&c?-1:1,h=id(t,e);let{mainAxis:f,crossAxis:g,alignmentAxis:m}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof m=="number"&&(g=l==="end"?m*-1:m),c?{x:g*u,y:f*d}:{x:f*d,y:g*u}}const Abe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await Tbe(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},Ebe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:x=>{let{x:v,y}=x;return{x:v,y}}},...c}=id(e,t),d={x:n,y:r},u=await t0(t,c),h=Du(od(a)),f=TR(h);let g=d[f],m=d[h];if(i){const x=f==="y"?"top":"left",v=f==="y"?"bottom":"right",y=g+u[x],j=g-u[v];g=QE(y,g,j)}if(o){const x=h==="y"?"top":"left",v=h==="y"?"bottom":"right",y=m+u[x],j=m-u[v];m=QE(y,m,j)}const p=l.fn({...t,[f]:g,[h]:m});return{...p,data:{x:p.x-n,y:p.y-r,enabled:{[f]:i,[h]:o}}}}}},Dbe=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=id(e,t),u={x:n,y:r},h=Du(a),f=TR(h);let g=u[f],m=u[h];const p=id(l,t),x=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const j=f==="y"?"height":"width",N=i.reference[f]-i.floating[j]+x.mainAxis,w=i.reference[f]+i.reference[j]-x.mainAxis;g<N?g=N:g>w&&(g=w)}if(d){var v,y;const j=f==="y"?"width":"height",N=["top","left"].includes(od(a)),w=i.reference[h]-i.floating[j]+(N&&((v=o.offset)==null?void 0:v[h])||0)+(N?0:x.crossAxis),S=i.reference[h]+i.reference[j]+(N?0:((y=o.offset)==null?void 0:y[h])||0)-(N?x.crossAxis:0);m<w?m=w:m>S&&(m=S)}return{[f]:g,[h]:m}}}},Obe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...d}=id(e,t),u=await t0(t,d),h=od(a),f=pv(a),g=Du(a)==="y",{width:m,height:p}=i.floating;let x,v;h==="top"||h==="bottom"?(x=h,v=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(v=h,x=f==="end"?"top":"bottom");const y=p-u.top-u.bottom,j=m-u.left-u.right,N=Eu(p-u[x],y),w=Eu(m-u[v],j),S=!t.middlewareData.shift;let k=N,_=w;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(_=j),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(k=y),S&&!f){const P=ii(u.left,0),C=ii(u.right,0),A=ii(u.top,0),E=ii(u.bottom,0);g?_=m-2*(P!==0||C!==0?P+C:ii(u.left,u.right)):k=p-2*(A!==0||E!==0?A+E:ii(u.top,u.bottom))}await c({...t,availableWidth:_,availableHeight:k});const T=await o.getDimensions(l.floating);return m!==T.width||p!==T.height?{reset:{rects:!0}}:{}}}};function Z2(){return typeof window<"u"}function gv(e){return yZ(e)?(e.nodeName||"").toLowerCase():"#document"}function pi(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function fc(e){var t;return(t=(yZ(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function yZ(e){return Z2()?e instanceof Node||e instanceof pi(e).Node:!1}function Qo(e){return Z2()?e instanceof Element||e instanceof pi(e).Element:!1}function ac(e){return Z2()?e instanceof HTMLElement||e instanceof pi(e).HTMLElement:!1}function q3(e){return!Z2()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof pi(e).ShadowRoot}function vj(e){const{overflow:t,overflowX:n,overflowY:r,display:a}=Zo(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(a)}function Mbe(e){return["table","td","th"].includes(gv(e))}function J2(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function DR(e){const t=OR(),n=Qo(e)?Zo(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Rbe(e){let t=Ou(e);for(;ac(t)&&!dg(t);){if(DR(t))return t;if(J2(t))return null;t=Ou(t)}return null}function OR(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function dg(e){return["html","body","#document"].includes(gv(e))}function Zo(e){return pi(e).getComputedStyle(e)}function ek(e){return Qo(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ou(e){if(gv(e)==="html")return e;const t=e.assignedSlot||e.parentNode||q3(e)&&e.host||fc(e);return q3(t)?t.host:t}function bZ(e){const t=Ou(e);return dg(t)?e.ownerDocument?e.ownerDocument.body:e.body:ac(t)&&vj(t)?t:bZ(t)}function n0(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=bZ(e),i=a===((r=e.ownerDocument)==null?void 0:r.body),o=pi(a);if(i){const l=JE(o);return t.concat(o,o.visualViewport||[],vj(a)?a:[],l&&n?n0(l):[])}return t.concat(a,n0(a,[],n))}function JE(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function jZ(e){const t=Zo(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=ac(e),i=a?e.offsetWidth:n,o=a?e.offsetHeight:r,l=aS(n)!==i||aS(r)!==o;return l&&(n=i,r=o),{width:n,height:r,$:l}}function MR(e){return Qo(e)?e:e.contextElement}function ap(e){const t=MR(e);if(!ac(t))return ql(1);const n=t.getBoundingClientRect(),{width:r,height:a,$:i}=jZ(t);let o=(i?aS(n.width):n.width)/r,l=(i?aS(n.height):n.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const $be=ql(0);function wZ(e){const t=pi(e);return!OR()||!t.visualViewport?$be:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Ibe(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==pi(e)?!1:t}function Cf(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),i=MR(e);let o=ql(1);t&&(r?Qo(r)&&(o=ap(r)):o=ap(e));const l=Ibe(i,n,r)?wZ(i):ql(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,u=a.width/o.x,h=a.height/o.y;if(i){const f=pi(i),g=r&&Qo(r)?pi(r):r;let m=f,p=JE(m);for(;p&&r&&g!==m;){const x=ap(p),v=p.getBoundingClientRect(),y=Zo(p),j=v.left+(p.clientLeft+parseFloat(y.paddingLeft))*x.x,N=v.top+(p.clientTop+parseFloat(y.paddingTop))*x.y;c*=x.x,d*=x.y,u*=x.x,h*=x.y,c+=j,d+=N,m=pi(p),p=JE(m)}}return oS({width:u,height:h,x:c,y:d})}function RR(e,t){const n=ek(e).scrollLeft;return t?t.left+n:Cf(fc(e)).left+n}function NZ(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),a=r.left+t.scrollLeft-(n?0:RR(e,r)),i=r.top+t.scrollTop;return{x:a,y:i}}function Fbe(e){let{elements:t,rect:n,offsetParent:r,strategy:a}=e;const i=a==="fixed",o=fc(r),l=t?J2(t.floating):!1;if(r===o||l&&i)return n;let c={scrollLeft:0,scrollTop:0},d=ql(1);const u=ql(0),h=ac(r);if((h||!h&&!i)&&((gv(r)!=="body"||vj(o))&&(c=ek(r)),ac(r))){const g=Cf(r);d=ap(r),u.x=g.x+r.clientLeft,u.y=g.y+r.clientTop}const f=o&&!h&&!i?NZ(o,c,!0):ql(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+u.x+f.x,y:n.y*d.y-c.scrollTop*d.y+u.y+f.y}}function Lbe(e){return Array.from(e.getClientRects())}function zbe(e){const t=fc(e),n=ek(e),r=e.ownerDocument.body,a=ii(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=ii(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+RR(e);const l=-n.scrollTop;return Zo(r).direction==="rtl"&&(o+=ii(t.clientWidth,r.clientWidth)-a),{width:a,height:i,x:o,y:l}}function Bbe(e,t){const n=pi(e),r=fc(e),a=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=OR();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}function Ube(e,t){const n=Cf(e,!0,t==="fixed"),r=n.top+e.clientTop,a=n.left+e.clientLeft,i=ac(e)?ap(e):ql(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,d=r*i.y;return{width:o,height:l,x:c,y:d}}function K3(e,t,n){let r;if(t==="viewport")r=Bbe(e,n);else if(t==="document")r=zbe(fc(e));else if(Qo(t))r=Ube(t,n);else{const a=wZ(e);r={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return oS(r)}function SZ(e,t){const n=Ou(e);return n===t||!Qo(n)||dg(n)?!1:Zo(n).position==="fixed"||SZ(n,t)}function Vbe(e,t){const n=t.get(e);if(n)return n;let r=n0(e,[],!1).filter(l=>Qo(l)&&gv(l)!=="body"),a=null;const i=Zo(e).position==="fixed";let o=i?Ou(e):e;for(;Qo(o)&&!dg(o);){const l=Zo(o),c=DR(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||vj(o)&&!c&&SZ(e,o))?r=r.filter(u=>u!==o):a=l,o=Ou(o)}return t.set(e,r),r}function Wbe(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e;const o=[...n==="clippingAncestors"?J2(t)?[]:Vbe(t,this._c):[].concat(n),r],l=o[0],c=o.reduce((d,u)=>{const h=K3(t,u,a);return d.top=ii(h.top,d.top),d.right=Eu(h.right,d.right),d.bottom=Eu(h.bottom,d.bottom),d.left=ii(h.left,d.left),d},K3(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Hbe(e){const{width:t,height:n}=jZ(e);return{width:t,height:n}}function qbe(e,t,n){const r=ac(t),a=fc(t),i=n==="fixed",o=Cf(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=ql(0);if(r||!r&&!i)if((gv(t)!=="body"||vj(a))&&(l=ek(t)),r){const f=Cf(t,!0,i,t);c.x=f.x+t.clientLeft,c.y=f.y+t.clientTop}else a&&(c.x=RR(a));const d=a&&!r&&!i?NZ(a,l):ql(0),u=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:u,y:h,width:o.width,height:o.height}}function qP(e){return Zo(e).position==="static"}function G3(e,t){if(!ac(e)||Zo(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return fc(e)===n&&(n=n.ownerDocument.body),n}function CZ(e,t){const n=pi(e);if(J2(e))return n;if(!ac(e)){let a=Ou(e);for(;a&&!dg(a);){if(Qo(a)&&!qP(a))return a;a=Ou(a)}return n}let r=G3(e,t);for(;r&&Mbe(r)&&qP(r);)r=G3(r,t);return r&&dg(r)&&qP(r)&&!DR(r)?n:r||Rbe(e)||n}const Kbe=async function(e){const t=this.getOffsetParent||CZ,n=this.getDimensions,r=await n(e.floating);return{reference:qbe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Gbe(e){return Zo(e).direction==="rtl"}const Ybe={convertOffsetParentRelativeRectToViewportRelativeRect:Fbe,getDocumentElement:fc,getClippingRect:Wbe,getOffsetParent:CZ,getElementRects:Kbe,getClientRects:Lbe,getDimensions:Hbe,getScale:ap,isElement:Qo,isRTL:Gbe};function kZ(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Xbe(e,t){let n=null,r;const a=fc(e);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=e.getBoundingClientRect(),{left:u,top:h,width:f,height:g}=d;if(l||t(),!f||!g)return;const m=Bw(h),p=Bw(a.clientWidth-(u+f)),x=Bw(a.clientHeight-(h+g)),v=Bw(u),j={rootMargin:-m+"px "+-p+"px "+-x+"px "+-v+"px",threshold:ii(0,Eu(1,c))||1};let N=!0;function w(S){const k=S[0].intersectionRatio;if(k!==c){if(!N)return o();k?o(!1,k):r=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!kZ(d,e.getBoundingClientRect())&&o(),N=!1}try{n=new IntersectionObserver(w,{...j,root:a.ownerDocument})}catch{n=new IntersectionObserver(w,j)}n.observe(e)}return o(!0),i}function Qbe(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=MR(e),u=a||i?[...d?n0(d):[],...n0(t)]:[];u.forEach(v=>{a&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const h=d&&l?Xbe(d,n):null;let f=-1,g=null;o&&(g=new ResizeObserver(v=>{let[y]=v;y&&y.target===d&&g&&(g.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var j;(j=g)==null||j.observe(t)})),n()}),d&&!c&&g.observe(d),g.observe(t));let m,p=c?Cf(e):null;c&&x();function x(){const v=Cf(e);p&&!kZ(p,v)&&n(),p=v,m=requestAnimationFrame(x)}return n(),()=>{var v;u.forEach(y=>{a&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),h==null||h(),(v=g)==null||v.disconnect(),g=null,c&&cancelAnimationFrame(m)}}const Zbe=Abe,Jbe=Ebe,eje=_be,tje=Obe,nje=Pbe,Y3=kbe,rje=Dbe,sje=(e,t,n)=>{const r=new Map,a={platform:Ybe,...n},i={...a.platform,_c:r};return Cbe(e,t,{...a,platform:i})};var e1=typeof document<"u"?b.useLayoutEffect:b.useEffect;function lS(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!lS(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=n;r--!==0;){const i=a[r];if(!(i==="_owner"&&e.$$typeof)&&!lS(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function _Z(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function X3(e,t){const n=_Z(e);return Math.round(t*n)/n}function KP(e){const t=b.useRef(e);return e1(()=>{t.current=e}),t}function aje(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,h]=b.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,g]=b.useState(r);lS(f,r)||g(r);const[m,p]=b.useState(null),[x,v]=b.useState(null),y=b.useCallback(F=>{F!==S.current&&(S.current=F,p(F))},[]),j=b.useCallback(F=>{F!==k.current&&(k.current=F,v(F))},[]),N=i||m,w=o||x,S=b.useRef(null),k=b.useRef(null),_=b.useRef(u),T=c!=null,P=KP(c),C=KP(a),A=KP(d),E=b.useCallback(()=>{if(!S.current||!k.current)return;const F={placement:t,strategy:n,middleware:f};C.current&&(F.platform=C.current),sje(S.current,k.current,F).then(V=>{const Y={...V,isPositioned:A.current!==!1};I.current&&!lS(_.current,Y)&&(_.current=Y,Gi.flushSync(()=>{h(Y)}))})},[f,t,n,C,A]);e1(()=>{d===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,h(F=>({...F,isPositioned:!1})))},[d]);const I=b.useRef(!1);e1(()=>(I.current=!0,()=>{I.current=!1}),[]),e1(()=>{if(N&&(S.current=N),w&&(k.current=w),N&&w){if(P.current)return P.current(N,w,E);E()}},[N,w,E,P,T]);const $=b.useMemo(()=>({reference:S,floating:k,setReference:y,setFloating:j}),[y,j]),U=b.useMemo(()=>({reference:N,floating:w}),[N,w]),M=b.useMemo(()=>{const F={position:n,left:0,top:0};if(!U.floating)return F;const V=X3(U.floating,u.x),Y=X3(U.floating,u.y);return l?{...F,transform:"translate("+V+"px, "+Y+"px)",..._Z(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:Y}},[n,l,U.floating,u.x,u.y]);return b.useMemo(()=>({...u,update:E,refs:$,elements:U,floatingStyles:M}),[u,E,$,U,M])}const ije=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:a}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Y3({element:r.current,padding:a}).fn(n):{}:r?Y3({element:r,padding:a}).fn(n):{}}}},oje=(e,t)=>({...Zbe(e),options:[e,t]}),lje=(e,t)=>({...Jbe(e),options:[e,t]}),cje=(e,t)=>({...rje(e),options:[e,t]}),dje=(e,t)=>({...eje(e),options:[e,t]}),uje=(e,t)=>({...tje(e),options:[e,t]}),hje=(e,t)=>({...nje(e),options:[e,t]}),fje=(e,t)=>({...ije(e),options:[e,t]});var mje="Arrow",PZ=b.forwardRef((e,t)=>{const{children:n,width:r=10,height:a=5,...i}=e;return s.jsx(Qe.svg,{...i,ref:t,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});PZ.displayName=mje;var pje=PZ;function tk(e){const[t,n]=b.useState(void 0);return $r(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var $R="Popper",[TZ,Xu]=fs($R),[gje,AZ]=TZ($R),EZ=e=>{const{__scopePopper:t,children:n}=e,[r,a]=b.useState(null);return s.jsx(gje,{scope:t,anchor:r,onAnchorChange:a,children:n})};EZ.displayName=$R;var DZ="PopperAnchor",OZ=b.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...a}=e,i=AZ(DZ,n),o=b.useRef(null),l=wt(t,o);return b.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:s.jsx(Qe.div,{...a,ref:l})});OZ.displayName=DZ;var IR="PopperContent",[vje,xje]=TZ(IR),MZ=b.forwardRef((e,t)=>{var ne,be,ge,we,Ae,X;const{__scopePopper:n,side:r="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:g="optimized",onPlaced:m,...p}=e,x=AZ(IR,n),[v,y]=b.useState(null),j=wt(t,xe=>y(xe)),[N,w]=b.useState(null),S=tk(N),k=(S==null?void 0:S.width)??0,_=(S==null?void 0:S.height)??0,T=r+(i!=="center"?"-"+i:""),P=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},C=Array.isArray(d)?d:[d],A=C.length>0,E={padding:P,boundary:C.filter(bje),altBoundary:A},{refs:I,floatingStyles:$,placement:U,isPositioned:M,middlewareData:F}=aje({strategy:"fixed",placement:T,whileElementsMounted:(...xe)=>Qbe(...xe,{animationFrame:g==="always"}),elements:{reference:x.anchor},middleware:[oje({mainAxis:a+_,alignmentAxis:o}),c&&lje({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?cje():void 0,...E}),c&&dje({...E}),uje({...E,apply:({elements:xe,rects:Be,availableWidth:At,availableHeight:Pt})=>{const{width:sn,height:Kr}=Be.reference,mr=xe.floating.style;mr.setProperty("--radix-popper-available-width",`${At}px`),mr.setProperty("--radix-popper-available-height",`${Pt}px`),mr.setProperty("--radix-popper-anchor-width",`${sn}px`),mr.setProperty("--radix-popper-anchor-height",`${Kr}px`)}}),N&&fje({element:N,padding:l}),jje({arrowWidth:k,arrowHeight:_}),f&&hje({strategy:"referenceHidden",...E})]}),[V,Y]=IZ(U),K=Qn(m);$r(()=>{M&&(K==null||K())},[M,K]);const z=(ne=F.arrow)==null?void 0:ne.x,L=(be=F.arrow)==null?void 0:be.y,ee=((ge=F.arrow)==null?void 0:ge.centerOffset)!==0,[le,ve]=b.useState();return $r(()=>{v&&ve(window.getComputedStyle(v).zIndex)},[v]),s.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:M?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:le,"--radix-popper-transform-origin":[(we=F.transformOrigin)==null?void 0:we.x,(Ae=F.transformOrigin)==null?void 0:Ae.y].join(" "),...((X=F.hide)==null?void 0:X.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(vje,{scope:n,placedSide:V,onArrowChange:w,arrowX:z,arrowY:L,shouldHideArrow:ee,children:s.jsx(Qe.div,{"data-side":V,"data-align":Y,...p,ref:j,style:{...p.style,animation:M?void 0:"none"}})})})});MZ.displayName=IR;var RZ="PopperArrow",yje={top:"bottom",right:"left",bottom:"top",left:"right"},$Z=b.forwardRef(function(t,n){const{__scopePopper:r,...a}=t,i=xje(RZ,r),o=yje[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(pje,{...a,ref:n,style:{...a.style,display:"block"}})})});$Z.displayName=RZ;function bje(e){return e!==null}var jje=e=>({name:"transformOrigin",options:e,fn(t){var x,v,y;const{placement:n,rects:r,middlewareData:a}=t,o=((x=a.arrow)==null?void 0:x.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=IZ(n),h={start:"0%",center:"50%",end:"100%"}[u],f=(((v=a.arrow)==null?void 0:v.x)??0)+l/2,g=(((y=a.arrow)==null?void 0:y.y)??0)+c/2;let m="",p="";return d==="bottom"?(m=o?h:`${f}px`,p=`${-c}px`):d==="top"?(m=o?h:`${f}px`,p=`${r.floating.height+c}px`):d==="right"?(m=`${-c}px`,p=o?h:`${g}px`):d==="left"&&(m=`${r.floating.width+c}px`,p=o?h:`${g}px`),{data:{x:m,y:p}}}});function IZ(e){const[t,n="center"]=e.split("-");return[t,n]}var nk=EZ,xj=OZ,rk=MZ,sk=$Z,[ak,HNt]=fs("Tooltip",[Xu]),ik=Xu(),FZ="TooltipProvider",wje=700,eD="tooltip.open",[Nje,FR]=ak(FZ),LZ=e=>{const{__scopeTooltip:t,delayDuration:n=wje,skipDelayDuration:r=300,disableHoverableContent:a=!1,children:i}=e,o=b.useRef(!0),l=b.useRef(!1),c=b.useRef(0);return b.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),s.jsx(Nje,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:b.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:b.useCallback(d=>{l.current=d},[]),disableHoverableContent:a,children:i})};LZ.displayName=FZ;var ok="Tooltip",[Sje,lk]=ak(ok),zZ=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:a=!1,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=FR(ok,e.__scopeTooltip),d=ik(t),[u,h]=b.useState(null),f=mi(),g=b.useRef(0),m=o??c.disableHoverableContent,p=l??c.delayDuration,x=b.useRef(!1),[v=!1,y]=bi({prop:r,defaultProp:a,onChange:k=>{k?(c.onOpen(),document.dispatchEvent(new CustomEvent(eD))):c.onClose(),i==null||i(k)}}),j=b.useMemo(()=>v?x.current?"delayed-open":"instant-open":"closed",[v]),N=b.useCallback(()=>{window.clearTimeout(g.current),g.current=0,x.current=!1,y(!0)},[y]),w=b.useCallback(()=>{window.clearTimeout(g.current),g.current=0,y(!1)},[y]),S=b.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{x.current=!0,y(!0),g.current=0},p)},[p,y]);return b.useEffect(()=>()=>{g.current&&(window.clearTimeout(g.current),g.current=0)},[]),s.jsx(nk,{...d,children:s.jsx(Sje,{scope:t,contentId:f,open:v,stateAttribute:j,trigger:u,onTriggerChange:h,onTriggerEnter:b.useCallback(()=>{c.isOpenDelayedRef.current?S():N()},[c.isOpenDelayedRef,S,N]),onTriggerLeave:b.useCallback(()=>{m?w():(window.clearTimeout(g.current),g.current=0)},[w,m]),onOpen:N,onClose:w,disableHoverableContent:m,children:n})})};zZ.displayName=ok;var tD="TooltipTrigger",BZ=b.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=lk(tD,n),i=FR(tD,n),o=ik(n),l=b.useRef(null),c=wt(t,l,a.onTriggerChange),d=b.useRef(!1),u=b.useRef(!1),h=b.useCallback(()=>d.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),s.jsx(xj,{asChild:!0,...o,children:s.jsx(Qe.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...r,ref:c,onPointerMove:Pe(e.onPointerMove,f=>{f.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),u.current=!0)}),onPointerLeave:Pe(e.onPointerLeave,()=>{a.onTriggerLeave(),u.current=!1}),onPointerDown:Pe(e.onPointerDown,()=>{a.open&&a.onClose(),d.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Pe(e.onFocus,()=>{d.current||a.onOpen()}),onBlur:Pe(e.onBlur,a.onClose),onClick:Pe(e.onClick,a.onClose)})})});BZ.displayName=tD;var Cje="TooltipPortal",[qNt,kje]=ak(Cje,{forceMount:void 0}),ug="TooltipContent",UZ=b.forwardRef((e,t)=>{const n=kje(ug,e.__scopeTooltip),{forceMount:r=n.forceMount,side:a="top",...i}=e,o=lk(ug,e.__scopeTooltip);return s.jsx(ms,{present:r||o.open,children:o.disableHoverableContent?s.jsx(VZ,{side:a,...i,ref:t}):s.jsx(_je,{side:a,...i,ref:t})})}),_je=b.forwardRef((e,t)=>{const n=lk(ug,e.__scopeTooltip),r=FR(ug,e.__scopeTooltip),a=b.useRef(null),i=wt(t,a),[o,l]=b.useState(null),{trigger:c,onClose:d}=n,u=a.current,{onPointerInTransitChange:h}=r,f=b.useCallback(()=>{l(null),h(!1)},[h]),g=b.useCallback((m,p)=>{const x=m.currentTarget,v={x:m.clientX,y:m.clientY},y=Dje(v,x.getBoundingClientRect()),j=Oje(v,y),N=Mje(p.getBoundingClientRect()),w=$je([...j,...N]);l(w),h(!0)},[h]);return b.useEffect(()=>()=>f(),[f]),b.useEffect(()=>{if(c&&u){const m=x=>g(x,u),p=x=>g(x,c);return c.addEventListener("pointerleave",m),u.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",m),u.removeEventListener("pointerleave",p)}}},[c,u,g,f]),b.useEffect(()=>{if(o){const m=p=>{const x=p.target,v={x:p.clientX,y:p.clientY},y=(c==null?void 0:c.contains(x))||(u==null?void 0:u.contains(x)),j=!Rje(v,o);y?f():j&&(f(),d())};return document.addEventListener("pointermove",m),()=>document.removeEventListener("pointermove",m)}},[c,u,o,d,f]),s.jsx(VZ,{...e,ref:i})}),[Pje,Tje]=ak(ok,{isInside:!1}),Aje=NQ("TooltipContent"),VZ=b.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=lk(ug,n),d=ik(n),{onClose:u}=c;return b.useEffect(()=>(document.addEventListener(eD,u),()=>document.removeEventListener(eD,u)),[u]),b.useEffect(()=>{if(c.trigger){const h=f=>{const g=f.target;g!=null&&g.contains(c.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,u]),s.jsx(Gf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:s.jsxs(rk,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(Aje,{children:r}),s.jsx(Pje,{scope:n,isInside:!0,children:s.jsx(Dye,{id:c.contentId,role:"tooltip",children:a||r})})]})})});UZ.displayName=ug;var WZ="TooltipArrow",Eje=b.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=ik(n);return Tje(WZ,n).isInside?null:s.jsx(sk,{...a,...r,ref:t})});Eje.displayName=WZ;function Dje(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,a,i)){case i:return"left";case a:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Oje(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function Mje(e){const{top:t,right:n,bottom:r,left:a}=e;return[{x:a,y:t},{x:n,y:t},{x:n,y:r},{x:a,y:r}]}function Rje(e,t){const{x:n,y:r}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,c=t[i].y,d=t[o].x,u=t[o].y;c>r!=u>r&&n<(d-l)*(r-c)/(u-c)+l&&(a=!a)}return a}function $je(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Ije(t)}function Ije(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const a=e[r];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const a=e[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))n.pop();else break}n.push(a)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var Fje=LZ,Lje=zZ,zje=BZ,HZ=UZ;const Bje=Fje,la=Lje,ca=zje,Vs=b.forwardRef(({className:e,sideOffset:t=4,...n},r)=>s.jsx(HZ,{ref:r,sideOffset:t,className:Ne("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n}));Vs.displayName=HZ.displayName;function er(){const{data:e,isLoading:t,error:n}=he({queryKey:["/api/auth/user"],retry:!1}),r=e==null?void 0:e.user;return{user:r,isLoading:t,isAuthenticated:!!r,isAdmin:(r==null?void 0:r.role)==="admin",isDemoUser:!!(r!=null&&r.isDemo),demoSessionId:r==null?void 0:r.demoSessionId,sessionExpiresAt:r==null?void 0:r.sessionExpiresAt,error:n}}const ch={professional:{name:"professional",label:"Professional",emoji:"",description:"Classic Gigster Garage brand colors for focused productivity",colors:{primary:"#004C6D",secondary:"#0B1D3A",accent:"#FFB200",background:"hsl(0 0% 100%)",foreground:"hsl(0 0% 0%)",card:"hsl(248 10% 97%)",cardForeground:"hsl(0 0% 0%)",muted:"hsl(220 14.3% 95.9%)",mutedForeground:"hsl(220 8.9% 46.1%)",border:"hsl(220 13% 91%)",input:"hsl(220 13% 91%)",ring:"#004C6D",gigsterPrimary:"#004C6D",gigsterSecondary:"#0B1D3A",gigsterAccent:"#FFB200"},gradients:{primary:"linear-gradient(135deg, #004C6D 0%, #0B1D3A 100%)",hero:"linear-gradient(135deg, #004C6D 0%, #003d5a 100%)",card:"linear-gradient(180deg, #ffffff 0%, #fafbfc 100%)"}},energetic:{name:"energetic",label:"Energetic",emoji:"",description:"Vibrant orange and red tones for high-energy work sessions",colors:{primary:"#EA4C89",secondary:"#FF6B35",accent:"#F7931E",background:"hsl(0 0% 100%)",foreground:"hsl(0 0% 0%)",card:"hsl(14 30% 98%)",cardForeground:"hsl(0 0% 0%)",muted:"hsl(14 25% 94%)",mutedForeground:"hsl(14 8% 46%)",border:"hsl(14 20% 88%)",input:"hsl(14 20% 88%)",ring:"#EA4C89",gigsterPrimary:"#EA4C89",gigsterSecondary:"#FF6B35",gigsterAccent:"#F7931E"},gradients:{primary:"linear-gradient(135deg, #EA4C89 0%, #FF6B35 100%)",hero:"linear-gradient(135deg, #EA4C89 0%, #d63384 100%)",card:"linear-gradient(180deg, #fff9f8 0%, #fef3f2 100%)"}},calm:{name:"calm",label:"Calm",emoji:"",description:"Soothing green and blue tones for peaceful focused work",colors:{primary:"#10B981",secondary:"#059669",accent:"#34D399",background:"hsl(0 0% 100%)",foreground:"hsl(0 0% 0%)",card:"hsl(151 30% 98%)",cardForeground:"hsl(0 0% 0%)",muted:"hsl(151 25% 94%)",mutedForeground:"hsl(151 8% 46%)",border:"hsl(151 20% 88%)",input:"hsl(151 20% 88%)",ring:"#10B981",gigsterPrimary:"#10B981",gigsterSecondary:"#059669",gigsterAccent:"#34D399"},gradients:{primary:"linear-gradient(135deg, #10B981 0%, #059669 100%)",hero:"linear-gradient(135deg, #10B981 0%, #047857 100%)",card:"linear-gradient(180deg, #f0fdf4 0%, #ecfdf5 100%)"}},creative:{name:"creative",label:"Creative",emoji:"",description:"Purple and magenta palette to inspire creativity",colors:{primary:"#8B5CF6",secondary:"#A855F7",accent:"#C084FC",background:"hsl(0 0% 100%)",foreground:"hsl(0 0% 0%)",card:"hsl(269 30% 98%)",cardForeground:"hsl(0 0% 0%)",muted:"hsl(269 25% 94%)",mutedForeground:"hsl(269 8% 46%)",border:"hsl(269 20% 88%)",input:"hsl(269 20% 88%)",ring:"#8B5CF6",gigsterPrimary:"#8B5CF6",gigsterSecondary:"#A855F7",gigsterAccent:"#C084FC"},gradients:{primary:"linear-gradient(135deg, #8B5CF6 0%, #A855F7 100%)",hero:"linear-gradient(135deg, #8B5CF6 0%, #7C3AED 100%)",card:"linear-gradient(180deg, #faf5ff 0%, #f3e8ff 100%)"}},focus:{name:"focus",label:"Focus",emoji:"",description:"Deep blue tones for maximum concentration",colors:{primary:"#1E40AF",secondary:"#3B82F6",accent:"#60A5FA",background:"hsl(0 0% 100%)",foreground:"hsl(0 0% 0%)",card:"hsl(221 30% 98%)",cardForeground:"hsl(0 0% 0%)",muted:"hsl(221 25% 94%)",mutedForeground:"hsl(221 8% 46%)",border:"hsl(221 20% 88%)",input:"hsl(221 20% 88%)",ring:"#1E40AF",gigsterPrimary:"#1E40AF",gigsterSecondary:"#3B82F6",gigsterAccent:"#60A5FA"},gradients:{primary:"linear-gradient(135deg, #1E40AF 0%, #3B82F6 100%)",hero:"linear-gradient(135deg, #1E40AF 0%, #1E3A8A 100%)",card:"linear-gradient(180deg, #eff6ff 0%, #dbeafe 100%)"}},warm:{name:"warm",label:"Warm",emoji:"",description:"Golden amber tones for a cozy productive atmosphere",colors:{primary:"#D97706",secondary:"#F59E0B",accent:"#FCD34D",background:"hsl(0 0% 100%)",foreground:"hsl(0 0% 0%)",card:"hsl(45 30% 98%)",cardForeground:"hsl(0 0% 0%)",muted:"hsl(45 25% 94%)",mutedForeground:"hsl(45 8% 46%)",border:"hsl(45 20% 88%)",input:"hsl(45 20% 88%)",ring:"#D97706",gigsterPrimary:"#D97706",gigsterSecondary:"#F59E0B",gigsterAccent:"#FCD34D"},gradients:{primary:"linear-gradient(135deg, #D97706 0%, #F59E0B 100%)",hero:"linear-gradient(135deg, #D97706 0%, #B45309 100%)",card:"linear-gradient(180deg, #fffbeb 0%, #fef3c7 100%)"}}},qZ=b.createContext(void 0),Q3="gigster-garage-mood-palette";function Uje({children:e}){const[t,n]=b.useState("professional");b.useEffect(()=>{try{const o=typeof window<"u"?localStorage.getItem(Q3):null;o&&ch[o]&&n(o)}catch{}},[]),b.useEffect(()=>{const o=ch[t]??ch.professional,l=typeof document<"u"?document.documentElement:void 0;if(l){l.style.setProperty("--primary",o.colors.primary),l.style.setProperty("--secondary",o.colors.secondary),l.style.setProperty("--accent",o.colors.accent),l.style.setProperty("--background",o.colors.background),l.style.setProperty("--foreground",o.colors.foreground),l.style.setProperty("--card",o.colors.card),l.style.setProperty("--card-foreground",o.colors.cardForeground),l.style.setProperty("--muted",o.colors.muted),l.style.setProperty("--muted-foreground",o.colors.mutedForeground),l.style.setProperty("--border",o.colors.border),l.style.setProperty("--input",o.colors.input),l.style.setProperty("--ring",o.colors.ring),l.style.setProperty("--garage-navy",o.colors.gigsterPrimary),l.style.setProperty("--ignition-teal",o.colors.gigsterSecondary),l.style.setProperty("--workshop-amber",o.colors.gigsterAccent),l.style.setProperty("--gigster-gradient",o.gradients.primary),l.style.setProperty("--gigster-gradient-navy",o.gradients.hero),l.style.setProperty("--mood-card-gradient",o.gradients.card);try{typeof window<"u"&&localStorage.setItem(Q3,t)}catch{}}},[t]);const r=o=>{ch[o]&&n(o)},a=ch[t]??ch.professional,i={currentMood:t,palette:a,changeMood:r,availableMoods:Object.values(ch)};return s.jsx(qZ.Provider,{value:i,children:e})}function Vje(){const e=b.useContext(qZ);if(!e)throw new Error("useMoodPalette must be used within a MoodPaletteProvider");return e}const KZ=b.createContext(void 0),GP={CREATE_SESSION:"/api/demo/create-session",SESSION_STATUS:"/api/demo/session-status",END_SESSION:"/api/demo/end-session"};function Wje(e){if(e<=0)return"0:00";const t=Math.floor(e/60),n=e%60;if(t>=60){const r=Math.floor(t/60),a=t%60;return`${r}:${a.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`}return`${t}:${n.toString().padStart(2,"0")}`}function Hje({children:e}){const{user:t,isAuthenticated:n}=er(),r=qr(),[a,i]=b.useState(0),[o,l]=b.useState(!1),c=n&&!!(t!=null&&t.isDemo),{data:d,isLoading:u,refetch:h}=he({queryKey:["demo-session-status"],queryFn:async()=>{if(!c)return null;const x=await fetch(GP.SESSION_STATUS,{credentials:"include"});if(!x.ok)throw new Error("Failed to fetch demo session status");return x.json()},enabled:c,refetchInterval:3e4,retry:!1}),f=Se({mutationFn:async()=>await ke("POST",GP.CREATE_SESSION),onSuccess:()=>{r.invalidateQueries({queryKey:["demo-session-status"]}),r.invalidateQueries({queryKey:["/api/auth/user"]}),l(!1)}}),g=Se({mutationFn:async()=>await ke("DELETE",GP.END_SESSION),onSuccess:()=>{r.invalidateQueries({queryKey:["demo-session-status"]}),r.invalidateQueries({queryKey:["/api/auth/user"]}),i(0),l(!1)}});b.useEffect(()=>{if(!c||!(d!=null&&d.isActive)||!(d!=null&&d.expiresAt)){i(0);return}const x=()=>{const y=new Date(d.expiresAt).getTime(),j=new Date().getTime(),N=Math.max(0,Math.floor((y-j)/1e3));i(N),N===0&&h()};x();const v=setInterval(x,1e3);return()=>clearInterval(v)},[c,d==null?void 0:d.isActive,d==null?void 0:d.expiresAt,h]);const m=a>0&&a<=600&&!o,p={isDemoMode:c,isLoading:u,demoSession:d,timeRemaining:a,timeRemainingFormatted:Wje(a),isExpiringSoon:m,createDemoSession:async()=>{await f.mutateAsync()},endDemoSession:async()=>{await g.mutateAsync()},refreshSessionStatus:()=>{h()},dismissWarning:()=>{l(!0)}};return s.jsx(KZ.Provider,{value:p,children:e})}function vv(){const e=b.useContext(KZ);if(e===void 0)throw new Error("useDemoMode must be used within a DemoModeProvider");return e}function yj(){const{isDemoMode:e}=vv(),[,t]=Fs(),{toast:n}=mt(),r=(o,l={})=>{if(!e)return!0;l.showToast!==!1&&n({title:"Demo Limitation",description:l.customMessage||`This feature is limited in demo mode. ${o?`(${o})`:""} Upgrade to unlock full access.`,variant:"default"});const c=l.redirectTo||"/signup",d=new URLSearchParams({from:"demo",...o&&{reason:o}});return t(`${c}?${d.toString()}`),!1};return{isDemoMode:e,canPerformAction:r,guardedAction:(o,l,c)=>(...d)=>{r(l,c)&&o(...d)},navigateToUpgrade:o=>{const l=new URLSearchParams({from:"demo",...o&&{reason:o}});t(`/signup?${l.toString()}`)},requiresUpgrade:e}}const t1={CREATE_TASK:"Task creation is limited to 5 tasks in demo mode",CREATE_CLIENT:"Client management requires full account",FILE_UPLOAD:"File uploads are limited in demo mode",EXPORT_DATA:"Data export requires full account",BULK_OPERATIONS:"Bulk operations require full account",ADVANCED_FEATURES:"Advanced features require full account",CUSTOM_FIELDS:"Custom fields require full account",API_ACCESS:"API access requires full account",INTEGRATIONS:"Integrations require full account",UNLIMITED_PROJECTS:"Project creation is limited in demo mode"},B=b.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Ne("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));B.displayName="Card";const ae=b.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Ne("flex flex-col space-y-1.5 p-6",e),...t}));ae.displayName="CardHeader";const ie=b.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Ne("text-2xl font-semibold leading-none tracking-tight",e),...t}));ie.displayName="CardTitle";const Lt=b.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Ne("text-sm text-muted-foreground",e),...t}));Lt.displayName="CardDescription";const q=b.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Ne("p-6 pt-0",e),...t}));q.displayName="CardContent";const GZ=b.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Ne("flex items-center p-6 pt-0",e),...t}));GZ.displayName="CardFooter";const r0=uv("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),D=b.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...a},i)=>{const o=r?jQ:"button";return s.jsx(o,{className:Ne(r0({variant:t,size:n,className:e})),ref:i,...a})});D.displayName="Button";const qje=uv("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Z({className:e,variant:t,...n}){return s.jsx("div",{className:Ne(qje({variant:t}),e),...n})}function Kje(){const{isDemoMode:e,timeRemainingFormatted:t,timeRemaining:n,endDemoSession:r}=vv(),{navigateToUpgrade:a}=yj(),[i,o]=b.useState(!1);return e?i?s.jsx("div",{className:"fixed top-4 right-4 z-50",children:s.jsxs(D,{variant:"outline",size:"sm",onClick:()=>o(!1),className:"bg-gradient-to-r from-purple-600 to-blue-600 text-white border-none hover:from-purple-700 hover:to-blue-700 shadow-lg","data-testid":"button-expand-demo-banner",children:[s.jsx(bt,{className:"h-4 w-4 mr-1"}),"DEMO ",t]})}):s.jsx(B,{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 bg-gradient-to-r from-purple-600 via-blue-600 to-teal-600 text-white border-none shadow-xl max-w-md w-full mx-4",children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Z,{variant:"secondary",className:"bg-white/20 text-white border-none",children:[s.jsx(cn,{className:"h-3 w-3 mr-1"}),"DEMO MODE"]}),s.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[s.jsx(bt,{className:"h-4 w-4"}),s.jsx("span",{className:"font-mono",children:t})]})]}),s.jsx(D,{variant:"ghost",size:"sm",onClick:()=>o(!0),className:"h-6 w-6 p-0 text-white hover:bg-white/20","data-testid":"button-minimize-demo-banner",children:s.jsx(Kt,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{className:"text-sm",children:["You're exploring Gigster Garage with sample data.",s.jsx("span",{className:"font-semibold",children:" Explore key features with some limitations."})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(D,{variant:"secondary",size:"sm",onClick:()=>a("demo-banner"),className:"bg-white text-purple-600 hover:bg-gray-100 flex-1","data-testid":"button-upgrade-demo",children:["Upgrade to Full Access",s.jsx(Qs,{className:"h-4 w-4 ml-1"})]}),s.jsx(D,{variant:"ghost",size:"sm",onClick:r,className:"text-white hover:bg-white/20","data-testid":"button-end-demo",children:"End Demo"})]})]})]})}):null}function Gje(){const{isDemoMode:e,timeRemainingFormatted:t}=vv();return e?s.jsxs(Z,{variant:"outline",className:"bg-gradient-to-r from-purple-100 to-blue-100 text-purple-700 border-purple-300","data-testid":"badge-demo-mode",children:[s.jsx(cn,{className:"h-3 w-3 mr-1"}),"DEMO (",t,")"]}):null}function Yje(){const{isDemoMode:e,timeRemaining:t,timeRemainingFormatted:n}=vv(),{navigateToUpgrade:r}=yj();if(!e)return null;const a=45*60,i=Math.max(0,Math.min(100,t/a*100));return s.jsxs("div",{className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 text-white py-2 px-4 text-center text-sm",children:[s.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(cn,{className:"h-4 w-4"}),s.jsx("span",{className:"font-semibold",children:"DEMO MODE ACTIVE"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(bt,{className:"h-4 w-4"}),s.jsxs("span",{className:"font-mono",children:[n," remaining"]})]}),s.jsxs(D,{variant:"secondary",size:"sm",onClick:()=>r("demo-status-bar"),className:"bg-white text-purple-600 hover:bg-gray-100 h-6 px-2 text-xs","data-testid":"button-upgrade-status-bar",children:["Upgrade Now ",s.jsx(Qs,{className:"h-3 w-3 ml-1"})]})]})]}),s.jsx("div",{className:"w-full bg-white/20 rounded-full h-1 mt-2",children:s.jsx("div",{className:"bg-white h-1 rounded-full transition-all duration-1000",style:{width:`${i}%`}})})]})}var YP="focusScope.autoFocusOnMount",XP="focusScope.autoFocusOnUnmount",Z3={bubbles:!1,cancelable:!0},Xje="FocusScope",bj=b.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=b.useState(null),d=Qn(a),u=Qn(i),h=b.useRef(null),f=wt(t,p=>c(p)),g=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(r){let p=function(j){if(g.paused||!l)return;const N=j.target;l.contains(N)?h.current=N:Dd(h.current,{select:!0})},x=function(j){if(g.paused||!l)return;const N=j.relatedTarget;N!==null&&(l.contains(N)||Dd(h.current,{select:!0}))},v=function(j){if(document.activeElement===document.body)for(const w of j)w.removedNodes.length>0&&Dd(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",x);const y=new MutationObserver(v);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",x),y.disconnect()}}},[r,l,g.paused]),b.useEffect(()=>{if(l){eL.add(g);const p=document.activeElement;if(!l.contains(p)){const v=new CustomEvent(YP,Z3);l.addEventListener(YP,d),l.dispatchEvent(v),v.defaultPrevented||(Qje(nwe(YZ(l)),{select:!0}),document.activeElement===p&&Dd(l))}return()=>{l.removeEventListener(YP,d),setTimeout(()=>{const v=new CustomEvent(XP,Z3);l.addEventListener(XP,u),l.dispatchEvent(v),v.defaultPrevented||Dd(p??document.body,{select:!0}),l.removeEventListener(XP,u),eL.remove(g)},0)}}},[l,d,u,g]);const m=b.useCallback(p=>{if(!n&&!r||g.paused)return;const x=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,v=document.activeElement;if(x&&v){const y=p.currentTarget,[j,N]=Zje(y);j&&N?!p.shiftKey&&v===N?(p.preventDefault(),n&&Dd(j,{select:!0})):p.shiftKey&&v===j&&(p.preventDefault(),n&&Dd(N,{select:!0})):v===y&&p.preventDefault()}},[n,r,g.paused]);return s.jsx(Qe.div,{tabIndex:-1,...o,ref:f,onKeyDown:m})});bj.displayName=Xje;function Qje(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Dd(r,{select:t}),document.activeElement!==n)return}function Zje(e){const t=YZ(e),n=J3(t,e),r=J3(t.reverse(),e);return[n,r]}function YZ(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function J3(e,t){for(const n of e)if(!Jje(n,{upTo:t}))return n}function Jje(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function ewe(e){return e instanceof HTMLInputElement&&"select"in e}function Dd(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&ewe(e)&&t&&e.select()}}var eL=twe();function twe(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=tL(e,t),e.unshift(t)},remove(t){var n;e=tL(e,t),(n=e[0])==null||n.resume()}}}function tL(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function nwe(e){return e.filter(t=>t.tagName!=="A")}var QP=0;function ck(){b.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??nL()),document.body.insertAdjacentElement("beforeend",e[1]??nL()),QP++,()=>{QP===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),QP--}},[])}function nL(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ml=function(){return Ml=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ml.apply(this,arguments)};function XZ(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function rwe(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,i;r<a;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var n1="right-scroll-bar-position",r1="width-before-scroll-bar",swe="with-scroll-bars-hidden",awe="--removed-body-scroll-bar-size";function ZP(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function iwe(e,t){var n=b.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var a=n.value;a!==r&&(n.value=r,n.callback(r,a))}}}})[0];return n.callback=t,n.facade}var owe=typeof window<"u"?b.useLayoutEffect:b.useEffect,rL=new WeakMap;function lwe(e,t){var n=iwe(null,function(r){return e.forEach(function(a){return ZP(a,r)})});return owe(function(){var r=rL.get(n);if(r){var a=new Set(r),i=new Set(e),o=n.current;a.forEach(function(l){i.has(l)||ZP(l,null)}),i.forEach(function(l){a.has(l)||ZP(l,o)})}rL.set(n,e)},[e]),n}function cwe(e){return e}function dwe(e,t){t===void 0&&(t=cwe);var n=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=t(i,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var c=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),n}}}};return a}function uwe(e){e===void 0&&(e={});var t=dwe(null);return t.options=Ml({async:!0,ssr:!1},e),t}var QZ=function(e){var t=e.sideCar,n=XZ(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return b.createElement(r,Ml({},n))};QZ.isSideCarExport=!0;function hwe(e,t){return e.useMedium(t),QZ}var ZZ=uwe(),JP=function(){},dk=b.forwardRef(function(e,t){var n=b.useRef(null),r=b.useState({onScrollCapture:JP,onWheelCapture:JP,onTouchMoveCapture:JP}),a=r[0],i=r[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,h=e.shards,f=e.sideCar,g=e.noIsolation,m=e.inert,p=e.allowPinchZoom,x=e.as,v=x===void 0?"div":x,y=e.gapMode,j=XZ(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=f,w=lwe([n,t]),S=Ml(Ml({},j),a);return b.createElement(b.Fragment,null,u&&b.createElement(N,{sideCar:ZZ,removeScrollBar:d,shards:h,noIsolation:g,inert:m,setCallbacks:i,allowPinchZoom:!!p,lockRef:n,gapMode:y}),o?b.cloneElement(b.Children.only(l),Ml(Ml({},S),{ref:w})):b.createElement(v,Ml({},S,{className:c,ref:w}),l))});dk.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};dk.classNames={fullWidth:r1,zeroRight:n1};var fwe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function mwe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=fwe();return t&&e.setAttribute("nonce",t),e}function pwe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function gwe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var vwe=function(){var e=0,t=null;return{add:function(n){e==0&&(t=mwe())&&(pwe(t,n),gwe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},xwe=function(){var e=vwe();return function(t,n){b.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},JZ=function(){var e=xwe(),t=function(n){var r=n.styles,a=n.dynamic;return e(r,a),null};return t},ywe={left:0,top:0,right:0,gap:0},eT=function(e){return parseInt(e||"",10)||0},bwe=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[eT(n),eT(r),eT(a)]},jwe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return ywe;var t=bwe(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},wwe=JZ(),ip="data-scroll-locked",Nwe=function(e,t,n,r){var a=e.left,i=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(swe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(ip,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(n1,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(r1,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(n1," .").concat(n1,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(r1," .").concat(r1,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ip,`] {
    `).concat(awe,": ").concat(l,`px;
  }
`)},sL=function(){var e=parseInt(document.body.getAttribute(ip)||"0",10);return isFinite(e)?e:0},Swe=function(){b.useEffect(function(){return document.body.setAttribute(ip,(sL()+1).toString()),function(){var e=sL()-1;e<=0?document.body.removeAttribute(ip):document.body.setAttribute(ip,e.toString())}},[])},Cwe=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,a=r===void 0?"margin":r;Swe();var i=b.useMemo(function(){return jwe(a)},[a]);return b.createElement(wwe,{styles:Nwe(i,!t,a,n?"":"!important")})},nD=!1;if(typeof window<"u")try{var Uw=Object.defineProperty({},"passive",{get:function(){return nD=!0,!0}});window.addEventListener("test",Uw,Uw),window.removeEventListener("test",Uw,Uw)}catch{nD=!1}var dm=nD?{passive:!1}:!1,kwe=function(e){return e.tagName==="TEXTAREA"},eJ=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!kwe(e)&&n[t]==="visible")},_we=function(e){return eJ(e,"overflowY")},Pwe=function(e){return eJ(e,"overflowX")},aL=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=tJ(e,r);if(a){var i=nJ(e,r),o=i[1],l=i[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Twe=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},Awe=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},tJ=function(e,t){return e==="v"?_we(t):Pwe(t)},nJ=function(e,t){return e==="v"?Twe(t):Awe(t)},Ewe=function(e,t){return e==="h"&&t==="rtl"?-1:1},Dwe=function(e,t,n,r,a){var i=Ewe(e,window.getComputedStyle(t).direction),o=i*r,l=n.target,c=t.contains(l),d=!1,u=o>0,h=0,f=0;do{var g=nJ(e,l),m=g[0],p=g[1],x=g[2],v=p-x-i*m;(m||v)&&tJ(e,l)&&(h+=v,f+=m),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(Math.abs(h)<1||!a)||!u&&(Math.abs(f)<1||!a))&&(d=!0),d},Vw=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},iL=function(e){return[e.deltaX,e.deltaY]},oL=function(e){return e&&"current"in e?e.current:e},Owe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Mwe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Rwe=0,um=[];function $we(e){var t=b.useRef([]),n=b.useRef([0,0]),r=b.useRef(),a=b.useState(Rwe++)[0],i=b.useState(JZ)[0],o=b.useRef(e);b.useEffect(function(){o.current=e},[e]),b.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=rwe([e.lockRef.current],(e.shards||[]).map(oL),!0).filter(Boolean);return p.forEach(function(x){return x.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=b.useCallback(function(p,x){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var v=Vw(p),y=n.current,j="deltaX"in p?p.deltaX:y[0]-v[0],N="deltaY"in p?p.deltaY:y[1]-v[1],w,S=p.target,k=Math.abs(j)>Math.abs(N)?"h":"v";if("touches"in p&&k==="h"&&S.type==="range")return!1;var _=aL(k,S);if(!_)return!0;if(_?w=k:(w=k==="v"?"h":"v",_=aL(k,S)),!_)return!1;if(!r.current&&"changedTouches"in p&&(j||N)&&(r.current=w),!w)return!0;var T=r.current||w;return Dwe(T,x,p,T==="h"?j:N,!0)},[]),c=b.useCallback(function(p){var x=p;if(!(!um.length||um[um.length-1]!==i)){var v="deltaY"in x?iL(x):Vw(x),y=t.current.filter(function(w){return w.name===x.type&&(w.target===x.target||x.target===w.shadowParent)&&Owe(w.delta,v)})[0];if(y&&y.should){x.cancelable&&x.preventDefault();return}if(!y){var j=(o.current.shards||[]).map(oL).filter(Boolean).filter(function(w){return w.contains(x.target)}),N=j.length>0?l(x,j[0]):!o.current.noIsolation;N&&x.cancelable&&x.preventDefault()}}},[]),d=b.useCallback(function(p,x,v,y){var j={name:p,delta:x,target:v,should:y,shadowParent:Iwe(v)};t.current.push(j),setTimeout(function(){t.current=t.current.filter(function(N){return N!==j})},1)},[]),u=b.useCallback(function(p){n.current=Vw(p),r.current=void 0},[]),h=b.useCallback(function(p){d(p.type,iL(p),p.target,l(p,e.lockRef.current))},[]),f=b.useCallback(function(p){d(p.type,Vw(p),p.target,l(p,e.lockRef.current))},[]);b.useEffect(function(){return um.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,dm),document.addEventListener("touchmove",c,dm),document.addEventListener("touchstart",u,dm),function(){um=um.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,dm),document.removeEventListener("touchmove",c,dm),document.removeEventListener("touchstart",u,dm)}},[]);var g=e.removeScrollBar,m=e.inert;return b.createElement(b.Fragment,null,m?b.createElement(i,{styles:Mwe(a)}):null,g?b.createElement(Cwe,{gapMode:e.gapMode}):null)}function Iwe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Fwe=hwe(ZZ,$we);var jj=b.forwardRef(function(e,t){return b.createElement(dk,Ml({},e,{ref:t,sideCar:Fwe}))});jj.classNames=dk.classNames;var Lwe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},hm=new WeakMap,Ww=new WeakMap,Hw={},tT=0,rJ=function(e){return e&&(e.host||rJ(e.parentNode))},zwe=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=rJ(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Bwe=function(e,t,n,r){var a=zwe(t,Array.isArray(e)?e:[e]);Hw[n]||(Hw[n]=new WeakMap);var i=Hw[n],o=[],l=new Set,c=new Set(a),d=function(h){!h||l.has(h)||(l.add(h),d(h.parentNode))};a.forEach(d);var u=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(l.has(f))u(f);else try{var g=f.getAttribute(r),m=g!==null&&g!=="false",p=(hm.get(f)||0)+1,x=(i.get(f)||0)+1;hm.set(f,p),i.set(f,x),o.push(f),p===1&&m&&Ww.set(f,!0),x===1&&f.setAttribute(n,"true"),m||f.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",f,v)}})};return u(t),l.clear(),tT++,function(){o.forEach(function(h){var f=hm.get(h)-1,g=i.get(h)-1;hm.set(h,f),i.set(h,g),f||(Ww.has(h)||h.removeAttribute(r),Ww.delete(h)),g||h.removeAttribute(n)}),tT--,tT||(hm=new WeakMap,hm=new WeakMap,Ww=new WeakMap,Hw={})}},uk=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=Lwe(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live]"))),Bwe(r,a,n,"aria-hidden")):function(){return null}},LR="Dialog",[sJ,aJ]=fs(LR),[Uwe,ll]=sJ(LR),iJ=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=b.useRef(null),c=b.useRef(null),[d=!1,u]=bi({prop:r,defaultProp:a,onChange:i});return s.jsx(Uwe,{scope:t,triggerRef:l,contentRef:c,contentId:mi(),titleId:mi(),descriptionId:mi(),open:d,onOpenChange:u,onOpenToggle:b.useCallback(()=>u(h=>!h),[u]),modal:o,children:n})};iJ.displayName=LR;var oJ="DialogTrigger",lJ=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=ll(oJ,n),i=wt(t,a.triggerRef);return s.jsx(Qe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":UR(a.open),...r,ref:i,onClick:Pe(e.onClick,a.onOpenToggle)})});lJ.displayName=oJ;var zR="DialogPortal",[Vwe,cJ]=sJ(zR,{forceMount:void 0}),dJ=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:a}=e,i=ll(zR,t);return s.jsx(Vwe,{scope:t,forceMount:n,children:b.Children.map(r,o=>s.jsx(ms,{present:n||i.open,children:s.jsx(dv,{asChild:!0,container:a,children:o})}))})};dJ.displayName=zR;var cS="DialogOverlay",uJ=b.forwardRef((e,t)=>{const n=cJ(cS,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,i=ll(cS,e.__scopeDialog);return i.modal?s.jsx(ms,{present:r||i.open,children:s.jsx(Hwe,{...a,ref:t})}):null});uJ.displayName=cS;var Wwe=ku("DialogOverlay.RemoveScroll"),Hwe=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=ll(cS,n);return s.jsx(jj,{as:Wwe,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(Qe.div,{"data-state":UR(a.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),kf="DialogContent",hJ=b.forwardRef((e,t)=>{const n=cJ(kf,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,i=ll(kf,e.__scopeDialog);return s.jsx(ms,{present:r||i.open,children:i.modal?s.jsx(qwe,{...a,ref:t}):s.jsx(Kwe,{...a,ref:t})})});hJ.displayName=kf;var qwe=b.forwardRef((e,t)=>{const n=ll(kf,e.__scopeDialog),r=b.useRef(null),a=wt(t,n.contentRef,r);return b.useEffect(()=>{const i=r.current;if(i)return uk(i)},[]),s.jsx(fJ,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Pe(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Pe(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Pe(e.onFocusOutside,i=>i.preventDefault())})}),Kwe=b.forwardRef((e,t)=>{const n=ll(kf,e.__scopeDialog),r=b.useRef(!1),a=b.useRef(!1);return s.jsx(fJ,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),fJ=b.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=ll(kf,n),c=b.useRef(null),d=wt(t,c);return ck(),s.jsxs(s.Fragment,{children:[s.jsx(bj,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Gf,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":UR(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(Ywe,{titleId:l.titleId}),s.jsx(Qwe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),BR="DialogTitle",mJ=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=ll(BR,n);return s.jsx(Qe.h2,{id:a.titleId,...r,ref:t})});mJ.displayName=BR;var pJ="DialogDescription",gJ=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=ll(pJ,n);return s.jsx(Qe.p,{id:a.descriptionId,...r,ref:t})});gJ.displayName=pJ;var vJ="DialogClose",xJ=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=ll(vJ,n);return s.jsx(Qe.button,{type:"button",...r,ref:t,onClick:Pe(e.onClick,()=>a.onOpenChange(!1))})});xJ.displayName=vJ;function UR(e){return e?"open":"closed"}var yJ="DialogTitleWarning",[Gwe,bJ]=dye(yJ,{contentName:kf,titleName:BR,docsSlug:"dialog"}),Ywe=({titleId:e})=>{const t=bJ(yJ),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return b.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Xwe="DialogDescriptionWarning",Qwe=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${bJ(Xwe).contentName}}.`;return b.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},VR=iJ,jJ=lJ,WR=dJ,wj=uJ,Nj=hJ,Sj=mJ,Cj=gJ,hk=xJ,wJ="AlertDialog",[Zwe,KNt]=fs(wJ,[aJ]),vd=aJ(),NJ=e=>{const{__scopeAlertDialog:t,...n}=e,r=vd(t);return s.jsx(VR,{...r,...n,modal:!0})};NJ.displayName=wJ;var Jwe="AlertDialogTrigger",SJ=b.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=vd(n);return s.jsx(jJ,{...a,...r,ref:t})});SJ.displayName=Jwe;var eNe="AlertDialogPortal",CJ=e=>{const{__scopeAlertDialog:t,...n}=e,r=vd(t);return s.jsx(WR,{...r,...n})};CJ.displayName=eNe;var tNe="AlertDialogOverlay",kJ=b.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=vd(n);return s.jsx(wj,{...a,...r,ref:t})});kJ.displayName=tNe;var op="AlertDialogContent",[nNe,rNe]=Zwe(op),sNe=NQ("AlertDialogContent"),_J=b.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...a}=e,i=vd(n),o=b.useRef(null),l=wt(t,o),c=b.useRef(null);return s.jsx(Gwe,{contentName:op,titleName:PJ,docsSlug:"alert-dialog",children:s.jsx(nNe,{scope:n,cancelRef:c,children:s.jsxs(Nj,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:Pe(a.onOpenAutoFocus,d=>{var u;d.preventDefault(),(u=c.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[s.jsx(sNe,{children:r}),s.jsx(iNe,{contentRef:o})]})})})});_J.displayName=op;var PJ="AlertDialogTitle",TJ=b.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=vd(n);return s.jsx(Sj,{...a,...r,ref:t})});TJ.displayName=PJ;var AJ="AlertDialogDescription",EJ=b.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=vd(n);return s.jsx(Cj,{...a,...r,ref:t})});EJ.displayName=AJ;var aNe="AlertDialogAction",DJ=b.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=vd(n);return s.jsx(hk,{...a,...r,ref:t})});DJ.displayName=aNe;var OJ="AlertDialogCancel",MJ=b.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:a}=rNe(OJ,n),i=vd(n),o=wt(t,a);return s.jsx(hk,{...i,...r,ref:o})});MJ.displayName=OJ;var iNe=({contentRef:e})=>{const t=`\`${op}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${op}\` by passing a \`${AJ}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${op}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return b.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},oNe=NJ,lNe=SJ,cNe=CJ,RJ=kJ,$J=_J,IJ=DJ,FJ=MJ,LJ=TJ,zJ=EJ;const fk=oNe,HR=lNe,dNe=cNe,BJ=b.forwardRef(({className:e,...t},n)=>s.jsx(RJ,{className:Ne("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));BJ.displayName=RJ.displayName;const kj=b.forwardRef(({className:e,...t},n)=>s.jsxs(dNe,{children:[s.jsx(BJ,{}),s.jsx($J,{ref:n,className:Ne("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));kj.displayName=$J.displayName;const _j=({className:e,...t})=>s.jsx("div",{className:Ne("flex flex-col space-y-2 text-center sm:text-left",e),...t});_j.displayName="AlertDialogHeader";const Pj=({className:e,...t})=>s.jsx("div",{className:Ne("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Pj.displayName="AlertDialogFooter";const Tj=b.forwardRef(({className:e,...t},n)=>s.jsx(LJ,{ref:n,className:Ne("text-lg font-semibold",e),...t}));Tj.displayName=LJ.displayName;const Aj=b.forwardRef(({className:e,...t},n)=>s.jsx(zJ,{ref:n,className:Ne("text-sm text-muted-foreground",e),...t}));Aj.displayName=zJ.displayName;const mk=b.forwardRef(({className:e,...t},n)=>s.jsx(IJ,{ref:n,className:Ne(r0(),e),...t}));mk.displayName=IJ.displayName;const Ej=b.forwardRef(({className:e,...t},n)=>s.jsx(FJ,{ref:n,className:Ne(r0({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Ej.displayName=FJ.displayName;function uNe(){const{isDemoMode:e,isExpiringSoon:t,timeRemaining:n,timeRemainingFormatted:r,dismissWarning:a,endDemoSession:i,createDemoSession:o}=vv(),{navigateToUpgrade:l}=yj(),[c,d]=b.useState(!1),[u,h]=b.useState(!1);b.useEffect(()=>{t&&!u&&e&&(d(!0),h(!0))},[t,u,e]),b.useEffect(()=>{t||h(!1)},[t]);const f=()=>{d(!1),a()},g=async()=>{try{await o(),d(!1),h(!1)}catch(x){console.error("Failed to extend demo session:",x)}},m=()=>{d(!1),l("demo-session-expiring")},p=async()=>{try{await i(),d(!1)}catch(x){console.error("Failed to end demo session:",x)}};return e?s.jsx(fk,{open:c,onOpenChange:d,children:s.jsxs(kj,{className:"max-w-md",children:[s.jsxs(_j,{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"bg-amber-100 p-2 rounded-full",children:s.jsx(ur,{className:"h-5 w-5 text-amber-600"})}),s.jsxs(Z,{variant:"outline",className:"bg-gradient-to-r from-purple-100 to-blue-100 text-purple-700 border-purple-300",children:[s.jsx(cn,{className:"h-3 w-3 mr-1"}),"DEMO MODE"]})]}),s.jsx(Tj,{className:"text-lg",children:"Demo Session Expiring Soon"}),s.jsxs(Aj,{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-amber-600 font-medium",children:[s.jsx(bt,{className:"h-4 w-4"}),s.jsxs("span",{children:[r," remaining"]})]}),s.jsx("p",{children:"Your demo session is about to expire. You can extend your demo for another 45 minutes or upgrade to unlock the full platform with unlimited access."}),s.jsx("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-200",children:s.jsxs("p",{className:"text-sm text-blue-800",children:[s.jsx("strong",{children:"Upgrade benefits:"})," Unlimited time, save your data, access to premium features, and full customer support."]})})]})]}),s.jsxs(Pj,{className:"flex-col gap-2 sm:flex-col",children:[s.jsxs("div",{className:"flex gap-2 w-full",children:[s.jsxs(D,{onClick:m,className:"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white flex-1","data-testid":"button-upgrade-session-warning",children:[s.jsx(cn,{className:"h-4 w-4 mr-2"}),"Upgrade Now",s.jsx(Qs,{className:"h-4 w-4 ml-2"})]}),s.jsxs(D,{variant:"outline",onClick:g,className:"flex-1","data-testid":"button-extend-demo-session",children:[s.jsx(bt,{className:"h-4 w-4 mr-2"}),"Extend Demo"]})]}),s.jsxs("div",{className:"flex gap-2 w-full",children:[s.jsx(Ej,{asChild:!0,children:s.jsx(D,{variant:"ghost",onClick:f,className:"flex-1","data-testid":"button-dismiss-warning",children:"Continue Demo"})}),s.jsx(D,{variant:"ghost",onClick:p,className:"flex-1 text-gray-500","data-testid":"button-end-session-warning",children:"End Session"})]})]})]})}):null}var hNe=b.createContext(void 0);function xv(e){const t=b.useContext(hNe);return e||t||"ltr"}var nT="rovingFocusGroup.onEntryFocus",fNe={bubbles:!1,cancelable:!0},pk="RovingFocusGroup",[rD,UJ,mNe]=uj(pk),[pNe,gk]=fs(pk,[mNe]),[gNe,vNe]=pNe(pk),VJ=b.forwardRef((e,t)=>s.jsx(rD.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(rD.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(xNe,{...e,ref:t})})}));VJ.displayName=pk;var xNe=b.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...h}=e,f=b.useRef(null),g=wt(t,f),m=xv(i),[p=null,x]=bi({prop:o,defaultProp:l,onChange:c}),[v,y]=b.useState(!1),j=Qn(d),N=UJ(n),w=b.useRef(!1),[S,k]=b.useState(0);return b.useEffect(()=>{const _=f.current;if(_)return _.addEventListener(nT,j),()=>_.removeEventListener(nT,j)},[j]),s.jsx(gNe,{scope:n,orientation:r,dir:m,loop:a,currentTabStopId:p,onItemFocus:b.useCallback(_=>x(_),[x]),onItemShiftTab:b.useCallback(()=>y(!0),[]),onFocusableItemAdd:b.useCallback(()=>k(_=>_+1),[]),onFocusableItemRemove:b.useCallback(()=>k(_=>_-1),[]),children:s.jsx(Qe.div,{tabIndex:v||S===0?-1:0,"data-orientation":r,...h,ref:g,style:{outline:"none",...e.style},onMouseDown:Pe(e.onMouseDown,()=>{w.current=!0}),onFocus:Pe(e.onFocus,_=>{const T=!w.current;if(_.target===_.currentTarget&&T&&!v){const P=new CustomEvent(nT,fNe);if(_.currentTarget.dispatchEvent(P),!P.defaultPrevented){const C=N().filter(U=>U.focusable),A=C.find(U=>U.active),E=C.find(U=>U.id===p),$=[A,E,...C].filter(Boolean).map(U=>U.ref.current);qJ($,u)}}w.current=!1}),onBlur:Pe(e.onBlur,()=>y(!1))})})}),WJ="RovingFocusGroupItem",HJ=b.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:a=!1,tabStopId:i,...o}=e,l=mi(),c=i||l,d=vNe(WJ,n),u=d.currentTabStopId===c,h=UJ(n),{onFocusableItemAdd:f,onFocusableItemRemove:g}=d;return b.useEffect(()=>{if(r)return f(),()=>g()},[r,f,g]),s.jsx(rD.ItemSlot,{scope:n,id:c,focusable:r,active:a,children:s.jsx(Qe.span,{tabIndex:u?0:-1,"data-orientation":d.orientation,...o,ref:t,onMouseDown:Pe(e.onMouseDown,m=>{r?d.onItemFocus(c):m.preventDefault()}),onFocus:Pe(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:Pe(e.onKeyDown,m=>{if(m.key==="Tab"&&m.shiftKey){d.onItemShiftTab();return}if(m.target!==m.currentTarget)return;const p=jNe(m,d.orientation,d.dir);if(p!==void 0){if(m.metaKey||m.ctrlKey||m.altKey||m.shiftKey)return;m.preventDefault();let v=h().filter(y=>y.focusable).map(y=>y.ref.current);if(p==="last")v.reverse();else if(p==="prev"||p==="next"){p==="prev"&&v.reverse();const y=v.indexOf(m.currentTarget);v=d.loop?wNe(v,y+1):v.slice(y+1)}setTimeout(()=>qJ(v))}})})})});HJ.displayName=WJ;var yNe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function bNe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function jNe(e,t,n){const r=bNe(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return yNe[r]}function qJ(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function wNe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var KJ=VJ,GJ=HJ,sD=["Enter"," "],NNe=["ArrowDown","PageUp","Home"],YJ=["ArrowUp","PageDown","End"],SNe=[...NNe,...YJ],CNe={ltr:[...sD,"ArrowRight"],rtl:[...sD,"ArrowLeft"]},kNe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Dj="Menu",[s0,_Ne,PNe]=uj(Dj),[Xf,XJ]=fs(Dj,[PNe,Xu,gk]),vk=Xu(),QJ=gk(),[TNe,Qf]=Xf(Dj),[ANe,Oj]=Xf(Dj),ZJ=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:a,onOpenChange:i,modal:o=!0}=e,l=vk(t),[c,d]=b.useState(null),u=b.useRef(!1),h=Qn(i),f=xv(a);return b.useEffect(()=>{const g=()=>{u.current=!0,document.addEventListener("pointerdown",m,{capture:!0,once:!0}),document.addEventListener("pointermove",m,{capture:!0,once:!0})},m=()=>u.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",m,{capture:!0}),document.removeEventListener("pointermove",m,{capture:!0})}},[]),s.jsx(nk,{...l,children:s.jsx(TNe,{scope:t,open:n,onOpenChange:h,content:c,onContentChange:d,children:s.jsx(ANe,{scope:t,onClose:b.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:u,dir:f,modal:o,children:r})})})};ZJ.displayName=Dj;var ENe="MenuAnchor",qR=b.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,a=vk(n);return s.jsx(xj,{...a,...r,ref:t})});qR.displayName=ENe;var KR="MenuPortal",[DNe,JJ]=Xf(KR,{forceMount:void 0}),eee=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:a}=e,i=Qf(KR,t);return s.jsx(DNe,{scope:t,forceMount:n,children:s.jsx(ms,{present:n||i.open,children:s.jsx(dv,{asChild:!0,container:a,children:r})})})};eee.displayName=KR;var Zi="MenuContent",[ONe,GR]=Xf(Zi),tee=b.forwardRef((e,t)=>{const n=JJ(Zi,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,i=Qf(Zi,e.__scopeMenu),o=Oj(Zi,e.__scopeMenu);return s.jsx(s0.Provider,{scope:e.__scopeMenu,children:s.jsx(ms,{present:r||i.open,children:s.jsx(s0.Slot,{scope:e.__scopeMenu,children:o.modal?s.jsx(MNe,{...a,ref:t}):s.jsx(RNe,{...a,ref:t})})})})}),MNe=b.forwardRef((e,t)=>{const n=Qf(Zi,e.__scopeMenu),r=b.useRef(null),a=wt(t,r);return b.useEffect(()=>{const i=r.current;if(i)return uk(i)},[]),s.jsx(YR,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Pe(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),RNe=b.forwardRef((e,t)=>{const n=Qf(Zi,e.__scopeMenu);return s.jsx(YR,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),$Ne=ku("MenuContent.ScrollLock"),YR=b.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:f,onDismiss:g,disableOutsideScroll:m,...p}=e,x=Qf(Zi,n),v=Oj(Zi,n),y=vk(n),j=QJ(n),N=_Ne(n),[w,S]=b.useState(null),k=b.useRef(null),_=wt(t,k,x.onContentChange),T=b.useRef(0),P=b.useRef(""),C=b.useRef(0),A=b.useRef(null),E=b.useRef("right"),I=b.useRef(0),$=m?jj:b.Fragment,U=m?{as:$Ne,allowPinchZoom:!0}:void 0,M=V=>{var ne,be;const Y=P.current+V,K=N().filter(ge=>!ge.disabled),z=document.activeElement,L=(ne=K.find(ge=>ge.ref.current===z))==null?void 0:ne.textValue,ee=K.map(ge=>ge.textValue),le=GNe(ee,Y,L),ve=(be=K.find(ge=>ge.textValue===le))==null?void 0:be.ref.current;(function ge(we){P.current=we,window.clearTimeout(T.current),we!==""&&(T.current=window.setTimeout(()=>ge(""),1e3))})(Y),ve&&setTimeout(()=>ve.focus())};b.useEffect(()=>()=>window.clearTimeout(T.current),[]),ck();const F=b.useCallback(V=>{var K,z;return E.current===((K=A.current)==null?void 0:K.side)&&XNe(V,(z=A.current)==null?void 0:z.area)},[]);return s.jsx(ONe,{scope:n,searchRef:P,onItemEnter:b.useCallback(V=>{F(V)&&V.preventDefault()},[F]),onItemLeave:b.useCallback(V=>{var Y;F(V)||((Y=k.current)==null||Y.focus(),S(null))},[F]),onTriggerLeave:b.useCallback(V=>{F(V)&&V.preventDefault()},[F]),pointerGraceTimerRef:C,onPointerGraceIntentChange:b.useCallback(V=>{A.current=V},[]),children:s.jsx($,{...U,children:s.jsx(bj,{asChild:!0,trapped:a,onMountAutoFocus:Pe(i,V=>{var Y;V.preventDefault(),(Y=k.current)==null||Y.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(Gf,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:f,onDismiss:g,children:s.jsx(KJ,{asChild:!0,...j,dir:v.dir,orientation:"vertical",loop:r,currentTabStopId:w,onCurrentTabStopIdChange:S,onEntryFocus:Pe(c,V=>{v.isUsingKeyboardRef.current||V.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(rk,{role:"menu","aria-orientation":"vertical","data-state":vee(x.open),"data-radix-menu-content":"",dir:v.dir,...y,...p,ref:_,style:{outline:"none",...p.style},onKeyDown:Pe(p.onKeyDown,V=>{const K=V.target.closest("[data-radix-menu-content]")===V.currentTarget,z=V.ctrlKey||V.altKey||V.metaKey,L=V.key.length===1;K&&(V.key==="Tab"&&V.preventDefault(),!z&&L&&M(V.key));const ee=k.current;if(V.target!==ee||!SNe.includes(V.key))return;V.preventDefault();const ve=N().filter(ne=>!ne.disabled).map(ne=>ne.ref.current);YJ.includes(V.key)&&ve.reverse(),qNe(ve)}),onBlur:Pe(e.onBlur,V=>{V.currentTarget.contains(V.target)||(window.clearTimeout(T.current),P.current="")}),onPointerMove:Pe(e.onPointerMove,a0(V=>{const Y=V.target,K=I.current!==V.clientX;if(V.currentTarget.contains(Y)&&K){const z=V.clientX>I.current?"right":"left";E.current=z,I.current=V.clientX}}))})})})})})})});tee.displayName=Zi;var INe="MenuGroup",XR=b.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(Qe.div,{role:"group",...r,ref:t})});XR.displayName=INe;var FNe="MenuLabel",nee=b.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(Qe.div,{...r,ref:t})});nee.displayName=FNe;var dS="MenuItem",lL="menu.itemSelect",xk=b.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...a}=e,i=b.useRef(null),o=Oj(dS,e.__scopeMenu),l=GR(dS,e.__scopeMenu),c=wt(t,i),d=b.useRef(!1),u=()=>{const h=i.current;if(!n&&h){const f=new CustomEvent(lL,{bubbles:!0,cancelable:!0});h.addEventListener(lL,g=>r==null?void 0:r(g),{once:!0}),bR(h,f),f.defaultPrevented?d.current=!1:o.onClose()}};return s.jsx(ree,{...a,ref:c,disabled:n,onClick:Pe(e.onClick,u),onPointerDown:h=>{var f;(f=e.onPointerDown)==null||f.call(e,h),d.current=!0},onPointerUp:Pe(e.onPointerUp,h=>{var f;d.current||(f=h.currentTarget)==null||f.click()}),onKeyDown:Pe(e.onKeyDown,h=>{const f=l.searchRef.current!=="";n||f&&h.key===" "||sD.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});xk.displayName=dS;var ree=b.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:a,...i}=e,o=GR(dS,n),l=QJ(n),c=b.useRef(null),d=wt(t,c),[u,h]=b.useState(!1),[f,g]=b.useState("");return b.useEffect(()=>{const m=c.current;m&&g((m.textContent??"").trim())},[i.children]),s.jsx(s0.ItemSlot,{scope:n,disabled:r,textValue:a??f,children:s.jsx(GJ,{asChild:!0,...l,focusable:!r,children:s.jsx(Qe.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:d,onPointerMove:Pe(e.onPointerMove,a0(m=>{r?o.onItemLeave(m):(o.onItemEnter(m),m.defaultPrevented||m.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Pe(e.onPointerLeave,a0(m=>o.onItemLeave(m))),onFocus:Pe(e.onFocus,()=>h(!0)),onBlur:Pe(e.onBlur,()=>h(!1))})})})}),LNe="MenuCheckboxItem",see=b.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...a}=e;return s.jsx(cee,{scope:e.__scopeMenu,checked:n,children:s.jsx(xk,{role:"menuitemcheckbox","aria-checked":uS(n)?"mixed":n,...a,ref:t,"data-state":ZR(n),onSelect:Pe(a.onSelect,()=>r==null?void 0:r(uS(n)?!0:!n),{checkForDefaultPrevented:!1})})})});see.displayName=LNe;var aee="MenuRadioGroup",[zNe,BNe]=Xf(aee,{value:void 0,onValueChange:()=>{}}),iee=b.forwardRef((e,t)=>{const{value:n,onValueChange:r,...a}=e,i=Qn(r);return s.jsx(zNe,{scope:e.__scopeMenu,value:n,onValueChange:i,children:s.jsx(XR,{...a,ref:t})})});iee.displayName=aee;var oee="MenuRadioItem",lee=b.forwardRef((e,t)=>{const{value:n,...r}=e,a=BNe(oee,e.__scopeMenu),i=n===a.value;return s.jsx(cee,{scope:e.__scopeMenu,checked:i,children:s.jsx(xk,{role:"menuitemradio","aria-checked":i,...r,ref:t,"data-state":ZR(i),onSelect:Pe(r.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,n)},{checkForDefaultPrevented:!1})})})});lee.displayName=oee;var QR="MenuItemIndicator",[cee,UNe]=Xf(QR,{checked:!1}),dee=b.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...a}=e,i=UNe(QR,n);return s.jsx(ms,{present:r||uS(i.checked)||i.checked===!0,children:s.jsx(Qe.span,{...a,ref:t,"data-state":ZR(i.checked)})})});dee.displayName=QR;var VNe="MenuSeparator",uee=b.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(Qe.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});uee.displayName=VNe;var WNe="MenuArrow",hee=b.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,a=vk(n);return s.jsx(sk,{...a,...r,ref:t})});hee.displayName=WNe;var HNe="MenuSub",[GNt,fee]=Xf(HNe),zx="MenuSubTrigger",mee=b.forwardRef((e,t)=>{const n=Qf(zx,e.__scopeMenu),r=Oj(zx,e.__scopeMenu),a=fee(zx,e.__scopeMenu),i=GR(zx,e.__scopeMenu),o=b.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,d={__scopeMenu:e.__scopeMenu},u=b.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return b.useEffect(()=>u,[u]),b.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),s.jsx(qR,{asChild:!0,...d,children:s.jsx(ree,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":a.contentId,"data-state":vee(n.open),...e,ref:q2(t,a.onTriggerChange),onClick:h=>{var f;(f=e.onClick)==null||f.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Pe(e.onPointerMove,a0(h=>{i.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:Pe(e.onPointerLeave,a0(h=>{var g,m;u();const f=(g=n.content)==null?void 0:g.getBoundingClientRect();if(f){const p=(m=n.content)==null?void 0:m.dataset.side,x=p==="right",v=x?-5:5,y=f[x?"left":"right"],j=f[x?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+v,y:h.clientY},{x:y,y:f.top},{x:j,y:f.top},{x:j,y:f.bottom},{x:y,y:f.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Pe(e.onKeyDown,h=>{var g;const f=i.searchRef.current!=="";e.disabled||f&&h.key===" "||CNe[r.dir].includes(h.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),h.preventDefault())})})})});mee.displayName=zx;var pee="MenuSubContent",gee=b.forwardRef((e,t)=>{const n=JJ(Zi,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,i=Qf(Zi,e.__scopeMenu),o=Oj(Zi,e.__scopeMenu),l=fee(pee,e.__scopeMenu),c=b.useRef(null),d=wt(t,c);return s.jsx(s0.Provider,{scope:e.__scopeMenu,children:s.jsx(ms,{present:r||i.open,children:s.jsx(s0.Slot,{scope:e.__scopeMenu,children:s.jsx(YR,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var h;o.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:Pe(e.onFocusOutside,u=>{u.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Pe(e.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:Pe(e.onKeyDown,u=>{var g;const h=u.currentTarget.contains(u.target),f=kNe[o.dir].includes(u.key);h&&f&&(i.onOpenChange(!1),(g=l.trigger)==null||g.focus(),u.preventDefault())})})})})})});gee.displayName=pee;function vee(e){return e?"open":"closed"}function uS(e){return e==="indeterminate"}function ZR(e){return uS(e)?"indeterminate":e?"checked":"unchecked"}function qNe(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function KNe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function GNe(e,t,n){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=KNe(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function YNe(e,t){const{x:n,y:r}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,c=t[i].y,d=t[o].x,u=t[o].y;c>r!=u>r&&n<(d-l)*(r-c)/(u-c)+l&&(a=!a)}return a}function XNe(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return YNe(n,t)}function a0(e){return t=>t.pointerType==="mouse"?e(t):void 0}var QNe=ZJ,ZNe=qR,JNe=eee,e1e=tee,t1e=XR,n1e=nee,r1e=xk,s1e=see,a1e=iee,i1e=lee,o1e=dee,l1e=uee,c1e=hee,d1e=mee,u1e=gee,JR="DropdownMenu",[h1e,YNt]=fs(JR,[XJ]),Ea=XJ(),[f1e,xee]=h1e(JR),yee=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=Ea(t),d=b.useRef(null),[u=!1,h]=bi({prop:a,defaultProp:i,onChange:o});return s.jsx(f1e,{scope:t,triggerId:mi(),triggerRef:d,contentId:mi(),open:u,onOpenChange:h,onOpenToggle:b.useCallback(()=>h(f=>!f),[h]),modal:l,children:s.jsx(QNe,{...c,open:u,onOpenChange:h,dir:r,modal:l,children:n})})};yee.displayName=JR;var bee="DropdownMenuTrigger",jee=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...a}=e,i=xee(bee,n),o=Ea(n);return s.jsx(ZNe,{asChild:!0,...o,children:s.jsx(Qe.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...a,ref:q2(t,i.triggerRef),onPointerDown:Pe(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:Pe(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});jee.displayName=bee;var m1e="DropdownMenuPortal",wee=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Ea(t);return s.jsx(JNe,{...r,...n})};wee.displayName=m1e;var Nee="DropdownMenuContent",See=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=xee(Nee,n),i=Ea(n),o=b.useRef(!1);return s.jsx(e1e,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...r,ref:t,onCloseAutoFocus:Pe(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Pe(e.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!a.modal||u)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});See.displayName=Nee;var p1e="DropdownMenuGroup",g1e=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Ea(n);return s.jsx(t1e,{...a,...r,ref:t})});g1e.displayName=p1e;var v1e="DropdownMenuLabel",Cee=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Ea(n);return s.jsx(n1e,{...a,...r,ref:t})});Cee.displayName=v1e;var x1e="DropdownMenuItem",kee=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Ea(n);return s.jsx(r1e,{...a,...r,ref:t})});kee.displayName=x1e;var y1e="DropdownMenuCheckboxItem",_ee=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Ea(n);return s.jsx(s1e,{...a,...r,ref:t})});_ee.displayName=y1e;var b1e="DropdownMenuRadioGroup",j1e=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Ea(n);return s.jsx(a1e,{...a,...r,ref:t})});j1e.displayName=b1e;var w1e="DropdownMenuRadioItem",Pee=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Ea(n);return s.jsx(i1e,{...a,...r,ref:t})});Pee.displayName=w1e;var N1e="DropdownMenuItemIndicator",Tee=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Ea(n);return s.jsx(o1e,{...a,...r,ref:t})});Tee.displayName=N1e;var S1e="DropdownMenuSeparator",Aee=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Ea(n);return s.jsx(l1e,{...a,...r,ref:t})});Aee.displayName=S1e;var C1e="DropdownMenuArrow",k1e=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Ea(n);return s.jsx(c1e,{...a,...r,ref:t})});k1e.displayName=C1e;var _1e="DropdownMenuSubTrigger",Eee=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Ea(n);return s.jsx(d1e,{...a,...r,ref:t})});Eee.displayName=_1e;var P1e="DropdownMenuSubContent",Dee=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Ea(n);return s.jsx(u1e,{...a,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Dee.displayName=P1e;var T1e=yee,A1e=jee,E1e=wee,Oee=See,Mee=Cee,Ree=kee,$ee=_ee,Iee=Pee,Fee=Tee,Lee=Aee,zee=Eee,Bee=Dee;const Zf=T1e,Jf=A1e,D1e=b.forwardRef(({className:e,inset:t,children:n,...r},a)=>s.jsxs(zee,{ref:a,className:Ne("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r,children:[n,s.jsx(fv,{className:"ml-auto"})]}));D1e.displayName=zee.displayName;const O1e=b.forwardRef(({className:e,...t},n)=>s.jsx(Bee,{ref:n,className:Ne("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));O1e.displayName=Bee.displayName;const Qu=b.forwardRef(({className:e,sideOffset:t=4,...n},r)=>s.jsx(E1e,{children:s.jsx(Oee,{ref:r,sideOffset:t,className:Ne("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...n})}));Qu.displayName=Oee.displayName;const Ca=b.forwardRef(({className:e,inset:t,...n},r)=>s.jsx(Ree,{ref:r,className:Ne("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n}));Ca.displayName=Ree.displayName;const M1e=b.forwardRef(({className:e,children:t,checked:n,...r},a)=>s.jsxs($ee,{ref:a,className:Ne("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(Fee,{children:s.jsx(hv,{className:"h-4 w-4"})})}),t]}));M1e.displayName=$ee.displayName;const R1e=b.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(Iee,{ref:r,className:Ne("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(Fee,{children:s.jsx(tS,{className:"h-2 w-2 fill-current"})})}),t]}));R1e.displayName=Iee.displayName;const aD=b.forwardRef(({className:e,inset:t,...n},r)=>s.jsx(Mee,{ref:r,className:Ne("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));aD.displayName=Mee.displayName;const lp=b.forwardRef(({className:e,...t},n)=>s.jsx(Lee,{ref:n,className:Ne("-mx-1 my-1 h-px bg-muted",e),...t}));lp.displayName=Lee.displayName;var e$="Collapsible",[$1e,XNt]=fs(e$),[I1e,t$]=$1e(e$),Uee=b.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:a,disabled:i,onOpenChange:o,...l}=e,[c=!1,d]=bi({prop:r,defaultProp:a,onChange:o});return s.jsx(I1e,{scope:n,disabled:i,contentId:mi(),open:c,onOpenToggle:b.useCallback(()=>d(u=>!u),[d]),children:s.jsx(Qe.div,{"data-state":r$(c),"data-disabled":i?"":void 0,...l,ref:t})})});Uee.displayName=e$;var Vee="CollapsibleTrigger",Wee=b.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,a=t$(Vee,n);return s.jsx(Qe.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":r$(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...r,ref:t,onClick:Pe(e.onClick,a.onOpenToggle)})});Wee.displayName=Vee;var n$="CollapsibleContent",Hee=b.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=t$(n$,e.__scopeCollapsible);return s.jsx(ms,{present:n||a.open,children:({present:i})=>s.jsx(F1e,{...r,ref:t,present:i})})});Hee.displayName=n$;var F1e=b.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:a,...i}=e,o=t$(n$,n),[l,c]=b.useState(r),d=b.useRef(null),u=wt(t,d),h=b.useRef(0),f=h.current,g=b.useRef(0),m=g.current,p=o.open||l,x=b.useRef(p),v=b.useRef(void 0);return b.useEffect(()=>{const y=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(y)},[]),$r(()=>{const y=d.current;if(y){v.current=v.current||{transitionDuration:y.style.transitionDuration,animationName:y.style.animationName},y.style.transitionDuration="0s",y.style.animationName="none";const j=y.getBoundingClientRect();h.current=j.height,g.current=j.width,x.current||(y.style.transitionDuration=v.current.transitionDuration,y.style.animationName=v.current.animationName),c(r)}},[o.open,r]),s.jsx(Qe.div,{"data-state":r$(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!p,...i,ref:u,style:{"--radix-collapsible-content-height":f?`${f}px`:void 0,"--radix-collapsible-content-width":m?`${m}px`:void 0,...e.style},children:p&&a})});function r$(e){return e?"open":"closed"}var L1e=Uee;const i0=L1e,s$=Wee,yk=Hee,z1e=[{id:"core",title:"Core Features",icon:Xo,items:[{id:"home",title:"Dashboard",icon:Xo,path:"/"},{id:"tasks",title:"Tasks",icon:Jy,path:"/tasks"},{id:"projects",title:"Projects",icon:a0e,path:"/project-dashboard"},{id:"calendar",title:"Calendar",icon:en,path:"/calendar"},{id:"messages",title:"Messages",icon:li,path:"/messages"}]},{id:"business",title:"Business Operations",icon:_u,items:[{id:"clients",title:"Clients",icon:gn,path:"/client-list"},{id:"invoices",title:"Invoices",icon:nt,path:"/invoices"},{id:"contracts",title:"Contracts",icon:Jy,path:"/contracts"},{id:"payments",title:"Payments",icon:_u,path:"/payments"},{id:"proposals",title:"Proposals",icon:GE,path:"/proposals"}]},{id:"analytics",title:"Analytics & Insights",icon:Sn,items:[{id:"analytics",title:"Analytics",icon:Sn,path:"/analytics"},{id:"productivity",title:"Productivity",icon:ra,path:"/productivity"},{id:"advanced-reporting",title:"Advanced Reports",icon:fn,path:"/advanced-reporting"},{id:"ai-insights",title:"AI Insights",icon:ya,path:"/ai-insights"},{id:"predictive-analytics",title:"Predictive Analytics",icon:ya,path:"/predictive-analytics"}]},{id:"advanced",title:"Advanced Features",icon:cn,collapsed:!0,items:[{id:"workflow-automation",title:"Workflow Automation",icon:cn,path:"/workflow-automation"},{id:"smart-scheduling",title:"Smart Scheduling",icon:bt,path:"/smart-scheduling"},{id:"garage-assistant",title:"AI Assistant",icon:fj,path:"/garage-assistant"},{id:"team-collaboration",title:"Team Collaboration",icon:gn,path:"/team-collaboration"},{id:"custom-fields",title:"Custom Fields",icon:dr,path:"/custom-fields"},{id:"bulk-operations",title:"Bulk Operations",icon:nS,path:"/bulk-operations"},{id:"templates",title:"Templates",icon:nt,path:"/templates"},{id:"filing-cabinet",title:"Filing Cabinet",icon:GQ,path:"/filing-cabinet"}]},{id:"system",title:"System Administration",icon:fi,adminOnly:!0,collapsed:!0,items:[{id:"admin",title:"User Management",icon:gn,path:"/admin",adminOnly:!0},{id:"permissions",title:"Permissions",icon:X2,path:"/permissions-management",adminOnly:!0},{id:"sso",title:"SSO Management",icon:fi,path:"/sso-management",adminOnly:!0},{id:"audit",title:"Audit Logs",icon:fn,path:"/audit-logging",adminOnly:!0},{id:"api-webhooks",title:"API & Webhooks",icon:_R,path:"/api-webhooks",adminOnly:!0},{id:"performance",title:"Performance",icon:ra,path:"/performance-dashboard",adminOnly:!0}]},{id:"tools",title:"Tools & Utilities",icon:ss,collapsed:!0,items:[{id:"instant-proposal",title:"Instant Proposal",icon:cn,path:"/instant-proposal"},{id:"create-presentation",title:"Create Presentation",icon:GE,path:"/create-presentation"},{id:"template-editor",title:"Template Editor",icon:ss,path:"/template-editor"},{id:"user-manual",title:"User Manual",icon:nt,path:"/user-manual"}]}];function B1e(){const[,e]=Fs(),{isAdmin:t}=er(),[n,r]=b.useState(new Set(["core","business"])),a=l=>{const c=new Set(n);c.has(l)?c.delete(l):c.add(l),r(c)},i=l=>{e(l)},o=z1e.filter(l=>!l.adminOnly||t);return s.jsxs(Zf,{children:[s.jsx(Jf,{asChild:!0,children:s.jsx(D,{variant:"ghost",size:"sm",className:"text-white hover:bg-white/10 relative p-1.5 sm:p-2","data-testid":"button-navigation-menu",title:"Navigation Menu",children:s.jsx(eZ,{size:16,className:"sm:w-[18px] sm:h-[18px] text-white"})})}),s.jsxs(Qu,{className:"w-80 max-h-[600px] overflow-y-auto",align:"end",side:"bottom",children:[s.jsx(aD,{className:"text-lg font-semibold text-garage-navy",children:"Navigation"}),s.jsx(lp,{}),s.jsx("div",{className:"space-y-1",children:o.map(l=>{const c=n.has(l.id),d=l.items.filter(h=>!h.adminOnly||t);if(d.length===0)return null;const u=l.icon;return s.jsxs(i0,{open:c,onOpenChange:()=>a(l.id),children:[s.jsx(s$,{asChild:!0,children:s.jsxs(D,{variant:"ghost",className:"w-full justify-between px-3 py-2 h-auto text-left hover:bg-gray-50","data-testid":`section-${l.id}`,children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(u,{size:18,className:"text-garage-navy"}),s.jsx("span",{className:"font-medium text-gray-900",children:l.title}),l.adminOnly&&s.jsx("span",{className:"bg-garage-navy text-white px-1.5 py-0.5 rounded-full text-xs font-medium",children:"Admin"})]}),c?s.jsx(Yo,{size:16,className:"text-gray-400"}):s.jsx(fv,{size:16,className:"text-gray-400"})]})}),s.jsx(yk,{className:"space-y-1 pl-4",children:d.map(h=>{const f=h.icon;return s.jsx(Ca,{className:"cursor-pointer py-2 px-3 rounded-md hover:bg-gray-50",onClick:()=>i(h.path),"data-testid":`nav-item-${h.id}`,children:s.jsxs("div",{className:"flex items-center space-x-3 w-full",children:[s.jsx(f,{size:16,className:"text-garage-navy/70"}),s.jsx("span",{className:"text-gray-700 font-medium",children:h.title}),h.badge&&s.jsx("span",{className:"bg-ignition-teal text-white px-1.5 py-0.5 rounded-full text-xs font-medium ml-auto",children:h.badge}),h.adminOnly&&s.jsx("span",{className:"bg-gray-200 text-gray-600 px-1.5 py-0.5 rounded-full text-xs font-medium ml-auto",children:"Admin"})]})},h.id)})})]},l.id)})}),s.jsx(lp,{}),s.jsxs("div",{className:"p-2",children:[s.jsx(aD,{className:"text-sm font-medium text-gray-600 mb-2",children:"Quick Actions"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs(D,{size:"sm",variant:"outline",className:"w-full text-xs",onClick:()=>i("/tasks?new=true"),"data-testid":"quick-new-task",children:[s.jsx(st,{size:14,className:"mr-1"}),"New Task"]}),s.jsxs(D,{size:"sm",variant:"outline",className:"w-full text-xs",onClick:()=>i("/create-invoice"),"data-testid":"quick-new-invoice",children:[s.jsx(nt,{size:14,className:"mr-1"}),"New Invoice"]})]})]}),s.jsx(lp,{}),s.jsxs("div",{className:"p-3 text-center",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Need help finding something?"}),s.jsxs(D,{size:"sm",variant:"ghost",className:"text-xs text-garage-navy hover:bg-garage-navy/10",onClick:()=>{const l=document.querySelector('[data-testid="global-search-input"]');l&&l.focus()},"data-testid":"focus-search",children:[s.jsx(Ya,{size:14,className:"mr-1"}),"Use Global Search"]})]})]})]})}const U1e="/assets/gigster-logo-orange-CX81-37b.png";function a$({size:e="medium",showText:t=!0,className:n=""}){const r={mini:"gigster-logo-mini",small:"gigster-logo",medium:"w-12 h-12 rounded-xl flex items-center justify-center text-white font-bold text-xl shadow-lg",large:"gigster-logo-large"},a={mini:"text-sm",small:"text-base",medium:"text-lg",large:"text-xl"};return s.jsxs("div",{className:`flex items-center space-x-3 ${n}`,children:[s.jsxs("div",{className:r[e],style:{background:"var(--gigster-gradient)"},children:[s.jsx("img",{src:U1e,alt:"Gigster Garage",className:`${e==="mini"?"w-4 h-4":e==="small"?"w-6 h-6":e==="large"?"w-8 h-8":"w-7 h-7"} object-contain`,onError:i=>{var l;const o=i.target;o.style.display="none",(l=o.nextElementSibling)==null||l.classList.remove("hidden")}}),s.jsx(Q2,{className:`hidden ${e==="mini"?"w-4 h-4":e==="small"?"w-5 h-5":e==="large"?"w-8 h-8":"w-6 h-6"} text-brand-amber`})]}),t&&s.jsxs("div",{children:[s.jsx("h1",{className:`brand-heading ${a[e]} gg-h1`,style:{color:"var(--gg-slate-ink)"},children:"Gigster Garage"}),e!=="mini"&&s.jsx("p",{className:"text-xs gg-subtext",style:{color:"var(--gg-amber)"},children:"Smarter tools for bolder dreams"})]})]})}const te=b.forwardRef(({className:e,type:t,...n},r)=>s.jsx("input",{type:t,className:Ne("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));te.displayName="Input";var V1e="Separator",cL="horizontal",W1e=["horizontal","vertical"],qee=b.forwardRef((e,t)=>{const{decorative:n,orientation:r=cL,...a}=e,i=H1e(r)?r:cL,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx(Qe.div,{"data-orientation":i,...l,...a,ref:t})});qee.displayName=V1e;function H1e(e){return W1e.includes(e)}var Kee=qee;const _s=b.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},a)=>s.jsx(Kee,{ref:a,decorative:n,orientation:t,className:Ne("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));_s.displayName=Kee.displayName;const q1e=e=>{switch(e){case"task":return s.jsx(bt,{className:"h-4 w-4 text-blue-600"});case"project":return s.jsx(Pu,{className:"h-4 w-4 text-purple-600"});case"client":return s.jsx(gn,{className:"h-4 w-4 text-green-600"});case"invoice":return s.jsx(nt,{className:"h-4 w-4 text-orange-600"});case"message":return s.jsx(Cs,{className:"h-4 w-4 text-blue-500"});default:return s.jsx(nt,{className:"h-4 w-4 text-gray-600"})}},K1e=e=>{switch(e){case"task":return"Task";case"project":return"Project";case"client":return"Client";case"invoice":return"Invoice";case"message":return"Message";default:return"Item"}};function G1e({className:e,onClose:t,autoFocus:n=!1}){const[r,a]=b.useState(""),[i,o]=b.useState(!1),[l,c]=b.useState(-1),[,d]=Fs(),u=b.useRef(null),h=b.useRef(null),{data:f=[],isLoading:g}=he({queryKey:["/api/search",r],enabled:r.length>=2,staleTime:3e4});b.useEffect(()=>{n&&u.current&&u.current.focus()},[n]),b.useEffect(()=>{const j=N=>{if(!(!i||f.length===0))switch(N.key){case"ArrowDown":N.preventDefault(),c(w=>w<f.length-1?w+1:w);break;case"ArrowUp":N.preventDefault(),c(w=>w>0?w-1:-1);break;case"Enter":N.preventDefault(),l>=0&&f[l]&&p(f[l]);break;case"Escape":N.preventDefault(),x();break}};if(i)return document.addEventListener("keydown",j),()=>document.removeEventListener("keydown",j)},[i,f,l]),b.useEffect(()=>{const j=N=>{var w;(N.ctrlKey||N.metaKey)&&N.key==="k"&&(N.preventDefault(),(w=u.current)==null||w.focus(),o(!0))};return document.addEventListener("keydown",j),()=>document.removeEventListener("keydown",j)},[]);const m=j=>{a(j),c(-1),o(j.length>=2)},p=j=>{d(j.url),x()},x=()=>{o(!1),a(""),c(-1),t==null||t()},v=()=>{r.length>=2&&o(!0)},y=f.reduce((j,N)=>(j[N.type]||(j[N.type]=[]),j[N.type].push(N),j),{});return s.jsxs("div",{className:Ne("relative",e),children:[s.jsxs("div",{className:"relative",children:[s.jsx(Ya,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(te,{ref:u,type:"text",placeholder:"Search tasks, projects, clients... (Ctrl+K)",value:r,onChange:j=>m(j.target.value),onFocus:v,className:"pl-10 pr-10 bg-white border-gray-300 focus:border-blue-500","data-testid":"global-search-input"}),r&&s.jsx(D,{variant:"ghost",size:"sm",onClick:x,className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-6 w-6 p-0 hover:bg-gray-100","data-testid":"clear-search",children:s.jsx(Kt,{className:"h-3 w-3"})})]}),i&&s.jsx(B,{className:"absolute top-full left-0 right-0 mt-2 max-h-96 overflow-hidden z-50 shadow-lg border",children:s.jsxs(q,{className:"p-0",children:[g?s.jsxs("div",{className:"p-4 text-center text-gray-500",children:[s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto mb-2"}),"Searching..."]}):f.length===0&&r.length>=2?s.jsxs("div",{className:"p-4 text-center text-gray-500",children:['No results found for "',r,'"']}):s.jsx("div",{ref:h,className:"max-h-80 overflow-y-auto",children:Object.entries(y).map(([j,N],w)=>s.jsxs("div",{children:[w>0&&s.jsx(_s,{}),s.jsx("div",{className:"p-2 bg-gray-50 border-b",children:s.jsxs("h4",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide",children:[K1e(j),"s (",N.length,")"]})}),N.map((S,k)=>{var T,P,C,A,E;const _=Object.entries(y).slice(0,w).reduce((I,[,$])=>I+$.length,0)+k;return s.jsxs("div",{onClick:()=>p(S),className:Ne("flex items-center gap-3 p-3 hover:bg-blue-50 cursor-pointer transition-colors",l===_&&"bg-blue-50"),"data-testid":`search-result-${S.type}-${S.id}`,children:[q1e(S.type),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium text-gray-900 truncate",children:S.title}),((T=S.metadata)==null?void 0:T.status)&&s.jsx(Z,{variant:"secondary",className:"text-xs",children:S.metadata.status}),((P=S.metadata)==null?void 0:P.priority)==="high"&&s.jsx(Z,{className:"bg-red-100 text-red-800 text-xs",children:"High Priority"})]}),S.description&&s.jsx("p",{className:"text-sm text-gray-600 truncate mt-1",children:S.description}),(((C=S.metadata)==null?void 0:C.projectName)||((A=S.metadata)==null?void 0:A.assigneeName)||((E=S.metadata)==null?void 0:E.dueDate))&&s.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-gray-500",children:[S.metadata.projectName&&s.jsxs("span",{children:["Project: ",S.metadata.projectName]}),S.metadata.assigneeName&&s.jsxs("span",{children:["Assigned to: ",S.metadata.assigneeName]}),S.metadata.dueDate&&s.jsxs("span",{children:["Due: ",new Date(S.metadata.dueDate).toLocaleDateString()]})]})]}),s.jsx(fv,{className:"h-4 w-4 text-gray-400"})]},S.id)})]},j))}),r.length>=2&&f.length>0&&s.jsx("div",{className:"p-2 bg-gray-50 border-t text-xs text-gray-500 text-center",children:"Use  to navigate, Enter to select, Esc to close"})]})}),i&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-20 z-40",onClick:x})]})}var i$="Popover",[Gee,QNt]=fs(i$,[Xu]),Mj=Xu(),[Y1e,Zu]=Gee(i$),Yee=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=Mj(t),c=b.useRef(null),[d,u]=b.useState(!1),[h=!1,f]=bi({prop:r,defaultProp:a,onChange:i});return s.jsx(nk,{...l,children:s.jsx(Y1e,{scope:t,contentId:mi(),triggerRef:c,open:h,onOpenChange:f,onOpenToggle:b.useCallback(()=>f(g=>!g),[f]),hasCustomAnchor:d,onCustomAnchorAdd:b.useCallback(()=>u(!0),[]),onCustomAnchorRemove:b.useCallback(()=>u(!1),[]),modal:o,children:n})})};Yee.displayName=i$;var Xee="PopoverAnchor",X1e=b.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=Zu(Xee,n),i=Mj(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return b.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(xj,{...i,...r,ref:t})});X1e.displayName=Xee;var Qee="PopoverTrigger",Zee=b.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=Zu(Qee,n),i=Mj(n),o=wt(t,a.triggerRef),l=s.jsx(Qe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":rte(a.open),...r,ref:o,onClick:Pe(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(xj,{asChild:!0,...i,children:l})});Zee.displayName=Qee;var o$="PopoverPortal",[Q1e,Z1e]=Gee(o$,{forceMount:void 0}),Jee=e=>{const{__scopePopover:t,forceMount:n,children:r,container:a}=e,i=Zu(o$,t);return s.jsx(Q1e,{scope:t,forceMount:n,children:s.jsx(ms,{present:n||i.open,children:s.jsx(dv,{asChild:!0,container:a,children:r})})})};Jee.displayName=o$;var hg="PopoverContent",ete=b.forwardRef((e,t)=>{const n=Z1e(hg,e.__scopePopover),{forceMount:r=n.forceMount,...a}=e,i=Zu(hg,e.__scopePopover);return s.jsx(ms,{present:r||i.open,children:i.modal?s.jsx(eSe,{...a,ref:t}):s.jsx(tSe,{...a,ref:t})})});ete.displayName=hg;var J1e=ku("PopoverContent.RemoveScroll"),eSe=b.forwardRef((e,t)=>{const n=Zu(hg,e.__scopePopover),r=b.useRef(null),a=wt(t,r),i=b.useRef(!1);return b.useEffect(()=>{const o=r.current;if(o)return uk(o)},[]),s.jsx(jj,{as:J1e,allowPinchZoom:!0,children:s.jsx(tte,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Pe(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Pe(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:Pe(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),tSe=b.forwardRef((e,t)=>{const n=Zu(hg,e.__scopePopover),r=b.useRef(!1),a=b.useRef(!1);return s.jsx(tte,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),tte=b.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...h}=e,f=Zu(hg,n),g=Mj(n);return ck(),s.jsx(bj,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Gf,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>f.onOpenChange(!1),children:s.jsx(rk,{"data-state":rte(f.open),role:"dialog",id:f.contentId,...g,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),nte="PopoverClose",nSe=b.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=Zu(nte,n);return s.jsx(Qe.button,{type:"button",...r,ref:t,onClick:Pe(e.onClick,()=>a.onOpenChange(!1))})});nSe.displayName=nte;var rSe="PopoverArrow",sSe=b.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=Mj(n);return s.jsx(sk,{...a,...r,ref:t})});sSe.displayName=rSe;function rte(e){return e?"open":"closed"}var aSe=Yee,iSe=Zee,oSe=Jee,ste=ete;const hS=aSe,fS=iSe,o0=b.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},a)=>s.jsx(oSe,{children:s.jsx(ste,{ref:a,align:t,sideOffset:n,className:Ne("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...r})}));o0.displayName=ste.displayName;function lSe({className:e,size:t="default"}){const[n,r]=b.useState(!1),{currentMood:a,palette:i,changeMood:o,availableMoods:l}=Vje(),c={sm:"h-8 w-8",default:"h-9 w-9",lg:"h-10 w-10"},d={sm:"h-3 w-3",default:"h-4 w-4",lg:"h-5 w-5"};return s.jsxs(hS,{open:n,onOpenChange:r,children:[s.jsx(fS,{asChild:!0,children:s.jsxs(D,{variant:"outline",size:"icon",className:Ne(c[t],"relative overflow-hidden border-2 transition-all duration-200",e),style:{background:`linear-gradient(135deg, ${i.colors.primary} 0%, ${i.colors.secondary} 100%)`,borderColor:i.colors.primary},"data-testid":"mood-palette-switcher",children:[s.jsx(Lx,{className:Ne(d[t],"text-white")}),s.jsx("span",{className:"sr-only",children:"Change mood palette"})]})}),s.jsx(o0,{className:"w-80 p-4",align:"end","data-testid":"mood-palette-popover",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium text-sm",children:"Mood-Based Color Palette"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Choose a color theme that matches your current mood and enhances your productivity"})]}),s.jsx("div",{className:"grid gap-2",children:l.map(u=>s.jsxs("div",{className:Ne("flex items-center gap-3 p-3 rounded-lg border cursor-pointer transition-all duration-200 hover:shadow-md",a===u.name?"border-primary bg-primary/5":"border-border hover:border-primary/50"),onClick:()=>{o(u.name),r(!1)},"data-testid":`mood-option-${u.name}`,children:[s.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm",style:{background:`linear-gradient(135deg, ${u.colors.primary} 0%, ${u.colors.secondary} 100%)`},children:u.emoji}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium text-sm",children:u.label}),a===u.name&&s.jsx(hv,{className:"h-4 w-4 text-primary","data-testid":`mood-selected-${u.name}`})]}),s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:u.description})]})]},u.name))}),s.jsx("div",{className:"pt-2 border-t",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Current Mood"}),s.jsxs(Z,{variant:"secondary",className:"text-xs",style:{backgroundColor:`${i.colors.primary}15`,color:i.colors.primary,borderColor:`${i.colors.primary}25`},"data-testid":"current-mood-badge",children:[i.emoji," ",i.label]})]})})]})})]})}function kt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Ga(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Jr(e,t){const n=kt(e);return isNaN(t)?Ga(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function no(e,t){const n=kt(e);if(isNaN(t))return Ga(e,NaN);if(!t)return n;const r=n.getDate(),a=Ga(e,n.getTime());a.setMonth(n.getMonth()+t+1,0);const i=a.getDate();return r>=i?a:(n.setFullYear(a.getFullYear(),a.getMonth(),r),n)}const l$=6048e5,cSe=864e5,ate=6e4,ite=36e5,qw=43200,dL=1440;let dSe={};function yv(){return dSe}function ic(e,t){var l,c,d,u;const n=yv(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((u=(d=n.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=kt(e),i=a.getDay(),o=(i<r?7:0)+i-r;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function _f(e){return ic(e,{weekStartsOn:1})}function ote(e){const t=kt(e),n=t.getFullYear(),r=Ga(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const a=_f(r),i=Ga(e,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=_f(i);return t.getTime()>=a.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function Hn(e){const t=kt(e);return t.setHours(0,0,0,0),t}function fg(e){const t=kt(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Fl(e,t){const n=Hn(e),r=Hn(t),a=+n-fg(n),i=+r-fg(r);return Math.round((a-i)/cSe)}function uSe(e){const t=ote(e),n=Ga(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),_f(n)}function mS(e,t){const n=t*7;return Jr(e,n)}function hSe(e,t){return no(e,t*12)}function fSe(e){let t;return e.forEach(function(n){const r=kt(n);(t===void 0||t<r||isNaN(Number(r)))&&(t=r)}),t||new Date(NaN)}function mSe(e){let t;return e.forEach(n=>{const r=kt(n);(!t||t>r||isNaN(+r))&&(t=r)}),t||new Date(NaN)}function s1(e,t){const n=kt(e),r=kt(t),a=n.getTime()-r.getTime();return a<0?-1:a>0?1:a}function pSe(e){return Ga(e,Date.now())}function La(e,t){const n=Hn(e),r=Hn(t);return+n==+r}function c$(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function gSe(e){if(!c$(e)&&typeof e!="number")return!1;const t=kt(e);return!isNaN(Number(t))}function mg(e,t){const n=kt(e),r=kt(t),a=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return a*12+i}function vSe(e,t,n){const r=ic(e,n),a=ic(t,n),i=+r-fg(r),o=+a-fg(a);return Math.round((i-o)/l$)}function xSe(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function ySe(e,t){return+kt(e)-+kt(t)}function lte(e){const t=kt(e);return t.setHours(23,59,59,999),t}function Rj(e){const t=kt(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function bSe(e){const t=kt(e);return+lte(t)==+Rj(t)}function jSe(e,t){const n=kt(e),r=kt(t),a=s1(n,r),i=Math.abs(mg(n,r));let o;if(i<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-a*i);let l=s1(n,r)===-a;bSe(kt(e))&&i===1&&s1(e,r)===1&&(l=!1),o=a*(i-Number(l))}return o===0?0:o}function wSe(e,t,n){const r=ySe(e,t)/1e3;return xSe(n==null?void 0:n.roundingMethod)(r)}function ka(e){const t=kt(e);return t.setDate(1),t.setHours(0,0,0,0),t}function cte(e){const t=kt(e),n=Ga(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function d$(e,t){var l,c,d,u;const n=yv(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((u=(d=n.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=kt(e),i=a.getDay(),o=(i<r?-7:0)+6-(i-r);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function dte(e){return d$(e,{weekStartsOn:1})}const NSe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},SSe=(e,t,n)=>{let r;const a=NSe[e];return typeof a=="string"?r=a:t===1?r=a.one:r=a.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function rT(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const CSe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},kSe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},_Se={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},PSe={date:rT({formats:CSe,defaultWidth:"full"}),time:rT({formats:kSe,defaultWidth:"full"}),dateTime:rT({formats:_Se,defaultWidth:"full"})},TSe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ASe=(e,t,n,r)=>TSe[e];function cx(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let a;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const ESe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},DSe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},OSe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},MSe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},RSe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},$Se={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ISe=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},FSe={ordinalNumber:ISe,era:cx({values:ESe,defaultWidth:"wide"}),quarter:cx({values:DSe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:cx({values:OSe,defaultWidth:"wide"}),day:cx({values:MSe,defaultWidth:"wide"}),dayPeriod:cx({values:RSe,defaultWidth:"wide",formattingValues:$Se,defaultFormattingWidth:"wide"})};function dx(e){return(t,n={})=>{const r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?zSe(l,h=>h.test(o)):LSe(l,h=>h.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const u=t.slice(o.length);return{value:d,rest:u}}}function LSe(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function zSe(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function BSe(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const a=r[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const USe=/^(\d+)(th|st|nd|rd)?/i,VSe=/\d+/i,WSe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},HSe={any:[/^b/i,/^(a|c)/i]},qSe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},KSe={any:[/1/i,/2/i,/3/i,/4/i]},GSe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},YSe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},XSe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},QSe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ZSe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},JSe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},eCe={ordinalNumber:BSe({matchPattern:USe,parsePattern:VSe,valueCallback:e=>parseInt(e,10)}),era:dx({matchPatterns:WSe,defaultMatchWidth:"wide",parsePatterns:HSe,defaultParseWidth:"any"}),quarter:dx({matchPatterns:qSe,defaultMatchWidth:"wide",parsePatterns:KSe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:dx({matchPatterns:GSe,defaultMatchWidth:"wide",parsePatterns:YSe,defaultParseWidth:"any"}),day:dx({matchPatterns:XSe,defaultMatchWidth:"wide",parsePatterns:QSe,defaultParseWidth:"any"}),dayPeriod:dx({matchPatterns:ZSe,defaultMatchWidth:"any",parsePatterns:JSe,defaultParseWidth:"any"})},u$={code:"en-US",formatDistance:SSe,formatLong:PSe,formatRelative:ASe,localize:FSe,match:eCe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function tCe(e){const t=kt(e);return Fl(t,cte(t))+1}function ute(e){const t=kt(e),n=+_f(t)-+uSe(t);return Math.round(n/l$)+1}function hte(e,t){var u,h,f,g;const n=kt(e),r=n.getFullYear(),a=yv(),i=(t==null?void 0:t.firstWeekContainsDate)??((h=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??a.firstWeekContainsDate??((g=(f=a.locale)==null?void 0:f.options)==null?void 0:g.firstWeekContainsDate)??1,o=Ga(e,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const l=ic(o,t),c=Ga(e,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const d=ic(c,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=d.getTime()?r:r-1}function nCe(e,t){var l,c,d,u;const n=yv(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(d=n.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,a=hte(e,t),i=Ga(e,0);return i.setFullYear(a,0,r),i.setHours(0,0,0,0),ic(i,t)}function fte(e,t){const n=kt(e),r=+ic(n,t)-+nCe(n,t);return Math.round(r/l$)+1}function mn(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Td={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return mn(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):mn(n+1,2)},d(e,t){return mn(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return mn(e.getHours()%12||12,t.length)},H(e,t){return mn(e.getHours(),t.length)},m(e,t){return mn(e.getMinutes(),t.length)},s(e,t){return mn(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),a=Math.trunc(r*Math.pow(10,n-3));return mn(a,t.length)}},fm={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},uL={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return Td.y(e,t)},Y:function(e,t,n,r){const a=hte(e,r),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return mn(o,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):mn(i,t.length)},R:function(e,t){const n=ote(e);return mn(n,t.length)},u:function(e,t){const n=e.getFullYear();return mn(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return mn(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return mn(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Td.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return mn(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const a=fte(e,r);return t==="wo"?n.ordinalNumber(a,{unit:"week"}):mn(a,t.length)},I:function(e,t,n){const r=ute(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):mn(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Td.d(e,t)},D:function(e,t,n){const r=tCe(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):mn(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return mn(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return mn(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),a=r===0?7:r;switch(t){case"i":return String(a);case"ii":return mn(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let a;switch(r===12?a=fm.noon:r===0?a=fm.midnight:a=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let a;switch(r>=17?a=fm.evening:r>=12?a=fm.afternoon:r>=4?a=fm.morning:a=fm.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Td.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Td.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):mn(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):mn(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Td.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Td.s(e,t)},S:function(e,t){return Td.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return fL(r);case"XXXX":case"XX":return vh(r);case"XXXXX":case"XXX":default:return vh(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return fL(r);case"xxxx":case"xx":return vh(r);case"xxxxx":case"xxx":default:return vh(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+hL(r,":");case"OOOO":default:return"GMT"+vh(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+hL(r,":");case"zzzz":default:return"GMT"+vh(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return mn(r,t.length)},T:function(e,t,n){const r=e.getTime();return mn(r,t.length)}};function hL(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=Math.trunc(r/60),i=r%60;return i===0?n+String(a):n+String(a)+t+mn(i,2)}function fL(e,t){return e%60===0?(e>0?"-":"+")+mn(Math.abs(e)/60,2):vh(e,t)}function vh(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=mn(Math.trunc(r/60),2),i=mn(r%60,2);return n+a+t+i}const mL=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},mte=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},rCe=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return mL(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",mL(r,t)).replace("{{time}}",mte(a,t))},sCe={p:mte,P:rCe},aCe=/^D+$/,iCe=/^Y+$/,oCe=["D","DD","YY","YYYY"];function lCe(e){return aCe.test(e)}function cCe(e){return iCe.test(e)}function dCe(e,t,n){const r=uCe(e,t,n);if(console.warn(r),oCe.includes(e))throw new RangeError(r)}function uCe(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const hCe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,fCe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,mCe=/^'([^]*?)'?$/,pCe=/''/g,gCe=/[a-zA-Z]/;function Me(e,t,n){var u,h,f,g,m,p,x,v;const r=yv(),a=(n==null?void 0:n.locale)??r.locale??u$,i=(n==null?void 0:n.firstWeekContainsDate)??((h=(u=n==null?void 0:n.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(f=r.locale)==null?void 0:f.options)==null?void 0:g.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((p=(m=n==null?void 0:n.locale)==null?void 0:m.options)==null?void 0:p.weekStartsOn)??r.weekStartsOn??((v=(x=r.locale)==null?void 0:x.options)==null?void 0:v.weekStartsOn)??0,l=kt(e);if(!gSe(l))throw new RangeError("Invalid time value");let c=t.match(fCe).map(y=>{const j=y[0];if(j==="p"||j==="P"){const N=sCe[j];return N(y,a.formatLong)}return y}).join("").match(hCe).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const j=y[0];if(j==="'")return{isToken:!1,value:vCe(y)};if(uL[j])return{isToken:!0,value:y};if(j.match(gCe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(y=>{if(!y.isToken)return y.value;const j=y.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&cCe(j)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&lCe(j))&&dCe(j,t,String(e));const N=uL[j[0]];return N(l,j,a.localize,d)}).join("")}function vCe(e){const t=e.match(mCe);return t?t[1].replace(pCe,"'"):e}function xCe(e,t,n){const r=yv(),a=(n==null?void 0:n.locale)??r.locale??u$,i=2520,o=s1(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:o});let c,d;o>0?(c=kt(t),d=kt(e)):(c=kt(e),d=kt(t));const u=wSe(d,c),h=(fg(d)-fg(c))/1e3,f=Math.round((u-h)/60);let g;if(f<2)return n!=null&&n.includeSeconds?u<5?a.formatDistance("lessThanXSeconds",5,l):u<10?a.formatDistance("lessThanXSeconds",10,l):u<20?a.formatDistance("lessThanXSeconds",20,l):u<40?a.formatDistance("halfAMinute",0,l):u<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):f===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",f,l);if(f<45)return a.formatDistance("xMinutes",f,l);if(f<90)return a.formatDistance("aboutXHours",1,l);if(f<dL){const m=Math.round(f/60);return a.formatDistance("aboutXHours",m,l)}else{if(f<i)return a.formatDistance("xDays",1,l);if(f<qw){const m=Math.round(f/dL);return a.formatDistance("xDays",m,l)}else if(f<qw*2)return g=Math.round(f/qw),a.formatDistance("aboutXMonths",g,l)}if(g=jSe(d,c),g<12){const m=Math.round(f/qw);return a.formatDistance("xMonths",m,l)}else{const m=g%12,p=Math.trunc(g/12);return m<3?a.formatDistance("aboutXYears",p,l):m<9?a.formatDistance("overXYears",p,l):a.formatDistance("almostXYears",p+1,l)}}function Dh(e,t){return xCe(e,pSe(e),t)}function yCe(e){const t=kt(e),n=t.getFullYear(),r=t.getMonth(),a=Ga(e,0);return a.setFullYear(n,r+1,0),a.setHours(0,0,0,0),a.getDate()}function bCe(e){return Math.trunc(+kt(e)/1e3)}function jCe(e){const t=kt(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function wCe(e,t){return vSe(jCe(e),ka(e),t)+1}function pg(e,t){const n=kt(e),r=kt(t);return n.getTime()>r.getTime()}function hy(e,t){const n=kt(e),r=kt(t);return+n<+r}function h$(e,t){const n=kt(e),r=kt(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function NCe(e,t){const n=kt(e),r=kt(t);return n.getFullYear()===r.getFullYear()}function cp(e,t){return Jr(e,-t)}function ci(e,t){const r=_Ce(e);let a;if(r.date){const c=PCe(r.date,2);a=TCe(c.restDateString,c.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const i=a.getTime();let o=0,l;if(r.time&&(o=ACe(r.time),isNaN(o)))return new Date(NaN);if(r.timezone){if(l=ECe(r.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(i+o),d=new Date(0);return d.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),d.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),d}return new Date(i+o+l)}const Kw={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},SCe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,CCe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,kCe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function _Ce(e){const t={},n=e.split(Kw.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],Kw.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Kw.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const a=Kw.timezone.exec(r);a?(t.time=r.replace(a[1],""),t.timezone=a[1]):t.time=r}return t}function PCe(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const a=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((r[1]||r[2]).length)}}function TCe(e,t){if(t===null)return new Date(NaN);const n=e.match(SCe);if(!n)return new Date(NaN);const r=!!n[4],a=ux(n[1]),i=ux(n[2])-1,o=ux(n[3]),l=ux(n[4]),c=ux(n[5])-1;if(r)return $Ce(t,l,c)?DCe(t,l,c):new Date(NaN);{const d=new Date(0);return!MCe(t,i,o)||!RCe(t,a)?new Date(NaN):(d.setUTCFullYear(t,i,Math.max(a,o)),d)}}function ux(e){return e?parseInt(e):1}function ACe(e){const t=e.match(CCe);if(!t)return NaN;const n=sT(t[1]),r=sT(t[2]),a=sT(t[3]);return ICe(n,r,a)?n*ite+r*ate+a*1e3:NaN}function sT(e){return e&&parseFloat(e.replace(",","."))||0}function ECe(e){if(e==="Z")return 0;const t=e.match(kCe);if(!t)return 0;const n=t[1]==="+"?-1:1,r=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return FCe(r,a)?n*(r*ite+a*ate):NaN}function DCe(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const a=r.getUTCDay()||7,i=(t-1)*7+n+1-a;return r.setUTCDate(r.getUTCDate()+i),r}const OCe=[31,null,31,30,31,30,31,31,30,31,30,31];function pte(e){return e%400===0||e%4===0&&e%100!==0}function MCe(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(OCe[t]||(pte(e)?29:28))}function RCe(e,t){return t>=1&&t<=(pte(e)?366:365)}function $Ce(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function ICe(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function FCe(e,t){return t>=0&&t<=59}function aT(e,t){const n=kt(e),r=n.getFullYear(),a=n.getDate(),i=Ga(e,0);i.setFullYear(r,t,15),i.setHours(0,0,0,0);const o=yCe(i);return n.setMonth(t,Math.min(a,o)),n}function pL(e,t){const n=kt(e);return isNaN(+n)?Ga(e,NaN):(n.setFullYear(t),n)}function LCe(e,t){return no(e,-t)}function zCe(e,t){return mS(e,-t)}function pt(){const{user:e,isAdmin:t}=er(),{toast:n}=mt(),[,r]=Fs(),[a,i]=b.useState(0),{data:o=[]}=he({queryKey:["/api/tasks"]}),{data:l}=he({queryKey:["/api/timelogs/active"],refetchInterval:5e3,staleTime:1e3*2,refetchOnWindowFocus:!1,refetchOnReconnect:!1});b.useEffect(()=>{if(l&&l.isActive){const g=setInterval(()=>{const m=Date.now(),p=new Date(l.startTime).getTime();i(Math.floor((m-p)/1e3))},1e3);return()=>clearInterval(g)}else i(0)},[l]);const c=g=>{const m=Math.floor(g/3600),p=Math.floor(g%3600/60),x=g%60;return m>0?`${m}:${p.toString().padStart(2,"0")}:${x.toString().padStart(2,"0")}`:`${p}:${x.toString().padStart(2,"0")}`},d=Se({mutationFn:async()=>{await ke("POST","/api/logout")},onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/auth/user"]}),n({title:"Logged out",description:"You have been logged out successfully"})},onError:g=>{n({title:"Error",description:g.message,variant:"destructive"})}}),u=Se({mutationFn:async g=>ke("POST","/api/timelogs/stop",{timeLogId:g}),onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/timelogs/active"]}),rt.invalidateQueries({queryKey:["/api/timelogs"]}),rt.invalidateQueries({queryKey:["/api/productivity/stats"]}),rt.invalidateQueries({queryKey:["/api/streaks"]}),i(0),n({title:"Timer stopped",description:"Your work session has been saved"})},onError:g=>{n({title:"Error",description:g.message,variant:"destructive"})}}),h=()=>{l&&u.mutate(l.id)};return(()=>{const m=Hn(new Date),p=Jr(m,1);return o.filter(x=>x.completed||!x.dueDate?!1:Hn(new Date(x.dueDate)).getTime()<=p.getTime()).length})(),s.jsx("header",{className:"gg-header border-b sticky top-0 z-50 shadow-lg",children:s.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-3 sm:py-4",children:s.jsxs("div",{className:"flex flex-col space-y-3 sm:space-y-4",children:[s.jsx("div",{className:"flex items-center justify-center",children:s.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[s.jsx(a$,{size:"small",showText:!1}),s.jsx("h1",{className:"text-lg sm:text-xl font-bold text-white",style:{fontFamily:"var(--font-display)"},children:"Gigster Garage"}),l&&l.isActive&&s.jsxs(s.Fragment,{children:[s.jsx("span",{style:{color:"var(--brand-amber-tint)"},className:"font-medium",children:"|"}),s.jsxs(D,{variant:"ghost",size:"sm",onClick:h,disabled:u.isPending,className:"flex items-center space-x-1 sm:space-x-2 bg-white/20 backdrop-blur-sm rounded-lg px-2 py-1 hover:bg-white/30 transition-colors",title:"Click to stop timer",children:[s.jsx(bt,{size:14,className:"text-white animate-pulse"}),s.jsx("span",{className:"text-sm sm:text-base font-bold text-white",style:{fontFamily:"monospace"},children:c(a)}),s.jsx("span",{className:"text-xs text-white/80 hidden sm:inline",children:l.description||"Working"})]})]}),s.jsx("span",{style:{color:"var(--brand-amber-tint)"},className:"font-medium hidden sm:inline",children:"|"}),s.jsx("p",{className:"text-xs sm:text-sm font-medium hidden sm:block",style:{color:"var(--brand-amber-tint)"},children:"Smarter tools for bolder dreams"})]})}),s.jsx("div",{className:"flex justify-center px-2",children:s.jsx("div",{className:"w-full max-w-md",children:s.jsx(G1e,{className:"w-full"})})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 text-xs sm:text-sm text-white/80",children:[s.jsx(Fa,{size:14,className:"sm:w-4 sm:h-4 text-white"}),s.jsx(D,{variant:"ghost",size:"sm",onClick:()=>d.mutate(),disabled:d.isPending,className:"text-white hover:bg-white/10 font-medium p-1 h-auto text-xs sm:text-sm",children:e==null?void 0:e.name}),(e==null?void 0:e.role)==="admin"&&s.jsx("span",{className:"bg-white/20 text-white px-1.5 sm:px-2 py-0.5 rounded-full text-xs font-medium border border-white/30",children:"Admin"})]}),s.jsx(Gje,{}),s.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[s.jsx(D,{variant:"ghost",size:"sm",onClick:()=>r("/"),className:"text-white hover:bg-white/10 relative p-1.5 sm:p-2","data-testid":"button-home",title:"Dashboard",children:s.jsx(Xo,{size:16,className:"sm:w-[18px] sm:h-[18px] text-white"})}),s.jsx(D,{variant:"ghost",size:"sm",onClick:()=>r("/tasks"),className:"text-white hover:bg-white/10 relative p-1.5 sm:p-2","data-testid":"button-tasks",title:"Tasks",children:s.jsx(o0e,{size:16,className:"sm:w-[18px] sm:h-[18px] text-white"})}),s.jsx(B1e,{}),s.jsx(lSe,{size:"sm",className:"text-white border-white/20 hover:bg-white/10"}),s.jsxs(D,{variant:"ghost",size:"sm",onClick:()=>r("/messages"),className:"text-white hover:bg-white/10 relative p-1.5 sm:p-2","data-testid":"button-messages",title:"Messages",children:[s.jsx(Cs,{size:16,className:"sm:w-[18px] sm:h-[18px] text-white"}),s.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-4 h-4 sm:w-5 sm:h-5 flex items-center justify-center font-bold",children:"0"})]})]})]})]})})})}const $t={nav:{automation:"Automation",dashboard:"Dashboard",contracts:"Contracts",darkToggle:"Toggle dark mode",notFound:{title:"Lost your way?",sub:"Let's get you back on track.",cta:"Return to Dashboard"}},workflow:{title:"Workflow Automation",subtitle:"Automate repetitive tasks with intelligent rules and triggers.",tabs:{rules:"Automation Rules",history:"Execution History"},empty:{title:"No sparks flying yet",sub:"Create your first automation to keep the hustle running smooth.",cta:"Create Your First Rule"},historyEmpty:"Every time an automation runs, you'll see the trail of sparks here.",error:"Hmm, that didn't spark right. Try again or adjust your rule."},dashboard:{title:"My Dashboard",greeting:"Welcome back, builder  Ready to spark progress today?",overdue:{title:"Overdue",sub:"No fires to put out"},dueSoon:{title:"Due Soon",sub:"Nothing on the horizon  time to dream bigger"},highPriority:{title:"High Priority",sub:"No urgent sparks  you're in control"},completed:{title:"Completed Today",sub:"Finish a task to see the green check glow"},momentum:{label:"Today's Momentum",sub:"Every minute fuels your hustle."},tracking:{title:"Time Tracking",sub:"Keep tabs on your hustle. Every minute is fuel for your dreams."},error:"We couldn't fetch your latest updates. Refresh and try again."},contracts:{title:"Create Contract",subtitle:"Lay the foundation  we'll turn this into a solid deal.",placeholders:{title:"Give this agreement a clear name.",client:"Who's on the other side of this deal?",address:"Where do they do business?",email:"Best email to make this official"},dropdown:"Link this contract to a project so everything stays under one roof.",cta:"Lock It In",success:"Contract locked and ready  your hustle just leveled up.",error:"Something's off with this contract. Double-check the details and try again."},tasks:{title:"Tasks",empty:{title:"No sparks flying yet",sub:"Create your first task to get the hustle started.",cta:"Spark Your First Task"},createButton:"Spark New Task",backButton:"Back to Tasks",saveSuccess:"Task locked and loaded  ready to fuel your hustle!",deleteConfirm:"Are you sure you want to delete this task? Once it's gone, it's gone.",deleteSuccess:"Poof  task cleared from your hustle.",formLabels:{title:"What needs to get done?",description:"Break it down  what's the plan?",priority:"How urgent is this spark?",dueDate:"When does this need to be locked in?",project:"Which project is this fueling?",assignTo:"Who's driving this forward?"},priorities:{low:"Low Priority",medium:"Medium Priority",high:"High Priority"}},system:{saveSuccess:"Your changes are safe and sound.",saveError:"Your update didn't stick  let's give it another go.",deleteConfirm:"Are you sure you want to delete this? Once it's gone, it's gone.",deleteSuccess:"Poof  it's gone.",deleteError:"We hit a snag. That item is still hanging around.",loading:"Firing up the engines...",error:"Something didn't spark right. Give it another shot."},emptyStates:{clients:{noClients:"No clients yet  ready to spark your first connection?",growList:"Your client list is waiting to grow  add one to get rolling."},tasks:{noTasks:"No tasks on deck  what's your next move?",firstTask:"Nothing here yet. Set your first task and watch your hustle stack up."},activity:{noSparks:"No sparks yet  your activity will light up once you get moving.",noRecent:"No recent activity found  your hustle story starts here."},proposals:{noProposals:"No proposals yet  pitch your first idea and put it out there.",blankBoard:"Your proposal board is blank  time to spark a new opportunity."},invoices:{noInvoices:"No invoices created  lock in your first payment and keep the flow going.",noBilling:"No billing yet  send an invoice and fuel your hustle."},contracts:{noContracts:"No contracts yet  seal your first deal to make it official.",emptySpace:"This space is empty  lock it in when you're ready."},dashboard:{overdue:"No fires to put out  you're on top of it.",dueSoon:"Nothing looming  keep building momentum.",completed:"No wins yet  wrap a task to see progress shine here."},search:{noResults:"No results found  try another spark.",nothingMatches:"Nothing matches yet  refine your search and keep exploring."},messages:{noNew:"No new messages  your inbox is clear.",nothingWaiting:"Nothing waiting for you  updates will appear here."},utilities:{noTools:"No tools added yet  start customizing your workspace.",emptyKit:"This kit is empty  add integrations to expand your hustle."}}};var BCe="Label",gte=b.forwardRef((e,t)=>s.jsx(Qe.label,{...e,ref:t,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));gte.displayName=BCe;var vte=gte;const UCe=uv("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),W=b.forwardRef(({className:e,...t},n)=>s.jsx(vte,{ref:n,className:Ne(UCe(),e),...t}));W.displayName=vte.displayName;const it=b.forwardRef(({className:e,...t},n)=>s.jsx("textarea",{className:Ne("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));it.displayName="Textarea";function l0(e,[t,n]){return Math.min(n,Math.max(t,e))}function bk(e){const t=b.useRef({value:e,previous:e});return b.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var VCe=[" ","Enter","ArrowUp","ArrowDown"],WCe=[" ","Enter"],$j="Select",[jk,wk,HCe]=uj($j),[bv,ZNt]=fs($j,[HCe,Xu]),Nk=Xu(),[qCe,Ju]=bv($j),[KCe,GCe]=bv($j),xte=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:h,disabled:f,required:g,form:m}=e,p=Nk(t),[x,v]=b.useState(null),[y,j]=b.useState(null),[N,w]=b.useState(!1),S=xv(d),[k=!1,_]=bi({prop:r,defaultProp:a,onChange:i}),[T,P]=bi({prop:o,defaultProp:l,onChange:c}),C=b.useRef(null),A=x?m||!!x.closest("form"):!0,[E,I]=b.useState(new Set),$=Array.from(E).map(U=>U.props.value).join(";");return s.jsx(nk,{...p,children:s.jsxs(qCe,{required:g,scope:t,trigger:x,onTriggerChange:v,valueNode:y,onValueNodeChange:j,valueNodeHasChildren:N,onValueNodeHasChildrenChange:w,contentId:mi(),value:T,onValueChange:P,open:k,onOpenChange:_,dir:S,triggerPointerDownPosRef:C,disabled:f,children:[s.jsx(jk.Provider,{scope:t,children:s.jsx(KCe,{scope:e.__scopeSelect,onNativeOptionAdd:b.useCallback(U=>{I(M=>new Set(M).add(U))},[]),onNativeOptionRemove:b.useCallback(U=>{I(M=>{const F=new Set(M);return F.delete(U),F})},[]),children:n})}),A?s.jsxs(Vte,{"aria-hidden":!0,required:g,tabIndex:-1,name:u,autoComplete:h,value:T,onChange:U=>P(U.target.value),disabled:f,form:m,children:[T===void 0?s.jsx("option",{value:""}):null,Array.from(E)]},$):null]})})};xte.displayName=$j;var yte="SelectTrigger",bte=b.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...a}=e,i=Nk(n),o=Ju(yte,n),l=o.disabled||r,c=wt(t,o.onTriggerChange),d=wk(n),u=b.useRef("touch"),[h,f,g]=Wte(p=>{const x=d().filter(j=>!j.disabled),v=x.find(j=>j.value===o.value),y=Hte(x,p,v);y!==void 0&&o.onValueChange(y.value)}),m=p=>{l||(o.onOpenChange(!0),g()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return s.jsx(xj,{asChild:!0,...i,children:s.jsx(Qe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Ute(o.value)?"":void 0,...a,ref:c,onClick:Pe(a.onClick,p=>{p.currentTarget.focus(),u.current!=="mouse"&&m(p)}),onPointerDown:Pe(a.onPointerDown,p=>{u.current=p.pointerType;const x=p.target;x.hasPointerCapture(p.pointerId)&&x.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(m(p),p.preventDefault())}),onKeyDown:Pe(a.onKeyDown,p=>{const x=h.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&f(p.key),!(x&&p.key===" ")&&VCe.includes(p.key)&&(m(),p.preventDefault())})})})});bte.displayName=yte;var jte="SelectValue",wte=b.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:a,children:i,placeholder:o="",...l}=e,c=Ju(jte,n),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,h=wt(t,c.onValueNodeChange);return $r(()=>{d(u)},[d,u]),s.jsx(Qe.span,{...l,ref:h,style:{pointerEvents:"none"},children:Ute(c.value)?s.jsx(s.Fragment,{children:o}):i})});wte.displayName=jte;var YCe="SelectIcon",Nte=b.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...a}=e;return s.jsx(Qe.span,{"aria-hidden":!0,...a,ref:t,children:r||""})});Nte.displayName=YCe;var XCe="SelectPortal",Ste=e=>s.jsx(dv,{asChild:!0,...e});Ste.displayName=XCe;var Pf="SelectContent",Cte=b.forwardRef((e,t)=>{const n=Ju(Pf,e.__scopeSelect),[r,a]=b.useState();if($r(()=>{a(new DocumentFragment)},[]),!n.open){const i=r;return i?Gi.createPortal(s.jsx(kte,{scope:e.__scopeSelect,children:s.jsx(jk.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(_te,{...e,ref:t})});Cte.displayName=Pf;var go=10,[kte,eh]=bv(Pf),QCe="SelectContentImpl",ZCe=ku("SelectContent.RemoveScroll"),_te=b.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:f,collisionPadding:g,sticky:m,hideWhenDetached:p,avoidCollisions:x,...v}=e,y=Ju(Pf,n),[j,N]=b.useState(null),[w,S]=b.useState(null),k=wt(t,ne=>N(ne)),[_,T]=b.useState(null),[P,C]=b.useState(null),A=wk(n),[E,I]=b.useState(!1),$=b.useRef(!1);b.useEffect(()=>{if(j)return uk(j)},[j]),ck();const U=b.useCallback(ne=>{const[be,...ge]=A().map(X=>X.ref.current),[we]=ge.slice(-1),Ae=document.activeElement;for(const X of ne)if(X===Ae||(X==null||X.scrollIntoView({block:"nearest"}),X===be&&w&&(w.scrollTop=0),X===we&&w&&(w.scrollTop=w.scrollHeight),X==null||X.focus(),document.activeElement!==Ae))return},[A,w]),M=b.useCallback(()=>U([_,j]),[U,_,j]);b.useEffect(()=>{E&&M()},[E,M]);const{onOpenChange:F,triggerPointerDownPosRef:V}=y;b.useEffect(()=>{if(j){let ne={x:0,y:0};const be=we=>{var Ae,X;ne={x:Math.abs(Math.round(we.pageX)-(((Ae=V.current)==null?void 0:Ae.x)??0)),y:Math.abs(Math.round(we.pageY)-(((X=V.current)==null?void 0:X.y)??0))}},ge=we=>{ne.x<=10&&ne.y<=10?we.preventDefault():j.contains(we.target)||F(!1),document.removeEventListener("pointermove",be),V.current=null};return V.current!==null&&(document.addEventListener("pointermove",be),document.addEventListener("pointerup",ge,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",be),document.removeEventListener("pointerup",ge,{capture:!0})}}},[j,F,V]),b.useEffect(()=>{const ne=()=>F(!1);return window.addEventListener("blur",ne),window.addEventListener("resize",ne),()=>{window.removeEventListener("blur",ne),window.removeEventListener("resize",ne)}},[F]);const[Y,K]=Wte(ne=>{const be=A().filter(Ae=>!Ae.disabled),ge=be.find(Ae=>Ae.ref.current===document.activeElement),we=Hte(be,ne,ge);we&&setTimeout(()=>we.ref.current.focus())}),z=b.useCallback((ne,be,ge)=>{const we=!$.current&&!ge;(y.value!==void 0&&y.value===be||we)&&(T(ne),we&&($.current=!0))},[y.value]),L=b.useCallback(()=>j==null?void 0:j.focus(),[j]),ee=b.useCallback((ne,be,ge)=>{const we=!$.current&&!ge;(y.value!==void 0&&y.value===be||we)&&C(ne)},[y.value]),le=r==="popper"?iD:Pte,ve=le===iD?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:f,collisionPadding:g,sticky:m,hideWhenDetached:p,avoidCollisions:x}:{};return s.jsx(kte,{scope:n,content:j,viewport:w,onViewportChange:S,itemRefCallback:z,selectedItem:_,onItemLeave:L,itemTextRefCallback:ee,focusSelectedItem:M,selectedItemText:P,position:r,isPositioned:E,searchRef:Y,children:s.jsx(jj,{as:ZCe,allowPinchZoom:!0,children:s.jsx(bj,{asChild:!0,trapped:y.open,onMountAutoFocus:ne=>{ne.preventDefault()},onUnmountAutoFocus:Pe(a,ne=>{var be;(be=y.trigger)==null||be.focus({preventScroll:!0}),ne.preventDefault()}),children:s.jsx(Gf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ne=>ne.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:s.jsx(le,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:ne=>ne.preventDefault(),...v,...ve,onPlaced:()=>I(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:Pe(v.onKeyDown,ne=>{const be=ne.ctrlKey||ne.altKey||ne.metaKey;if(ne.key==="Tab"&&ne.preventDefault(),!be&&ne.key.length===1&&K(ne.key),["ArrowUp","ArrowDown","Home","End"].includes(ne.key)){let we=A().filter(Ae=>!Ae.disabled).map(Ae=>Ae.ref.current);if(["ArrowUp","End"].includes(ne.key)&&(we=we.slice().reverse()),["ArrowUp","ArrowDown"].includes(ne.key)){const Ae=ne.target,X=we.indexOf(Ae);we=we.slice(X+1)}setTimeout(()=>U(we)),ne.preventDefault()}})})})})})})});_te.displayName=QCe;var JCe="SelectItemAlignedPosition",Pte=b.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...a}=e,i=Ju(Pf,n),o=eh(Pf,n),[l,c]=b.useState(null),[d,u]=b.useState(null),h=wt(t,k=>u(k)),f=wk(n),g=b.useRef(!1),m=b.useRef(!0),{viewport:p,selectedItem:x,selectedItemText:v,focusSelectedItem:y}=o,j=b.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&p&&x&&v){const k=i.trigger.getBoundingClientRect(),_=d.getBoundingClientRect(),T=i.valueNode.getBoundingClientRect(),P=v.getBoundingClientRect();if(i.dir!=="rtl"){const Ae=P.left-_.left,X=T.left-Ae,xe=k.left-X,Be=k.width+xe,At=Math.max(Be,_.width),Pt=window.innerWidth-go,sn=l0(X,[go,Math.max(go,Pt-At)]);l.style.minWidth=Be+"px",l.style.left=sn+"px"}else{const Ae=_.right-P.right,X=window.innerWidth-T.right-Ae,xe=window.innerWidth-k.right-X,Be=k.width+xe,At=Math.max(Be,_.width),Pt=window.innerWidth-go,sn=l0(X,[go,Math.max(go,Pt-At)]);l.style.minWidth=Be+"px",l.style.right=sn+"px"}const C=f(),A=window.innerHeight-go*2,E=p.scrollHeight,I=window.getComputedStyle(d),$=parseInt(I.borderTopWidth,10),U=parseInt(I.paddingTop,10),M=parseInt(I.borderBottomWidth,10),F=parseInt(I.paddingBottom,10),V=$+U+E+F+M,Y=Math.min(x.offsetHeight*5,V),K=window.getComputedStyle(p),z=parseInt(K.paddingTop,10),L=parseInt(K.paddingBottom,10),ee=k.top+k.height/2-go,le=A-ee,ve=x.offsetHeight/2,ne=x.offsetTop+ve,be=$+U+ne,ge=V-be;if(be<=ee){const Ae=C.length>0&&x===C[C.length-1].ref.current;l.style.bottom="0px";const X=d.clientHeight-p.offsetTop-p.offsetHeight,xe=Math.max(le,ve+(Ae?L:0)+X+M),Be=be+xe;l.style.height=Be+"px"}else{const Ae=C.length>0&&x===C[0].ref.current;l.style.top="0px";const xe=Math.max(ee,$+p.offsetTop+(Ae?z:0)+ve)+ge;l.style.height=xe+"px",p.scrollTop=be-ee+p.offsetTop}l.style.margin=`${go}px 0`,l.style.minHeight=Y+"px",l.style.maxHeight=A+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[f,i.trigger,i.valueNode,l,d,p,x,v,i.dir,r]);$r(()=>j(),[j]);const[N,w]=b.useState();$r(()=>{d&&w(window.getComputedStyle(d).zIndex)},[d]);const S=b.useCallback(k=>{k&&m.current===!0&&(j(),y==null||y(),m.current=!1)},[j,y]);return s.jsx(t2e,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:S,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:s.jsx(Qe.div,{...a,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});Pte.displayName=JCe;var e2e="SelectPopperPosition",iD=b.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:a=go,...i}=e,o=Nk(n);return s.jsx(rk,{...o,...i,ref:t,align:r,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});iD.displayName=e2e;var[t2e,f$]=bv(Pf,{}),oD="SelectViewport",Tte=b.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...a}=e,i=eh(oD,n),o=f$(oD,n),l=wt(t,i.onViewportChange),c=b.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),s.jsx(jk.Slot,{scope:n,children:s.jsx(Qe.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Pe(a.onScroll,d=>{const u=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&h){const g=Math.abs(c.current-u.scrollTop);if(g>0){const m=window.innerHeight-go*2,p=parseFloat(h.style.minHeight),x=parseFloat(h.style.height),v=Math.max(p,x);if(v<m){const y=v+g,j=Math.min(m,y),N=y-j;h.style.height=j+"px",h.style.bottom==="0px"&&(u.scrollTop=N>0?N:0,h.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});Tte.displayName=oD;var Ate="SelectGroup",[n2e,r2e]=bv(Ate),s2e=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=mi();return s.jsx(n2e,{scope:n,id:a,children:s.jsx(Qe.div,{role:"group","aria-labelledby":a,...r,ref:t})})});s2e.displayName=Ate;var Ete="SelectLabel",Dte=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=r2e(Ete,n);return s.jsx(Qe.div,{id:a.id,...r,ref:t})});Dte.displayName=Ete;var pS="SelectItem",[a2e,Ote]=bv(pS),Mte=b.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:a=!1,textValue:i,...o}=e,l=Ju(pS,n),c=eh(pS,n),d=l.value===r,[u,h]=b.useState(i??""),[f,g]=b.useState(!1),m=wt(t,y=>{var j;return(j=c.itemRefCallback)==null?void 0:j.call(c,y,r,a)}),p=mi(),x=b.useRef("touch"),v=()=>{a||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(a2e,{scope:n,value:r,disabled:a,textId:p,isSelected:d,onItemTextChange:b.useCallback(y=>{h(j=>j||((y==null?void 0:y.textContent)??"").trim())},[]),children:s.jsx(jk.ItemSlot,{scope:n,value:r,disabled:a,textValue:u,children:s.jsx(Qe.div,{role:"option","aria-labelledby":p,"data-highlighted":f?"":void 0,"aria-selected":d&&f,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:m,onFocus:Pe(o.onFocus,()=>g(!0)),onBlur:Pe(o.onBlur,()=>g(!1)),onClick:Pe(o.onClick,()=>{x.current!=="mouse"&&v()}),onPointerUp:Pe(o.onPointerUp,()=>{x.current==="mouse"&&v()}),onPointerDown:Pe(o.onPointerDown,y=>{x.current=y.pointerType}),onPointerMove:Pe(o.onPointerMove,y=>{var j;x.current=y.pointerType,a?(j=c.onItemLeave)==null||j.call(c):x.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Pe(o.onPointerLeave,y=>{var j;y.currentTarget===document.activeElement&&((j=c.onItemLeave)==null||j.call(c))}),onKeyDown:Pe(o.onKeyDown,y=>{var N;((N=c.searchRef)==null?void 0:N.current)!==""&&y.key===" "||(WCe.includes(y.key)&&v(),y.key===" "&&y.preventDefault())})})})})});Mte.displayName=pS;var Bx="SelectItemText",Rte=b.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:a,...i}=e,o=Ju(Bx,n),l=eh(Bx,n),c=Ote(Bx,n),d=GCe(Bx,n),[u,h]=b.useState(null),f=wt(t,v=>h(v),c.onItemTextChange,v=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,v,c.value,c.disabled)}),g=u==null?void 0:u.textContent,m=b.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:p,onNativeOptionRemove:x}=d;return $r(()=>(p(m),()=>x(m)),[p,x,m]),s.jsxs(s.Fragment,{children:[s.jsx(Qe.span,{id:c.textId,...i,ref:f}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Gi.createPortal(i.children,o.valueNode):null]})});Rte.displayName=Bx;var $te="SelectItemIndicator",Ite=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return Ote($te,n).isSelected?s.jsx(Qe.span,{"aria-hidden":!0,...r,ref:t}):null});Ite.displayName=$te;var lD="SelectScrollUpButton",Fte=b.forwardRef((e,t)=>{const n=eh(lD,e.__scopeSelect),r=f$(lD,e.__scopeSelect),[a,i]=b.useState(!1),o=wt(t,r.onScrollButtonChange);return $r(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?s.jsx(zte,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Fte.displayName=lD;var cD="SelectScrollDownButton",Lte=b.forwardRef((e,t)=>{const n=eh(cD,e.__scopeSelect),r=f$(cD,e.__scopeSelect),[a,i]=b.useState(!1),o=wt(t,r.onScrollButtonChange);return $r(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?s.jsx(zte,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});Lte.displayName=cD;var zte=b.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...a}=e,i=eh("SelectScrollButton",n),o=b.useRef(null),l=wk(n),c=b.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return b.useEffect(()=>()=>c(),[c]),$r(()=>{var u;const d=l().find(h=>h.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),s.jsx(Qe.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Pe(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Pe(a.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Pe(a.onPointerLeave,()=>{c()})})}),i2e="SelectSeparator",Bte=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return s.jsx(Qe.div,{"aria-hidden":!0,...r,ref:t})});Bte.displayName=i2e;var dD="SelectArrow",o2e=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=Nk(n),i=Ju(dD,n),o=eh(dD,n);return i.open&&o.position==="popper"?s.jsx(sk,{...a,...r,ref:t}):null});o2e.displayName=dD;function Ute(e){return e===""||e===void 0}var Vte=b.forwardRef((e,t)=>{const{value:n,...r}=e,a=b.useRef(null),i=wt(t,a),o=bk(n);return b.useEffect(()=>{const l=a.current,c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==n&&u){const h=new Event("change",{bubbles:!0});u.call(l,n),l.dispatchEvent(h)}},[o,n]),s.jsx(hj,{asChild:!0,children:s.jsx("select",{...r,ref:i,defaultValue:n})})});Vte.displayName="BubbleSelect";function Wte(e){const t=Qn(e),n=b.useRef(""),r=b.useRef(0),a=b.useCallback(o=>{const l=n.current+o;t(l),function c(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=b.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,a,i]}function Hte(e,t,n){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=l2e(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function l2e(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var c2e=xte,qte=bte,d2e=wte,u2e=Nte,h2e=Ste,Kte=Cte,f2e=Tte,Gte=Dte,Yte=Mte,m2e=Rte,p2e=Ite,Xte=Fte,Qte=Lte,Zte=Bte;const Ke=c2e,Ge=d2e,He=b.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(qte,{ref:r,className:Ne("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,s.jsx(u2e,{asChild:!0,children:s.jsx(Yo,{className:"h-4 w-4 opacity-50"})})]}));He.displayName=qte.displayName;const Jte=b.forwardRef(({className:e,...t},n)=>s.jsx(Xte,{ref:n,className:Ne("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(mj,{className:"h-4 w-4"})}));Jte.displayName=Xte.displayName;const ene=b.forwardRef(({className:e,...t},n)=>s.jsx(Qte,{ref:n,className:Ne("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Yo,{className:"h-4 w-4"})}));ene.displayName=Qte.displayName;const qe=b.forwardRef(({className:e,children:t,position:n="popper",...r},a)=>s.jsx(h2e,{children:s.jsxs(Kte,{ref:a,className:Ne("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[s.jsx(Jte,{}),s.jsx(f2e,{className:Ne("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(ene,{})]})}));qe.displayName=Kte.displayName;const g2e=b.forwardRef(({className:e,...t},n)=>s.jsx(Gte,{ref:n,className:Ne("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));g2e.displayName=Gte.displayName;const Q=b.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(Yte,{ref:r,className:Ne("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(p2e,{children:s.jsx(hv,{className:"h-4 w-4"})})}),s.jsx(m2e,{children:t})]}));Q.displayName=Yte.displayName;const v2e=b.forwardRef(({className:e,...t},n)=>s.jsx(Zte,{ref:n,className:Ne("-mx-1 my-1 h-px bg-muted",e),...t}));v2e.displayName=Zte.displayName;const Ce=Symbol.for("drizzle:entityKind");function zr(e,t){if(!e||typeof e!="object")return!1;if(e instanceof t)return!0;if(!Object.prototype.hasOwnProperty.call(t,Ce))throw new Error(`Class "${t.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let n=Object.getPrototypeOf(e).constructor;if(n)for(;n;){if(Ce in n&&n[Ce]===t[Ce])return!0;n=Object.getPrototypeOf(n)}return!1}var QW;QW=Ce;class gg{constructor(t,n){H(this,"name");H(this,"keyAsName");H(this,"primary");H(this,"notNull");H(this,"default");H(this,"defaultFn");H(this,"onUpdateFn");H(this,"hasDefault");H(this,"isUnique");H(this,"uniqueName");H(this,"uniqueType");H(this,"dataType");H(this,"columnType");H(this,"enumValues");H(this,"generated");H(this,"generatedIdentity");H(this,"config");this.table=t,this.config=n,this.name=n.name,this.keyAsName=n.keyAsName,this.notNull=n.notNull,this.default=n.default,this.defaultFn=n.defaultFn,this.onUpdateFn=n.onUpdateFn,this.hasDefault=n.hasDefault,this.primary=n.primaryKey,this.isUnique=n.isUnique,this.uniqueName=n.uniqueName,this.uniqueType=n.uniqueType,this.dataType=n.dataType,this.columnType=n.columnType,this.generated=n.generated,this.generatedIdentity=n.generatedIdentity}mapFromDriverValue(t){return t}mapToDriverValue(t){return t}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}H(gg,QW,"Column");var ZW;ZW=Ce;class tne{constructor(t,n,r){H(this,"config");H(this,"$default",this.$defaultFn);H(this,"$onUpdate",this.$onUpdateFn);this.config={name:t,keyAsName:t==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:n,columnType:r,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(t){return this.config.default=t,this.config.hasDefault=!0,this}$defaultFn(t){return this.config.defaultFn=t,this.config.hasDefault=!0,this}$onUpdateFn(t){return this.config.onUpdateFn=t,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(t){this.config.name===""&&(this.config.name=t)}}H(tne,ZW,"ColumnBuilder");const dp=Symbol.for("drizzle:Name");var JW;JW=Ce;class nne{constructor(t,n){H(this,"reference");H(this,"_onUpdate","no action");H(this,"_onDelete","no action");this.reference=()=>{const{name:r,columns:a,foreignColumns:i}=t();return{name:r,columns:a,foreignTable:i[0].table,foreignColumns:i}},n&&(this._onUpdate=n.onUpdate,this._onDelete=n.onDelete)}onUpdate(t){return this._onUpdate=t===void 0?"no action":t,this}onDelete(t){return this._onDelete=t===void 0?"no action":t,this}build(t){return new rne(t,this)}}H(nne,JW,"PgForeignKeyBuilder");var eH;eH=Ce;class rne{constructor(t,n){H(this,"reference");H(this,"onUpdate");H(this,"onDelete");this.table=t,this.reference=n.reference,this.onUpdate=n._onUpdate,this.onDelete=n._onDelete}getName(){const{name:t,columns:n,foreignColumns:r}=this.reference(),a=n.map(l=>l.name),i=r.map(l=>l.name),o=[this.table[dp],...a,r[0].table[dp],...i];return t??`${o.join("_")}_fk`}}H(rne,eH,"PgForeignKey");function x2e(e,...t){return e(...t)}function y2e(e,t){return`${e[dp]}_${t.join("_")}_unique`}function gL(e,t,n){for(let r=t;r<e.length;r++){const a=e[r];if(a==="\\"){r++;continue}if(a==='"')return[e.slice(t,r).replace(/\\/g,""),r+1];if(!n&&(a===","||a==="}"))return[e.slice(t,r).replace(/\\/g,""),r]}return[e.slice(t).replace(/\\/g,""),e.length]}function sne(e,t=0){const n=[];let r=t,a=!1;for(;r<e.length;){const i=e[r];if(i===","){(a||r===t)&&n.push(""),a=!0,r++;continue}if(a=!1,i==="\\"){r+=2;continue}if(i==='"'){const[c,d]=gL(e,r+1,!0);n.push(c),r=d;continue}if(i==="}")return[n,r+1];if(i==="{"){const[c,d]=sne(e,r+1);n.push(c),r=d;continue}const[o,l]=gL(e,r,!1);n.push(o),r=l}return[n,r]}function b2e(e){const[t]=sne(e,1);return t}function ane(e){return`{${e.map(t=>Array.isArray(t)?ane(t):typeof t=="string"?`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${t}`).join(",")}}`}var tH,nH;class Xt extends(nH=tne,tH=Ce,nH){constructor(){super(...arguments);H(this,"foreignKeyConfigs",[])}array(n){return new one(this.config.name,this,n)}references(n,r={}){return this.foreignKeyConfigs.push({ref:n,actions:r}),this}unique(n,r){return this.config.isUnique=!0,this.config.uniqueName=n,this.config.uniqueType=r==null?void 0:r.nulls,this}generatedAlwaysAs(n){return this.config.generated={as:n,type:"always",mode:"stored"},this}buildForeignKeys(n,r){return this.foreignKeyConfigs.map(({ref:a,actions:i})=>x2e((o,l)=>{const c=new nne(()=>{const d=o();return{columns:[n],foreignColumns:[d]}});return l.onUpdate&&c.onUpdate(l.onUpdate),l.onDelete&&c.onDelete(l.onDelete),c.build(r)},a,i))}buildExtraConfigColumn(n){return new ine(n,this.config)}}H(Xt,tH,"PgColumnBuilder");var rH,sH;class Ot extends(sH=gg,rH=Ce,sH){constructor(t,n){n.uniqueName||(n.uniqueName=y2e(t,[n.name])),super(t,n),this.table=t}}H(Ot,rH,"PgColumn");var aH,iH;class ine extends(iH=Ot,aH=Ce,iH){constructor(){super(...arguments);H(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});H(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(n){return this.indexConfig.opClass=n,this}}H(ine,aH,"ExtraConfigColumn");var oH;oH=Ce;class a1{constructor(t,n,r,a){H(this,"name");H(this,"keyAsName");H(this,"type");H(this,"indexConfig");this.name=t,this.keyAsName=n,this.type=r,this.indexConfig=a}}H(a1,oH,"IndexedColumn");var lH,cH;class one extends(cH=Xt,lH=Ce,cH){constructor(t,n,r){super(t,"array","PgArray"),this.config.baseBuilder=n,this.config.size=r}build(t){const n=this.config.baseBuilder.build(t);return new uD(t,this.config,n)}}H(one,lH,"PgArrayBuilder");var dH,uH;const f2=class f2 extends(uH=Ot,dH=Ce,uH){constructor(n,r,a,i){super(n,r);H(this,"size");this.baseColumn=a,this.range=i,this.size=r.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(n){return typeof n=="string"&&(n=b2e(n)),n.map(r=>this.baseColumn.mapFromDriverValue(r))}mapToDriverValue(n,r=!1){const a=n.map(i=>i===null?null:zr(this.baseColumn,f2)?this.baseColumn.mapToDriverValue(i,!0):this.baseColumn.mapToDriverValue(i));return r?a:ane(a)}};H(f2,dH,"PgArray");let uD=f2;const vL=Symbol.for("drizzle:isPgEnum");function j2e(e){return!!e&&typeof e=="function"&&vL in e&&e[vL]===!0}var hH;hH=Ce;class m${constructor(t,n,r,a=!1){this._={brand:"Subquery",sql:t,selectedFields:n,alias:r,isWith:a}}}H(m$,hH,"Subquery");const w2e={startActiveSpan(e,t){return t()}},up=Symbol.for("drizzle:ViewBaseConfig"),iT=Symbol.for("drizzle:Schema"),xL=Symbol.for("drizzle:Columns"),yL=Symbol.for("drizzle:ExtraConfigColumns"),oT=Symbol.for("drizzle:OriginalName"),lT=Symbol.for("drizzle:BaseName"),gS=Symbol.for("drizzle:IsAlias"),bL=Symbol.for("drizzle:ExtraConfigBuilder"),lne=Symbol.for("drizzle:IsDrizzleTable");var fH,mH,pH,gH,vH,xH,yH,bH,jH,wH,FN;let oi=(wH=Ce,jH=dp,bH=oT,yH=iT,xH=xL,vH=yL,gH=lT,pH=gS,mH=lne,fH=bL,FN=class{constructor(t,n,r){H(this,jH);H(this,bH);H(this,yH);H(this,xH);H(this,vH);H(this,gH);H(this,pH,!1);H(this,mH,!0);H(this,fH);this[dp]=this[oT]=t,this[iT]=n,this[lT]=r}},H(FN,wH,"Table"),H(FN,"Symbol",{Name:dp,Schema:iT,OriginalName:oT,Columns:xL,ExtraConfigColumns:yL,BaseName:lT,IsAlias:gS,ExtraConfigBuilder:bL}),FN);function cne(e){return typeof e=="object"&&e!==null&&lne in e}function N2e(e){return e!=null&&typeof e.getSQL=="function"}function S2e(e){var n;const t={sql:"",params:[]};for(const r of e)t.sql+=r.sql,t.params.push(...r.params),(n=r.typings)!=null&&n.length&&(t.typings||(t.typings=[]),t.typings.push(...r.typings));return t}var NH;NH=Ce;class Fi{constructor(t){H(this,"value");this.value=Array.isArray(t)?t:[t]}getSQL(){return new Nr([this])}}H(Fi,NH,"StringChunk");var SH;SH=Ce;const Ph=class Ph{constructor(t){H(this,"decoder",dne);H(this,"shouldInlineParams",!1);this.queryChunks=t}append(t){return this.queryChunks.push(...t.queryChunks),this}toQuery(t){return w2e.startActiveSpan("drizzle.buildSQL",n=>{const r=this.buildQueryFromSourceParams(this.queryChunks,t);return n==null||n.setAttributes({"drizzle.query.text":r.sql,"drizzle.query.params":JSON.stringify(r.params)}),r})}buildQueryFromSourceParams(t,n){const r=Object.assign({},n,{inlineParams:n.inlineParams||this.shouldInlineParams,paramStartIndex:n.paramStartIndex||{value:0}}),{casing:a,escapeName:i,escapeParam:o,prepareTyping:l,inlineParams:c,paramStartIndex:d}=r;return S2e(t.map(u=>{var h;if(zr(u,Fi))return{sql:u.value.join(""),params:[]};if(zr(u,vS))return{sql:i(u.value),params:[]};if(u===void 0)return{sql:"",params:[]};if(Array.isArray(u)){const f=[new Fi("(")];for(const[g,m]of u.entries())f.push(m),g<u.length-1&&f.push(new Fi(", "));return f.push(new Fi(")")),this.buildQueryFromSourceParams(f,r)}if(zr(u,Ph))return this.buildQueryFromSourceParams(u.queryChunks,{...r,inlineParams:c||u.shouldInlineParams});if(zr(u,oi)){const f=u[oi.Symbol.Schema],g=u[oi.Symbol.Name];return{sql:f===void 0||u[gS]?i(g):i(f)+"."+i(g),params:[]}}if(zr(u,gg)){const f=a.getColumnCasing(u);if(n.invokeSource==="indexes")return{sql:i(f),params:[]};const g=u.table[oi.Symbol.Schema];return{sql:u.table[gS]||g===void 0?i(u.table[oi.Symbol.Name])+"."+i(f):i(g)+"."+i(u.table[oi.Symbol.Name])+"."+i(f),params:[]}}if(zr(u,fne)){const f=u[up].schema,g=u[up].name;return{sql:f===void 0||u[up].isAlias?i(g):i(f)+"."+i(g),params:[]}}if(zr(u,p$)){if(zr(u.value,xS))return{sql:o(d.value++,u),params:[u],typings:["none"]};const f=u.value===null?null:u.encoder.mapToDriverValue(u.value);if(zr(f,Ph))return this.buildQueryFromSourceParams([f],r);if(c)return{sql:this.mapInlineParam(f,r),params:[]};let g=["none"];return l&&(g=[l(u.encoder)]),{sql:o(d.value++,f),params:[f],typings:g}}return zr(u,xS)?{sql:o(d.value++,u),params:[u],typings:["none"]}:zr(u,Ph.Aliased)&&u.fieldAlias!==void 0?{sql:i(u.fieldAlias),params:[]}:zr(u,m$)?u._.isWith?{sql:i(u._.alias),params:[]}:this.buildQueryFromSourceParams([new Fi("("),u._.sql,new Fi(") "),new vS(u._.alias)],r):j2e(u)?u.schema?{sql:i(u.schema)+"."+i(u.enumName),params:[]}:{sql:i(u.enumName),params:[]}:N2e(u)?(h=u.shouldOmitSQLParens)!=null&&h.call(u)?this.buildQueryFromSourceParams([u.getSQL()],r):this.buildQueryFromSourceParams([new Fi("("),u.getSQL(),new Fi(")")],r):c?{sql:this.mapInlineParam(u,r),params:[]}:{sql:o(d.value++,u),params:[u],typings:["none"]}}))}mapInlineParam(t,{escapeString:n}){if(t===null)return"null";if(typeof t=="number"||typeof t=="boolean")return t.toString();if(typeof t=="string")return n(t);if(typeof t=="object"){const r=t.toString();return n(r==="[object Object]"?JSON.stringify(t):r)}throw new Error("Unexpected param value: "+t)}getSQL(){return this}as(t){return t===void 0?this:new Ph.Aliased(this,t)}mapWith(t){return this.decoder=typeof t=="function"?{mapFromDriverValue:t}:t,this}inlineParams(){return this.shouldInlineParams=!0,this}if(t){return t?this:void 0}};H(Ph,SH,"SQL");let Nr=Ph;var CH;CH=Ce;class vS{constructor(t){H(this,"brand");this.value=t}getSQL(){return new Nr([this])}}H(vS,CH,"Name");const dne={mapFromDriverValue:e=>e},une={mapToDriverValue:e=>e};({...dne,...une});var kH;kH=Ce;class p${constructor(t,n=une){H(this,"brand");this.value=t,this.encoder=n}getSQL(){return new Nr([this])}}H(p$,kH,"Param");function _n(e,...t){const n=[];(t.length>0||e.length>0&&e[0]!=="")&&n.push(new Fi(e[0]));for(const[r,a]of t.entries())n.push(a,new Fi(e[r+1]));return new Nr(n)}(e=>{function t(){return new Nr([])}e.empty=t;function n(c){return new Nr(c)}e.fromList=n;function r(c){return new Nr([new Fi(c)])}e.raw=r;function a(c,d){const u=[];for(const[h,f]of c.entries())h>0&&d!==void 0&&u.push(d),u.push(f);return new Nr(u)}e.join=a;function i(c){return new vS(c)}e.identifier=i;function o(c){return new xS(c)}e.placeholder=o;function l(c,d){return new p$(c,d)}e.param=l})(_n||(_n={}));(e=>{var n;n=Ce;const r=class r{constructor(i,o){H(this,"isSelectionField",!1);this.sql=i,this.fieldAlias=o}getSQL(){return this.sql}clone(){return new r(this.sql,this.fieldAlias)}};H(r,n,"SQL.Aliased");let t=r;e.Aliased=t})(Nr||(Nr={}));var _H;_H=Ce;class xS{constructor(t){this.name=t}getSQL(){return new Nr([this])}}H(xS,_H,"Placeholder");const hne=Symbol.for("drizzle:IsDrizzleView");var PH,TH,AH;AH=Ce,TH=up,PH=hne;class fne{constructor({name:t,schema:n,selectedFields:r,query:a}){H(this,TH);H(this,PH,!0);this[up]={name:t,originalName:t,schema:n,selectedFields:r,query:a,isExisting:!a,isAlias:!1}}getSQL(){return new Nr([this])}}H(fne,AH,"View");function C2e(e){return typeof e=="object"&&e!==null&&hne in e}gg.prototype.getSQL=function(){return new Nr([this])};oi.prototype.getSQL=function(){return new Nr([this])};m$.prototype.getSQL=function(){return new Nr([this])};function k2e(e){return e[oi.Symbol.Columns]}function _2e(e){return e[up].selectedFields}function Ps(e,t){return{name:typeof e=="string"&&e.length>0?e:"",config:typeof e=="object"?e:t}}var EH,DH;class Ij extends(DH=Xt,EH=Ce,DH){generatedAlwaysAsIdentity(t){if(t){const{name:n,...r}=t;this.config.generatedIdentity={type:"always",sequenceName:n,sequenceOptions:r}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(t){if(t){const{name:n,...r}=t;this.config.generatedIdentity={type:"byDefault",sequenceName:n,sequenceOptions:r}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}H(Ij,EH,"PgIntColumnBaseBuilder");var OH,MH;class mne extends(MH=Ij,OH=Ce,MH){constructor(t){super(t,"number","PgBigInt53")}build(t){return new pne(t,this.config)}}H(mne,OH,"PgBigInt53Builder");var RH,$H;class pne extends($H=Ot,RH=Ce,$H){getSQLType(){return"bigint"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}H(pne,RH,"PgBigInt53");var IH,FH;class gne extends(FH=Ij,IH=Ce,FH){constructor(t){super(t,"bigint","PgBigInt64")}build(t){return new vne(t,this.config)}}H(gne,IH,"PgBigInt64Builder");var LH,zH;class vne extends(zH=Ot,LH=Ce,zH){getSQLType(){return"bigint"}mapFromDriverValue(t){return BigInt(t)}}H(vne,LH,"PgBigInt64");function P2e(e,t){const{name:n,config:r}=Ps(e,t);return r.mode==="number"?new mne(n):new gne(n)}var BH,UH;class xne extends(UH=Xt,BH=Ce,UH){constructor(t){super(t,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new yne(t,this.config)}}H(xne,BH,"PgBigSerial53Builder");var VH,WH;class yne extends(WH=Ot,VH=Ce,WH){getSQLType(){return"bigserial"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}H(yne,VH,"PgBigSerial53");var HH,qH;class bne extends(qH=Xt,HH=Ce,qH){constructor(t){super(t,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(t){return new jne(t,this.config)}}H(bne,HH,"PgBigSerial64Builder");var KH,GH;class jne extends(GH=Ot,KH=Ce,GH){getSQLType(){return"bigserial"}mapFromDriverValue(t){return BigInt(t)}}H(jne,KH,"PgBigSerial64");function T2e(e,t){const{name:n,config:r}=Ps(e,t);return r.mode==="number"?new xne(n):new bne(n)}var YH,XH;class wne extends(XH=Xt,YH=Ce,XH){constructor(t){super(t,"boolean","PgBoolean")}build(t){return new Nne(t,this.config)}}H(wne,YH,"PgBooleanBuilder");var QH,ZH;class Nne extends(ZH=Ot,QH=Ce,ZH){getSQLType(){return"boolean"}}H(Nne,QH,"PgBoolean");function Ut(e){return new wne(e??"")}var JH,eq;class Sne extends(eq=Xt,JH=Ce,eq){constructor(t,n){super(t,"string","PgChar"),this.config.length=n.length,this.config.enumValues=n.enum}build(t){return new Cne(t,this.config)}}H(Sne,JH,"PgCharBuilder");var tq,nq;class Cne extends(nq=Ot,tq=Ce,nq){constructor(){super(...arguments);H(this,"length",this.config.length);H(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}H(Cne,tq,"PgChar");function A2e(e,t={}){const{name:n,config:r}=Ps(e,t);return new Sne(n,r)}var rq,sq;class kne extends(sq=Xt,rq=Ce,sq){constructor(t){super(t,"string","PgCidr")}build(t){return new _ne(t,this.config)}}H(kne,rq,"PgCidrBuilder");var aq,iq;class _ne extends(iq=Ot,aq=Ce,iq){getSQLType(){return"cidr"}}H(_ne,aq,"PgCidr");function E2e(e){return new kne(e??"")}var oq,lq;class Pne extends(lq=Xt,oq=Ce,lq){constructor(t,n,r){super(t,"custom","PgCustomColumn"),this.config.fieldConfig=n,this.config.customTypeParams=r}build(t){return new Tne(t,this.config)}}H(Pne,oq,"PgCustomColumnBuilder");var cq,dq;class Tne extends(dq=Ot,cq=Ce,dq){constructor(n,r){super(n,r);H(this,"sqlName");H(this,"mapTo");H(this,"mapFrom");this.sqlName=r.customTypeParams.dataType(r.fieldConfig),this.mapTo=r.customTypeParams.toDriver,this.mapFrom=r.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(n){return typeof this.mapFrom=="function"?this.mapFrom(n):n}mapToDriverValue(n){return typeof this.mapTo=="function"?this.mapTo(n):n}}H(Tne,cq,"PgCustomColumn");function D2e(e){return(t,n)=>{const{name:r,config:a}=Ps(t,n);return new Pne(r,a,e)}}var uq,hq;class jv extends(hq=Xt,uq=Ce,hq){defaultNow(){return this.default(_n`now()`)}}H(jv,uq,"PgDateColumnBaseBuilder");var fq,mq;class Ane extends(mq=jv,fq=Ce,mq){constructor(t){super(t,"date","PgDate")}build(t){return new Ene(t,this.config)}}H(Ane,fq,"PgDateBuilder");var pq,gq;class Ene extends(gq=Ot,pq=Ce,gq){getSQLType(){return"date"}mapFromDriverValue(t){return new Date(t)}mapToDriverValue(t){return t.toISOString()}}H(Ene,pq,"PgDate");var vq,xq;class Dne extends(xq=jv,vq=Ce,xq){constructor(t){super(t,"string","PgDateString")}build(t){return new One(t,this.config)}}H(Dne,vq,"PgDateStringBuilder");var yq,bq;class One extends(bq=Ot,yq=Ce,bq){getSQLType(){return"date"}}H(One,yq,"PgDateString");function zc(e,t){const{name:n,config:r}=Ps(e,t);return(r==null?void 0:r.mode)==="date"?new Ane(n):new Dne(n)}var jq,wq;class Mne extends(wq=Xt,jq=Ce,wq){constructor(t){super(t,"number","PgDoublePrecision")}build(t){return new Rne(t,this.config)}}H(Mne,jq,"PgDoublePrecisionBuilder");var Nq,Sq;class Rne extends(Sq=Ot,Nq=Ce,Sq){getSQLType(){return"double precision"}mapFromDriverValue(t){return typeof t=="string"?Number.parseFloat(t):t}}H(Rne,Nq,"PgDoublePrecision");function O2e(e){return new Mne(e??"")}var Cq,kq;class $ne extends(kq=Xt,Cq=Ce,kq){constructor(t){super(t,"string","PgInet")}build(t){return new Ine(t,this.config)}}H($ne,Cq,"PgInetBuilder");var _q,Pq;class Ine extends(Pq=Ot,_q=Ce,Pq){getSQLType(){return"inet"}}H(Ine,_q,"PgInet");function M2e(e){return new $ne(e??"")}var Tq,Aq;class Fne extends(Aq=Ij,Tq=Ce,Aq){constructor(t){super(t,"number","PgInteger")}build(t){return new Lne(t,this.config)}}H(Fne,Tq,"PgIntegerBuilder");var Eq,Dq;class Lne extends(Dq=Ot,Eq=Ce,Dq){getSQLType(){return"integer"}mapFromDriverValue(t){return typeof t=="string"?Number.parseInt(t):t}}H(Lne,Eq,"PgInteger");function Sr(e){return new Fne(e??"")}var Oq,Mq;class zne extends(Mq=Xt,Oq=Ce,Mq){constructor(t,n){super(t,"string","PgInterval"),this.config.intervalConfig=n}build(t){return new Bne(t,this.config)}}H(zne,Oq,"PgIntervalBuilder");var Rq,$q;class Bne extends($q=Ot,Rq=Ce,$q){constructor(){super(...arguments);H(this,"fields",this.config.intervalConfig.fields);H(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const n=this.fields?` ${this.fields}`:"",r=this.precision?`(${this.precision})`:"";return`interval${n}${r}`}}H(Bne,Rq,"PgInterval");function R2e(e,t={}){const{name:n,config:r}=Ps(e,t);return new zne(n,r)}var Iq,Fq;class Une extends(Fq=Xt,Iq=Ce,Fq){constructor(t){super(t,"json","PgJson")}build(t){return new Vne(t,this.config)}}H(Une,Iq,"PgJsonBuilder");var Lq,zq;class Vne extends(zq=Ot,Lq=Ce,zq){constructor(t,n){super(t,n)}getSQLType(){return"json"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}H(Vne,Lq,"PgJson");function $2e(e){return new Une(e??"")}var Bq,Uq;class Wne extends(Uq=Xt,Bq=Ce,Uq){constructor(t){super(t,"json","PgJsonb")}build(t){return new Hne(t,this.config)}}H(Wne,Bq,"PgJsonbBuilder");var Vq,Wq;class Hne extends(Wq=Ot,Vq=Ce,Wq){constructor(t,n){super(t,n)}getSQLType(){return"jsonb"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}H(Hne,Vq,"PgJsonb");function Jt(e){return new Wne(e??"")}var Hq,qq;class qne extends(qq=Xt,Hq=Ce,qq){constructor(t){super(t,"array","PgLine")}build(t){return new Kne(t,this.config)}}H(qne,Hq,"PgLineBuilder");var Kq,Gq;class Kne extends(Gq=Ot,Kq=Ce,Gq){getSQLType(){return"line"}mapFromDriverValue(t){const[n,r,a]=t.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(r),Number.parseFloat(a)]}mapToDriverValue(t){return`{${t[0]},${t[1]},${t[2]}}`}}H(Kne,Kq,"PgLine");var Yq,Xq;class Gne extends(Xq=Xt,Yq=Ce,Xq){constructor(t){super(t,"json","PgLineABC")}build(t){return new Yne(t,this.config)}}H(Gne,Yq,"PgLineABCBuilder");var Qq,Zq;class Yne extends(Zq=Ot,Qq=Ce,Zq){getSQLType(){return"line"}mapFromDriverValue(t){const[n,r,a]=t.slice(1,-1).split(",");return{a:Number.parseFloat(n),b:Number.parseFloat(r),c:Number.parseFloat(a)}}mapToDriverValue(t){return`{${t.a},${t.b},${t.c}}`}}H(Yne,Qq,"PgLineABC");function I2e(e,t){const{name:n,config:r}=Ps(e,t);return!(r!=null&&r.mode)||r.mode==="tuple"?new qne(n):new Gne(n)}var Jq,eK;class Xne extends(eK=Xt,Jq=Ce,eK){constructor(t){super(t,"string","PgMacaddr")}build(t){return new Qne(t,this.config)}}H(Xne,Jq,"PgMacaddrBuilder");var tK,nK;class Qne extends(nK=Ot,tK=Ce,nK){getSQLType(){return"macaddr"}}H(Qne,tK,"PgMacaddr");function F2e(e){return new Xne(e??"")}var rK,sK;class Zne extends(sK=Xt,rK=Ce,sK){constructor(t){super(t,"string","PgMacaddr8")}build(t){return new Jne(t,this.config)}}H(Zne,rK,"PgMacaddr8Builder");var aK,iK;class Jne extends(iK=Ot,aK=Ce,iK){getSQLType(){return"macaddr8"}}H(Jne,aK,"PgMacaddr8");function L2e(e){return new Zne(e??"")}var oK,lK;class ere extends(lK=Xt,oK=Ce,lK){constructor(t,n,r){super(t,"string","PgNumeric"),this.config.precision=n,this.config.scale=r}build(t){return new tre(t,this.config)}}H(ere,oK,"PgNumericBuilder");var cK,dK;class tre extends(dK=Ot,cK=Ce,dK){constructor(n,r){super(n,r);H(this,"precision");H(this,"scale");this.precision=r.precision,this.scale=r.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}H(tre,cK,"PgNumeric");function nre(e,t){const{name:n,config:r}=Ps(e,t);return new ere(n,r==null?void 0:r.precision,r==null?void 0:r.scale)}const va=nre;var uK,hK;class rre extends(hK=Xt,uK=Ce,hK){constructor(t){super(t,"array","PgPointTuple")}build(t){return new sre(t,this.config)}}H(rre,uK,"PgPointTupleBuilder");var fK,mK;class sre extends(mK=Ot,fK=Ce,mK){getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[n,r]=t.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(r)]}return[t.x,t.y]}mapToDriverValue(t){return`(${t[0]},${t[1]})`}}H(sre,fK,"PgPointTuple");var pK,gK;class are extends(gK=Xt,pK=Ce,gK){constructor(t){super(t,"json","PgPointObject")}build(t){return new ire(t,this.config)}}H(are,pK,"PgPointObjectBuilder");var vK,xK;class ire extends(xK=Ot,vK=Ce,xK){getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[n,r]=t.slice(1,-1).split(",");return{x:Number.parseFloat(n),y:Number.parseFloat(r)}}return t}mapToDriverValue(t){return`(${t.x},${t.y})`}}H(ire,vK,"PgPointObject");function z2e(e,t){const{name:n,config:r}=Ps(e,t);return!(r!=null&&r.mode)||r.mode==="tuple"?new rre(n):new are(n)}function B2e(e){const t=[];for(let n=0;n<e.length;n+=2)t.push(Number.parseInt(e.slice(n,n+2),16));return new Uint8Array(t)}function jL(e,t){const n=new ArrayBuffer(8),r=new DataView(n);for(let a=0;a<8;a++)r.setUint8(a,e[t+a]);return r.getFloat64(0,!0)}function ore(e){const t=B2e(e);let n=0;const r=t[n];n+=1;const a=new DataView(t.buffer),i=a.getUint32(n,r===1);if(n+=4,i&536870912&&(a.getUint32(n,r===1),n+=4),(i&65535)===1){const o=jL(t,n);n+=8;const l=jL(t,n);return n+=8,[o,l]}throw new Error("Unsupported geometry type")}var yK,bK;class lre extends(bK=Xt,yK=Ce,bK){constructor(t){super(t,"array","PgGeometry")}build(t){return new cre(t,this.config)}}H(lre,yK,"PgGeometryBuilder");var jK,wK;class cre extends(wK=Ot,jK=Ce,wK){getSQLType(){return"geometry(point)"}mapFromDriverValue(t){return ore(t)}mapToDriverValue(t){return`point(${t[0]} ${t[1]})`}}H(cre,jK,"PgGeometry");var NK,SK;class dre extends(SK=Xt,NK=Ce,SK){constructor(t){super(t,"json","PgGeometryObject")}build(t){return new ure(t,this.config)}}H(dre,NK,"PgGeometryObjectBuilder");var CK,kK;class ure extends(kK=Ot,CK=Ce,kK){getSQLType(){return"geometry(point)"}mapFromDriverValue(t){const n=ore(t);return{x:n[0],y:n[1]}}mapToDriverValue(t){return`point(${t.x} ${t.y})`}}H(ure,CK,"PgGeometryObject");function U2e(e,t){const{name:n,config:r}=Ps(e,t);return!(r!=null&&r.mode)||r.mode==="tuple"?new lre(n):new dre(n)}var _K,PK;class hre extends(PK=Xt,_K=Ce,PK){constructor(t,n){super(t,"number","PgReal"),this.config.length=n}build(t){return new fre(t,this.config)}}H(hre,_K,"PgRealBuilder");var TK,AK;class fre extends(AK=Ot,TK=Ce,AK){constructor(n,r){super(n,r);H(this,"mapFromDriverValue",n=>typeof n=="string"?Number.parseFloat(n):n)}getSQLType(){return"real"}}H(fre,TK,"PgReal");function V2e(e){return new hre(e??"")}var EK,DK;class mre extends(DK=Xt,EK=Ce,DK){constructor(t){super(t,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new pre(t,this.config)}}H(mre,EK,"PgSerialBuilder");var OK,MK;class pre extends(MK=Ot,OK=Ce,MK){getSQLType(){return"serial"}}H(pre,OK,"PgSerial");function W2e(e){return new mre(e??"")}var RK,$K;class gre extends($K=Ij,RK=Ce,$K){constructor(t){super(t,"number","PgSmallInt")}build(t){return new vre(t,this.config)}}H(gre,RK,"PgSmallIntBuilder");var IK,FK;class vre extends(FK=Ot,IK=Ce,FK){constructor(){super(...arguments);H(this,"mapFromDriverValue",n=>typeof n=="string"?Number(n):n)}getSQLType(){return"smallint"}}H(vre,IK,"PgSmallInt");function H2e(e){return new gre(e??"")}var LK,zK;class xre extends(zK=Xt,LK=Ce,zK){constructor(t){super(t,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new yre(t,this.config)}}H(xre,LK,"PgSmallSerialBuilder");var BK,UK;class yre extends(UK=Ot,BK=Ce,UK){getSQLType(){return"smallserial"}}H(yre,BK,"PgSmallSerial");function q2e(e){return new xre(e??"")}var VK,WK;class bre extends(WK=Xt,VK=Ce,WK){constructor(t,n){super(t,"string","PgText"),this.config.enumValues=n.enum}build(t){return new jre(t,this.config)}}H(bre,VK,"PgTextBuilder");var HK,qK;class jre extends(qK=Ot,HK=Ce,qK){constructor(){super(...arguments);H(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}H(jre,HK,"PgText");function on(e,t={}){const{name:n,config:r}=Ps(e,t);return new bre(n,r)}var KK,GK;class wre extends(GK=jv,KK=Ce,GK){constructor(t,n,r){super(t,"string","PgTime"),this.withTimezone=n,this.precision=r,this.config.withTimezone=n,this.config.precision=r}build(t){return new Nre(t,this.config)}}H(wre,KK,"PgTimeBuilder");var YK,XK;class Nre extends(XK=Ot,YK=Ce,XK){constructor(n,r){super(n,r);H(this,"withTimezone");H(this,"precision");this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}H(Nre,YK,"PgTime");function K2e(e,t={}){const{name:n,config:r}=Ps(e,t);return new wre(n,r.withTimezone??!1,r.precision)}var QK,ZK;class Sre extends(ZK=jv,QK=Ce,ZK){constructor(t,n,r){super(t,"date","PgTimestamp"),this.config.withTimezone=n,this.config.precision=r}build(t){return new Cre(t,this.config)}}H(Sre,QK,"PgTimestampBuilder");var JK,eG;class Cre extends(eG=Ot,JK=Ce,eG){constructor(n,r){super(n,r);H(this,"withTimezone");H(this,"precision");H(this,"mapFromDriverValue",n=>new Date(this.withTimezone?n:n+"+0000"));H(this,"mapToDriverValue",n=>n.toISOString());this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}H(Cre,JK,"PgTimestamp");var tG,nG;class kre extends(nG=jv,tG=Ce,nG){constructor(t,n,r){super(t,"string","PgTimestampString"),this.config.withTimezone=n,this.config.precision=r}build(t){return new _re(t,this.config)}}H(kre,tG,"PgTimestampStringBuilder");var rG,sG;class _re extends(sG=Ot,rG=Ce,sG){constructor(n,r){super(n,r);H(this,"withTimezone");H(this,"precision");this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}H(_re,rG,"PgTimestampString");function et(e,t={}){const{name:n,config:r}=Ps(e,t);return(r==null?void 0:r.mode)==="string"?new kre(n,r.withTimezone??!1,r.precision):new Sre(n,(r==null?void 0:r.withTimezone)??!1,r==null?void 0:r.precision)}var aG,iG;class Pre extends(iG=Xt,aG=Ce,iG){constructor(t){super(t,"string","PgUUID")}defaultRandom(){return this.default(_n`gen_random_uuid()`)}build(t){return new Tre(t,this.config)}}H(Pre,aG,"PgUUIDBuilder");var oG,lG;class Tre extends(lG=Ot,oG=Ce,lG){getSQLType(){return"uuid"}}H(Tre,oG,"PgUUID");function G2e(e){return new Pre(e??"")}var cG,dG;class Are extends(dG=Xt,cG=Ce,dG){constructor(t,n){super(t,"string","PgVarchar"),this.config.length=n.length,this.config.enumValues=n.enum}build(t){return new Ere(t,this.config)}}H(Are,cG,"PgVarcharBuilder");var uG,hG;class Ere extends(hG=Ot,uG=Ce,hG){constructor(){super(...arguments);H(this,"length",this.config.length);H(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}H(Ere,uG,"PgVarchar");function se(e,t={}){const{name:n,config:r}=Ps(e,t);return new Are(n,r)}var fG,mG;class Dre extends(mG=Xt,fG=Ce,mG){constructor(t,n){super(t,"string","PgBinaryVector"),this.config.dimensions=n.dimensions}build(t){return new Ore(t,this.config)}}H(Dre,fG,"PgBinaryVectorBuilder");var pG,gG;class Ore extends(gG=Ot,pG=Ce,gG){constructor(){super(...arguments);H(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}H(Ore,pG,"PgBinaryVector");function Y2e(e,t){const{name:n,config:r}=Ps(e,t);return new Dre(n,r)}var vG,xG;class Mre extends(xG=Xt,vG=Ce,xG){constructor(t,n){super(t,"array","PgHalfVector"),this.config.dimensions=n.dimensions}build(t){return new Rre(t,this.config)}}H(Mre,vG,"PgHalfVectorBuilder");var yG,bG;class Rre extends(bG=Ot,yG=Ce,bG){constructor(){super(...arguments);H(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(n){return JSON.stringify(n)}mapFromDriverValue(n){return n.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}H(Rre,yG,"PgHalfVector");function X2e(e,t){const{name:n,config:r}=Ps(e,t);return new Mre(n,r)}var jG,wG;class $re extends(wG=Xt,jG=Ce,wG){constructor(t,n){super(t,"string","PgSparseVector"),this.config.dimensions=n.dimensions}build(t){return new Ire(t,this.config)}}H($re,jG,"PgSparseVectorBuilder");var NG,SG;class Ire extends(SG=Ot,NG=Ce,SG){constructor(){super(...arguments);H(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}H(Ire,NG,"PgSparseVector");function Q2e(e,t){const{name:n,config:r}=Ps(e,t);return new $re(n,r)}var CG,kG;class Fre extends(kG=Xt,CG=Ce,kG){constructor(t,n){super(t,"array","PgVector"),this.config.dimensions=n.dimensions}build(t){return new Lre(t,this.config)}}H(Fre,CG,"PgVectorBuilder");var _G,PG;class Lre extends(PG=Ot,_G=Ce,PG){constructor(){super(...arguments);H(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(n){return JSON.stringify(n)}mapFromDriverValue(n){return n.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}H(Lre,_G,"PgVector");function Z2e(e,t){const{name:n,config:r}=Ps(e,t);return new Fre(n,r)}function J2e(){return{bigint:P2e,bigserial:T2e,boolean:Ut,char:A2e,cidr:E2e,customType:D2e,date:zc,doublePrecision:O2e,inet:M2e,integer:Sr,interval:R2e,json:$2e,jsonb:Jt,line:I2e,macaddr:F2e,macaddr8:L2e,numeric:nre,point:z2e,geometry:U2e,real:V2e,serial:W2e,smallint:H2e,smallserial:q2e,text:on,time:K2e,timestamp:et,uuid:G2e,varchar:se,bit:Y2e,halfvec:X2e,sparsevec:Q2e,vector:Z2e}}const hD=Symbol.for("drizzle:PgInlineForeignKeys"),wL=Symbol.for("drizzle:EnableRLS");var TG,AG,EG,DG,OG;class fy extends(OG=oi,DG=Ce,EG=hD,AG=wL,TG=oi.Symbol.ExtraConfigBuilder,OG){constructor(){super(...arguments);H(this,EG,[]);H(this,AG,!1);H(this,TG)}}H(fy,DG,"PgTable"),H(fy,"Symbol",Object.assign({},oi.Symbol,{InlineForeignKeys:hD,EnableRLS:wL}));function eke(e,t,n,r,a=e){const i=new fy(e,r,a),o=typeof t=="function"?t(J2e()):t,l=Object.fromEntries(Object.entries(o).map(([u,h])=>{const f=h;f.setName(u);const g=f.build(i);return i[hD].push(...f.buildForeignKeys(g,i)),[u,g]})),c=Object.fromEntries(Object.entries(o).map(([u,h])=>{const f=h;f.setName(u);const g=f.buildExtraConfigColumn(i);return[u,g]})),d=Object.assign(i,l);return d[oi.Symbol.Columns]=l,d[oi.Symbol.ExtraConfigColumns]=c,n&&(d[fy.Symbol.ExtraConfigBuilder]=n),Object.assign(d,{enableRLS:()=>(d[fy.Symbol.EnableRLS]=!0,d)})}const tr=(e,t,n)=>eke(e,t,n,void 0);var MG;MG=Ce;class zre{constructor(t,n){this.unique=t,this.name=n}on(...t){return new i1(t.map(n=>{if(zr(n,Nr))return n;n=n;const r=new a1(n.name,!!n.keyAsName,n.columnType,n.indexConfig);return n.indexConfig=JSON.parse(JSON.stringify(n.defaultConfig)),r}),this.unique,!1,this.name)}onOnly(...t){return new i1(t.map(n=>{if(zr(n,Nr))return n;n=n;const r=new a1(n.name,!!n.keyAsName,n.columnType,n.indexConfig);return n.indexConfig=n.defaultConfig,r}),this.unique,!0,this.name)}using(t,...n){return new i1(n.map(r=>{if(zr(r,Nr))return r;r=r;const a=new a1(r.name,!!r.keyAsName,r.columnType,r.indexConfig);return r.indexConfig=JSON.parse(JSON.stringify(r.defaultConfig)),a}),this.unique,!0,this.name,t)}}H(zre,MG,"PgIndexBuilderOn");var RG;RG=Ce;class i1{constructor(t,n,r,a,i="btree"){H(this,"config");this.config={name:a,columns:t,unique:n,only:r,method:i}}concurrently(){return this.config.concurrently=!0,this}with(t){return this.config.with=t,this}where(t){return this.config.where=t,this}build(t){return new Bre(this.config,t)}}H(i1,RG,"PgIndexBuilder");var $G;$G=Ce;class Bre{constructor(t,n){H(this,"config");this.config={...t,table:n}}}H(Bre,$G,"PgIndex");function tke(e){return new zre(!1,e)}var Yt;(function(e){e.assertEqual=a=>a;function t(a){}e.assertIs=t;function n(a){throw new Error}e.assertNever=n,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function r(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=r,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(Yt||(Yt={}));var fD;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(fD||(fD={}));const Xe=Yt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ac=e=>{switch(typeof e){case"undefined":return Xe.undefined;case"string":return Xe.string;case"number":return isNaN(e)?Xe.nan:Xe.number;case"boolean":return Xe.boolean;case"function":return Xe.function;case"bigint":return Xe.bigint;case"symbol":return Xe.symbol;case"object":return Array.isArray(e)?Xe.array:e===null?Xe.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Xe.promise:typeof Map<"u"&&e instanceof Map?Xe.map:typeof Set<"u"&&e instanceof Set?Xe.set:typeof Date<"u"&&e instanceof Date?Xe.date:Xe.object;default:return Xe.unknown}},Te=Yt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),nke=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class gi extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(i){return i.message},r={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let l=r,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(n(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return a(this),r}static assert(t){if(!(t instanceof gi))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Yt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const a of this.issues)a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(t(a))):r.push(t(a));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}gi.create=e=>new gi(e);const vg=(e,t)=>{let n;switch(e.code){case Te.invalid_type:e.received===Xe.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case Te.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,Yt.jsonStringifyReplacer)}`;break;case Te.unrecognized_keys:n=`Unrecognized key(s) in object: ${Yt.joinValues(e.keys,", ")}`;break;case Te.invalid_union:n="Invalid input";break;case Te.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Yt.joinValues(e.options)}`;break;case Te.invalid_enum_value:n=`Invalid enum value. Expected ${Yt.joinValues(e.options)}, received '${e.received}'`;break;case Te.invalid_arguments:n="Invalid function arguments";break;case Te.invalid_return_type:n="Invalid function return type";break;case Te.invalid_date:n="Invalid date";break;case Te.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:Yt.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case Te.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case Te.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case Te.custom:n="Invalid input";break;case Te.invalid_intersection_types:n="Intersection results could not be merged";break;case Te.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case Te.not_finite:n="Number must be finite";break;default:n=t.defaultError,Yt.assertNever(e)}return{message:n}};let Ure=vg;function rke(e){Ure=e}function yS(){return Ure}const bS=e=>{const{data:t,path:n,errorMaps:r,issueData:a}=e,i=[...n,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=r.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}},ske=[];function We(e,t){const n=yS(),r=bS({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===vg?void 0:vg].filter(a=>!!a)});e.common.issues.push(r)}class sa{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const a of n){if(a.status==="aborted")return St;a.status==="dirty"&&t.dirty(),r.push(a.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const a of n){const i=await a.key,o=await a.value;r.push({key:i,value:o})}return sa.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const a of n){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return St;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(r[i.value]=o.value)}return{status:t.value,value:r}}}const St=Object.freeze({status:"aborted"}),Im=e=>({status:"dirty",value:e}),Pa=e=>({status:"valid",value:e}),mD=e=>e.status==="aborted",pD=e=>e.status==="dirty",Tf=e=>e.status==="valid",c0=e=>typeof Promise<"u"&&e instanceof Promise;function jS(e,t,n,r){if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function Vre(e,t,n,r,a){if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}var at;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(at||(at={}));var Ux,Vx;class oc{constructor(t,n,r,a){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const NL=(e,t)=>{if(Tf(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new gi(e.common.issues);return this._error=n,this._error}}};function Dt(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:a}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{var c,d;const{message:u}=e;return o.code==="invalid_enum_value"?{message:u??l.defaultError}:typeof l.data>"u"?{message:(c=u??r)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(d=u??n)!==null&&d!==void 0?d:l.defaultError}},description:a}}class zt{get description(){return this._def.description}_getType(t){return Ac(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:Ac(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new sa,ctx:{common:t.parent.common,data:t.data,parsedType:Ac(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(c0(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){var r;const a={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ac(t)},i=this._parseSync({data:t,path:a.path,parent:a});return NL(a,i)}"~validate"(t){var n,r;const a={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ac(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:a});return Tf(i)?{value:i.value}:{issues:a.common.issues}}catch(i){!((r=(n=i==null?void 0:i.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),a.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:a}).then(i=>Tf(i)?{value:i.value}:{issues:a.common.issues})}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ac(t)},a=this._parse({data:t,path:r.path,parent:r}),i=await(c0(a)?a:Promise.resolve(a));return NL(r,i)}refine(t,n){const r=a=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(a):n;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:Te.custom,...r(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,n){return this._refinement((r,a)=>t(r)?!0:(a.addIssue(typeof n=="function"?n(r,a):n),!1))}_refinement(t){return new Jo({schema:this,typeName:jt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Kl.create(this,this._def)}nullable(){return Iu.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ho.create(this)}promise(){return yg.create(this,this._def)}or(t){return f0.create([this,t],this._def)}and(t){return m0.create(this,t,this._def)}transform(t){return new Jo({...Dt(this._def),schema:this,typeName:jt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new y0({...Dt(this._def),innerType:this,defaultValue:n,typeName:jt.ZodDefault})}brand(){return new g$({typeName:jt.ZodBranded,type:this,...Dt(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new b0({...Dt(this._def),innerType:this,catchValue:n,typeName:jt.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return Fj.create(this,t)}readonly(){return j0.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const ake=/^c[^\s-]{8,}$/i,ike=/^[0-9a-z]+$/,oke=/^[0-9A-HJKMNP-TV-Z]{26}$/i,lke=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,cke=/^[a-z0-9_-]{21}$/i,dke=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,uke=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,hke=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,fke="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let cT;const mke=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,pke=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,gke=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,vke=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,xke=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,yke=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Wre="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",bke=new RegExp(`^${Wre}$`);function Hre(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function jke(e){return new RegExp(`^${Hre(e)}$`)}function qre(e){let t=`${Wre}T${Hre(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function wke(e,t){return!!((t==="v4"||!t)&&mke.test(e)||(t==="v6"||!t)&&gke.test(e))}function Nke(e,t){if(!dke.test(e))return!1;try{const[n]=e.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),a=JSON.parse(atob(r));return!(typeof a!="object"||a===null||!a.typ||!a.alg||t&&a.alg!==t)}catch{return!1}}function Ske(e,t){return!!((t==="v4"||!t)&&pke.test(e)||(t==="v6"||!t)&&vke.test(e))}class Lo extends zt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Xe.string){const i=this._getOrReturnCtx(t);return We(i,{code:Te.invalid_type,expected:Xe.string,received:i.parsedType}),St}const r=new sa;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),We(a,{code:Te.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),We(a,{code:Te.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?We(a,{code:Te.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&We(a,{code:Te.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")hke.test(t.data)||(a=this._getOrReturnCtx(t,a),We(a,{validation:"email",code:Te.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")cT||(cT=new RegExp(fke,"u")),cT.test(t.data)||(a=this._getOrReturnCtx(t,a),We(a,{validation:"emoji",code:Te.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")lke.test(t.data)||(a=this._getOrReturnCtx(t,a),We(a,{validation:"uuid",code:Te.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")cke.test(t.data)||(a=this._getOrReturnCtx(t,a),We(a,{validation:"nanoid",code:Te.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")ake.test(t.data)||(a=this._getOrReturnCtx(t,a),We(a,{validation:"cuid",code:Te.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")ike.test(t.data)||(a=this._getOrReturnCtx(t,a),We(a,{validation:"cuid2",code:Te.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")oke.test(t.data)||(a=this._getOrReturnCtx(t,a),We(a,{validation:"ulid",code:Te.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),We(a,{validation:"url",code:Te.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),We(a,{validation:"regex",code:Te.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),We(a,{code:Te.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),We(a,{code:Te.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),We(a,{code:Te.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?qre(i).test(t.data)||(a=this._getOrReturnCtx(t,a),We(a,{code:Te.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?bke.test(t.data)||(a=this._getOrReturnCtx(t,a),We(a,{code:Te.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?jke(i).test(t.data)||(a=this._getOrReturnCtx(t,a),We(a,{code:Te.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?uke.test(t.data)||(a=this._getOrReturnCtx(t,a),We(a,{validation:"duration",code:Te.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?wke(t.data,i.version)||(a=this._getOrReturnCtx(t,a),We(a,{validation:"ip",code:Te.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?Nke(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),We(a,{validation:"jwt",code:Te.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?Ske(t.data,i.version)||(a=this._getOrReturnCtx(t,a),We(a,{validation:"cidr",code:Te.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?xke.test(t.data)||(a=this._getOrReturnCtx(t,a),We(a,{validation:"base64",code:Te.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?yke.test(t.data)||(a=this._getOrReturnCtx(t,a),We(a,{validation:"base64url",code:Te.invalid_string,message:i.message}),r.dirty()):Yt.assertNever(i);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(a=>t.test(a),{validation:n,code:Te.invalid_string,...at.errToObj(r)})}_addCheck(t){return new Lo({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...at.errToObj(t)})}url(t){return this._addCheck({kind:"url",...at.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...at.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...at.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...at.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...at.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...at.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...at.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...at.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...at.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...at.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...at.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...at.errToObj(t)})}datetime(t){var n,r;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!==null&&n!==void 0?n:!1,local:(r=t==null?void 0:t.local)!==null&&r!==void 0?r:!1,...at.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...at.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...at.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...at.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...at.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...at.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...at.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...at.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...at.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...at.errToObj(n)})}nonempty(t){return this.min(1,at.errToObj(t))}trim(){return new Lo({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Lo({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Lo({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Lo.create=e=>{var t;return new Lo({checks:[],typeName:jt.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Dt(e)})};function Cke(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,a=n>r?n:r,i=parseInt(e.toFixed(a).replace(".","")),o=parseInt(t.toFixed(a).replace(".",""));return i%o/Math.pow(10,a)}class Mu extends zt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Xe.number){const i=this._getOrReturnCtx(t);return We(i,{code:Te.invalid_type,expected:Xe.number,received:i.parsedType}),St}let r;const a=new sa;for(const i of this._def.checks)i.kind==="int"?Yt.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),We(r,{code:Te.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),We(r,{code:Te.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),We(r,{code:Te.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?Cke(t.data,i.value)!==0&&(r=this._getOrReturnCtx(t,r),We(r,{code:Te.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),We(r,{code:Te.not_finite,message:i.message}),a.dirty()):Yt.assertNever(i);return{status:a.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,at.toString(n))}gt(t,n){return this.setLimit("min",t,!1,at.toString(n))}lte(t,n){return this.setLimit("max",t,!0,at.toString(n))}lt(t,n){return this.setLimit("max",t,!1,at.toString(n))}setLimit(t,n,r,a){return new Mu({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:at.toString(a)}]})}_addCheck(t){return new Mu({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:at.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:at.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:at.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:at.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:at.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:at.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:at.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:at.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:at.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Yt.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}Mu.create=e=>new Mu({checks:[],typeName:jt.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Dt(e)});class Ru extends zt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Xe.bigint)return this._getInvalidInput(t);let r;const a=new sa;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),We(r,{code:Te.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),We(r,{code:Te.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),We(r,{code:Te.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):Yt.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return We(n,{code:Te.invalid_type,expected:Xe.bigint,received:n.parsedType}),St}gte(t,n){return this.setLimit("min",t,!0,at.toString(n))}gt(t,n){return this.setLimit("min",t,!1,at.toString(n))}lte(t,n){return this.setLimit("max",t,!0,at.toString(n))}lt(t,n){return this.setLimit("max",t,!1,at.toString(n))}setLimit(t,n,r,a){return new Ru({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:at.toString(a)}]})}_addCheck(t){return new Ru({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:at.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:at.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:at.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:at.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:at.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Ru.create=e=>{var t;return new Ru({checks:[],typeName:jt.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Dt(e)})};class d0 extends zt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Xe.boolean){const r=this._getOrReturnCtx(t);return We(r,{code:Te.invalid_type,expected:Xe.boolean,received:r.parsedType}),St}return Pa(t.data)}}d0.create=e=>new d0({typeName:jt.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Dt(e)});class Af extends zt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Xe.date){const i=this._getOrReturnCtx(t);return We(i,{code:Te.invalid_type,expected:Xe.date,received:i.parsedType}),St}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return We(i,{code:Te.invalid_date}),St}const r=new sa;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),We(a,{code:Te.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),We(a,{code:Te.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):Yt.assertNever(i);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Af({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:at.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:at.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}Af.create=e=>new Af({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:jt.ZodDate,...Dt(e)});class wS extends zt{_parse(t){if(this._getType(t)!==Xe.symbol){const r=this._getOrReturnCtx(t);return We(r,{code:Te.invalid_type,expected:Xe.symbol,received:r.parsedType}),St}return Pa(t.data)}}wS.create=e=>new wS({typeName:jt.ZodSymbol,...Dt(e)});class u0 extends zt{_parse(t){if(this._getType(t)!==Xe.undefined){const r=this._getOrReturnCtx(t);return We(r,{code:Te.invalid_type,expected:Xe.undefined,received:r.parsedType}),St}return Pa(t.data)}}u0.create=e=>new u0({typeName:jt.ZodUndefined,...Dt(e)});class h0 extends zt{_parse(t){if(this._getType(t)!==Xe.null){const r=this._getOrReturnCtx(t);return We(r,{code:Te.invalid_type,expected:Xe.null,received:r.parsedType}),St}return Pa(t.data)}}h0.create=e=>new h0({typeName:jt.ZodNull,...Dt(e)});class xg extends zt{constructor(){super(...arguments),this._any=!0}_parse(t){return Pa(t.data)}}xg.create=e=>new xg({typeName:jt.ZodAny,...Dt(e)});class cf extends zt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Pa(t.data)}}cf.create=e=>new cf({typeName:jt.ZodUnknown,...Dt(e)});class ld extends zt{_parse(t){const n=this._getOrReturnCtx(t);return We(n,{code:Te.invalid_type,expected:Xe.never,received:n.parsedType}),St}}ld.create=e=>new ld({typeName:jt.ZodNever,...Dt(e)});class NS extends zt{_parse(t){if(this._getType(t)!==Xe.undefined){const r=this._getOrReturnCtx(t);return We(r,{code:Te.invalid_type,expected:Xe.void,received:r.parsedType}),St}return Pa(t.data)}}NS.create=e=>new NS({typeName:jt.ZodVoid,...Dt(e)});class Ho extends zt{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),a=this._def;if(n.parsedType!==Xe.array)return We(n,{code:Te.invalid_type,expected:Xe.array,received:n.parsedType}),St;if(a.exactLength!==null){const o=n.data.length>a.exactLength.value,l=n.data.length<a.exactLength.value;(o||l)&&(We(n,{code:o?Te.too_big:Te.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),r.dirty())}if(a.minLength!==null&&n.data.length<a.minLength.value&&(We(n,{code:Te.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),r.dirty()),a.maxLength!==null&&n.data.length>a.maxLength.value&&(We(n,{code:Te.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>a.type._parseAsync(new oc(n,o,n.path,l)))).then(o=>sa.mergeArray(r,o));const i=[...n.data].map((o,l)=>a.type._parseSync(new oc(n,o,n.path,l)));return sa.mergeArray(r,i)}get element(){return this._def.type}min(t,n){return new Ho({...this._def,minLength:{value:t,message:at.toString(n)}})}max(t,n){return new Ho({...this._def,maxLength:{value:t,message:at.toString(n)}})}length(t,n){return new Ho({...this._def,exactLength:{value:t,message:at.toString(n)}})}nonempty(t){return this.min(1,t)}}Ho.create=(e,t)=>new Ho({type:e,minLength:null,maxLength:null,exactLength:null,typeName:jt.ZodArray,...Dt(t)});function wm(e){if(e instanceof ar){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Kl.create(wm(r))}return new ar({...e._def,shape:()=>t})}else return e instanceof Ho?new Ho({...e._def,type:wm(e.element)}):e instanceof Kl?Kl.create(wm(e.unwrap())):e instanceof Iu?Iu.create(wm(e.unwrap())):e instanceof lc?lc.create(e.items.map(t=>wm(t))):e}class ar extends zt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=Yt.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==Xe.object){const d=this._getOrReturnCtx(t);return We(d,{code:Te.invalid_type,expected:Xe.object,received:d.parsedType}),St}const{status:r,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof ld&&this._def.unknownKeys==="strip"))for(const d in a.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const u=i[d],h=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new oc(a,h,a.path,d)),alwaysSet:d in a.data})}if(this._def.catchall instanceof ld){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:a.data[u]}});else if(d==="strict")l.length>0&&(We(a,{code:Te.unrecognized_keys,keys:l}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const h=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new oc(a,h,a.path,u)),alwaysSet:u in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const h=await u.key,f=await u.value;d.push({key:h,value:f,alwaysSet:u.alwaysSet})}return d}).then(d=>sa.mergeObjectSync(r,d)):sa.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(t){return at.errToObj,new ar({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var a,i,o,l;const c=(o=(i=(a=this._def).errorMap)===null||i===void 0?void 0:i.call(a,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(l=at.errToObj(t).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new ar({...this._def,unknownKeys:"strip"})}passthrough(){return new ar({...this._def,unknownKeys:"passthrough"})}extend(t){return new ar({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new ar({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:jt.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new ar({...this._def,catchall:t})}pick(t){const n={};return Yt.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new ar({...this._def,shape:()=>n})}omit(t){const n={};return Yt.objectKeys(this.shape).forEach(r=>{t[r]||(n[r]=this.shape[r])}),new ar({...this._def,shape:()=>n})}deepPartial(){return wm(this)}partial(t){const n={};return Yt.objectKeys(this.shape).forEach(r=>{const a=this.shape[r];t&&!t[r]?n[r]=a:n[r]=a.optional()}),new ar({...this._def,shape:()=>n})}required(t){const n={};return Yt.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Kl;)i=i._def.innerType;n[r]=i}}),new ar({...this._def,shape:()=>n})}keyof(){return Kre(Yt.objectKeys(this.shape))}}ar.create=(e,t)=>new ar({shape:()=>e,unknownKeys:"strip",catchall:ld.create(),typeName:jt.ZodObject,...Dt(t)});ar.strictCreate=(e,t)=>new ar({shape:()=>e,unknownKeys:"strict",catchall:ld.create(),typeName:jt.ZodObject,...Dt(t)});ar.lazycreate=(e,t)=>new ar({shape:e,unknownKeys:"strip",catchall:ld.create(),typeName:jt.ZodObject,...Dt(t)});class f0 extends zt{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new gi(l.ctx.common.issues));return We(n,{code:Te.invalid_union,unionErrors:o}),St}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of r){const d={...n,common:{...n.common,issues:[]},parent:null},u=c._parseSync({data:n.data,path:n.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new gi(c));return We(n,{code:Te.invalid_union,unionErrors:l}),St}}get options(){return this._def.options}}f0.create=(e,t)=>new f0({options:e,typeName:jt.ZodUnion,...Dt(t)});const Cc=e=>e instanceof g0?Cc(e.schema):e instanceof Jo?Cc(e.innerType()):e instanceof v0?[e.value]:e instanceof $u?e.options:e instanceof x0?Yt.objectValues(e.enum):e instanceof y0?Cc(e._def.innerType):e instanceof u0?[void 0]:e instanceof h0?[null]:e instanceof Kl?[void 0,...Cc(e.unwrap())]:e instanceof Iu?[null,...Cc(e.unwrap())]:e instanceof g$||e instanceof j0?Cc(e.unwrap()):e instanceof b0?Cc(e._def.innerType):[];class Sk extends zt{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Xe.object)return We(n,{code:Te.invalid_type,expected:Xe.object,received:n.parsedType}),St;const r=this.discriminator,a=n.data[r],i=this.optionsMap.get(a);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(We(n,{code:Te.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),St)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const a=new Map;for(const i of n){const o=Cc(i.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of o){if(a.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);a.set(l,i)}}return new Sk({typeName:jt.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:a,...Dt(r)})}}function gD(e,t){const n=Ac(e),r=Ac(t);if(e===t)return{valid:!0,data:e};if(n===Xe.object&&r===Xe.object){const a=Yt.objectKeys(t),i=Yt.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=gD(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(n===Xe.array&&r===Xe.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=gD(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return n===Xe.date&&r===Xe.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class m0 extends zt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),a=(i,o)=>{if(mD(i)||mD(o))return St;const l=gD(i.value,o.value);return l.valid?((pD(i)||pD(o))&&n.dirty(),{status:n.value,value:l.data}):(We(r,{code:Te.invalid_intersection_types}),St)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}m0.create=(e,t,n)=>new m0({left:e,right:t,typeName:jt.ZodIntersection,...Dt(n)});class lc extends zt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Xe.array)return We(r,{code:Te.invalid_type,expected:Xe.array,received:r.parsedType}),St;if(r.data.length<this._def.items.length)return We(r,{code:Te.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),St;!this._def.rest&&r.data.length>this._def.items.length&&(We(r,{code:Te.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new oc(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>sa.mergeArray(n,o)):sa.mergeArray(n,i)}get items(){return this._def.items}rest(t){return new lc({...this._def,rest:t})}}lc.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new lc({items:e,typeName:jt.ZodTuple,rest:null,...Dt(t)})};class p0 extends zt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Xe.object)return We(r,{code:Te.invalid_type,expected:Xe.object,received:r.parsedType}),St;const a=[],i=this._def.keyType,o=this._def.valueType;for(const l in r.data)a.push({key:i._parse(new oc(r,l,r.path,l)),value:o._parse(new oc(r,r.data[l],r.path,l)),alwaysSet:l in r.data});return r.common.async?sa.mergeObjectAsync(n,a):sa.mergeObjectSync(n,a)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof zt?new p0({keyType:t,valueType:n,typeName:jt.ZodRecord,...Dt(r)}):new p0({keyType:Lo.create(),valueType:t,typeName:jt.ZodRecord,...Dt(n)})}}class SS extends zt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Xe.map)return We(r,{code:Te.invalid_type,expected:Xe.map,received:r.parsedType}),St;const a=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([l,c],d)=>({key:a._parse(new oc(r,l,r.path,[d,"key"])),value:i._parse(new oc(r,c,r.path,[d,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return St;(d.status==="dirty"||u.status==="dirty")&&n.dirty(),l.set(d.value,u.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return St;(d.status==="dirty"||u.status==="dirty")&&n.dirty(),l.set(d.value,u.value)}return{status:n.value,value:l}}}}SS.create=(e,t,n)=>new SS({valueType:t,keyType:e,typeName:jt.ZodMap,...Dt(n)});class Ef extends zt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Xe.set)return We(r,{code:Te.invalid_type,expected:Xe.set,received:r.parsedType}),St;const a=this._def;a.minSize!==null&&r.data.size<a.minSize.value&&(We(r,{code:Te.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),n.dirty()),a.maxSize!==null&&r.data.size>a.maxSize.value&&(We(r,{code:Te.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),n.dirty());const i=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return St;u.status==="dirty"&&n.dirty(),d.add(u.value)}return{status:n.value,value:d}}const l=[...r.data.values()].map((c,d)=>i._parse(new oc(r,c,r.path,d)));return r.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,n){return new Ef({...this._def,minSize:{value:t,message:at.toString(n)}})}max(t,n){return new Ef({...this._def,maxSize:{value:t,message:at.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}Ef.create=(e,t)=>new Ef({valueType:e,minSize:null,maxSize:null,typeName:jt.ZodSet,...Dt(t)});class hp extends zt{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Xe.function)return We(n,{code:Te.invalid_type,expected:Xe.function,received:n.parsedType}),St;function r(l,c){return bS({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,yS(),vg].filter(d=>!!d),issueData:{code:Te.invalid_arguments,argumentsError:c}})}function a(l,c){return bS({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,yS(),vg].filter(d=>!!d),issueData:{code:Te.invalid_return_type,returnTypeError:c}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof yg){const l=this;return Pa(async function(...c){const d=new gi([]),u=await l._def.args.parseAsync(c,i).catch(g=>{throw d.addIssue(r(c,g)),d}),h=await Reflect.apply(o,this,u);return await l._def.returns._def.type.parseAsync(h,i).catch(g=>{throw d.addIssue(a(h,g)),d})})}else{const l=this;return Pa(function(...c){const d=l._def.args.safeParse(c,i);if(!d.success)throw new gi([r(c,d.error)]);const u=Reflect.apply(o,this,d.data),h=l._def.returns.safeParse(u,i);if(!h.success)throw new gi([a(u,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new hp({...this._def,args:lc.create(t).rest(cf.create())})}returns(t){return new hp({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new hp({args:t||lc.create([]).rest(cf.create()),returns:n||cf.create(),typeName:jt.ZodFunction,...Dt(r)})}}class g0 extends zt{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}g0.create=(e,t)=>new g0({getter:e,typeName:jt.ZodLazy,...Dt(t)});class v0 extends zt{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return We(n,{received:n.data,code:Te.invalid_literal,expected:this._def.value}),St}return{status:"valid",value:t.data}}get value(){return this._def.value}}v0.create=(e,t)=>new v0({value:e,typeName:jt.ZodLiteral,...Dt(t)});function Kre(e,t){return new $u({values:e,typeName:jt.ZodEnum,...Dt(t)})}class $u extends zt{constructor(){super(...arguments),Ux.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return We(n,{expected:Yt.joinValues(r),received:n.parsedType,code:Te.invalid_type}),St}if(jS(this,Ux)||Vre(this,Ux,new Set(this._def.values)),!jS(this,Ux).has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return We(n,{received:n.data,code:Te.invalid_enum_value,options:r}),St}return Pa(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return $u.create(t,{...this._def,...n})}exclude(t,n=this._def){return $u.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}Ux=new WeakMap;$u.create=Kre;class x0 extends zt{constructor(){super(...arguments),Vx.set(this,void 0)}_parse(t){const n=Yt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==Xe.string&&r.parsedType!==Xe.number){const a=Yt.objectValues(n);return We(r,{expected:Yt.joinValues(a),received:r.parsedType,code:Te.invalid_type}),St}if(jS(this,Vx)||Vre(this,Vx,new Set(Yt.getValidEnumValues(this._def.values))),!jS(this,Vx).has(t.data)){const a=Yt.objectValues(n);return We(r,{received:r.data,code:Te.invalid_enum_value,options:a}),St}return Pa(t.data)}get enum(){return this._def.values}}Vx=new WeakMap;x0.create=(e,t)=>new x0({values:e,typeName:jt.ZodNativeEnum,...Dt(t)});class yg extends zt{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Xe.promise&&n.common.async===!1)return We(n,{code:Te.invalid_type,expected:Xe.promise,received:n.parsedType}),St;const r=n.parsedType===Xe.promise?n.data:Promise.resolve(n.data);return Pa(r.then(a=>this._def.type.parseAsync(a,{path:n.path,errorMap:n.common.contextualErrorMap})))}}yg.create=(e,t)=>new yg({type:e,typeName:jt.ZodPromise,...Dt(t)});class Jo extends zt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===jt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{We(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return St;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?St:c.status==="dirty"||n.value==="dirty"?Im(c.value):c});{if(n.value==="aborted")return St;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?St:l.status==="dirty"||n.value==="dirty"?Im(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?St:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?St:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(a.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Tf(o))return o;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Tf(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:n.value,value:l})):o);Yt.assertNever(a)}}Jo.create=(e,t,n)=>new Jo({schema:e,typeName:jt.ZodEffects,effect:t,...Dt(n)});Jo.createWithPreprocess=(e,t,n)=>new Jo({schema:t,effect:{type:"preprocess",transform:e},typeName:jt.ZodEffects,...Dt(n)});class Kl extends zt{_parse(t){return this._getType(t)===Xe.undefined?Pa(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Kl.create=(e,t)=>new Kl({innerType:e,typeName:jt.ZodOptional,...Dt(t)});class Iu extends zt{_parse(t){return this._getType(t)===Xe.null?Pa(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Iu.create=(e,t)=>new Iu({innerType:e,typeName:jt.ZodNullable,...Dt(t)});class y0 extends zt{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===Xe.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}y0.create=(e,t)=>new y0({innerType:e,typeName:jt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Dt(t)});class b0 extends zt{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},a=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return c0(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new gi(r.common.issues)},input:r.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new gi(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}b0.create=(e,t)=>new b0({innerType:e,typeName:jt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Dt(t)});class CS extends zt{_parse(t){if(this._getType(t)!==Xe.nan){const r=this._getOrReturnCtx(t);return We(r,{code:Te.invalid_type,expected:Xe.nan,received:r.parsedType}),St}return{status:"valid",value:t.data}}}CS.create=e=>new CS({typeName:jt.ZodNaN,...Dt(e)});const kke=Symbol("zod_brand");class g$ extends zt{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Fj extends zt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?St:i.status==="dirty"?(n.dirty(),Im(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const a=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?St:a.status==="dirty"?(n.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:r.path,parent:r})}}static create(t,n){return new Fj({in:t,out:n,typeName:jt.ZodPipeline})}}class j0 extends zt{_parse(t){const n=this._def.innerType._parse(t),r=a=>(Tf(a)&&(a.value=Object.freeze(a.value)),a);return c0(n)?n.then(a=>r(a)):r(n)}unwrap(){return this._def.innerType}}j0.create=(e,t)=>new j0({innerType:e,typeName:jt.ZodReadonly,...Dt(t)});function SL(e,t){const n=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof n=="string"?{message:n}:n}function Gre(e,t={},n){return e?xg.create().superRefine((r,a)=>{var i,o;const l=e(r);if(l instanceof Promise)return l.then(c=>{var d,u;if(!c){const h=SL(t,r),f=(u=(d=h.fatal)!==null&&d!==void 0?d:n)!==null&&u!==void 0?u:!0;a.addIssue({code:"custom",...h,fatal:f})}});if(!l){const c=SL(t,r),d=(o=(i=c.fatal)!==null&&i!==void 0?i:n)!==null&&o!==void 0?o:!0;a.addIssue({code:"custom",...c,fatal:d})}}):xg.create()}const _ke={object:ar.lazycreate};var jt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(jt||(jt={}));const Pke=(e,t={message:`Input not instance of ${e.name}`})=>Gre(n=>n instanceof e,t),Yre=Lo.create,Xre=Mu.create,Tke=CS.create,Ake=Ru.create,Qre=d0.create,Eke=Af.create,Dke=wS.create,Oke=u0.create,Mke=h0.create,Rke=xg.create,$ke=cf.create,Ike=ld.create,Fke=NS.create,Lke=Ho.create,zke=ar.create,Bke=ar.strictCreate,Uke=f0.create,Vke=Sk.create,Wke=m0.create,Hke=lc.create,qke=p0.create,Kke=SS.create,Gke=Ef.create,Yke=hp.create,Xke=g0.create,Qke=v0.create,Zke=$u.create,Jke=x0.create,e_e=yg.create,CL=Jo.create,t_e=Kl.create,n_e=Iu.create,r_e=Jo.createWithPreprocess,s_e=Fj.create,a_e=()=>Yre().optional(),i_e=()=>Xre().optional(),o_e=()=>Qre().optional(),l_e={string:e=>Lo.create({...e,coerce:!0}),number:e=>Mu.create({...e,coerce:!0}),boolean:e=>d0.create({...e,coerce:!0}),bigint:e=>Ru.create({...e,coerce:!0}),date:e=>Af.create({...e,coerce:!0})},c_e=St;var re=Object.freeze({__proto__:null,defaultErrorMap:vg,setErrorMap:rke,getErrorMap:yS,makeIssue:bS,EMPTY_PATH:ske,addIssueToContext:We,ParseStatus:sa,INVALID:St,DIRTY:Im,OK:Pa,isAborted:mD,isDirty:pD,isValid:Tf,isAsync:c0,get util(){return Yt},get objectUtil(){return fD},ZodParsedType:Xe,getParsedType:Ac,ZodType:zt,datetimeRegex:qre,ZodString:Lo,ZodNumber:Mu,ZodBigInt:Ru,ZodBoolean:d0,ZodDate:Af,ZodSymbol:wS,ZodUndefined:u0,ZodNull:h0,ZodAny:xg,ZodUnknown:cf,ZodNever:ld,ZodVoid:NS,ZodArray:Ho,ZodObject:ar,ZodUnion:f0,ZodDiscriminatedUnion:Sk,ZodIntersection:m0,ZodTuple:lc,ZodRecord:p0,ZodMap:SS,ZodSet:Ef,ZodFunction:hp,ZodLazy:g0,ZodLiteral:v0,ZodEnum:$u,ZodNativeEnum:x0,ZodPromise:yg,ZodEffects:Jo,ZodTransformer:Jo,ZodOptional:Kl,ZodNullable:Iu,ZodDefault:y0,ZodCatch:b0,ZodNaN:CS,BRAND:kke,ZodBranded:g$,ZodPipeline:Fj,ZodReadonly:j0,custom:Gre,Schema:zt,ZodSchema:zt,late:_ke,get ZodFirstPartyTypeKind(){return jt},coerce:l_e,any:Rke,array:Lke,bigint:Ake,boolean:Qre,date:Eke,discriminatedUnion:Vke,effect:CL,enum:Zke,function:Yke,instanceof:Pke,intersection:Wke,lazy:Xke,literal:Qke,map:Kke,nan:Tke,nativeEnum:Jke,never:Ike,null:Mke,nullable:n_e,number:Xre,object:zke,oboolean:o_e,onumber:i_e,optional:t_e,ostring:a_e,pipeline:s_e,preprocess:r_e,promise:e_e,record:qke,set:Gke,strictObject:Bke,string:Yre,symbol:Dke,transformer:CL,tuple:Hke,undefined:Oke,union:Uke,unknown:$ke,void:Fke,NEVER:c_e,ZodIssueCode:Te,quotelessJson:nke,ZodError:gi});const sr={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function Tr(e,t){return t.includes(e.columnType)}function Zre(e){return"enumValues"in e&&Array.isArray(e.enumValues)&&e.enumValues.length>0}const d_e=Zre,u_e=re.union([re.string(),re.number(),re.boolean(),re.null()]),h_e=re.union([u_e,re.record(re.any()),re.array(re.any())]),f_e=re.custom(e=>e instanceof Buffer);function Jre(e,t){const n=(t==null?void 0:t.zodInstance)??re,r=(t==null?void 0:t.coerce)??{};let a;return Zre(e)&&(a=e.enumValues.length?n.enum(e.enumValues):n.string()),a||(Tr(e,["PgGeometry","PgPointTuple"])?a=n.tuple([n.number(),n.number()]):Tr(e,["PgGeometryObject","PgPointObject"])?a=n.object({x:n.number(),y:n.number()}):Tr(e,["PgHalfVector","PgVector"])?(a=n.array(n.number()),a=e.dimensions?a.length(e.dimensions):a):Tr(e,["PgLine"])?a=n.tuple([n.number(),n.number(),n.number()]):Tr(e,["PgLineABC"])?a=n.object({a:n.number(),b:n.number(),c:n.number()}):Tr(e,["PgArray"])?(a=n.array(Jre(e.baseColumn,n)),a=e.size?a.length(e.size):a):e.dataType==="array"?a=n.array(n.any()):e.dataType==="number"?a=m_e(e,n,r):e.dataType==="bigint"?a=p_e(e,n,r):e.dataType==="boolean"?a=r===!0||r.boolean?n.coerce.boolean():n.boolean():e.dataType==="date"?a=r===!0||r.date?n.coerce.date():n.date():e.dataType==="string"?a=g_e(e,n,r):e.dataType==="json"?a=h_e:e.dataType==="custom"?a=n.any():e.dataType==="buffer"&&(a=f_e)),a||(a=n.any()),a}function m_e(e,t,n){let r=e.getSQLType().includes("unsigned"),a,i,o=!1;Tr(e,["MySqlTinyInt","SingleStoreTinyInt"])?(a=r?0:sr.INT8_MIN,i=r?sr.INT8_UNSIGNED_MAX:sr.INT8_MAX,o=!0):Tr(e,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(a=r?0:sr.INT16_MIN,i=r?sr.INT16_UNSIGNED_MAX:sr.INT16_MAX,o=!0):Tr(e,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(a=r?0:sr.INT24_MIN,i=r?sr.INT24_UNSIGNED_MAX:sr.INT24_MAX,o=Tr(e,["MySqlMediumInt","SingleStoreMediumInt"])):Tr(e,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(a=r?0:sr.INT32_MIN,i=r?sr.INT32_UNSIGNED_MAX:sr.INT32_MAX,o=!0):Tr(e,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(a=r?0:sr.INT48_MIN,i=r?sr.INT48_UNSIGNED_MAX:sr.INT48_MAX):Tr(e,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(r=r||Tr(e,["MySqlSerial","SingleStoreSerial"]),a=r?0:Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER,o=!0):Tr(e,["MySqlYear","SingleStoreYear"])?(a=1901,i=2155,o=!0):(a=Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER);let l=n===!0||n!=null&&n.number?t.coerce.number():t.number();return l=l.min(a).max(i),o?l.int():l}function p_e(e,t,n){const r=e.getSQLType().includes("unsigned"),a=r?0n:sr.INT64_MIN,i=r?sr.INT64_UNSIGNED_MAX:sr.INT64_MAX;return(n===!0||n!=null&&n.bigint?t.coerce.bigint():t.bigint()).min(a).max(i)}function g_e(e,t,n){if(Tr(e,["PgUUID"]))return t.string().uuid();let r,a,i=!1;Tr(e,["PgVarchar","SQLiteText"])?r=e.length:Tr(e,["MySqlVarChar","SingleStoreVarChar"])?r=e.length??sr.INT16_UNSIGNED_MAX:Tr(e,["MySqlText","SingleStoreText"])&&(e.textType==="longtext"?r=sr.INT32_UNSIGNED_MAX:e.textType==="mediumtext"?r=sr.INT24_UNSIGNED_MAX:e.textType==="text"?r=sr.INT16_UNSIGNED_MAX:r=sr.INT8_UNSIGNED_MAX),Tr(e,["PgChar","MySqlChar","SingleStoreChar"])&&(r=e.length,i=!0),Tr(e,["PgBinaryVector"])&&(a=/^[01]+$/,r=e.dimensions);let o=n===!0||n!=null&&n.string?t.coerce.string():t.string();return o=a?o.regex(a):o,r&&i?o.length(r):r?o.max(r):o}function v$(e){return cne(e)?k2e(e):_2e(e)}function x$(e,t,n,r){const a={};for(const[i,o]of Object.entries(e)){if(!zr(o,gg)&&!zr(o,Nr)&&!zr(o,Nr.Aliased)&&typeof o=="object"){const h=cne(o)||C2e(o)?v$(o):o;a[i]=x$(h,t[i]??{},n,r);continue}const l=t[i];if(l!==void 0&&typeof l!="function"){a[i]=l;continue}const c=zr(o,gg)?o:void 0,d=c?Jre(c,r):re.any(),u=typeof l=="function"?l(d):d;n.never(c)||(a[i]=u,c&&(n.nullable(c)&&(a[i]=a[i].nullable()),n.optional(c)&&(a[i]=a[i].optional())))}return re.object(a)}function v_e(e,t){return re.enum(e.enumValues)}const x_e={never:()=>!1,optional:()=>!1,nullable:e=>!e.notNull},y_e={never:e=>{var t,n;return((t=e==null?void 0:e.generated)==null?void 0:t.type)==="always"||((n=e==null?void 0:e.generatedIdentity)==null?void 0:n.type)==="always"},optional:e=>!e.notNull||e.notNull&&e.hasDefault,nullable:e=>!e.notNull},ki=(e,t)=>{if(d_e(e))return v_e(e);const n=v$(e);return x$(n,{},x_e)},_i=(e,t)=>{const n=v$(e);return x$(n,t??{},y_e)};tr("sessions",{sid:se("sid").primaryKey(),sess:Jt("sess").notNull(),expire:et("expire").notNull()},e=>[tke("IDX_session_expire").on(e.expire)]);const Cr=tr("users",{id:se("id").primaryKey().default(_n`gen_random_uuid()`),email:se("email").unique(),firstName:se("first_name"),lastName:se("last_name"),profileImageUrl:se("profile_image_url"),createdAt:et("created_at").defaultNow(),updatedAt:et("updated_at").defaultNow(),role:se("role",{enum:["admin","user"]}).default("user"),username:se("username").unique().notNull(),password:se("password").notNull(),hasCompletedOnboarding:Ut("has_completed_onboarding").default(!1),emailNotifications:Ut("email_notifications").default(!0),smsNotifications:Ut("sms_notifications").default(!1),phoneNumber:se("phone_number"),name:se("name"),stripeCustomerId:se("stripe_customer_id"),stripeSubscriptionId:se("stripe_subscription_id"),notificationEmail:se("notification_email"),phone:se("phone"),emailOptIn:Ut("email_opt_in").default(!0),smsOptIn:Ut("sms_opt_in").default(!1),isDemo:Ut("is_demo").default(!1),demoSessionId:se("demo_session_id"),sessionExpiresAt:et("session_expires_at")}),em=tr("projects",{id:se("id").primaryKey().default(_n`gen_random_uuid()`),name:se("name").notNull(),description:on("description"),status:se("status",{enum:["active","completed","on-hold","cancelled"]}).default("active"),createdAt:et("created_at").defaultNow(),updatedAt:et("updated_at").defaultNow(),color:se("color"),timeline:on("timeline"),clientId:se("client_id").references(()=>th.id),isDemo:Ut("is_demo").default(!1),demoSessionId:se("demo_session_id"),demoUserId:se("demo_user_id")}),th=tr("clients",{id:se("id").primaryKey().default(_n`gen_random_uuid()`),name:se("name").notNull(),email:se("email"),phone:se("phone"),company:se("company"),address:on("address"),website:se("website"),notes:on("notes"),createdAt:et("created_at").defaultNow(),updatedAt:et("updated_at").defaultNow(),status:se("status",{enum:["active","inactive","prospect"]}).default("prospect"),totalProposals:Sr("total_proposals").default(0),totalInvoices:Sr("total_invoices").default(0),totalRevenue:va("total_revenue",{precision:10,scale:2}).default("0.00"),outstandingBalance:va("outstanding_balance",{precision:10,scale:2}).default("0.00"),isDemo:Ut("is_demo").default(!1),demoSessionId:se("demo_session_id"),demoUserId:se("demo_user_id")}),ese=tr("client_documents",{id:se("id").primaryKey().default(_n`gen_random_uuid()`),clientId:se("client_id").references(()=>th.id),name:se("name").notNull(),description:on("description"),type:se("type",{enum:["proposal","invoice","contract","presentation","report","agreement","other"]}).notNull(),fileUrl:se("file_url").notNull(),fileName:se("file_name").notNull(),fileSize:Sr("file_size"),mimeType:se("mime_type"),version:Sr("version").default(1),status:se("status",{enum:["draft","active","archived","expired"]}).default("active"),tags:Jt("tags").$type().default([]),metadata:Jt("metadata").$type().default({}),uploadedById:se("uploaded_by_id").references(()=>Cr.id).notNull(),createdAt:et("created_at").defaultNow(),updatedAt:et("updated_at").defaultNow(),isDemo:Ut("is_demo").default(!1),demoSessionId:se("demo_session_id"),demoUserId:se("demo_user_id")}),Lj=tr("proposals",{id:se("id").primaryKey().default(_n`gen_random_uuid()`),title:se("title").notNull(),templateId:se("template_id").references(()=>kk.id),projectId:se("project_id").references(()=>em.id),clientId:se("client_id").references(()=>th.id),clientName:se("client_name"),clientEmail:se("client_email"),status:se("status",{enum:["draft","sent","viewed","accepted","rejected","revision_requested","expired"]}).default("draft"),content:on("content"),variables:Jt("variables").$type().default({}),projectDescription:on("project_description"),totalBudget:va("total_budget",{precision:10,scale:2}).default("0.00"),timeline:se("timeline"),deliverables:on("deliverables"),terms:on("terms"),lineItems:Jt("line_items").$type().default([]),calculatedTotal:va("calculated_total",{precision:10,scale:2}).default("0.00"),expiresInDays:Sr("expires_in_days").default(30),expirationDate:zc("expiration_date"),sentAt:et("sent_at"),viewedAt:et("viewed_at"),respondedAt:et("responded_at"),expiresAt:et("expires_at"),responseMessage:on("response_message"),shareableLink:se("shareable_link").unique(),version:Sr("version").default(1),parentProposalId:se("parent_proposal_id").references(()=>Lj.id),createdById:se("created_by_id").references(()=>Cr.id),metadata:Jt("metadata").$type().default({}),createdAt:et("created_at").defaultNow(),updatedAt:et("updated_at").defaultNow(),acceptedAt:et("accepted_at"),isDemo:Ut("is_demo").default(!1),demoSessionId:se("demo_session_id"),demoUserId:se("demo_user_id")}),Ck=tr("invoices",{id:se("id").primaryKey().default(_n`gen_random_uuid()`),invoiceNumber:se("invoice_number").notNull().unique(),proposalId:se("proposal_id").references(()=>Lj.id),projectId:se("project_id").references(()=>em.id),clientId:se("client_id").references(()=>th.id),clientName:se("client_name"),clientEmail:se("client_email"),clientAddress:on("client_address"),status:se("status",{enum:["draft","sent","paid","overdue","cancelled"]}).default("draft"),invoiceDate:zc("invoice_date"),dueDate:zc("due_date"),lineItems:Jt("line_items").$type().default([]),subtotal:va("subtotal",{precision:10,scale:2}).default("0.00"),taxRate:va("tax_rate",{precision:5,scale:2}).default("0.00"),taxAmount:va("tax_amount",{precision:10,scale:2}).default("0.00"),discountAmount:va("discount_amount",{precision:10,scale:2}).default("0.00"),totalAmount:va("total_amount",{precision:10,scale:2}).default("0.00"),depositRequired:va("deposit_required",{precision:10,scale:2}).default("0.00"),depositPaid:va("deposit_paid",{precision:10,scale:2}).default("0.00"),amountPaid:va("amount_paid",{precision:10,scale:2}).default("0.00"),balanceDue:va("balance_due",{precision:10,scale:2}).default("0.00"),notes:on("notes"),paymentLink:se("payment_link").unique(),paymentLinkExpiresAt:et("payment_link_expires_at"),stripePaymentIntentId:se("stripe_payment_intent_id"),createdById:se("created_by_id").references(()=>Cr.id).notNull(),createdAt:et("created_at").defaultNow(),updatedAt:et("updated_at").defaultNow(),sentAt:et("sent_at"),paidAt:et("paid_at"),isDemo:Ut("is_demo").default(!1),demoSessionId:se("demo_session_id"),demoUserId:se("demo_user_id")}),tse=tr("payments",{id:se("id").primaryKey().default(_n`gen_random_uuid()`),invoiceId:se("invoice_id").references(()=>Ck.id),clientId:se("client_id").references(()=>th.id),amount:va("amount",{precision:10,scale:2}).notNull(),paymentDate:zc("payment_date").notNull(),paymentMethod:se("payment_method",{enum:["cash","check","credit_card","bank_transfer","paypal","stripe","other"]}),reference:se("reference"),notes:on("notes"),isDeposit:Ut("is_deposit").default(!1),createdAt:et("created_at").defaultNow(),isDemo:Ut("is_demo").default(!1),demoSessionId:se("demo_session_id"),demoUserId:se("demo_user_id")}),b_e=_i(tse,{paymentDate:re.union([re.string().transform(e=>new Date(e)),re.date()]),amount:re.union([re.string().transform(e=>e),re.number().transform(e=>e.toString())])}),y$=tr("contracts",{id:se("id").primaryKey().default(_n`gen_random_uuid()`),contractNumber:se("contract_number").notNull().unique(),title:se("title").notNull(),templateId:se("template_id").references(()=>kk.id),proposalId:se("proposal_id").references(()=>Lj.id),projectId:se("project_id").references(()=>em.id),clientId:se("client_id").references(()=>th.id),clientName:se("client_name"),clientEmail:se("client_email"),status:se("status",{enum:["draft","sent","viewed","pending_signature","partially_signed","fully_signed","executed","expired","terminated","amended"]}).default("draft"),contractType:se("contract_type",{enum:["service_agreement","nda","employment","vendor","licensing","consulting","maintenance","custom"]}).notNull(),content:on("content"),variables:Jt("variables").$type().default({}),contractValue:va("contract_value",{precision:10,scale:2}).default("0.00"),paymentTerms:on("payment_terms"),currency:se("currency",{enum:["USD","EUR","GBP","CAD"]}).default("USD"),effectiveDate:zc("effective_date"),expirationDate:zc("expiration_date"),renewalDate:zc("renewal_date"),terminationDate:zc("termination_date"),requiresSignature:Ut("requires_signature").default(!0),signatureType:se("signature_type",{enum:["digital","wet","both"]}).default("digital"),businessSignedAt:et("business_signed_at"),businessSignedBy:se("business_signed_by").references(()=>Cr.id),clientSignedAt:et("client_signed_at"),clientSignedBy:se("client_signed_by"),witnessRequired:Ut("witness_required").default(!1),witnessSignedAt:et("witness_signed_at"),witnessSignedBy:se("witness_signed_by"),shareableLink:se("shareable_link").unique(),documentPath:se("document_path"),signedDocumentPath:se("signed_document_path"),version:Sr("version").default(1),parentContractId:se("parent_contract_id").references(()=>y$.id),sentAt:et("sent_at"),viewedAt:et("viewed_at"),lastReminderSent:et("last_reminder_sent"),reminderCount:Sr("reminder_count").default(0),governingLaw:se("governing_law").default("United States"),jurisdiction:se("jurisdiction"),confidentialityLevel:se("confidentiality_level",{enum:["public","internal","confidential","highly_confidential"]}).default("confidential"),autoRenewal:Ut("auto_renewal").default(!1),renewalPeriod:Sr("renewal_period"),noticePeriod:Sr("notice_period").default(30),tags:Jt("tags").$type().default([]),notes:on("notes"),internalNotes:on("internal_notes"),metadata:Jt("metadata").$type().default({}),createdById:se("created_by_id").references(()=>Cr.id),lastModifiedById:se("last_modified_by_id").references(()=>Cr.id),createdAt:et("created_at").defaultNow(),updatedAt:et("updated_at").defaultNow(),isDemo:Ut("is_demo").default(!1),demoSessionId:se("demo_session_id"),demoUserId:se("demo_user_id")}),w0=tr("tasks",{id:se("id").primaryKey().default(_n`gen_random_uuid()`),title:se("title").notNull(),description:on("description"),status:se("status",{enum:["pending","active","high","critical","completed"]}).default("pending"),priority:se("priority",{enum:["low","medium","high"]}).default("medium"),dueDate:et("due_date"),dueTime:se("due_time"),completed:Ut("completed").default(!1),completedAt:et("completed_at"),createdAt:et("created_at").defaultNow(),updatedAt:et("updated_at").defaultNow(),projectId:se("project_id").references(()=>em.id),assignedToId:se("assigned_to_id").references(()=>Cr.id),createdById:se("created_by_id").references(()=>Cr.id),notes:on("notes"),attachments:Jt("attachments").$type().default([]),links:Jt("links").$type().default([]),parentTaskId:se("parent_task_id"),progress:Jt("progress").$type().default([]),progressNotes:Jt("progress_notes").$type().default([]),estimatedHours:Sr("estimated_hours"),actualHours:Sr("actual_hours"),isDemo:Ut("is_demo").default(!1),demoSessionId:se("demo_session_id"),demoUserId:se("demo_user_id")}),kk=tr("templates",{id:se("id").primaryKey().default(_n`gen_random_uuid()`),name:se("name").notNull(),description:on("description"),type:se("type",{enum:["proposal","invoice","contract","presentation","email"]}).notNull(),variables:Jt("variables").$type().default([]),content:on("content"),isSystem:Ut("is_system").default(!1),isPublic:Ut("is_public").default(!1),tags:Jt("tags").$type().default([]),metadata:Jt("metadata").$type().default({}),createdAt:et("created_at").defaultNow(),updatedAt:et("updated_at").defaultNow(),createdById:se("created_by_id").references(()=>Cr.id),isDemo:Ut("is_demo").default(!1),demoSessionId:se("demo_session_id"),demoUserId:se("demo_user_id")});tr("task_dependencies",{id:se("id").primaryKey().default(_n`gen_random_uuid()`),dependentTaskId:se("dependent_task_id").references(()=>w0.id),dependsOnTaskId:se("depends_on_task_id").references(()=>w0.id),createdAt:et("created_at").defaultNow()});tr("time_logs",{id:se("id").primaryKey().default(_n`gen_random_uuid()`),userId:se("user_id").references(()=>Cr.id).notNull(),taskId:se("task_id").references(()=>w0.id),projectId:se("project_id").references(()=>em.id),description:on("description").notNull(),startTime:et("start_time").notNull(),endTime:et("end_time"),duration:se("duration"),isActive:Ut("is_active").default(!1),isManualEntry:Ut("is_manual_entry").default(!1),editHistory:Jt("edit_history").$type().default([]),approvalStatus:se("approval_status",{enum:["pending","approved","rejected"]}).default("pending"),isSelectedForInvoice:Ut("is_selected_for_invoice").default(!1),invoiceId:se("invoice_id").references(()=>Ck.id),approvedBy:se("approved_by").references(()=>Cr.id),approvedAt:et("approved_at"),rejectionReason:on("rejection_reason"),createdAt:et("created_at").defaultNow(),updatedAt:et("updated_at").defaultNow(),isDemo:Ut("is_demo").default(!1),demoSessionId:se("demo_session_id"),demoUserId:se("demo_user_id")});const nse=tr("file_attachments",{id:se("id").primaryKey().default(_n`gen_random_uuid()`),fileName:se("file_name").notNull(),originalName:se("original_name").notNull(),filePath:se("file_path").notNull(),fileSize:Sr("file_size"),mimeType:se("mime_type"),entityType:se("entity_type",{enum:["task","project","client"]}).notNull(),entityId:se("entity_id").notNull(),uploadedById:se("uploaded_by_id").references(()=>Cr.id).notNull(),description:on("description"),isPublic:Ut("is_public").default(!1),version:Sr("version").default(1),parentFileId:se("parent_file_id"),tags:Jt("tags").$type().default([]),metadata:Jt("metadata").$type().default({}),createdAt:et("created_at").defaultNow(),updatedAt:et("updated_at").defaultNow(),isDemo:Ut("is_demo").default(!1),demoSessionId:se("demo_session_id"),demoUserId:se("demo_user_id")}),rse=tr("document_versions",{id:se("id").primaryKey().default(_n`gen_random_uuid()`),documentId:se("document_id").notNull(),versionNumber:Sr("version_number").notNull(),fileName:se("file_name").notNull(),filePath:se("file_path").notNull(),fileSize:Sr("file_size"),mimeType:se("mime_type"),changes:on("changes"),uploadedById:se("uploaded_by_id").references(()=>Cr.id).notNull(),createdAt:et("created_at").defaultNow(),isDemo:Ut("is_demo").default(!1),demoSessionId:se("demo_session_id"),demoUserId:se("demo_user_id")}),_k=_i(w0,{dueDate:re.union([re.string().transform(e=>new Date(e)),re.date(),re.null()]).optional().nullable(),progress:re.array(re.object({date:re.string(),comment:re.string()})).optional().nullable(),attachments:re.array(re.string()).optional(),links:re.array(re.string()).optional()});ki(w0);const j_e=_k.omit({id:!0,createdAt:!0,updatedAt:!0}),w_e=_i(em);ki(em);w_e.omit({id:!0,createdAt:!0,updatedAt:!0});const N_e=_i(th,{name:re.string().min(1,"Client name is required").max(100,"Name must be less than 100 characters"),email:re.string().email("Please enter a valid email address").optional().nullable(),company:re.string().max(150,"Company name must be less than 150 characters").optional().nullable(),phone:re.string().regex(/^[\+]?[\d\s\-\(\)]{7,20}$/,"Please enter a valid phone number").optional().nullable(),address:re.string().max(500,"Address must be less than 500 characters").optional().nullable(),website:re.string().url("Please enter a valid website URL").or(re.literal("")).optional().nullable(),status:re.enum(["active","inactive","prospect"],{errorMap:()=>({message:"Please select a valid client status"})}).default("prospect"),notes:re.string().max(1e3,"Notes must be less than 1000 characters").optional().nullable()});ki(th);N_e.omit({id:!0,createdAt:!0,updatedAt:!0});const b$=_i(Lj,{title:re.string().min(1,"Proposal title is required").max(200,"Title must be less than 200 characters"),clientName:re.string().min(1,"Client name is required").max(100,"Client name must be less than 100 characters"),clientEmail:re.string().email("Please enter a valid email address"),content:re.string().min(10,"Proposal content must be at least 10 characters"),status:re.enum(["draft","sent","viewed","accepted","rejected","expired"],{errorMap:()=>({message:"Please select a valid proposal status"})}).default("draft"),totalBudget:re.number().min(0,"Budget cannot be negative").optional().nullable(),timeline:re.string().max(100,"Timeline must be less than 100 characters").optional().nullable(),expirationDate:re.union([re.string().regex(/^\d{4}-\d{2}-\d{2}$/,"Date must be in YYYY-MM-DD format"),re.date().transform(e=>e.toISOString().split("T")[0])]).optional().nullable(),deliverables:re.string().max(2e3,"Deliverables must be less than 2000 characters").optional().nullable(),terms:re.string().max(2e3,"Terms must be less than 2000 characters").optional().nullable()});b$.refine(e=>e.expirationDate&&typeof e.expirationDate=="string"?new Date(e.expirationDate)>new Date:!0,{message:"Expiration date must be in the future",path:["expirationDate"]});ki(Lj);b$.omit({id:!0,createdAt:!0,updatedAt:!0});const sse=_i(Ck,{invoiceNumber:re.string().min(1,"Invoice number is required").max(50,"Invoice number too long"),clientName:re.string().min(1,"Client name is required").max(100,"Client name too long").optional(),clientEmail:re.string().email("Invalid email format").optional().nullable(),clientAddress:re.string().max(500,"Address too long").optional().nullable(),status:re.enum(["draft","sent","viewed","paid","overdue","cancelled"],{errorMap:()=>({message:"Please select a valid invoice status"})}).default("draft"),invoiceDate:re.union([re.string().regex(/^\d{4}-\d{2}-\d{2}$/,"Date must be in YYYY-MM-DD format"),re.date().transform(e=>e.toISOString().split("T")[0]),re.literal("").transform(()=>{})]).optional(),dueDate:re.union([re.string().regex(/^\d{4}-\d{2}-\d{2}$/,"Date must be in YYYY-MM-DD format"),re.date().transform(e=>e.toISOString().split("T")[0]),re.literal("").transform(()=>{})]).optional(),subtotal:re.union([re.string().regex(/^\d+\.?\d*$/,"Subtotal must be a valid number"),re.number().transform(e=>e.toString())]).optional(),taxRate:re.union([re.string().regex(/^\d+\.?\d*$/,"Tax rate must be a valid number"),re.number().min(0).max(100).transform(e=>e.toString())]).optional(),taxAmount:re.union([re.string().regex(/^\d+\.?\d*$/,"Tax amount must be a valid number"),re.number().transform(e=>e.toString())]).optional(),discountAmount:re.union([re.string().regex(/^\d+\.?\d*$/,"Discount amount must be a valid number"),re.number().transform(e=>e.toString())]).optional(),totalAmount:re.union([re.string().regex(/^\d+\.?\d*$/,"Total amount must be a valid number"),re.number().transform(e=>e.toString())]).optional(),lineItems:re.array(re.object({id:re.number().min(1,"Line item id is required"),description:re.string().min(1,"Item description is required"),quantity:re.number().min(.01,"Quantity must be greater than 0"),rate:re.number().min(0,"Rate cannot be negative"),amount:re.number().min(0,"Amount cannot be negative")})).optional()});sse.omit({id:!0,createdById:!0,createdAt:!0,updatedAt:!0}).refine(e=>e.invoiceDate&&e.dueDate?new Date(e.dueDate)>=new Date(e.invoiceDate):!0,{message:"Due date must be on or after invoice date",path:["dueDate"]});ki(Ck);sse.omit({id:!0,createdAt:!0,updatedAt:!0});ki(tse);b_e.omit({id:!0,createdAt:!0});const ase=_i(y$,{title:re.string().min(1,"Contract title is required").max(200,"Title must be less than 200 characters"),contractNumber:re.string().optional(),clientName:re.string().min(1,"Client name is required").max(100,"Client name must be less than 100 characters"),clientEmail:re.string().email("Invalid email format").optional().nullable(),contractType:re.enum(["service","product","recurring","one_time"],{errorMap:()=>({message:"Please select a valid contract type"})}).default("service"),contractValue:re.union([re.string().regex(/^\d+\.?\d*$/,"Contract value must be a valid number"),re.number().min(0,"Contract value cannot be negative").transform(e=>e.toString())]).optional(),currency:re.string().length(3,"Currency must be a 3-letter code (e.g., USD)").default("USD"),effectiveDate:re.union([re.string().regex(/^\d{4}-\d{2}-\d{2}$/,"Date must be in YYYY-MM-DD format"),re.date().transform(e=>e.toISOString().split("T")[0])]).optional().nullable(),expirationDate:re.union([re.string().regex(/^\d{4}-\d{2}-\d{2}$/,"Date must be in YYYY-MM-DD format"),re.date().transform(e=>e.toISOString().split("T")[0])]).optional().nullable(),renewalDate:re.union([re.string().regex(/^\d{4}-\d{2}-\d{2}$/,"Date must be in YYYY-MM-DD format"),re.date().transform(e=>e.toISOString().split("T")[0])]).optional().nullable(),terminationDate:re.union([re.string().regex(/^\d{4}-\d{2}-\d{2}$/,"Date must be in YYYY-MM-DD format"),re.date().transform(e=>e.toISOString().split("T")[0])]).optional().nullable()});ase.refine(e=>e.effectiveDate&&e.expirationDate?new Date(e.expirationDate)>new Date(e.effectiveDate):!0,{message:"Expiration date must be after effective date",path:["expirationDate"]});ki(y$);ase.omit({id:!0,createdAt:!0,updatedAt:!0});const ise=_i(kk);ki(kk);ise.omit({id:!0,createdAt:!0,updatedAt:!0});const S_e=_i(Cr);ki(Cr);S_e.omit({id:!0,createdAt:!0,updatedAt:!0});const C_e=_i(ese);ki(ese);C_e.omit({id:!0,createdAt:!0,updatedAt:!0});const k_e=_i(nse);ki(nse);k_e.omit({id:!0,createdAt:!0,updatedAt:!0});const __e=_i(rse);ki(rse);__e.omit({id:!0,createdAt:!0});_k.partial();ise.partial();b$.partial();re.object({endTime:re.date().optional(),duration:re.string().optional(),isActive:re.boolean().optional(),description:re.string().optional()});re.object({taskId:re.string().optional(),projectId:re.string().optional(),description:re.string().optional()});re.object({timeLogId:re.string().min(1,"Time log ID is required")});re.object({notificationEmail:re.string().email().optional(),phone:re.string().optional(),emailOptIn:re.boolean().default(!0),smsOptIn:re.boolean().default(!1),hasCompletedOnboarding:re.boolean().default(!0)});re.object({templateId:re.string(),title:re.string(),projectId:re.string().optional(),clientName:re.string(),clientEmail:re.string().email(),variables:re.record(re.any()),expiresInDays:re.number().min(1).default(30)});re.object({title:re.string().min(1,"Title is required"),projectId:re.string().optional(),clientName:re.string().min(1,"Client name is required"),clientEmail:re.string().email("Valid email is required"),projectDescription:re.string().optional(),totalBudget:re.number().min(0).default(0),timeline:re.string().optional(),deliverables:re.string().optional(),terms:re.string().optional(),lineItems:re.array(re.object({id:re.number(),description:re.string(),quantity:re.number().min(0),rate:re.number().min(0),amount:re.number().min(0)})).default([]),calculatedTotal:re.number().min(0).default(0),expiresInDays:re.number().min(1).default(30)});re.object({proposalId:re.string(),clientEmail:re.string().email(),message:re.string().optional()});const ose=tr("messages",{id:se("id").primaryKey().default(_n`gen_random_uuid()`),fromUserId:se("from_user_id").references(()=>Cr.id).notNull(),toUserId:se("to_user_id").references(()=>Cr.id),toEmail:se("to_email"),subject:se("subject").notNull(),content:on("content").notNull(),priority:se("priority",{enum:["low","medium","high"]}).default("medium"),attachments:Jt("attachments").$type().default([]),isRead:Ut("is_read").default(!1),readAt:et("read_at"),createdAt:et("created_at").defaultNow(),updatedAt:et("updated_at").defaultNow()});_i(ose,{subject:re.string().min(1,"Subject is required"),content:re.string().min(1,"Content is required"),priority:re.enum(["low","medium","high"]).default("medium"),attachments:re.array(re.object({id:re.string(),filename:re.string(),size:re.number(),type:re.string(),url:re.string()})).default([])}).omit({id:!0,fromUserId:!0,isRead:!0,readAt:!0,createdAt:!0,updatedAt:!0});ki(ose);const P_e=tr("custom_field_definitions",{id:se("id").primaryKey().default(_n`gen_random_uuid()`),name:se("name").notNull(),label:se("label").notNull(),type:se("type",{enum:["text","textarea","number","date","boolean","select","multiselect"]}).notNull(),entityType:se("entity_type",{enum:["task","project","client"]}).notNull(),options:Jt("options").$type().default([]),required:Ut("required").default(!1),defaultValue:on("default_value"),validation:Jt("validation").$type().default({}),order:Sr("order").default(0),isActive:Ut("is_active").default(!0),createdById:se("created_by_id").references(()=>Cr.id).notNull(),createdAt:et("created_at").defaultNow(),updatedAt:et("updated_at").defaultNow()});tr("custom_field_values",{id:se("id").primaryKey().default(_n`gen_random_uuid()`),fieldId:se("field_id").references(()=>P_e.id,{onDelete:"cascade"}).notNull(),entityType:se("entity_type",{enum:["task","project","client"]}).notNull(),entityId:se("entity_id").notNull(),value:Jt("value"),createdAt:et("created_at").defaultNow(),updatedAt:et("updated_at").defaultNow()});const T_e=tr("workflow_rules",{id:se("id").primaryKey().default(_n`gen_random_uuid()`),name:se("name").notNull(),description:on("description"),entityType:se("entity_type",{enum:["task","project","client"]}).notNull(),trigger:Jt("trigger").$type().notNull(),actions:Jt("actions").$type().notNull(),isActive:Ut("is_active").default(!0),priority:Sr("priority").default(0),createdById:se("created_by_id").references(()=>Cr.id).notNull(),createdAt:et("created_at").defaultNow(),updatedAt:et("updated_at").defaultNow()});tr("workflow_executions",{id:se("id").primaryKey().default(_n`gen_random_uuid()`),ruleId:se("rule_id").references(()=>T_e.id,{onDelete:"cascade"}).notNull(),entityType:se("entity_type").notNull(),entityId:se("entity_id").notNull(),status:se("status",{enum:["success","failed","partial"]}).notNull(),result:Jt("result").$type(),executedAt:et("executed_at").defaultNow()});tr("comments",{id:se("id").primaryKey().default(_n`gen_random_uuid()`),entityType:se("entity_type",{enum:["task","project","client"]}).notNull(),entityId:se("entity_id").notNull(),content:on("content").notNull(),authorId:se("author_id").references(()=>Cr.id).notNull(),parentId:se("parent_id"),mentions:Jt("mentions").$type().default([]),attachments:Jt("attachments").$type().default([]),isEdited:Ut("is_edited").default(!1),editedAt:et("edited_at"),createdAt:et("created_at").defaultNow(),updatedAt:et("updated_at").defaultNow()});tr("activities",{id:se("id").primaryKey().default(_n`gen_random_uuid()`),type:se("type").notNull(),entityType:se("entity_type",{enum:["task","project","client","user"]}).notNull(),entityId:se("entity_id").notNull(),actorId:se("actor_id").references(()=>Cr.id).notNull(),data:Jt("data").$type().default({}),description:on("description").notNull(),isPrivate:Ut("is_private").default(!1),createdAt:et("created_at").defaultNow()});const A_e=tr("api_keys",{id:se("id").primaryKey().default(_n`gen_random_uuid()`),name:se("name").notNull(),key:se("key").unique().notNull(),hashedKey:se("hashed_key").notNull(),prefix:se("prefix",{length:8}).notNull(),permissions:Jt("permissions").$type().notNull(),rateLimit:Sr("rate_limit").default(1e3),isActive:Ut("is_active").default(!0),lastUsedAt:et("last_used_at"),expiresAt:et("expires_at"),createdById:se("created_by_id").references(()=>Cr.id).notNull(),createdAt:et("created_at").defaultNow(),updatedAt:et("updated_at").defaultNow()});tr("api_usage",{id:se("id").primaryKey().default(_n`gen_random_uuid()`),keyId:se("key_id").references(()=>A_e.id,{onDelete:"cascade"}).notNull(),method:se("method").notNull(),endpoint:se("endpoint").notNull(),statusCode:Sr("status_code").notNull(),responseTime:Sr("response_time"),userAgent:se("user_agent"),ipAddress:se("ip_address"),requestedAt:et("requested_at").defaultNow()});const E_e={critical:{label:"Critical",color:"#E53935",Icon:w0e},high:{label:"High",color:"#FB8C00",Icon:ur},medium:{label:"Medium",color:"#FDD835",Icon:bt},low:{label:"Low",color:"#43A047",Icon:tS},complete:{label:"Complete",color:"#4CAF50",Icon:ji},pending:{label:"Pending",color:"#9E9E9E",Icon:tS},overdue:{label:"Overdue",color:"#D32F2F",stripeColor:"#FDD835",Icon:N0e}},Od=({status:e,label:t,className:n,size:r=18})=>{const a=E_e[e];if(!a)return s.jsx("span",{className:"text-gray-500 text-xs",children:e});const i=a.Icon,o=e==="overdue"?{backgroundImage:"repeating-linear-gradient(135deg, var(--badge-stripe) 0 6px, transparent 6px 12px)",WebkitMask:"radial-gradient(circle at center, #000 99%, #0000 100%)",borderRadius:4}:{};return s.jsxs("span",{className:Ct("vs-badge",n),style:{"--badge-color":a.color,"--badge-stripe":a.stripeColor||"transparent"},"aria-label":t||a.label,title:t||a.label,children:[s.jsx(i,{className:"vs-badge__icon",size:r}),s.jsx("span",{className:"vs-badge__text",children:t??a.label}),e==="overdue"&&s.jsx("span",{className:"vs-badge__stripe",style:o})]})};function D_e({value:e,onValueChange:t,placeholder:n}){const{user:r,isAdmin:a}=er(),{data:i=[]}=he({queryKey:["/api/users"],enabled:a});return s.jsxs(Ke,{value:e,onValueChange:t,children:[s.jsx(He,{className:"w-full",children:s.jsx(Ge,{placeholder:n})}),s.jsxs(qe,{children:[s.jsx(Q,{value:"unassigned",children:"Unassigned"},"unassigned"),r&&s.jsxs(Q,{value:r.id,children:[r.name," (",r.username,") - Me"]},`current-${r.id}`),a&&i.filter(o=>o.id!==(r==null?void 0:r.id)).map(o=>s.jsxs(Q,{value:o.id,children:[o.name," (",o.username,")"]},`user-${o.id}`))]})]})}function O_e({value:e,onValueChange:t,placeholder:n}){const[r,a]=b.useState(""),[i,o]=b.useState(!1),{data:l=[]}=he({queryKey:["/api/projects"]}),c=Se({mutationFn:async h=>(await ke("POST","/api/projects",{name:h})).json(),onSuccess:h=>{rt.invalidateQueries({queryKey:["/api/projects"]}),t(h.id),a(""),o(!1)}}),d=()=>{r.trim()&&c.mutate(r.trim())},u=l.find(h=>h.name==="Add a project");return s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Ke,{value:e,onValueChange:t,children:[s.jsx(He,{className:"w-full",children:s.jsx(Ge,{placeholder:n})}),s.jsxs(qe,{children:[u&&s.jsx(Q,{value:u.id,children:u.name}),l.filter(h=>h.name!=="Add a project").map(h=>s.jsx(Q,{value:h.id,children:h.name},h.id))]})]}),i?s.jsxs("div",{className:"flex gap-2",children:[s.jsx(te,{value:r,onChange:h=>a(h.target.value),placeholder:"Enter project name",className:"flex-1"}),s.jsx(D,{type:"button",onClick:d,disabled:!r.trim()||c.isPending,size:"sm",children:c.isPending?"...":"Add"}),s.jsx(D,{type:"button",variant:"outline",onClick:()=>{o(!1),a("")},size:"sm",children:"Cancel"})]}):s.jsxs(D,{type:"button",variant:"outline",onClick:()=>o(!0),className:"w-full text-sm",children:[s.jsx(st,{size:14,className:"mr-1"}),"Create New Project"]})]})}function M_e({onSuccess:e,parentTaskId:t,existingTask:n}={}){const{user:r,isAdmin:a}=er(),{canPerformAction:i,isDemoMode:o}=yj(),[l,c]=b.useState(""),[d,u]=b.useState(""),[h,f]=b.useState(""),[g,m]=b.useState("medium"),[p,x]=b.useState("pending"),[v,y]=b.useState(a?"unassigned":(r==null?void 0:r.id)||"unassigned"),[j,N]=b.useState(""),[w,S]=b.useState(""),[k,_]=b.useState([]),[T,P]=b.useState([]),[C,A]=b.useState(""),{toast:E}=mt(),I=Se({mutationFn:async Y=>(await ke("POST","/api/tasks",Y)).json(),onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/tasks"]}),c(""),u(""),f(""),m("medium"),x("pending"),y(a?"unassigned":(r==null?void 0:r.id)||"unassigned"),N(""),S(""),_([]),P([]),A(""),E({title:"Task created",description:"Your task has been added successfully."}),e==null||e()},onError:Y=>{E({title:"Error",description:Y.message||"Failed to create task",variant:"destructive"})}}),$=()=>{C.trim()&&!T.includes(C.trim())&&(P([...T,C.trim()]),A(""))},U=Y=>{P(T.filter((K,z)=>z!==Y))},M=Y=>{const K=Y.target.files;if(K){const z=Array.from(K).map(L=>L.name);_([...k,...z])}},F=Y=>{_(k.filter((K,z)=>z!==Y))},V=Y=>{if(Y.preventDefault(),!l.trim()){E({title:"Error",description:"Task description is required",variant:"destructive"});return}if(!(!n&&!i(t1.CREATE_TASK)))try{let K=null;d&&(h?K=new Date(`${d}T${h}`):K=new Date(`${d}T23:59`));const z=_k.parse({title:l.trim(),description:l.trim(),dueDate:K,priority:g,status:p,assignedToId:v&&v!=="unassigned"?v:void 0,projectId:j||void 0,completed:!1,notes:w.trim()||void 0,attachments:k.length>0?[...k]:void 0,links:T.length>0?T.filter(L=>L.trim()!==""):void 0});(n||!o)&&I.mutate(z)}catch(K){console.error("Validation error:",K),E({title:"Error",description:K instanceof Error?K.message:"Invalid task data",variant:"destructive"})}};return s.jsx("section",{className:"mb-8 fade-in-up",children:s.jsxs("div",{className:"gigster-form-card",children:[s.jsxs("div",{className:"gigster-section-header rounded-t-xl mb-6 -mx-8 -mt-8 px-8 pt-6 pb-4",children:[s.jsxs("h2",{className:"text-xl font-semibold text-white flex items-center",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg bg-white/20 flex items-center justify-center mr-3",children:s.jsx(st,{size:16,className:"text-white"})}),$t.tasks.createButton]}),s.jsx("p",{className:"text-white/80 text-sm",children:$t.tasks.empty.sub})]}),s.jsxs("form",{onSubmit:V,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(W,{htmlFor:"description",className:"block text-sm font-medium text-neutral-700 mb-2",children:$t.tasks.formLabels.title}),s.jsx(te,{id:"description",type:"text",placeholder:$t.tasks.formLabels.title,value:l,onChange:Y=>c(Y.target.value),className:"w-full"})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"dueDate",className:"block text-sm font-medium text-neutral-700 mb-2",children:"Due Date"}),s.jsx(te,{id:"dueDate",type:"date",value:d,onChange:Y=>u(Y.target.value),className:"w-full"})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"dueTime",className:"block text-sm font-medium text-neutral-700 mb-2",children:"Due Time"}),s.jsx(te,{id:"dueTime",type:"time",value:h,onChange:Y=>f(Y.target.value),className:"w-full",placeholder:"Optional"})]})]}),s.jsxs("div",{children:[s.jsxs(W,{htmlFor:"notes",className:"block text-sm font-medium text-neutral-700 mb-2 flex items-center",children:[s.jsx(nt,{size:16,className:"mr-2"}),"Notes"]}),s.jsx(it,{id:"notes",placeholder:$t.tasks.formLabels.description,value:w,onChange:Y=>S(Y.target.value),className:"w-full h-24"})]}),s.jsxs("div",{children:[s.jsxs(W,{htmlFor:"projectId",className:"block text-sm font-medium text-neutral-700 mb-2 flex items-center",children:[s.jsx(nt,{size:16,className:"mr-2"}),"Project"]}),s.jsx(O_e,{value:j,onValueChange:N,placeholder:"Select or create a project..."})]}),s.jsxs("div",{children:[s.jsxs(W,{htmlFor:"assignedToId",className:"block text-sm font-medium text-neutral-700 mb-2 flex items-center",children:[s.jsx(Fa,{size:16,className:"mr-2"}),"Assign To"]}),s.jsx(D_e,{value:v,onValueChange:y,placeholder:$t.tasks.formLabels.assignTo})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(W,{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Priority"}),s.jsxs(Ke,{value:g,onValueChange:Y=>m(Y),children:[s.jsx(He,{className:"w-full",children:s.jsx(Ge,{placeholder:$t.tasks.formLabels.priority})}),s.jsxs(qe,{children:[s.jsx(Q,{value:"high",children:"High"}),s.jsx(Q,{value:"medium",children:"Medium"}),s.jsx(Q,{value:"low",children:"Low"})]})]})]}),s.jsxs("div",{children:[s.jsx(W,{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Status"}),s.jsxs(Ke,{value:p,onValueChange:Y=>x(Y),children:[s.jsx(He,{className:"w-full",children:s.jsx(Ge,{placeholder:"Select status..."})}),s.jsxs(qe,{children:[s.jsx(Q,{value:"pending",children:s.jsx("div",{className:"flex items-center",children:s.jsx(Od,{status:"pending",size:16})})}),s.jsx(Q,{value:"critical",children:s.jsx("div",{className:"flex items-center",children:s.jsx(Od,{status:"critical",size:16})})}),s.jsx(Q,{value:"high",children:s.jsx("div",{className:"flex items-center",children:s.jsx(Od,{status:"high",size:16})})}),s.jsx(Q,{value:"medium",children:s.jsx("div",{className:"flex items-center",children:s.jsx(Od,{status:"medium",size:16})})}),s.jsx(Q,{value:"low",children:s.jsx("div",{className:"flex items-center",children:s.jsx(Od,{status:"low",size:16})})}),s.jsx(Q,{value:"complete",children:s.jsx("div",{className:"flex items-center",children:s.jsx(Od,{status:"complete",size:16})})}),s.jsx(Q,{value:"overdue",children:s.jsx("div",{className:"flex items-center",children:s.jsx(Od,{status:"overdue",size:16})})})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs(W,{className:"block text-sm font-medium text-neutral-700 mb-2 flex items-center",children:[s.jsx(ad,{size:16,className:"mr-2"}),"File Attachments"]}),s.jsx(te,{type:"file",multiple:!0,onChange:M,className:"w-full mb-2"}),k.length>0&&s.jsx("div",{className:"space-y-1",children:k.map((Y,K)=>s.jsxs("div",{className:"flex items-center justify-between bg-neutral-50 p-2 rounded",children:[s.jsxs("span",{className:"text-sm text-neutral-700 flex items-center",children:[s.jsx(nt,{size:14,className:"mr-2"}),Y]}),s.jsx(D,{type:"button",variant:"ghost",size:"sm",onClick:()=>F(K),className:"h-6 w-6 p-0",children:s.jsx(Kt,{size:12})})]},K))})]}),s.jsxs("div",{children:[s.jsxs(W,{className:"block text-sm font-medium text-neutral-700 mb-2 flex items-center",children:[s.jsx(uy,{size:16,className:"mr-2"}),"Links"]}),s.jsxs("div",{className:"flex gap-2 mb-2",children:[s.jsx(te,{type:"url",placeholder:"https://example.com",value:C,onChange:Y=>A(Y.target.value),className:"flex-1",onKeyPress:Y=>Y.key==="Enter"&&(Y.preventDefault(),$())}),s.jsx(D,{type:"button",onClick:$,disabled:!C.trim(),variant:"outline",size:"sm",children:s.jsx(st,{size:14})})]}),T.length>0&&s.jsx("div",{className:"space-y-1",children:T.map((Y,K)=>s.jsxs("div",{className:"flex items-center justify-between bg-neutral-50 p-2 rounded",children:[s.jsxs("a",{href:Y,target:"_blank",rel:"noopener noreferrer",className:"text-sm hover:underline flex items-center truncate",style:{color:"var(--garage-navy)"},children:[s.jsx(uy,{size:14,className:"mr-2 flex-shrink-0"}),Y]}),s.jsx(D,{type:"button",variant:"ghost",size:"sm",onClick:()=>U(K),className:"h-6 w-6 p-0 flex-shrink-0",children:s.jsx(Kt,{size:12})})]},K))})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs(D,{type:"submit",disabled:I.isPending,className:"gigster-button-primary px-6 py-3",children:[s.jsx(st,{className:"mr-2",size:16}),I.isPending?"Adding...":$t.tasks.createButton]})})]})]})})}function kL({activeFilter:e,onFilterChange:t}){const{data:n=[]}=he({queryKey:["/api/tasks"]}),r=n.filter(i=>!i.completed).length,a=n.filter(i=>i.completed).length;return s.jsx("section",{className:"mb-6",children:s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(D,{variant:e==="all"?"default":"outline",onClick:()=>t("all"),className:`flex items-center gap-2 ${e==="all"?"bg-blue-600 text-white hover:bg-blue-700":"bg-blue-900 text-white hover:bg-blue-800 border-blue-900"}`,"data-testid":"filter-all-tasks",children:["All Tasks",s.jsx("span",{className:"bg-white/20 text-current px-2 py-1 rounded-full text-xs",children:n.length})]}),s.jsxs(D,{variant:e==="active"?"default":"outline",onClick:()=>t("active"),className:`flex items-center gap-2 ${e==="active"?"bg-blue-600 text-white hover:bg-blue-700":"bg-blue-900 text-white hover:bg-blue-800 border-blue-900"}`,"data-testid":"filter-active",children:["Active",s.jsx("span",{className:"bg-white/20 text-current px-2 py-1 rounded-full text-xs",children:r})]}),s.jsxs(D,{variant:e==="completed"?"default":"outline",onClick:()=>t("completed"),className:`flex items-center gap-2 ${e==="completed"?"bg-blue-600 text-white hover:bg-blue-700":"bg-blue-900 text-white hover:bg-blue-800 border-blue-900"}`,"data-testid":"filter-completed",children:["Completed",s.jsx("span",{className:"bg-white/20 text-current px-2 py-1 rounded-full text-xs",children:a})]})]}),s.jsxs("div",{className:"flex items-center space-x-3 text-sm",style:{color:"var(--steel-gray)"},children:[s.jsxs("span",{className:"font-medium",children:[r," active"]}),s.jsx("span",{style:{color:"var(--garage-navy)"},children:""}),s.jsxs("span",{className:"font-medium",children:[a," completed"]})]})]})})}function R_e({progressNotes:e=[],onAddProgress:t,isLoading:n=!1}){const[r,a]=b.useState(!1),[i,o]=b.useState(Me(new Date,"yyyy-MM-dd")),[l,c]=b.useState(""),d=h=>{h.preventDefault(),l.trim()&&(t({date:i,comment:l.trim()}),c(""),o(Me(new Date,"yyyy-MM-dd")),a(!1))},u=()=>{c(""),o(Me(new Date,"yyyy-MM-dd")),a(!1)};return s.jsxs(B,{className:"w-full",children:[s.jsx(ae,{children:s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(li,{className:"h-5 w-5"}),"Progress Notes"]})}),s.jsxs(q,{className:"space-y-4",children:[e.length>0?s.jsx("div",{className:"space-y-3",children:e.sort((h,f)=>new Date(f.createdAt).getTime()-new Date(h.createdAt).getTime()).map(h=>s.jsxs("div",{className:"flex items-start space-x-3 mb-4",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white text-xs font-bold",children:h.comment.charAt(0).toUpperCase()})}),s.jsxs("div",{className:"flex-1 bg-blue-50 rounded-2xl rounded-tl-sm p-4 border border-blue-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"font-medium text-sm text-blue-900",children:"Progress Update"}),s.jsx("span",{className:"text-xs text-blue-600",children:Me(new Date(h.createdAt),"MMM dd, h:mm a")})]}),s.jsx("p",{className:"text-gray-800 whitespace-pre-wrap text-sm leading-relaxed",children:h.comment}),s.jsxs("div",{className:"flex items-center mt-2 text-xs text-blue-600",children:[s.jsx(en,{className:"h-3 w-3 mr-1"}),Me(new Date(h.date),"MMMM dd, yyyy")]})]})]},h.id))}):s.jsx("p",{className:"text-gray-500 text-sm italic",children:"No progress notes yet."}),r?s.jsxs("form",{onSubmit:d,className:"space-y-3 p-3 bg-blue-50 rounded-lg border",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"progress-date",className:"text-sm font-medium",children:"Date"}),s.jsx(te,{id:"progress-date",type:"date",value:i,onChange:h=>o(h.target.value),className:"w-full",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"progress-comment",className:"text-sm font-medium",children:"Progress Comment"}),s.jsx(it,{id:"progress-comment",value:l,onChange:h=>c(h.target.value),placeholder:"Describe the progress made, challenges encountered, or next steps...",rows:4,required:!0})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(D,{type:"button",variant:"outline",onClick:u,children:"Cancel"}),s.jsx(D,{type:"submit",disabled:n,children:n?"Adding...":"Add Progress Note"})]})]}):s.jsxs(D,{onClick:()=>a(!0),className:"w-full",variant:"outline",children:[s.jsx(st,{className:"h-4 w-4 mr-2"}),"Add Progress Note"]})]})]})}const ut=VR,Ns=jJ,$_e=WR,lse=b.forwardRef(({className:e,...t},n)=>s.jsx(wj,{ref:n,className:Ne("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));lse.displayName=wj.displayName;const lt=b.forwardRef(({className:e,children:t,...n},r)=>s.jsxs($_e,{children:[s.jsx(lse,{}),s.jsxs(Nj,{ref:r,className:Ne("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,s.jsxs(hk,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(Kt,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));lt.displayName=Nj.displayName;const ct=({className:e,...t})=>s.jsx("div",{className:Ne("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});ct.displayName="DialogHeader";const Ra=({className:e,...t})=>s.jsx("div",{className:Ne("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Ra.displayName="DialogFooter";const dt=b.forwardRef(({className:e,...t},n)=>s.jsx(Sj,{ref:n,className:Ne("text-lg font-semibold leading-none tracking-tight",e),...t}));dt.displayName=Sj.displayName;const Gt=b.forwardRef(({className:e,...t},n)=>s.jsx(Cj,{ref:n,className:Ne("text-sm text-muted-foreground",e),...t}));Gt.displayName=Cj.displayName;function I_e(e,t){return b.useReducer((n,r)=>t[n][r]??n,e)}var j$="ScrollArea",[cse,e1t]=fs(j$),[F_e,oo]=cse(j$),dse=b.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=b.useState(null),[d,u]=b.useState(null),[h,f]=b.useState(null),[g,m]=b.useState(null),[p,x]=b.useState(null),[v,y]=b.useState(0),[j,N]=b.useState(0),[w,S]=b.useState(!1),[k,_]=b.useState(!1),T=wt(t,C=>c(C)),P=xv(a);return s.jsx(F_e,{scope:n,type:r,dir:P,scrollHideDelay:i,scrollArea:l,viewport:d,onViewportChange:u,content:h,onContentChange:f,scrollbarX:g,onScrollbarXChange:m,scrollbarXEnabled:w,onScrollbarXEnabledChange:S,scrollbarY:p,onScrollbarYChange:x,scrollbarYEnabled:k,onScrollbarYEnabledChange:_,onCornerWidthChange:y,onCornerHeightChange:N,children:s.jsx(Qe.div,{dir:P,...o,ref:T,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":j+"px",...e.style}})})});dse.displayName=j$;var use="ScrollAreaViewport",hse=b.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:a,...i}=e,o=oo(use,n),l=b.useRef(null),c=wt(t,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(Qe.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});hse.displayName=use;var mc="ScrollAreaScrollbar",w$=b.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=oo(mc,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return b.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?s.jsx(L_e,{...r,ref:t,forceMount:n}):a.type==="scroll"?s.jsx(z_e,{...r,ref:t,forceMount:n}):a.type==="auto"?s.jsx(fse,{...r,ref:t,forceMount:n}):a.type==="always"?s.jsx(N$,{...r,ref:t}):null});w$.displayName=mc;var L_e=b.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=oo(mc,e.__scopeScrollArea),[i,o]=b.useState(!1);return b.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},u=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(ms,{present:n||i,children:s.jsx(fse,{"data-state":i?"visible":"hidden",...r,ref:t})})}),z_e=b.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=oo(mc,e.__scopeScrollArea),i=e.orientation==="horizontal",o=Tk(()=>c("SCROLL_END"),100),[l,c]=I_e("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return b.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,a.scrollHideDelay,c]),b.useEffect(()=>{const d=a.viewport,u=i?"scrollLeft":"scrollTop";if(d){let h=d[u];const f=()=>{const g=d[u];h!==g&&(c("SCROLL"),o()),h=g};return d.addEventListener("scroll",f),()=>d.removeEventListener("scroll",f)}},[a.viewport,i,c,o]),s.jsx(ms,{present:n||l!=="hidden",children:s.jsx(N$,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:Pe(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Pe(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),fse=b.forwardRef((e,t)=>{const n=oo(mc,e.__scopeScrollArea),{forceMount:r,...a}=e,[i,o]=b.useState(!1),l=e.orientation==="horizontal",c=Tk(()=>{if(n.viewport){const d=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?d:u)}},10);return bg(n.viewport,c),bg(n.content,c),s.jsx(ms,{present:r||i,children:s.jsx(N$,{"data-state":i?"visible":"hidden",...a,ref:t})})}),N$=b.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,a=oo(mc,e.__scopeScrollArea),i=b.useRef(null),o=b.useRef(0),[l,c]=b.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=xse(l.viewport,l.content),u={...r,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:f=>i.current=f,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:f=>o.current=f};function h(f,g){return q_e(f,o.current,l,g)}return n==="horizontal"?s.jsx(B_e,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const f=a.viewport.scrollLeft,g=_L(f,l,a.dir);i.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:f=>{a.viewport&&(a.viewport.scrollLeft=f)},onDragScroll:f=>{a.viewport&&(a.viewport.scrollLeft=h(f,a.dir))}}):n==="vertical"?s.jsx(U_e,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const f=a.viewport.scrollTop,g=_L(f,l);i.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:f=>{a.viewport&&(a.viewport.scrollTop=f)},onDragScroll:f=>{a.viewport&&(a.viewport.scrollTop=h(f))}}):null}),B_e=b.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...a}=e,i=oo(mc,e.__scopeScrollArea),[o,l]=b.useState(),c=b.useRef(null),d=wt(t,c,i.onScrollbarXChange);return b.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(pse,{"data-orientation":"horizontal",...a,ref:d,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Pk(n)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,h)=>{if(i.viewport){const f=i.viewport.scrollLeft+u.deltaX;e.onWheelScroll(f),bse(f,h)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:_S(o.paddingLeft),paddingEnd:_S(o.paddingRight)}})}})}),U_e=b.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...a}=e,i=oo(mc,e.__scopeScrollArea),[o,l]=b.useState(),c=b.useRef(null),d=wt(t,c,i.onScrollbarYChange);return b.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(pse,{"data-orientation":"vertical",...a,ref:d,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Pk(n)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,h)=>{if(i.viewport){const f=i.viewport.scrollTop+u.deltaY;e.onWheelScroll(f),bse(f,h)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:_S(o.paddingTop),paddingEnd:_S(o.paddingBottom)}})}})}),[V_e,mse]=cse(mc),pse=b.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:h,...f}=e,g=oo(mc,n),[m,p]=b.useState(null),x=wt(t,T=>p(T)),v=b.useRef(null),y=b.useRef(""),j=g.viewport,N=r.content-r.viewport,w=Qn(u),S=Qn(c),k=Tk(h,10);function _(T){if(v.current){const P=T.clientX-v.current.left,C=T.clientY-v.current.top;d({x:P,y:C})}}return b.useEffect(()=>{const T=P=>{const C=P.target;(m==null?void 0:m.contains(C))&&w(P,N)};return document.addEventListener("wheel",T,{passive:!1}),()=>document.removeEventListener("wheel",T,{passive:!1})},[j,m,N,w]),b.useEffect(S,[r,S]),bg(m,k),bg(g.content,k),s.jsx(V_e,{scope:n,scrollbar:m,hasThumb:a,onThumbChange:Qn(i),onThumbPointerUp:Qn(o),onThumbPositionChange:S,onThumbPointerDown:Qn(l),children:s.jsx(Qe.div,{...f,ref:x,style:{position:"absolute",...f.style},onPointerDown:Pe(e.onPointerDown,T=>{T.button===0&&(T.target.setPointerCapture(T.pointerId),v.current=m.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),_(T))}),onPointerMove:Pe(e.onPointerMove,_),onPointerUp:Pe(e.onPointerUp,T=>{const P=T.target;P.hasPointerCapture(T.pointerId)&&P.releasePointerCapture(T.pointerId),document.body.style.webkitUserSelect=y.current,g.viewport&&(g.viewport.style.scrollBehavior=""),v.current=null})})})}),kS="ScrollAreaThumb",gse=b.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=mse(kS,e.__scopeScrollArea);return s.jsx(ms,{present:n||a.hasThumb,children:s.jsx(W_e,{ref:t,...r})})}),W_e=b.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...a}=e,i=oo(kS,n),o=mse(kS,n),{onThumbPositionChange:l}=o,c=wt(t,h=>o.onThumbChange(h)),d=b.useRef(void 0),u=Tk(()=>{d.current&&(d.current(),d.current=void 0)},100);return b.useEffect(()=>{const h=i.viewport;if(h){const f=()=>{if(u(),!d.current){const g=K_e(h,l);d.current=g,l()}};return l(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[i.viewport,u,l]),s.jsx(Qe.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Pe(e.onPointerDownCapture,h=>{const g=h.target.getBoundingClientRect(),m=h.clientX-g.left,p=h.clientY-g.top;o.onThumbPointerDown({x:m,y:p})}),onPointerUp:Pe(e.onPointerUp,o.onThumbPointerUp)})});gse.displayName=kS;var S$="ScrollAreaCorner",vse=b.forwardRef((e,t)=>{const n=oo(S$,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?s.jsx(H_e,{...e,ref:t}):null});vse.displayName=S$;var H_e=b.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,a=oo(S$,n),[i,o]=b.useState(0),[l,c]=b.useState(0),d=!!(i&&l);return bg(a.scrollbarX,()=>{var h;const u=((h=a.scrollbarX)==null?void 0:h.offsetHeight)||0;a.onCornerHeightChange(u),c(u)}),bg(a.scrollbarY,()=>{var h;const u=((h=a.scrollbarY)==null?void 0:h.offsetWidth)||0;a.onCornerWidthChange(u),o(u)}),d?s.jsx(Qe.div,{...r,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function _S(e){return e?parseInt(e,10):0}function xse(e,t){const n=e/t;return isNaN(n)?0:n}function Pk(e){const t=xse(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function q_e(e,t,n,r="ltr"){const a=Pk(n),i=a/2,o=t||i,l=a-o,c=n.scrollbar.paddingStart+o,d=n.scrollbar.size-n.scrollbar.paddingEnd-l,u=n.content-n.viewport,h=r==="ltr"?[0,u]:[u*-1,0];return yse([c,d],h)(e)}function _L(e,t,n="ltr"){const r=Pk(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-r,c=n==="ltr"?[0,o]:[o*-1,0],d=l0(e,c);return yse([0,o],[0,l])(d)}function yse(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function bse(e,t){return e>0&&e<t}var K_e=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=n.left!==i.left,l=n.top!==i.top;(o||l)&&t(),n=i,r=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(r)};function Tk(e,t){const n=Qn(e),r=b.useRef(0);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),b.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function bg(e,t){const n=Qn(t);$r(()=>{let r=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return a.observe(e),()=>{window.cancelAnimationFrame(r),a.unobserve(e)}}},[e,n])}var jse=dse,G_e=hse,Y_e=vse;const Yi=b.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(jse,{ref:r,className:Ne("relative overflow-hidden",e),...n,children:[s.jsx(G_e,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(wse,{}),s.jsx(Y_e,{})]}));Yi.displayName=jse.displayName;const wse=b.forwardRef(({className:e,orientation:t="vertical",...n},r)=>s.jsx(w$,{ref:r,orientation:t,className:Ne("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:s.jsx(gse,{className:"relative flex-1 rounded-full bg-border"})}));wse.displayName=w$.displayName;var C$="Avatar",[X_e,t1t]=fs(C$),[Q_e,Nse]=X_e(C$),Sse=b.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[a,i]=b.useState("idle");return s.jsx(Q_e,{scope:n,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:s.jsx(Qe.span,{...r,ref:t})})});Sse.displayName=C$;var Cse="AvatarImage",kse=b.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:a=()=>{},...i}=e,o=Nse(Cse,n),l=Z_e(r,i),c=Qn(d=>{a(d),o.onImageLoadingStatusChange(d)});return $r(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(Qe.img,{...i,ref:t,src:r}):null});kse.displayName=Cse;var _se="AvatarFallback",Pse=b.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...a}=e,i=Nse(_se,n),[o,l]=b.useState(r===void 0);return b.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&i.imageLoadingStatus!=="loaded"?s.jsx(Qe.span,{...a,ref:t}):null});Pse.displayName=_se;function PL(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Z_e(e,{referrerPolicy:t,crossOrigin:n}){const r=ePe(),a=b.useRef(null),i=r?(a.current||(a.current=new window.Image),a.current):null,[o,l]=b.useState(()=>PL(i,e));return $r(()=>{l(PL(i,e))},[i,e]),$r(()=>{const c=h=>()=>{l(h)};if(!i)return;const d=c("loaded"),u=c("error");return i.addEventListener("load",d),i.addEventListener("error",u),t&&(i.referrerPolicy=t),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",d),i.removeEventListener("error",u)}},[i,n,t]),o}function J_e(){return()=>{}}function ePe(){return b.useSyncExternalStore(J_e,()=>!0,()=>!1)}var Tse=Sse,Ase=kse,Ese=Pse;const Fu=b.forwardRef(({className:e,...t},n)=>s.jsx(Tse,{ref:n,className:Ne("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Fu.displayName=Tse.displayName;const k$=b.forwardRef(({className:e,...t},n)=>s.jsx(Ase,{ref:n,className:Ne("aspect-square h-full w-full",e),...t}));k$.displayName=Ase.displayName;const Lu=b.forwardRef(({className:e,...t},n)=>s.jsx(Ese,{ref:n,className:Ne("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Lu.displayName=Ese.displayName;function Dse({comment:e,onReply:t,onEdit:n,onDelete:r,level:a=0}){var g,m,p,x;const{user:i}=er(),[o,l]=b.useState(!0),c=(i==null?void 0:i.id)===e.authorId||(i==null?void 0:i.role)==="admin",d=c,u=()=>{var v;return(v=e.author)!=null&&v.name?e.author.name.split(" ").map(y=>y[0]).join("").toUpperCase():"U"},h=a>0,f=e.replies&&e.replies.length>0;return s.jsx("div",{className:`${h?"ml-4 sm:ml-6":""}`,children:s.jsxs("div",{className:"flex gap-3 group",children:[s.jsxs(Fu,{className:"w-8 h-8 flex-shrink-0",children:[s.jsx(k$,{src:(g=e.author)==null?void 0:g.profileImageUrl}),s.jsx(Lu,{className:"text-xs bg-[#0B1D3A] text-white",children:u()})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 border",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"font-medium text-[#0B1D3A]",children:((m=e.author)==null?void 0:m.name)||"Unknown User"}),s.jsx("span",{className:"text-gray-500",children:Dh(new Date(e.createdAt),{addSuffix:!0})}),e.isEdited&&s.jsx(Z,{variant:"outline",className:"text-xs",children:"Edited"})]}),c&&s.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx(D,{variant:"ghost",size:"sm",onClick:()=>n(e),className:"h-6 px-2","data-testid":`button-edit-comment-${e.id}`,children:s.jsx(lg,{className:"w-3 h-3"})}),d&&s.jsx(D,{variant:"ghost",size:"sm",onClick:()=>r(e.id),className:"h-6 px-2 text-red-600 hover:text-red-700","data-testid":`button-delete-comment-${e.id}`,children:s.jsx(Jn,{className:"w-3 h-3"})})]})]}),s.jsx("div",{className:"text-sm text-gray-800 mb-2 whitespace-pre-wrap",children:e.content}),e.mentions.length>0&&s.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[s.jsx(WE,{className:"w-3 h-3 text-blue-600"}),s.jsx("div",{className:"flex gap-1 flex-wrap",children:e.mentions.map((v,y)=>s.jsxs(Z,{variant:"secondary",className:"text-xs",children:["@User",y+1]},v))})]}),e.attachments.length>0&&s.jsx("div",{className:"space-y-1",children:e.attachments.map(v=>s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-white rounded border text-xs",children:[s.jsx(Il,{className:"w-3 h-3 text-gray-500"}),s.jsx("span",{className:"flex-1 truncate",children:v.filename}),s.jsxs("span",{className:"text-gray-500",children:[Math.round(v.size/1024),"KB"]})]},v.id))})]}),s.jsxs("div",{className:"flex items-center gap-3 mt-2 ml-1",children:[s.jsxs(D,{variant:"ghost",size:"sm",onClick:()=>t(e.id),className:"h-6 px-2 text-gray-600 hover:text-gray-800","data-testid":`button-reply-comment-${e.id}`,children:[s.jsx(YE,{className:"w-3 h-3 mr-1"}),"Reply"]}),f&&s.jsxs(D,{variant:"ghost",size:"sm",onClick:()=>l(!o),className:"h-6 px-2 text-gray-600 hover:text-gray-800","data-testid":`button-toggle-replies-${e.id}`,children:[o?"Hide":"Show"," ",(p=e.replies)==null?void 0:p.length," replies"]})]}),f&&o&&s.jsx("div",{className:"mt-3 space-y-3",children:(x=e.replies)==null?void 0:x.map(v=>s.jsx(Dse,{comment:v,onReply:t,onEdit:n,onDelete:r,level:a+1},v.id))})]})]})})}function dT({entityType:e,entityId:t,onSubmit:n,onCancel:r,parentId:a=null,editingComment:i=null,placeholder:o="Write a comment..."}){const[l,c]=b.useState((i==null?void 0:i.content)||""),[d,u]=b.useState((i==null?void 0:i.mentions)||[]),[h,f]=b.useState(!1),g=b.useRef(null),{data:m=[]}=he({queryKey:["/api/users"]}),p=()=>{l.trim()&&(n(l.trim(),d),c(""),u([]))},x=()=>{c((i==null?void 0:i.content)||""),u((i==null?void 0:i.mentions)||[]),r==null||r()},v=j=>{d.includes(j)||u([...d,j]),f(!1)},y=j=>{u(d.filter(N=>N!==j))};return s.jsx(B,{className:"border-gray-200",children:s.jsx(q,{className:"pt-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsx(it,{ref:g,value:l,onChange:j=>c(j.target.value),placeholder:o,className:"min-h-[80px] resize-none","data-testid":"textarea-comment-content"}),d.length>0&&s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx(WE,{className:"w-4 h-4 text-blue-600"}),d.map(j=>{const N=m.find(w=>w.id===j);return s.jsxs(Z,{variant:"secondary",className:"cursor-pointer",onClick:()=>y(j),children:["@",(N==null?void 0:N.name)||"Unknown"," "]},j)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(ut,{open:h,onOpenChange:f,children:[s.jsx(Ns,{asChild:!0,children:s.jsxs(D,{variant:"outline",size:"sm","data-testid":"button-mention-user",children:[s.jsx(WE,{className:"w-4 h-4 mr-1"}),"Mention"]})}),s.jsxs(lt,{children:[s.jsx(ct,{children:s.jsx(dt,{children:"Mention Users"})}),s.jsx(Yi,{className:"max-h-60",children:s.jsx("div",{className:"space-y-2",children:m.map(j=>s.jsxs("div",{className:`flex items-center gap-3 p-2 rounded-lg cursor-pointer hover:bg-gray-50 ${d.includes(j.id)?"bg-blue-50 border border-blue-200":""}`,onClick:()=>v(j.id),"data-testid":`option-mention-user-${j.id}`,children:[s.jsx(Fu,{className:"w-8 h-8",children:s.jsx(Lu,{className:"text-xs bg-[#0B1D3A] text-white",children:j.name.split(" ").map(N=>N[0]).join("").toUpperCase()})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-sm",children:j.name}),s.jsx("div",{className:"text-xs text-gray-500",children:j.email})]})]},`comments-mention-${j.id}`))})})]})]}),s.jsxs(D,{variant:"outline",size:"sm",disabled:!0,className:"opacity-50",children:[s.jsx(Il,{className:"w-4 h-4 mr-1"}),"Attach"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[r&&s.jsx(D,{variant:"ghost",size:"sm",onClick:x,"data-testid":"button-cancel-comment",children:"Cancel"}),s.jsxs(D,{onClick:p,disabled:!l.trim(),size:"sm","data-testid":"button-submit-comment",children:[s.jsx(Hr,{className:"w-4 h-4 mr-1"}),i?"Update":a?"Reply":"Comment"]})]})]})]})})})}function tPe({entityType:e,entityId:t,className:n=""}){const{toast:r}=mt(),[a,i]=b.useState(null),[o,l]=b.useState(null),{data:c=[],isLoading:d}=he({queryKey:["/api/comments",e,t]}),u=Se({mutationFn:j=>ke("POST","/api/comments",{entityType:e,entityId:t,content:j.content,parentId:j.parentId,mentions:j.mentions}),onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/comments",e,t]}),r({title:"Comment added",description:"Your comment has been posted successfully."}),i(null)},onError:j=>{r({title:"Error",description:j.message||"Failed to post comment",variant:"destructive"})}}),h=Se({mutationFn:j=>ke("PUT",`/api/comments/${j.id}`,{content:j.content,mentions:j.mentions,isEdited:!0,editedAt:new Date().toISOString()}),onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/comments",e,t]}),r({title:"Comment updated",description:"Your comment has been updated successfully."}),l(null)},onError:j=>{r({title:"Error",description:j.message||"Failed to update comment",variant:"destructive"})}}),f=Se({mutationFn:j=>ke("DELETE",`/api/comments/${j}`),onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/comments",e,t]}),r({title:"Comment deleted",description:"The comment has been removed."})},onError:j=>{r({title:"Error",description:j.message||"Failed to delete comment",variant:"destructive"})}}),g=(j,N)=>{u.mutate({content:j,mentions:N,parentId:a||void 0})},m=(j,N)=>{o&&h.mutate({id:o.id,content:j,mentions:N})},p=j=>{window.confirm("Are you sure you want to delete this comment?")&&f.mutate(j)},v=(j=>{const N=new Map,w=[];return j.forEach(S=>{N.set(S.id,{...S,replies:[]})}),j.forEach(S=>{const k=N.get(S.id);if(S.parentId){const _=N.get(S.parentId);_&&(_.replies=_.replies||[],_.replies.push(k))}else w.push(k)}),w.sort((S,k)=>new Date(k.createdAt).getTime()-new Date(S.createdAt).getTime())})(c),y=c.length;return d?s.jsxs("div",{className:`space-y-4 ${n}`,children:[s.jsx("div",{className:"h-6 bg-gray-200 rounded animate-pulse"}),s.jsx("div",{className:"h-20 bg-gray-200 rounded animate-pulse"}),s.jsx("div",{className:"h-16 bg-gray-200 rounded animate-pulse"})]}):s.jsxs("div",{className:`space-y-4 ${n}`,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-semibold text-[#0B1D3A] flex items-center gap-2",children:[s.jsx(Vd,{className:"w-5 h-5"}),"Comments (",y,")"]}),y>0&&s.jsxs(Z,{variant:"secondary",className:"ml-auto",children:[y," ",y===1?"comment":"comments"]})]}),s.jsx(_s,{}),o?s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Editing comment"}),s.jsx(dT,{entityType:e,entityId:t,onSubmit:m,onCancel:()=>l(null),editingComment:o,placeholder:"Edit your comment..."})]}):s.jsx(dT,{entityType:e,entityId:t,onSubmit:g}),a&&s.jsxs("div",{className:"ml-4 sm:ml-6 space-y-2",children:[s.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Replying to comment"}),s.jsx(dT,{entityType:e,entityId:t,onSubmit:g,onCancel:()=>i(null),parentId:a,placeholder:"Write a reply..."})]}),s.jsx("div",{className:"space-y-4",children:v.length>0?v.map(j=>s.jsx(Dse,{comment:j,onReply:i,onEdit:l,onDelete:p},j.id)):s.jsx(B,{children:s.jsxs(q,{className:"text-center py-8",children:[s.jsx(Vd,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No comments yet"}),s.jsxs("p",{className:"text-gray-500",children:["Be the first to leave a comment on this ",e,"."]})]})})})]})}const TL={task_created:s.jsx(st,{className:"w-4 h-4 text-green-600"}),task_updated:s.jsx(Or,{className:"w-4 h-4 text-blue-600"}),task_completed:s.jsx(Bt,{className:"w-4 h-4 text-green-600"}),task_assigned:s.jsx(Fa,{className:"w-4 h-4 text-purple-600"}),task_status_changed:s.jsx(dr,{className:"w-4 h-4 text-orange-600"}),task_deleted:s.jsx(zw,{className:"w-4 h-4 text-red-600"}),project_created:s.jsx(ls,{className:"w-4 h-4 text-green-600"}),project_updated:s.jsx(Or,{className:"w-4 h-4 text-blue-600"}),project_status_changed:s.jsx(dr,{className:"w-4 h-4 text-orange-600"}),project_milestone_reached:s.jsx(Bt,{className:"w-4 h-4 text-green-600"}),project_deleted:s.jsx(zw,{className:"w-4 h-4 text-red-600"}),client_created:s.jsx(gn,{className:"w-4 h-4 text-green-600"}),client_updated:s.jsx(Or,{className:"w-4 h-4 text-blue-600"}),client_status_changed:s.jsx(dr,{className:"w-4 h-4 text-orange-600"}),client_deleted:s.jsx(zw,{className:"w-4 h-4 text-red-600"}),comment_added:s.jsx(li,{className:"w-4 h-4 text-blue-600"}),comment_updated:s.jsx(Or,{className:"w-4 h-4 text-orange-600"}),comment_deleted:s.jsx(zw,{className:"w-4 h-4 text-red-600"}),user_created:s.jsx(Fa,{className:"w-4 h-4 text-green-600"}),user_updated:s.jsx(Or,{className:"w-4 h-4 text-blue-600"}),user_login:s.jsx(Fa,{className:"w-4 h-4 text-blue-600"}),user_logout:s.jsx(Fa,{className:"w-4 h-4 text-gray-600"}),workflow_executed:s.jsx(dr,{className:"w-4 h-4 text-purple-600"}),email_sent:s.jsx(Cs,{className:"w-4 h-4 text-blue-600"}),notification_sent:s.jsx(Yf,{className:"w-4 h-4 text-yellow-600"}),default:s.jsx(us,{className:"w-4 h-4 text-gray-600"})},AL={task_created:"border-l-green-500",task_updated:"border-l-blue-500",task_completed:"border-l-green-500",task_assigned:"border-l-purple-500",task_status_changed:"border-l-orange-500",task_deleted:"border-l-red-500",project_created:"border-l-green-500",project_updated:"border-l-blue-500",project_status_changed:"border-l-orange-500",project_milestone_reached:"border-l-green-500",project_deleted:"border-l-red-500",client_created:"border-l-green-500",client_updated:"border-l-blue-500",client_status_changed:"border-l-orange-500",client_deleted:"border-l-red-500",comment_added:"border-l-blue-500",comment_updated:"border-l-orange-500",comment_deleted:"border-l-red-500",user_created:"border-l-green-500",user_updated:"border-l-blue-500",user_login:"border-l-blue-500",user_logout:"border-l-gray-500",workflow_executed:"border-l-purple-500",email_sent:"border-l-blue-500",notification_sent:"border-l-yellow-500",default:"border-l-gray-500"};function nPe({activity:e,isLast:t=!1}){var l,c;const n=()=>{var d;return(d=e.actor)!=null&&d.name?e.actor.name.split(" ").map(u=>u[0]).join("").toUpperCase():"U"},r=()=>TL[e.type]||TL.default,a=()=>AL[e.type]||AL.default,i=()=>Dh(new Date(e.createdAt),{addSuffix:!0}),o=()=>{switch(e.entityType){case"task":return"bg-blue-100 text-blue-800 border-blue-200";case"project":return"bg-green-100 text-green-800 border-green-200";case"client":return"bg-purple-100 text-purple-800 border-purple-200";case"user":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:`flex gap-3 pb-4 border-l-4 pl-4 ${a()}`,children:[s.jsx("div",{className:"flex-shrink-0 mt-1",children:s.jsx("div",{className:"w-8 h-8 rounded-full bg-white border-2 border-gray-200 flex items-center justify-center shadow-sm",children:r()})}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsxs(Fu,{className:"w-6 h-6",children:[s.jsx(k$,{src:(l=e.actor)==null?void 0:l.profileImageUrl}),s.jsx(Lu,{className:"text-xs bg-[#0B1D3A] text-white",children:n()})]}),s.jsx("span",{className:"font-medium text-sm text-[#0B1D3A]",children:((c=e.actor)==null?void 0:c.name)||"Unknown User"}),s.jsx(Z,{variant:"outline",className:`text-xs ${o()}`,children:e.entityType}),e.isPrivate&&s.jsx("div",{title:"Private activity",children:s.jsx(d0e,{className:"w-3 h-3 text-gray-500"})})]}),s.jsx("p",{className:"text-sm text-gray-700 mb-2 leading-relaxed",children:e.description}),e.data&&Object.keys(e.data).length>0&&s.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[e.data.previousValue&&e.data.newValue&&s.jsxs("div",{children:[s.jsx("span",{className:"line-through text-red-500",children:e.data.previousValue}),"  ",s.jsx("span",{className:"text-green-600",children:e.data.newValue})]}),e.data.assignedTo&&s.jsxs("div",{children:["Assigned to: ",e.data.assignedTo]}),e.data.priority&&s.jsxs("div",{children:["Priority: ",e.data.priority]})]})]}),s.jsxs("div",{className:"text-xs text-gray-500 mt-1 flex-shrink-0 ml-2",children:[s.jsx(bt,{className:"w-3 h-3 inline mr-1"}),i()]})]})})]}),!t&&s.jsx("div",{className:"absolute left-[1.875rem] top-12 bottom-0 w-px bg-gray-200"})]})}function rPe({entityType:e,entityId:t,limit:n=50,showFilters:r=!0,className:a=""}){const[i,o]=b.useState("all"),[l,c]=b.useState("all"),[d,u]=b.useState(""),h=new URLSearchParams;e&&t&&(h.append("entityType",e),h.append("entityId",t)),n&&h.append("limit",n.toString()),i&&i!=="all"&&h.append("type",i);const{data:f=[],isLoading:g}=he({queryKey:["/api/activities",h.toString()]}),m=f.filter(v=>{var y;if(l!=="all"){const j=new Date(v.createdAt),N=new Date;switch(l){case"today":if(j<Hn(N)||j>lte(N))return!1;break;case"week":if(j<zCe(N,1))return!1;break;case"month":if(j<LCe(N,1))return!1;break}}if(d){const j=d.toLowerCase();if(!v.description.toLowerCase().includes(j)&&!((y=v.actor)!=null&&y.name.toLowerCase().includes(j)))return!1}return!0}),p=m.reduce((v,y)=>{const j=Hn(new Date(y.createdAt)).toISOString();return v[j]||(v[j]=[]),v[j].push(y),v},{}),x=Object.keys(p).sort((v,y)=>new Date(y).getTime()-new Date(v).getTime());return g?s.jsxs("div",{className:`space-y-4 ${a}`,children:[s.jsx("div",{className:"h-6 bg-gray-200 rounded animate-pulse"}),s.jsx("div",{className:"space-y-3",children:[...Array(5)].map((v,y)=>s.jsx("div",{className:"h-16 bg-gray-200 rounded animate-pulse"},y))})]}):s.jsxs("div",{className:`space-y-4 ${a}`,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-semibold text-[#0B1D3A] flex items-center gap-2",children:[s.jsx(us,{className:"w-5 h-5"}),"Activity Feed"]}),f.length>0&&s.jsxs(Z,{variant:"secondary",children:[m.length," activities"]})]}),r&&s.jsx(B,{children:s.jsx(q,{className:"pt-4",children:s.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(e0,{className:"w-4 h-4 text-gray-500"}),s.jsx("span",{className:"text-sm font-medium",children:"Filters:"})]}),s.jsxs(Ke,{value:i,onValueChange:o,children:[s.jsx(He,{className:"w-32",children:s.jsx(Ge,{})}),s.jsxs(qe,{children:[s.jsx(Q,{value:"all",children:"All Types"}),s.jsx(Q,{value:"task_",children:"Tasks"}),s.jsx(Q,{value:"project_",children:"Projects"}),s.jsx(Q,{value:"client_",children:"Clients"}),s.jsx(Q,{value:"comment_",children:"Comments"}),s.jsx(Q,{value:"user_",children:"Users"}),s.jsx(Q,{value:"workflow_",children:"Workflows"})]})]}),s.jsxs(Ke,{value:l,onValueChange:c,children:[s.jsx(He,{className:"w-24",children:s.jsx(Ge,{})}),s.jsxs(qe,{children:[s.jsx(Q,{value:"all",children:"All Time"}),s.jsx(Q,{value:"today",children:"Today"}),s.jsx(Q,{value:"week",children:"This Week"}),s.jsx(Q,{value:"month",children:"This Month"})]})]}),s.jsx(te,{placeholder:"Search activities...",value:d,onChange:v=>u(v.target.value),className:"w-48","data-testid":"input-search-activities"}),(i!=="all"||l!=="all"||d)&&s.jsx(D,{variant:"ghost",size:"sm",onClick:()=>{o("all"),c("all"),u("")},"data-testid":"button-clear-filters",children:"Clear Filters"})]})})}),s.jsx(Yi,{className:"h-96 pr-4",children:x.length>0?s.jsx("div",{className:"space-y-6",children:x.map(v=>{const y=new Date(v),j=p[v];return s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(_s,{className:"flex-1"}),s.jsxs(Z,{variant:"outline",className:"text-xs px-2 py-1",children:[s.jsx(en,{className:"w-3 h-3 mr-1"}),y.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]}),s.jsx(_s,{className:"flex-1"})]}),s.jsx("div",{className:"space-y-1",children:j.map((N,w)=>s.jsx(nPe,{activity:N,isLast:w===j.length-1&&v===x[x.length-1]},N.id))})]},v)})}):s.jsx(B,{children:s.jsxs(q,{className:"text-center py-8",children:[s.jsx(us,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No activity found"}),s.jsx("p",{className:"text-gray-500",children:d||i!=="all"||l!=="all"?$t.emptyStates.search.nothingMatches:e&&t?$t.emptyStates.activity.noRecent:$t.emptyStates.activity.noSparks})]})})})]})}var _$="Tabs",[sPe,n1t]=fs(_$,[gk]),Ose=gk(),[aPe,P$]=sPe(_$),Mse=b.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=xv(l),[h,f]=bi({prop:r,onChange:a,defaultProp:i});return s.jsx(aPe,{scope:n,baseId:mi(),value:h,onValueChange:f,orientation:o,dir:u,activationMode:c,children:s.jsx(Qe.div,{dir:u,"data-orientation":o,...d,ref:t})})});Mse.displayName=_$;var Rse="TabsList",$se=b.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...a}=e,i=P$(Rse,n),o=Ose(n);return s.jsx(KJ,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:s.jsx(Qe.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});$se.displayName=Rse;var Ise="TabsTrigger",Fse=b.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:a=!1,...i}=e,o=P$(Ise,n),l=Ose(n),c=Bse(o.baseId,r),d=Use(o.baseId,r),u=r===o.value;return s.jsx(GJ,{asChild:!0,...l,focusable:!a,active:u,children:s.jsx(Qe.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:Pe(e.onMouseDown,h=>{!a&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:Pe(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:Pe(e.onFocus,()=>{const h=o.activationMode!=="manual";!u&&!a&&h&&o.onValueChange(r)})})})});Fse.displayName=Ise;var Lse="TabsContent",zse=b.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:a,children:i,...o}=e,l=P$(Lse,n),c=Bse(l.baseId,r),d=Use(l.baseId,r),u=r===l.value,h=b.useRef(u);return b.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),s.jsx(ms,{present:a||u,children:({present:f})=>s.jsx(Qe.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:f&&i})})});zse.displayName=Lse;function Bse(e,t){return`${e}-trigger-${t}`}function Use(e,t){return`${e}-content-${t}`}var iPe=Mse,Vse=$se,Wse=Fse,Hse=zse;const Kn=iPe,Mn=b.forwardRef(({className:e,...t},n)=>s.jsx(Vse,{ref:n,className:Ne("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Mn.displayName=Vse.displayName;const Re=b.forwardRef(({className:e,...t},n)=>s.jsx(Wse,{ref:n,className:Ne("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Re.displayName=Wse.displayName;const Fe=b.forwardRef(({className:e,...t},n)=>s.jsx(Hse,{ref:n,className:Ne("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Fe.displayName=Hse.displayName;function oPe({task:e,isOpen:t,onOpenChange:n}){const[r,a]=b.useState(new Date().toISOString().split("T")[0]),[i,o]=b.useState(""),{toast:l}=mt(),c=qr(),d=Se({mutationFn:async({taskId:p,date:x,comment:v})=>await ke("POST",`/api/tasks/${p}/progress`,{date:x,comment:v}),onSuccess:()=>{c.invalidateQueries({queryKey:["/api/tasks"]}),o(""),l({title:"Progress Updated",description:"Task progress note has been added successfully."})},onError:p=>{l({title:"Error",description:p.message||"Failed to add progress note",variant:"destructive"})}}),u=Se({mutationFn:async p=>await ke("PATCH",`/api/tasks/${p}`,{completed:!(e!=null&&e.completed)}),onSuccess:()=>{c.invalidateQueries({queryKey:["/api/tasks"]}),l({title:e!=null&&e.completed?"Task Reopened":"Task Completed",description:e!=null&&e.completed?"Task has been marked as active.":"Great job! Task has been completed."})},onError:p=>{l({title:"Error",description:p.message||"Failed to update task",variant:"destructive"})}});if(!e)return null;const h=p=>{p.preventDefault(),i.trim()&&d.mutate({taskId:e.id,date:r,comment:i.trim()})},f=p=>{switch(p){case"high":return"bg-red-100 text-red-800 border-red-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},m=(p=>p.completed?{icon:s.jsx(Bt,{className:"text-green-600",size:16}),label:"Completed",color:"bg-green-100 text-green-800 border-green-200"}:p.dueDate&&new Date(p.dueDate)<new Date?{icon:s.jsx(ur,{className:"text-red-600",size:16}),label:"Overdue",color:"bg-red-100 text-red-800 border-red-200"}:null)(e);return e.dueDate&&new Date(e.dueDate)<new Date&&e.completed,s.jsx(ut,{open:t,onOpenChange:n,children:s.jsxs(lt,{className:"max-w-4xl max-h-[90vh] overflow-hidden",children:[s.jsxs(ct,{children:[s.jsxs(dt,{className:"flex items-center gap-3",children:[s.jsx("span",{className:e.completed?"line-through text-gray-500":"",children:e.description}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Z,{className:f(e.priority),children:e.priority}),m&&s.jsx(Z,{className:m.color,children:s.jsxs("span",{className:"flex items-center gap-1",children:[m.icon,m.label]})})]})]}),s.jsx(Gt,{children:"Complete task details and progress tracking"})]}),s.jsxs(Yi,{className:"max-h-[70vh]",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(en,{size:16}),s.jsx("span",{children:e.dueDate?`Due: ${Me(new Date(e.dueDate),"PPPP 'at' h:mm a")}`:"No due date set"})]}),e.assignedTo&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-600",children:[s.jsx(Fa,{size:16}),s.jsxs("span",{children:["Assigned to: ",e.assignedTo.name]})]}),e.project&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[s.jsx(nt,{size:16}),s.jsxs("span",{children:["Project: ",e.project.name]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(bt,{size:16}),s.jsxs("span",{children:["Created ",Dh(new Date(e.createdAt),{addSuffix:!0})]})]}),s.jsx("div",{className:"flex gap-2",children:s.jsxs(D,{onClick:()=>u.mutate(e.id),disabled:u.isPending,variant:e.completed?"outline":"default",size:"sm",className:"flex items-center gap-2",children:[s.jsx(Bt,{size:16}),e.completed?"Reopen Task":"Mark Complete"]})})]})]}),s.jsx(_s,{}),e.notes&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h3",{className:"text-lg font-medium flex items-center gap-2",children:[s.jsx(nt,{size:20}),"Notes"]}),s.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:s.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:e.notes})})]}),e.attachments&&e.attachments.length>0&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h3",{className:"text-lg font-medium flex items-center gap-2",children:[s.jsx(Il,{size:20}),"Attachments (",e.attachments.length,")"]}),s.jsx("div",{className:"space-y-2",children:e.attachments.map((p,x)=>s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded",children:[s.jsx(nt,{size:16,className:"text-blue-600"}),s.jsx("span",{className:"text-sm",children:p})]},x))})]}),e.links&&e.links.length>0&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h3",{className:"text-lg font-medium flex items-center gap-2",children:[s.jsx(HE,{size:20}),"Links (",e.links.length,")"]}),s.jsx("div",{className:"space-y-2",children:e.links.map((p,x)=>s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded",children:[s.jsx(HE,{size:16,className:"text-blue-600"}),s.jsx("a",{href:p,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline truncate flex-1",children:p})]},x))})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-medium flex items-center gap-2",children:[s.jsx(li,{size:20}),"Progress Notes (",Array.isArray(e.progressNotes)?e.progressNotes.length:0,")"]}),e.progressNotes&&Array.isArray(e.progressNotes)&&e.progressNotes.length>0&&s.jsx("div",{className:"space-y-3",children:e.progressNotes.sort((p,x)=>new Date(x.createdAt).getTime()-new Date(p.createdAt).getTime()).map(p=>s.jsxs("div",{className:"bg-blue-50 border border-blue-200 p-3 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Progress Update"}),s.jsx("span",{className:"text-xs text-blue-600",children:Me(new Date(p.date),"MMM d, yyyy")})]}),s.jsx("p",{className:"text-sm text-blue-800 whitespace-pre-wrap",children:p.comment})]},p.id))}),s.jsxs("form",{onSubmit:h,className:"space-y-3 border-t pt-4",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Add Progress Update"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"progress-date",className:"text-sm font-medium",children:"Date"}),s.jsx(te,{id:"progress-date",type:"date",value:r,onChange:p=>a(p.target.value),required:!0})]}),s.jsxs("div",{className:"md:col-span-3",children:[s.jsx(W,{htmlFor:"progress-comment",className:"text-sm font-medium",children:"Progress Update"}),s.jsx(it,{id:"progress-comment",value:i,onChange:p=>o(p.target.value),placeholder:"Describe what progress was made on this task...",rows:3,required:!0})]})]}),s.jsxs(D,{type:"submit",disabled:d.isPending||!i.trim(),className:"flex items-center gap-2",children:[s.jsx(st,{size:16}),d.isPending?"Adding...":"Add Progress Update"]})]})]})]}),s.jsx(_s,{className:"my-6"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h2",{className:"text-xl font-semibold text-[var(--ignition-teal)] flex items-center gap-2",children:[s.jsx(li,{className:"w-5 h-5"}),"Team Collaboration"]}),s.jsxs(Kn,{defaultValue:"comments",className:"w-full",children:[s.jsxs(Mn,{className:"grid w-full grid-cols-2",children:[s.jsx(Re,{value:"comments",children:"Comments & Discussion"}),s.jsx(Re,{value:"activity",children:"Activity Feed"})]}),s.jsx(Fe,{value:"comments",className:"space-y-4",children:s.jsx(tPe,{entityType:"task",entityId:e.id,className:"border-0 p-0"})}),s.jsx(Fe,{value:"activity",className:"space-y-4",children:s.jsx(rPe,{entityType:"task",entityId:e.id,limit:20,showFilters:!1,className:"border-0 p-0"})})]})]})]})]})})}function qse({task:e}){const[t,n]=b.useState(!1),[r,a]=b.useState(!1),{toast:i}=mt(),o=Se({mutationFn:async({id:y,updates:j})=>(await ke("PATCH",`/api/tasks/${y}`,j)).json(),onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/tasks"]}),i({title:e.completed?"Task marked as incomplete":"Task completed!",description:e.completed?"Task is now active":"Great job staying productive."})},onError:y=>{i({title:"Error",description:y.message||"Failed to update task",variant:"destructive"})}}),l=Se({mutationFn:async y=>{await ke("DELETE",`/api/tasks/${y}`)},onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/tasks"]}),i({title:"Task deleted",description:"Task has been removed successfully."})},onError:y=>{i({title:"Error",description:y.message||"Failed to delete task",variant:"destructive"})}}),c=Se({mutationFn:async({id:y,progressData:j})=>(await ke("POST",`/api/tasks/${y}/progress`,j)).json(),onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/tasks"]}),i({title:"Progress Added",description:"Your progress note has been saved successfully."})},onError:y=>{i({title:"Error",description:y.message||"Failed to add progress note",variant:"destructive"})}}),d=()=>{o.mutate({id:e.id,updates:{completed:!e.completed}})},u=()=>{l.mutate(e.id)},h=y=>{c.mutate({id:e.id,progressData:y})},f=()=>{if(e.completed)return{label:"Completed",color:"status-completed",icon:s.jsx(Bt,{className:"text-green-600",size:16})};if(e.dueDate){const y=new Date(e.dueDate),j=Hn(new Date),N=hy(y,j),w=y.getTime()===j.getTime();if(N)return{label:"Overdue",color:"status-overdue",icon:s.jsx(ur,{className:"text-red-500",size:16})};if(w)return{label:"Due Today",color:"status-due-today",icon:s.jsx(bt,{className:"text-orange-500",size:16})}}return null},g=()=>{if(!e.dueDate)return null;const y=new Date(e.dueDate),j=Hn(new Date),N=hy(y,j),w=y.getTime()===j.getTime(),S=y.getTime()===j.getTime()+24*60*60*1e3;return e.completed?`Completed ${Dh(e.createdAt||new Date,{addSuffix:!0})}`:N?`Was due ${Dh(y,{addSuffix:!0})}`:w?"Due today":S?"Due tomorrow":`Due ${Dh(y,{addSuffix:!0})}`},m=f(),p=e.dueDate&&!e.completed&&hy(new Date(e.dueDate),Hn(new Date)),x=e.notes||e.attachments&&e.attachments.length>0||e.links&&e.links.length>0,v=y=>{if(["critical","high","medium","low","complete","pending","overdue"].includes(y))return y;switch(y){case"high":return"high";case"medium":return"medium";case"low":return"low";default:return"pending"}};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:`gg-task-card fade-in-up group ${e.completed?"opacity-75":""} ${p?"border-red-200":""}`,children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("button",{onClick:d,disabled:o.isPending,className:`mt-1 w-5 h-5 rounded border-2 flex items-center justify-center transition-colors duration-200 ${e.completed?"border-secondary bg-secondary text-white":p?"border-red-300 hover:border-red-500":"border-neutral-300 hover:border-primary"}`,children:e.completed&&s.jsx("span",{className:"text-xs",children:""})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:`text-base font-medium ${e.completed?"text-neutral-500 line-through":"text-neutral-800"}`,children:e.description}),s.jsxs("div",{className:"flex items-center space-x-2",children:[m?s.jsx(Z,{className:`px-2 py-1 text-xs font-medium rounded ${m.color}`,children:m.label}):s.jsx(Od,{status:v(e.status||e.priority||"medium"),size:16}),s.jsx(D,{variant:"ghost",size:"sm",onClick:()=>a(!0),className:"text-neutral-400 hover:text-neutral-600 p-1",title:"View Details",children:s.jsx(fn,{size:16})}),x&&s.jsx(D,{variant:"ghost",size:"sm",onClick:()=>n(!t),className:"text-neutral-400 hover:text-neutral-600 p-1",children:t?s.jsx(mj,{size:16}):s.jsx(Yo,{size:16})}),s.jsx(D,{variant:"ghost",size:"sm",onClick:u,disabled:l.isPending,className:"text-neutral-400 hover:text-neutral-600 p-1",children:s.jsx(SR,{size:16})})]})]}),s.jsxs("div",{className:`flex items-center space-x-4 text-sm ${p&&!e.completed?"text-red-600":e.completed?"text-neutral-500":"text-neutral-600"}`,children:[e.dueDate&&s.jsxs("div",{className:"flex items-center space-x-1",children:[(m==null?void 0:m.icon)||(p?s.jsx(ur,{size:16}):s.jsx(en,{className:"text-accent",size:16})),s.jsx("span",{children:g()})]}),e.projectId&&s.jsxs("div",{className:"flex items-center space-x-1 text-green-600",children:[s.jsx(nt,{size:16}),s.jsxs("span",{children:["Project: ",e.projectId]})]}),e.assignedToId&&s.jsxs("div",{className:"flex items-center space-x-1 text-blue-600",children:[s.jsx(Fa,{size:16}),s.jsxs("span",{children:["Assigned to: ",e.assignedToId]})]}),s.jsxs("div",{className:"flex items-center space-x-1 text-neutral-600",children:[s.jsx(bt,{className:"text-neutral-400",size:16}),s.jsxs("span",{children:["Created ",Dh(new Date(e.createdAt||new Date),{addSuffix:!0})]})]}),x&&s.jsxs("div",{className:"flex items-center space-x-1 text-neutral-500",children:[e.notes&&s.jsx(nt,{size:14}),e.attachments&&e.attachments.length>0&&s.jsx(Il,{size:14}),e.links&&e.links.length>0&&s.jsx(uy,{size:14})]})]}),x&&s.jsx(i0,{open:t,onOpenChange:n,children:s.jsxs(yk,{className:"mt-4 space-y-3",children:[e.notes&&s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-gray-500 rounded-full flex items-center justify-center",children:s.jsx(nt,{size:14,className:"text-white"})}),s.jsxs("div",{className:"flex-1 bg-gray-50 rounded-2xl rounded-tl-sm p-4 border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"font-medium text-sm text-gray-900",children:"Notes"}),s.jsx("span",{className:"text-xs text-gray-500",children:Me(new Date(e.createdAt||new Date),"MMM dd, h:mm a")})]}),s.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap leading-relaxed",children:e.notes})]})]}),e.attachments&&e.attachments.length>0&&s.jsxs("div",{className:"bg-neutral-50 p-3 rounded-lg",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(Il,{size:16,className:"text-neutral-600 mr-2"}),s.jsxs("span",{className:"text-sm font-medium text-neutral-700",children:["Attachments (",e.attachments.length,")"]})]}),s.jsx("div",{className:"space-y-1",children:e.attachments.map((y,j)=>s.jsxs("div",{className:"flex items-center text-sm text-neutral-600",children:[s.jsx(nt,{size:14,className:"mr-2"}),s.jsx("span",{children:y})]},j))})]}),e.links&&e.links.length>0&&s.jsxs("div",{className:"bg-neutral-50 p-3 rounded-lg",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(uy,{size:16,className:"text-neutral-600 mr-2"}),s.jsxs("span",{className:"text-sm font-medium text-neutral-700",children:["Links (",e.links.length,")"]})]}),s.jsx("div",{className:"space-y-1",children:e.links.map((y,j)=>s.jsxs("div",{className:"flex items-center",children:[s.jsx(uy,{size:14,className:"mr-2 text-blue-600"}),s.jsx("a",{href:y,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline truncate",children:y})]},j))})]}),s.jsx("div",{className:"mt-4",children:s.jsx(R_e,{progressNotes:Array.isArray(e.progressNotes)?e.progressNotes:[],onAddProgress:h,isLoading:c.isPending})})]})})]})]})}),s.jsx(oPe,{task:e,isOpen:r,onOpenChange:a})]})}function lPe({filter:e,assigneeFilter:t="all"}){const{data:n=[],isLoading:r}=he({queryKey:["/api/tasks"]}),a=n.filter(i=>!(e==="active"&&i.completed||e==="completed"&&!i.completed||t==="unassigned"&&i.assignedToId||t!=="all"&&t!=="unassigned"&&i.assignedToId!==t));return r?s.jsx("section",{className:"space-y-3",children:[1,2,3].map(i=>s.jsx("div",{className:"gg-task-card animate-pulse",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"w-5 h-5 bg-neutral-200 rounded"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"h-4 bg-neutral-200 rounded w-3/4 mb-2"}),s.jsx("div",{className:"h-3 bg-neutral-200 rounded w-1/2"})]})]})},i))}):a.length===0?s.jsxs("section",{className:"text-center py-12 fade-in-up",children:[s.jsx("div",{className:"gigster-logo-large mx-auto mb-6",children:s.jsx(p0e,{size:32})}),s.jsx("h3",{className:"text-lg font-medium text-neutral-800 mb-2 brand-heading",children:e==="all"?"No tasks yet":e==="active"?"No active tasks":"No completed tasks"}),s.jsx("p",{className:"text-neutral-600",children:e==="all"?$t.emptyStates.tasks.noTasks:e==="active"?"All tasks are completed!":$t.emptyStates.dashboard.completed})]}):s.jsx("section",{className:"space-y-3",children:a.map(i=>s.jsx(qse,{task:i},i.id))})}var T$="Checkbox",[cPe,r1t]=fs(T$),[dPe,uPe]=cPe(T$),Kse=b.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...h}=e,[f,g]=b.useState(null),m=wt(t,N=>g(N)),p=b.useRef(!1),x=f?u||!!f.closest("form"):!0,[v=!1,y]=bi({prop:a,defaultProp:i,onChange:d}),j=b.useRef(v);return b.useEffect(()=>{const N=f==null?void 0:f.form;if(N){const w=()=>y(j.current);return N.addEventListener("reset",w),()=>N.removeEventListener("reset",w)}},[f,y]),s.jsxs(dPe,{scope:n,state:v,disabled:l,children:[s.jsx(Qe.button,{type:"button",role:"checkbox","aria-checked":yu(v)?"mixed":v,"aria-required":o,"data-state":Xse(v),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:m,onKeyDown:Pe(e.onKeyDown,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:Pe(e.onClick,N=>{y(w=>yu(w)?!0:!w),x&&(p.current=N.isPropagationStopped(),p.current||N.stopPropagation())})}),x&&s.jsx(hPe,{control:f,bubbles:!p.current,name:r,value:c,checked:v,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"},defaultChecked:yu(i)?!1:i})]})});Kse.displayName=T$;var Gse="CheckboxIndicator",Yse=b.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...a}=e,i=uPe(Gse,n);return s.jsx(ms,{present:r||yu(i.state)||i.state===!0,children:s.jsx(Qe.span,{"data-state":Xse(i.state),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});Yse.displayName=Gse;var hPe=e=>{const{control:t,checked:n,bubbles:r=!0,defaultChecked:a,...i}=e,o=b.useRef(null),l=bk(n),c=tk(t);b.useEffect(()=>{const u=o.current,h=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==n&&g){const m=new Event("click",{bubbles:r});u.indeterminate=yu(n),g.call(u,yu(n)?!1:n),u.dispatchEvent(m)}},[l,n,r]);const d=b.useRef(yu(n)?!1:n);return s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??d.current,...i,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function yu(e){return e==="indeterminate"}function Xse(e){return yu(e)?"indeterminate":e?"checked":"unchecked"}var Qse=Kse,fPe=Yse;const es=b.forwardRef(({className:e,...t},n)=>s.jsx(Qse,{ref:n,className:Ne("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(fPe,{className:Ne("flex items-center justify-center text-current"),children:s.jsx(hv,{className:"h-4 w-4"})})}));es.displayName=Qse.displayName;function mPe({tasks:e,onTaskUpdate:t}){const[n,r]=b.useState("columns"),a={todo:e.filter(m=>!m.completed&&(!m.progressNotes||Array.isArray(m.progressNotes)&&m.progressNotes.length===0)),inProgress:e.filter(m=>!m.completed&&m.progressNotes&&Array.isArray(m.progressNotes)&&m.progressNotes.length>0),completed:e.filter(m=>m.completed)},i={high:3,medium:2,low:1},o=[...e].sort((m,p)=>{if(m.completed!==p.completed)return m.completed?1:-1;const x=(i[p.priority||"low"]||1)-(i[m.priority||"low"]||1);return x!==0?x:m.dueDate&&p.dueDate?new Date(m.dueDate).getTime()-new Date(p.dueDate).getTime():m.dueDate?-1:p.dueDate?1:0}),l=({task:m,compact:p=!1})=>{const x=m.dueDate&&new Date(m.dueDate)<new Date&&!m.completed,v=m.dueDate&&new Date(m.dueDate).getTime()-new Date().getTime()<24*60*60*1e3;return s.jsx(B,{className:`hover:shadow-md transition-all ${x?"border-l-4 border-l-red-500":v?"border-l-4 border-l-yellow-500":m.priority==="high"?"border-l-4 border-l-red-400":"border-l-4 border-l-blue-500"} ${p?"p-3":""}`,children:s.jsx(q,{className:p?"p-3":"p-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[s.jsx(es,{checked:!!m.completed,onCheckedChange:y=>t==null?void 0:t(m.id,{completed:!!y}),className:"mt-1"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:`font-medium ${m.completed?"line-through text-gray-500":""} ${p?"text-sm":"text-base"}`,children:m.description}),m.parentTaskId&&s.jsxs("div",{className:"flex items-center mt-1 text-xs text-purple-600",children:[s.jsx(L3,{className:"h-3 w-3 mr-1"}),"Subtask"]})]})]}),s.jsx(D,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:s.jsx(c0e,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs",children:[s.jsx(Z,{className:`${m.priority==="high"?"bg-red-100 text-red-800":m.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:m.priority}),m.project&&s.jsx(Z,{variant:"outline",className:"text-xs",children:m.project.name}),x&&s.jsxs(Z,{className:"bg-red-100 text-red-800",children:[s.jsx(hs,{className:"h-3 w-3 mr-1"}),"Overdue"]}),m.completed&&s.jsxs(Z,{className:"bg-green-100 text-green-800",children:[s.jsx(ji,{className:"h-3 w-3 mr-1"}),"Done"]})]}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[m.assignedTo&&s.jsxs("span",{className:"flex items-center",children:[s.jsx(gn,{className:"h-3 w-3 mr-1"}),m.assignedTo.name]}),m.dueDate&&s.jsxs("span",{className:"flex items-center",children:[s.jsx(bt,{className:"h-3 w-3 mr-1"}),Me(new Date(m.dueDate),"MMM d, h:mm a")]})]}),m.subtasks&&m.subtasks.length>0&&s.jsxs("span",{className:"flex items-center",children:[s.jsx(L3,{className:"h-3 w-3 mr-1"}),m.subtasks.filter(y=>y.completed).length,"/",m.subtasks.length]})]})]})})})},c=()=>s.jsxs("div",{className:"space-y-4",children:[e.some(m=>m.dueDate&&new Date(m.dueDate)<new Date&&!m.completed)&&s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-red-800 mb-3 flex items-center",children:[s.jsx(hs,{className:"h-5 w-5 mr-2"}),"Overdue (",e.filter(m=>m.dueDate&&new Date(m.dueDate)<new Date&&!m.completed).length,")"]}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:e.filter(m=>m.dueDate&&new Date(m.dueDate)<new Date&&!m.completed).map(m=>s.jsx(l,{task:m},`overdue-${m.id}`))})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-gray-800 mb-3 flex items-center",children:[s.jsx(en,{className:"h-5 w-5 mr-2"}),"All Tasks (",o.length,")"]}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:o.map(m=>s.jsx(l,{task:m},`sorted-${m.id}`))})]})]}),d=({title:m,tasks:p,className:x})=>s.jsxs("div",{className:`bg-gray-50 rounded-lg p-4 min-h-96 ${x}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:m}),s.jsx(Z,{variant:"secondary",children:p.length})]}),s.jsx("div",{className:"space-y-3",children:p.map(v=>s.jsx(l,{task:v,compact:!0},`kanban-${v.id}`))})]}),u=()=>s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 min-h-96",children:[s.jsx(d,{title:"To Do",tasks:a.todo}),s.jsx(d,{title:"In Progress",tasks:a.inProgress}),s.jsx(d,{title:"Completed",tasks:a.completed})]}),h=()=>{const m=e.filter(S=>S.dueDate).sort((S,k)=>new Date(S.dueDate).getTime()-new Date(k.dueDate).getTime()),p=new Date,x=m.length>0?new Date(Math.min(p.getTime(),new Date(m[0].dueDate).getTime())):p,v=m.length>0?new Date(Math.max(p.getTime(),new Date(m[m.length-1].dueDate).getTime())):new Date(p.getTime()+30*24*60*60*1e3),y=[],j=new Date(x);for(;j<=v;)y.push(new Date(j)),j.setDate(j.getDate()+7);const N=S=>{if(!S.dueDate)return null;const k=new Date(S.dueDate),_=v.getTime()-x.getTime(),P=(k.getTime()-x.getTime())/_*100;return Math.max(0,Math.min(100,P))},w=S=>{const k=v.getTime()-x.getTime(),_=24*60*60*1e3/k*100;return Math.max(1,_)};return s.jsx(B,{children:s.jsx(q,{className:"p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Project Timeline"}),s.jsxs("div",{className:"text-sm text-gray-500",children:[Me(x,"MMM d")," - ",Me(v,"MMM d, yyyy")]})]}),m.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(en,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Timeline Data"}),s.jsx("p",{className:"text-gray-600",children:"Add due dates to tasks to see them on the timeline."})]}):s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 overflow-x-auto",children:[s.jsxs("div",{className:"flex mb-4 min-w-[800px]",children:[s.jsx("div",{className:"w-64 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 relative",children:[s.jsx("div",{className:"flex border-b border-gray-300 pb-2",children:y.map((S,k)=>s.jsx("div",{className:"flex-1 text-center text-sm font-medium text-gray-600",children:Me(S,"MMM d")},k))}),s.jsx("div",{className:"absolute top-0 bottom-0 w-0.5 bg-red-500 z-10",style:{left:`${(p.getTime()-x.getTime())/(v.getTime()-x.getTime())*100}%`},children:s.jsx("div",{className:"absolute -top-2 -left-8 text-xs text-red-600 font-medium",children:"Today"})})]})]}),s.jsx("div",{className:"space-y-3 min-w-[800px]",children:m.map(S=>{const k=N(S),_=w(),T=S.dueDate&&new Date(S.dueDate)<p&&!S.completed;return k===null?null:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-64 flex-shrink-0 pr-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${S.completed?"bg-green-500":T?"bg-red-500":S.priority==="high"?"bg-orange-500":S.priority==="medium"?"bg-yellow-500":"bg-blue-500"}`}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:S.description}),s.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:[s.jsx(Z,{className:`text-xs ${S.priority==="high"?"bg-red-100 text-red-800":S.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:S.priority}),S.project&&s.jsx(Z,{variant:"outline",className:"text-xs",children:S.project.name})]})]})]})}),s.jsx("div",{className:"flex-1 relative h-6",children:s.jsx("div",{className:`absolute h-4 rounded ${S.completed?"bg-green-500":T?"bg-red-500":S.priority==="high"?"bg-orange-500":S.priority==="medium"?"bg-yellow-500":"bg-blue-500"} hover:shadow-md transition-all cursor-pointer`,style:{left:`${k}%`,width:`${_}%`,minWidth:"20px"},title:`${S.description} - Due: ${Me(new Date(S.dueDate),"MMM d, h:mm a")}`,children:S.completed&&s.jsx(ji,{className:"h-3 w-3 text-white absolute top-0.5 left-1"})})})]},S.id)})})]})]})})})},[f,g]=b.useState(!1);return b.useEffect(()=>{if(typeof window<"u"){const m=()=>g(window.innerWidth>=1024);return m(),window.addEventListener("resize",m),()=>window.removeEventListener("resize",m)}},[]),f?s.jsxs(Kn,{value:n,onValueChange:m=>r(m),className:"w-full",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs(Mn,{className:"grid w-full max-w-md grid-cols-3",children:[s.jsx(Re,{value:"columns",children:"Column View"}),s.jsx(Re,{value:"kanban",children:"Kanban Board"}),s.jsx(Re,{value:"gantt",children:"Timeline"})]}),s.jsxs("div",{className:"text-sm text-gray-600",children:[e.length," tasks  ",e.filter(m=>m.completed).length," completed"]})]}),s.jsx(Fe,{value:"columns",children:s.jsx(c,{})}),s.jsx(Fe,{value:"kanban",children:s.jsx(u,{})}),s.jsx(Fe,{value:"gantt",children:s.jsx(h,{})})]}):s.jsx("div",{className:"space-y-4",children:o.map(m=>s.jsx(l,{task:m},`mobile-${m.id}`))})}function pPe(){const[e,t]=b.useState([]),[n,r]=b.useState(!1),{toast:a}=mt(),{data:i=[]}=he({queryKey:["/api/tasks"],refetchInterval:6e4});b.useEffect(()=>{"Notification"in window&&(Notification.permission==="granted"?r(!0):Notification.permission!=="denied"&&Notification.requestPermission().then(d=>{r(d==="granted")}))},[]),b.useEffect(()=>{if(!i.length)return;const d=new Date,u=Hn(d),h=Jr(u,1),f=[];i.forEach(x=>{if(x.completed||!x.dueDate)return;const v=new Date(x.dueDate),y=Hn(v),N=(v.getTime()-d.getTime())/(1e3*60*60);if(v.getTime()<d.getTime())f.push({id:`overdue-${x.id}`,task:x,type:"overdue",message:`"${x.description}" is overdue!`});else if(N<=1&&N>0){const w=Math.ceil((v.getTime()-d.getTime())/6e4);f.push({id:`1hour-${x.id}`,task:x,type:"due_1hour",message:`"${x.description}" is due in ${w} minute${w!==1?"s":""}!`})}else if(N<=24&&N>1){const w=Math.ceil(N);f.push({id:`24hour-${x.id}`,task:x,type:"due_24hour",message:`"${x.description}" is due in ${w} hour${w!==1?"s":""}`})}else y.getTime()===u.getTime()?f.push({id:`today-${x.id}`,task:x,type:"due_today",message:`"${x.description}" is due today`}):y.getTime()===h.getTime()&&f.push({id:`tomorrow-${x.id}`,task:x,type:"due_tomorrow",message:`"${x.description}" is due tomorrow`})});const g=e.map(x=>x.id).sort(),m=f.map(x=>x.id).sort();JSON.stringify(g)!==JSON.stringify(m)&&(f.forEach(x=>{!e.find(y=>y.id===x.id)&&n&&(new Notification("TaskFlow Reminder",{body:x.message,icon:"/favicon.ico",tag:x.id}),a({title:"Task Reminder",description:x.message,variant:x.type==="overdue"?"destructive":"default"}))}),t(f))},[i,n,a]);const o=d=>{t(u=>u.filter(h=>h.id!==d))},l=d=>{switch(d){case"overdue":return"bg-red-50 border-red-200 text-red-800";case"due_1hour":return"bg-red-50 border-red-300 text-red-900";case"due_24hour":return"bg-yellow-50 border-yellow-200 text-yellow-800";case"due_today":return"bg-orange-50 border-orange-200 text-orange-800";case"due_tomorrow":return"bg-blue-50 border-blue-200 text-blue-800";default:return"bg-neutral-50 border-neutral-200 text-neutral-800"}},c=d=>{switch(d){case"overdue":return"";case"due_1hour":return"";case"due_24hour":return"";case"due_today":return"";case"due_tomorrow":return"";default:return""}};return e.length===0?null:s.jsx("div",{className:"fixed top-20 right-4 z-50 space-y-2 max-w-sm",children:e.map(d=>s.jsx("div",{className:`p-4 rounded-lg border shadow-lg ${l(d.type)} animate-in slide-in-from-right-5`,children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("span",{className:"text-lg",children:c(d.type)}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:d.message}),s.jsxs("p",{className:"text-xs mt-1 opacity-75",children:["Due: ",Me(new Date(d.task.dueDate),"MMM d, yyyy h:mm a")]}),s.jsxs(Z,{className:"mt-2 text-xs",variant:d.task.priority==="high"?"destructive":"secondary",children:[d.task.priority," priority"]})]})]}),s.jsx(D,{variant:"ghost",size:"sm",onClick:()=>o(d.id),className:"h-6 w-6 p-0 hover:bg-white/50",children:s.jsx(Kt,{size:12})})]})},d.id))})}function EL({selectedAssignee:e,onAssigneeChange:t}){const{data:n=[]}=he({queryKey:["/api/tasks"]}),{data:r=[]}=he({queryKey:["/api/users"]}),a=new Set(n.filter(o=>o.assignedToId).map(o=>o.assignedToId)),i=r.filter(o=>a.has(o.id)).sort((o,l)=>o.name.localeCompare(l.name));return i.length===0?null:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(W,{className:"flex items-center text-sm font-medium text-neutral-700",children:[s.jsx(Fa,{size:16,className:"mr-1"}),"Filter by:"]}),s.jsxs(Ke,{value:e,onValueChange:t,children:[s.jsx(He,{className:"w-48",children:s.jsx(Ge,{placeholder:"All assignees"})}),s.jsxs(qe,{children:[s.jsx(Q,{value:"all",children:"All assignees"}),s.jsx(Q,{value:"unassigned",children:"Unassigned"}),i.map(o=>s.jsx(Q,{value:o.id,children:o.name},o.id))]})]})]})}function gPe({context:e="general",compact:t=!1,dismissible:n=!0}){const{isDemoMode:r,timeRemainingFormatted:a}=vv(),[i,o]=b.useState(!1);if(!r||i)return null;const c={"task-creation":{title:"Unlock Unlimited Task Management",description:"Create unlimited tasks, set advanced workflows, and track progress across multiple projects.",icon:Sn,benefits:["Unlimited tasks & projects","Advanced workflow automation","Time tracking & reporting"]},"client-management":{title:"Professional Client Management",description:"Manage unlimited clients with full CRM features, custom fields, and communication history.",icon:gn,benefits:["Unlimited client profiles","Custom fields & tags","Communication tracking"]},"document-creation":{title:"Professional Document Suite",description:"Create unlimited proposals, invoices, and contracts with advanced templates and branding.",icon:nt,benefits:["Unlimited documents","Custom templates","Digital signatures"]},general:{title:"Unlock the Full Platform",description:"Experience everything Gigster Garage has to offer with unlimited access and premium features.",icon:cn,benefits:["Unlimited everything","Premium support","Advanced integrations"]}}[e],d=c.icon,u=()=>{console.log("Upgrade flow triggered from:",e)};return t?s.jsx(B,{className:"border-l-4 border-l-purple-500 bg-gradient-to-r from-purple-50 to-blue-50",children:s.jsx(q,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"bg-purple-100 p-2 rounded-lg",children:s.jsx(d,{className:"h-4 w-4 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-sm",children:c.title}),s.jsxs("p",{className:"text-xs text-gray-600",children:["Demo ends in ",a]})]})]}),s.jsxs(D,{onClick:u,size:"sm",className:"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white","data-testid":`button-upgrade-compact-${e}`,children:["Upgrade ",s.jsx(Qs,{className:"h-3 w-3 ml-1"})]})]})})}):s.jsxs(B,{className:"border-2 border-purple-200 bg-gradient-to-br from-purple-50 via-blue-50 to-teal-50 relative overflow-hidden",children:[n&&s.jsx(D,{variant:"ghost",size:"sm",onClick:()=>o(!0),className:"absolute top-2 right-2 h-6 w-6 p-0 text-gray-400 hover:text-gray-600","data-testid":"button-dismiss-upgrade-prompt",children:s.jsx(Kt,{className:"h-4 w-4"})}),s.jsxs(ae,{className:"pb-3",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 p-3 rounded-lg text-white",children:s.jsx(d,{className:"h-6 w-6"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs(Z,{variant:"outline",className:"bg-white/80 text-purple-700 border-purple-300 mb-2",children:[s.jsx(bt,{className:"h-3 w-3 mr-1"}),"Demo: ",a," left"]}),s.jsx(ie,{className:"text-lg",children:c.title})]})]}),s.jsx("p",{className:"text-sm text-gray-600",children:c.description})]}),s.jsxs(q,{className:"pt-0",children:[s.jsxs("div",{className:"space-y-3 mb-4",children:[c.benefits.map((h,f)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"bg-green-100 p-1 rounded-full",children:s.jsx(hv,{className:"h-3 w-3 text-green-600"})}),s.jsx("span",{className:"text-sm text-gray-700",children:h})]},f)),s.jsxs("div",{className:"flex items-center gap-2 text-purple-600 font-medium",children:[s.jsx(fi,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:"30-day money-back guarantee"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(D,{onClick:u,className:"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white flex-1","data-testid":`button-upgrade-full-${e}`,children:[s.jsx(cn,{className:"h-4 w-4 mr-2"}),"Upgrade Now",s.jsx(Qs,{className:"h-4 w-4 ml-2"})]}),s.jsxs(D,{variant:"outline",className:"border-purple-300 text-purple-700 hover:bg-purple-50","data-testid":`button-learn-more-${e}`,children:[s.jsx(Cs,{className:"h-4 w-4 mr-2"}),"Learn More"]})]})]})]})}function vPe(){const{isAdmin:e}=er(),[t,n]=b.useState("all"),[r,a]=b.useState("all"),[i,o]=b.useState(!1),{data:l=[]}=he({queryKey:["/api/projects"]}),{data:c=[]}=he({queryKey:["/api/tasks"]}),d=new Date,u=c.filter(m=>m.completed||!m.dueDate?!1:new Date(m.dueDate).getTime()-d.getTime()<=24*60*60*1e3),h=c.filter(m=>m.completed||!m.dueDate?!1:new Date(m.dueDate)<d);c.filter(m=>!m.completed&&m.status==="critical"),c.filter(m=>!m.completed&&m.status==="high");const f=c.filter(m=>!m.completed&&m.priority==="high"),g=c.filter(m=>{if(!m.completed||!m.createdAt)return!1;const p=new Date(m.createdAt),x=new Date;return p.toDateString()===x.toDateString()});return s.jsxs("div",{className:"min-h-screen",style:{background:"var(--bg)"},children:[s.jsx(pt,{}),s.jsx(pPe,{}),s.jsxs("main",{className:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-6 xl:px-8 py-6 sm:py-8 lg:py-12",children:[s.jsxs("div",{className:"mb-8 lg:mb-12",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-3",children:[s.jsx("h1",{className:"gg-h1 text-2xl sm:text-3xl font-bold",style:{color:"var(--text)"},children:"My Dashboard"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-2",children:[e&&s.jsx(ze,{href:"/dashboard",children:s.jsxs(D,{variant:"outline",size:"sm",className:"w-full sm:w-auto bg-[var(--brand)] text-white border-[var(--brand)] hover:opacity-90","data-testid":"button-analytics-dashboard",children:[s.jsx(ra,{className:"h-4 w-4 mr-1"}),s.jsx("span",{className:"hidden sm:inline",children:"Analytics Dashboard"}),s.jsx("span",{className:"sm:hidden",children:"Analytics"})]})}),s.jsx(ze,{href:"/user-manual",children:s.jsxs(D,{variant:"outline",size:"sm",className:"w-full sm:w-auto bg-[var(--success)] text-white border-[var(--success)] hover:opacity-90","data-testid":"button-user-manual",children:[s.jsx(YQ,{className:"h-4 w-4 mr-1"}),s.jsx("span",{className:"hidden sm:inline",children:"User Manual"}),s.jsx("span",{className:"sm:hidden",children:"Manual"})]})}),s.jsxs(D,{variant:"outline",size:"sm",className:"w-full sm:w-auto text-white border-2",style:{background:"var(--gg-teal)",borderColor:"var(--gg-teal)",color:"var(--gg-white)"},onMouseEnter:m=>{m.currentTarget.style.background="var(--grad)"},onMouseLeave:m=>{m.currentTarget.style.background="var(--gg-teal)"},onClick:()=>o(!0),"data-testid":"button-new-task-header",children:[s.jsx(st,{className:"h-4 w-4 mr-1"}),$t.tasks.createButton]})]})]}),s.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Welcome back! Here's what's happening with your tasks and projects."})]}),s.jsx("div",{className:"mb-6 sm:mb-8",children:s.jsx(gPe,{context:"general",compact:!0})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4 lg:gap-6 mb-8 lg:mb-12",children:[s.jsxs(la,{children:[s.jsx(ca,{asChild:!0,children:s.jsx(ze,{href:"/tasks?filter=overdue",children:s.jsx(B,{className:"border-l-4 border-l-red-500 card-elevated card-interactive",children:s.jsx(q,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-red-600",children:"Overdue"}),s.jsx("p",{className:"text-2xl font-bold text-red-700",children:h.length})]}),s.jsx(ur,{className:"h-6 w-6 text-red-500"})]})})})})}),s.jsx(Vs,{children:s.jsx("p",{children:"Tasks that are past their due date. Click to view and prioritize overdue tasks."})})]}),s.jsxs(la,{children:[s.jsx(ca,{asChild:!0,children:s.jsx(ze,{href:"/tasks?filter=due-soon",children:s.jsx(B,{className:"border-l-4 border-l-yellow-500 card-elevated card-interactive",children:s.jsx(q,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-yellow-600",children:"Due Soon"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-700",children:u.length})]}),s.jsx(bt,{className:"h-6 w-6 text-yellow-500"})]})})})})}),s.jsx(Vs,{children:s.jsx("p",{children:"Tasks due within the next 24 hours. Click to review upcoming deadlines."})})]}),s.jsxs(la,{children:[s.jsx(ca,{asChild:!0,children:s.jsx(ze,{href:"/tasks?filter=high-priority",children:s.jsx(B,{className:"border-l-4 border-l-orange-500 hover:shadow-lg transition-shadow cursor-pointer",children:s.jsx(q,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-orange-600",children:"High Priority"}),s.jsx("p",{className:"text-2xl font-bold text-orange-700",children:f.length})]}),s.jsx(ur,{className:"h-6 w-6 text-orange-500"})]})})})})}),s.jsx(Vs,{children:s.jsx("p",{children:"Tasks marked as high priority that need immediate attention. Click to view all high priority items."})})]}),s.jsxs(la,{children:[s.jsx(ca,{asChild:!0,children:s.jsx(ze,{href:"/tasks?filter=completed-today",children:s.jsx(B,{className:"border-l-4 border-l-green-500 hover:shadow-lg transition-shadow cursor-pointer",children:s.jsx(q,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-green-600",children:"Completed Today"}),s.jsx("p",{className:"text-2xl font-bold text-green-700",children:g.length})]}),s.jsx(ji,{className:"h-6 w-6 text-green-500"})]})})})})}),s.jsx(Vs,{children:s.jsx("p",{children:"Tasks you've completed today. Great job! Click to review your daily accomplishments."})})]}),s.jsxs(la,{children:[s.jsx(ca,{asChild:!0,children:s.jsx(ze,{href:"/productivity",children:s.jsx(B,{className:"border-l-4 border-l-amber-500 hover:shadow-lg transition-all duration-200 cursor-pointer bg-gradient-to-br from-amber-50 to-orange-50",children:s.jsx(q,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-amber-600",children:"Time Tracking"}),s.jsx("p",{className:"text-lg font-bold text-amber-800",children:"Tools"})]}),s.jsx(Sn,{className:"h-6 w-6 text-amber-500"})]})})})})}),s.jsx(Vs,{children:s.jsx("p",{children:"Access time tracking tools and productivity insights to monitor your work patterns and efficiency."})})]})]}),s.jsx("div",{className:"mb-6 sm:mb-8",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[s.jsxs(la,{children:[s.jsx(ca,{asChild:!0,children:s.jsx(ze,{href:"/clients",children:s.jsx(B,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:s.jsx(q,{className:"p-4 sm:p-6",children:s.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[s.jsx("div",{className:"bg-purple-100 p-2 sm:p-3 rounded-lg",children:s.jsx(gn,{className:"h-5 w-5 sm:h-6 sm:w-6 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm sm:text-base font-semibold text-gray-900",children:"Client Management"}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Manage client relationships & history"})]})]})})})})}),s.jsx(Vs,{children:s.jsx("p",{children:"Manage client profiles, contact information, and relationship history for better client service."})})]}),s.jsxs(la,{children:[s.jsx(ca,{asChild:!0,children:s.jsx(ze,{href:"/messages",children:s.jsx(B,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:s.jsx(q,{className:"p-4 sm:p-6",children:s.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[s.jsx("div",{className:"bg-blue-100 p-2 sm:p-3 rounded-lg",children:s.jsx(Cs,{className:"h-5 w-5 sm:h-6 sm:w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm sm:text-base font-semibold text-gray-900",children:"Messages"}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Client communication"})]})]})})})})}),s.jsx(Vs,{children:s.jsx("p",{children:"Send and receive professional emails with clients. Integrated communication system for streamlined correspondence."})})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 mb-6 sm:mb-8",children:[s.jsxs(la,{children:[s.jsx(ca,{asChild:!0,children:s.jsx(ze,{href:"/create-proposal",children:s.jsx(B,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:s.jsx(q,{className:"p-4 sm:p-6",children:s.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[s.jsx("div",{className:"bg-blue-100 p-2 sm:p-3 rounded-lg",children:s.jsx(nt,{className:"h-5 w-5 sm:h-6 sm:w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm sm:text-base font-semibold text-gray-900",children:"Create Proposal"}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Professional project proposals"})]})]})})})})}),s.jsx(Vs,{children:s.jsx("p",{children:"Create professional project proposals with detailed scope, timeline, and pricing information for clients."})})]}),s.jsxs(la,{children:[s.jsx(ca,{asChild:!0,children:s.jsx(ze,{href:"/create-invoice",children:s.jsx(B,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:s.jsx(q,{className:"p-4 sm:p-6",children:s.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[s.jsx("div",{className:"bg-green-100 p-2 sm:p-3 rounded-lg",children:s.jsx(Cs,{className:"h-5 w-5 sm:h-6 sm:w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm sm:text-base font-semibold text-gray-900",children:"Create Invoice"}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Professional billing & invoices"})]})]})})})})}),s.jsx(Vs,{children:s.jsx("p",{children:"Generate professional invoices with itemized services, rates, and payment terms. Includes draft system for approval workflows."})})]}),s.jsxs(la,{children:[s.jsx(ca,{asChild:!0,children:s.jsx(ze,{href:"/create-contract",children:s.jsx(B,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:s.jsx(q,{className:"p-4 sm:p-6",children:s.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[s.jsx("div",{className:"bg-purple-100 p-2 sm:p-3 rounded-lg",children:s.jsx(nt,{className:"h-5 w-5 sm:h-6 sm:w-6 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm sm:text-base font-semibold text-gray-900",children:"Create Contract"}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Legal agreements & terms"})]})]})})})})}),s.jsx(Vs,{children:s.jsx("p",{children:"Draft legal agreements and contracts with clear terms, conditions, and project specifications."})})]}),s.jsxs(la,{children:[s.jsx(ca,{asChild:!0,children:s.jsx(ze,{href:"/create-presentation",children:s.jsx(B,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:s.jsx(q,{className:"p-4 sm:p-6",children:s.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[s.jsx("div",{className:"bg-orange-100 p-2 sm:p-3 rounded-lg",children:s.jsx(Sn,{className:"h-5 w-5 sm:h-6 sm:w-6 text-orange-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm sm:text-base font-semibold text-gray-900",children:"Create Presentation"}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Slide decks & presentations"})]})]})})})})}),s.jsx(Vs,{children:s.jsx("p",{children:"Build professional slide decks and presentations for client meetings, project pitches, and business proposals."})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 mb-6 sm:mb-8",children:[s.jsxs(la,{children:[s.jsx(ca,{asChild:!0,children:s.jsx(ze,{href:"/productivity",children:s.jsx(B,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:s.jsx(q,{className:"p-4 sm:p-6",children:s.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[s.jsx("div",{className:"bg-amber-100 p-2 sm:p-3 rounded-lg",children:s.jsx(Sn,{className:"h-5 w-5 sm:h-6 sm:w-6 text-amber-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm sm:text-base font-semibold text-gray-900",children:"Productivity Tools"}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Time tracking & insights"})]})]})})})})}),s.jsx(Vs,{children:s.jsx("p",{children:"Track time spent on tasks and projects. Monitor productivity patterns and generate insightful reports for better time management."})})]}),s.jsxs(la,{children:[s.jsx(ca,{asChild:!0,children:s.jsx(ze,{href:"/agency-hub",children:s.jsx(B,{className:"hover:shadow-lg transition-shadow cursor-pointer border-l-4 border-l-purple-500",children:s.jsx(q,{className:"p-4 sm:p-6",children:s.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[s.jsx("div",{className:"bg-purple-100 p-2 sm:p-3 rounded-lg",children:s.jsx(cn,{className:"h-5 w-5 sm:h-6 sm:w-6 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm sm:text-base font-semibold text-gray-900",children:"Agency Hub"}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"AI-powered marketing tools"})]})]})})})})}),s.jsx(Vs,{children:s.jsx("p",{children:"Access AI-powered marketing tools including content creation, image generation, copywriting, and campaign strategy development."})})]}),s.jsxs(la,{children:[s.jsx(ca,{asChild:!0,children:s.jsx(ze,{href:"/filing-cabinet",children:s.jsx(B,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:s.jsx(q,{className:"p-4 sm:p-6",children:s.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[s.jsx("div",{className:"bg-gray-100 p-2 sm:p-3 rounded-lg",children:s.jsx(ls,{className:"h-5 w-5 sm:h-6 sm:w-6 text-gray-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm sm:text-base font-semibold text-gray-900",children:"Filing Cabinet"}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Organize all files & documents"})]})]})})})})}),s.jsx(Vs,{children:s.jsx("p",{children:"Centralized document management system for organizing files, contracts, proposals, and business documents with search capabilities."})})]})]}),s.jsxs("div",{className:"mb-6 sm:mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Projects"}),s.jsxs(Z,{variant:"secondary",className:"text-xs sm:text-sm",children:[l.length," active"]})]}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:l.map(m=>{const p=c.filter(N=>N.projectId===m.id),x=p.filter(N=>!N.completed),v=x.filter(N=>N.priority==="high"),y=x.filter(N=>N.dueDate?new Date(N.dueDate)<d:!1),j=p.length>0?Math.round((p.length-x.length)/p.length*100):0;return s.jsxs(la,{children:[s.jsx(ca,{asChild:!0,children:s.jsx(ze,{href:`/project/${m.id}`,children:s.jsxs(B,{className:"hover:shadow-lg transition-all duration-200 cursor-pointer border-l-4 border-l-blue-500 group",children:[s.jsx(ae,{className:"pb-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Pu,{className:"h-6 w-6 mr-3 text-blue-600 group-hover:text-blue-700"}),s.jsxs("div",{children:[s.jsx(ie,{className:"text-lg font-semibold text-gray-900 group-hover:text-blue-700",children:m.name}),m.description&&s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:m.description})]})]}),s.jsx(Z,{className:m.status==="active"?"bg-green-100 text-green-800":m.status==="completed"?"bg-blue-100 text-blue-800":m.status==="on-hold"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",children:m.status})]})}),s.jsx(q,{className:"pt-0",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Outstanding Tasks"}),s.jsx(Z,{variant:"secondary",children:x.length})]}),v.length>0&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-orange-600",children:"Critical Priority"}),s.jsx(Z,{className:"bg-orange-100 text-orange-800",children:v.length})]}),y.length>0&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-red-600",children:"Overdue"}),s.jsx(Z,{className:"bg-red-100 text-red-800",children:y.length})]}),s.jsxs("div",{className:"pt-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[s.jsx("span",{className:"text-gray-600",children:"Progress"}),s.jsxs("span",{className:"font-medium",children:[j,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${j}%`}})})]})]})})]})})}),s.jsx(Vs,{children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("p",{className:"font-medium",children:[m.name," - ",j,"% Complete"]}),s.jsxs("p",{children:["Status: ",m.status,"  ",x.length," tasks remaining"]}),y.length>0&&s.jsxs("p",{className:"text-red-600",children:[" ",y.length," overdue tasks"]}),v.length>0&&s.jsxs("p",{className:"text-orange-600",children:[" ",v.length," high priority tasks"]}),s.jsx("p",{className:"text-xs opacity-75",children:"Click to view project dashboard"})]})})]},m.id)})})]}),s.jsx("div",{className:"mb-6 sm:mb-8",children:s.jsxs(ut,{open:i,onOpenChange:o,children:[s.jsx(Ns,{asChild:!0,children:s.jsx(D,{variant:"outline",size:"lg",className:"w-full justify-center py-4 sm:py-6 text-left hover:bg-brand-tealTint/10 border-2 border-dashed border-gray-300 hover:border-brand-teal","data-testid":"button-new-task-modal",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(st,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-3 text-brand-teal"}),s.jsx("span",{className:"text-base sm:text-lg font-medium",children:$t.tasks.createButton})]})})}),s.jsxs(lt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(ct,{children:s.jsx(dt,{className:"text-xl font-semibold",children:$t.tasks.createButton})}),s.jsx(M_e,{onSuccess:()=>o(!1)})]})]})}),s.jsxs("div",{className:"hidden lg:block",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Tasks Overview"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(kL,{activeFilter:t,onFilterChange:n}),s.jsx(EL,{selectedAssignee:r,onAssigneeChange:a})]})]}),s.jsx(mPe,{tasks:c.filter(m=>{const p=t==="all"||t==="active"&&!m.completed||t==="completed"&&m.completed,x=r==="all"||m.assignedToId===r;return p&&x})})]}),s.jsxs("div",{className:"block lg:hidden",children:[s.jsxs("div",{className:"mb-4 sm:mb-6",children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-3 sm:mb-4",children:"Tasks"}),s.jsxs("div",{className:"flex flex-col sm:flex-row flex-wrap items-start sm:items-center gap-3 sm:gap-4",children:[s.jsx(kL,{activeFilter:t,onFilterChange:n}),s.jsx(EL,{selectedAssignee:r,onAssigneeChange:a})]})]}),s.jsx(lPe,{filter:t,assigneeFilter:r})]})]})]})}const xPe="/assets/Gigster_Garage_Dashboard_Interface_bf394ced-CRWo8VOE.png",yPe="/assets/Gigster_Garage_Task_Form_5a9a2db0-C9_Zp1jw.png",bPe="/assets/Gigster_Garage_Kanban_Board_bca840aa-theXzmUI.png",xl=[{id:"dashboard",title:"My Dashboard",description:"Your command center  see every spark, track every win, fuel your hustle",image:xPe},{id:"task-form",title:"Task Creation",description:"Spark new tasks with precision  deadlines, priorities, and project assignments locked in",image:yPe},{id:"kanban",title:"Project Board",description:"Drag, drop, dominate  visual project flow that keeps your momentum rolling",image:bPe}];function jPe(){const[e,t]=b.useState(0),[n,r]=b.useState(!0);b.useEffect(()=>{if(!n)return;const c=setInterval(()=>{t(d=>(d+1)%xl.length)},4e3);return()=>clearInterval(c)},[n]);const a=c=>{t(c),r(!1)},i=()=>{t(c=>(c-1+xl.length)%xl.length),r(!1)},o=()=>{t(c=>(c+1)%xl.length),r(!1)},l=()=>{r(!n)};return s.jsxs("div",{className:"relative w-full max-w-4xl mx-auto",children:[s.jsxs("div",{className:"relative aspect-video bg-gray-100 rounded-xl overflow-hidden shadow-2xl",children:[s.jsx("img",{src:xl[e].image,alt:xl[e].title,className:"w-full h-full object-cover transition-opacity duration-500"}),s.jsx(D,{variant:"outline",size:"sm",onClick:i,className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-white/90 hover:bg-white border-gray-200 shadow-lg",children:s.jsx(XQ,{size:20})}),s.jsx(D,{variant:"outline",size:"sm",onClick:o,className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-white/90 hover:bg-white border-gray-200 shadow-lg",children:s.jsx(fv,{size:20})}),s.jsx(D,{variant:"outline",size:"sm",onClick:l,className:"absolute top-4 right-4 bg-white/90 hover:bg-white border-gray-200 shadow-lg",children:n?s.jsx(nZ,{size:16}):s.jsx(Tu,{size:16})}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/60 to-transparent p-6",children:[s.jsx("h3",{className:"text-white font-bold text-xl mb-1",children:xl[e].title}),s.jsx("p",{className:"text-white/90 text-sm",children:xl[e].description})]})]}),s.jsx("div",{className:"flex justify-center mt-6 space-x-4",children:xl.map((c,d)=>s.jsxs("button",{onClick:()=>a(d),className:`relative w-20 h-12 rounded-lg overflow-hidden border-2 transition-all ${d===e?"border-blue-900 ring-2 ring-blue-200":"border-gray-200 hover:border-gray-300"}`,children:[s.jsx("img",{src:c.image,alt:c.title,className:"w-full h-full object-cover"}),d===e&&s.jsx("div",{className:"absolute inset-0 bg-blue-900/20"})]},c.id))}),s.jsx("div",{className:"flex justify-center mt-4 space-x-2",children:xl.map((c,d)=>s.jsx("div",{className:`h-2 rounded-full transition-all ${d===e?"w-8 bg-blue-900":"w-2 bg-gray-300"}`},d))})]})}function wPe(){const[,e]=Fs(),{toast:t}=mt(),n=qr();b.useState(!1);const r=Se({mutationFn:async()=>{const o=await fetch("/api/demo/create-session",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}});if(!o.ok)throw new Error(`Failed to create demo session: ${o.status}`);return o.json()},onSuccess:o=>{if(o.success&&o.user)n.invalidateQueries({queryKey:["/api/auth/user"]}),t({title:" Demo Session Started!",description:`Welcome ${o.user.name}! Your 45-minute demo session is now active.`,variant:"default"}),setTimeout(()=>{e("/tasks")},1e3);else throw new Error(o.error||"Failed to create demo session")},onError:o=>{t({title:"Demo Session Failed",description:o.message||"Unable to start demo session. Please try again.",variant:"destructive"})}}),a=["45-minute session with automatic cleanup","Limited to 5 tasks and 3 projects","File uploads limited to 5MB","No email notifications (demo data only)","Sample data included for exploration"],i=["Full task management system","Project organization tools","AI-powered content generation","Invoice and proposal creation","Time tracking and reporting","Team collaboration features"];return s.jsxs("div",{className:"space-y-4",children:[s.jsx(B,{className:"border-l-4 border-l-blue-500 bg-blue-50 dark:bg-blue-950/20",children:s.jsx(q,{className:"p-4",children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(bt,{className:"h-4 w-4 text-blue-600"}),s.jsx(Z,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:"45-Minute Demo"})]}),s.jsx("h4",{className:"font-semibold text-sm mb-2",children:"What's included in the demo:"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium mb-1 text-green-700",children:" Full Features:"}),s.jsx("ul",{className:"space-y-1 text-xs",children:i.map((o,l)=>s.jsxs("li",{className:"flex items-center gap-1",children:[s.jsx(Bt,{className:"h-3 w-3 text-green-500 flex-shrink-0"}),o]},l))})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium mb-1 text-amber-700",children:" Demo Limits:"}),s.jsx("ul",{className:"space-y-1 text-xs",children:a.map((o,l)=>s.jsxs("li",{className:"flex items-center gap-1",children:[s.jsx(hs,{className:"h-3 w-3 text-amber-500 flex-shrink-0"}),o]},l))})]})]})]})})})}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(D,{onClick:()=>r.mutate(),disabled:r.isPending,className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white font-semibold py-3 px-6 rounded-lg shadow-lg transition-all duration-200 transform hover:scale-105",size:"lg","data-testid":"button-start-demo-session",children:r.isPending?s.jsxs(s.Fragment,{children:[s.jsx(wr,{className:"h-5 w-5 mr-2 animate-spin"}),"Creating Demo Session..."]}):s.jsxs(s.Fragment,{children:[s.jsx(cn,{className:"h-5 w-5 mr-2"}),"Start 45-Minute Demo Now",s.jsx(Qs,{className:"h-5 w-5 ml-2"})]})}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Or use existing demo accounts:"}),s.jsx("div",{className:"flex gap-2 justify-center",children:s.jsx(D,{variant:"outline",size:"sm",asChild:!0,"data-testid":"button-login-existing",children:s.jsx("a",{href:"/login",children:"Login with Demo Credentials"})})})]})]})]})}function NPe(){const[e,t]=b.useState(0),n=[{icon:s.jsx(Yf,{className:"h-6 w-6"}),title:"Smart Reminders",description:"24-hour and 1-hour advance notifications keep you on track",color:"text-yellow-600"},{icon:s.jsx(Cs,{className:"h-6 w-6"}),title:"Email & SMS Alerts",description:"High-priority tasks trigger automatic notifications",color:"text-blue-900"},{icon:s.jsx(gn,{className:"h-6 w-6"}),title:"Team Collaboration",description:"Multi-user support with admin controls and task assignment",color:"text-green-600"},{icon:s.jsx(Sn,{className:"h-6 w-6"}),title:"Progress Tracking",description:"Add comments and track progress with detailed timestamps",color:"text-purple-600"},{icon:s.jsx(sc,{className:"h-6 w-6"}),title:"Project Organization",description:"Group tasks by projects for better workflow management",color:"text-red-600"},{icon:s.jsx(bt,{className:"h-6 w-6"}),title:"Time Management",description:"Due dates with precise time tracking and status indicators",color:"text-indigo-600"}];return s.jsxs("div",{className:"min-h-screen bg-white",children:[s.jsx("section",{className:"gigster-hero-section py-20",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-6 text-center relative z-10",children:[s.jsx("div",{className:"flex justify-center mb-8 fade-in-up",children:s.jsx(a$,{size:"large",showText:!1,className:"pulse-gigster"})}),s.jsx("h1",{className:"text-5xl font-bold text-white mb-4 fade-in-up",style:{fontFamily:"var(--font-display)"},children:"Gigster Garage"}),s.jsx("p",{className:"text-xl font-medium mb-8",style:{color:"rgba(255, 181, 46, 0.9)"},children:"Smarter tools for bolder dreams"}),s.jsx("p",{className:"text-lg mb-10 max-w-2xl mx-auto",style:{color:"rgba(255, 255, 255, 0.8)"},children:"Transform your workflow with intelligent task management, smart automation, and seamless team collaboration designed for ambitious creators."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[s.jsx(ze,{href:"/signup",children:s.jsxs(D,{size:"lg",className:"bg-white font-semibold px-8 py-3 shadow-lg",style:{color:"var(--garage-navy)",fontFamily:"var(--font-display)"},children:["Get Started Free",s.jsx(Qs,{className:"ml-2 h-5 w-5"})]})}),s.jsx(ze,{href:"/login",children:s.jsx(D,{variant:"outline",size:"lg",className:"border-white/30 bg-white px-8 py-3",style:{color:"var(--garage-navy)",fontFamily:"var(--font-display)"},children:"Sign In"})})]}),s.jsx("div",{className:"mt-8 text-sm",style:{color:"rgba(255, 255, 255, 0.7)"},children:s.jsxs("div",{className:"flex items-center justify-center gap-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Bt,{className:"h-4 w-4 text-white mr-1"}),s.jsx("span",{children:"Free to start"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Bt,{className:"h-4 w-4 text-white mr-1"}),s.jsx("span",{children:"No credit card required"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Bt,{className:"h-4 w-4 text-white mr-1"}),s.jsx("span",{children:"Team collaboration"})]})]})})]})}),s.jsx("section",{className:"py-20 bg-gray-50",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-6",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold mb-4",style:{color:"var(--garage-navy)",fontFamily:"var(--font-display)"},children:"See Gigster Garage in action"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Take a visual tour of our intuitive interface and discover how Gigster Garage makes task management effortless and efficient for ambitious creators."})]}),s.jsx(jPe,{}),s.jsxs("div",{className:"text-center mt-12",children:[s.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Free to start  No credit card required"}),s.jsx(ze,{href:"/login",children:s.jsxs(D,{size:"lg",className:"px-8",children:["Try Gigster Garage Now",s.jsx(Qs,{className:"ml-2 h-4 w-4"})]})})]})]})}),s.jsx("section",{className:"py-20",style:{background:"linear-gradient(135deg, #f0f9ff 0%, #ffffff 50%, #ecfdf5 100%)"},children:s.jsxs("div",{className:"max-w-6xl mx-auto px-6",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold mb-4",style:{color:"var(--garage-navy)",fontFamily:"var(--font-display)"},children:"Everything you need to turn ideas into reality"}),s.jsx("p",{className:"text-lg max-w-2xl mx-auto",style:{color:"var(--steel-gray)"},children:"Gigster Garage combines powerful task management with intelligent automation to keep ambitious creators focused on what matters most."})]}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map((r,a)=>s.jsxs(B,{className:"gigster-feature-card group",onClick:()=>t(a),children:[s.jsxs(ae,{children:[s.jsx("div",{className:`${r.color} mb-4 feature-icon transition-all duration-300`,children:r.icon}),s.jsx(ie,{className:"text-lg font-semibold",children:r.title})]}),s.jsx(q,{children:s.jsx("p",{className:"text-gray-600",children:r.description})})]},a))})]})}),s.jsx("section",{className:"py-20",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 text-center",children:[s.jsx("h2",{className:"text-3xl font-bold text-black mb-8",children:"Try it now with our demo account"}),s.jsx(B,{className:"gigster-accent-section",children:s.jsx(q,{className:"p-8",children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-center",children:[s.jsxs("div",{className:"text-left",children:[s.jsx("h3",{className:"text-xl font-semibold mb-4",style:{color:"var(--garage-navy)"},children:"Admin Demo Access"}),s.jsx("p",{className:"mb-6",style:{color:"var(--steel-gray)"},children:"Experience the full power of Gigster Garage with admin privileges. Create tasks, manage users, and explore all features."}),s.jsxs("div",{className:"space-y-2 mb-6",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Z,{style:{backgroundColor:"var(--garage-navy)",color:"white"},className:"mr-2",children:"Username"}),s.jsx("code",{className:"bg-white px-3 py-2 rounded shadow-sm border",children:"admin"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Z,{style:{backgroundColor:"var(--garage-navy)",color:"white"},className:"mr-2",children:"Password"}),s.jsx("code",{className:"bg-white px-3 py-2 rounded shadow-sm border",children:"password"})]})]}),s.jsxs("div",{className:"text-left mt-4",children:[s.jsx("h4",{className:"text-lg font-semibold mb-2",style:{color:"var(--garage-navy)"},children:"Regular User Demo"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Z,{style:{backgroundColor:"var(--garage-navy)",color:"white"},className:"mr-2",children:"Username"}),s.jsx("code",{className:"bg-white px-3 py-2 rounded shadow-sm border",children:"demo"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Z,{style:{backgroundColor:"var(--garage-navy)",color:"white"},className:"mr-2",children:"Password"}),s.jsx("code",{className:"bg-white px-3 py-2 rounded shadow-sm border",children:"password"})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center text-sm",style:{color:"var(--steel-gray)"},children:[s.jsx(Bt,{className:"h-4 w-4 mr-2",style:{color:"var(--garage-navy)"}}),s.jsx("span",{children:"Full admin dashboard access"})]}),s.jsxs("div",{className:"flex items-center text-sm",style:{color:"var(--steel-gray)"},children:[s.jsx(Bt,{className:"h-4 w-4 mr-2",style:{color:"var(--garage-navy)"}}),s.jsx("span",{children:"User management capabilities"})]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(Bt,{className:"h-4 w-4 text-green-500 mr-2"}),s.jsx("span",{children:"All notification features"})]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(Bt,{className:"h-4 w-4 text-green-500 mr-2"}),s.jsx("span",{children:"Task assignment and tracking"})]}),s.jsx(wPe,{})]})]})})})]})}),s.jsx("section",{className:"py-20 bg-black text-white",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 text-center",children:[s.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Ready to simplify your workflow?"}),s.jsx("p",{className:"text-xl text-gray-300 mb-8",children:"Join teams who trust Gigster Garage to keep their projects on track."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsx(ze,{href:"/signup",children:s.jsxs(D,{size:"lg",className:"bg-blue-600 hover:bg-blue-700 px-8 py-3",children:["Create Your Account",s.jsx(Qs,{className:"ml-2 h-5 w-5"})]})}),s.jsx(ze,{href:"/login",children:s.jsx(D,{variant:"outline",size:"lg",className:"border-white text-white hover:bg-white hover:text-black px-8 py-3",children:"Sign In"})})]})]})}),s.jsx("footer",{className:"py-8 bg-gray-50 border-t",children:s.jsx("div",{className:"max-w-6xl mx-auto px-4",children:s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[s.jsxs("div",{className:"flex items-center mb-4 md:mb-0",children:[s.jsxs("div",{className:"bg-blue-600 p-2 rounded-lg mr-3",children:[s.jsx("img",{src:"@assets/IMG_3649_1755004491378.jpeg",alt:"Gigster Garage Logo",className:"w-6 h-6 object-contain",onError:r=>{var i;const a=r.target;a.style.display="none",(i=a.nextElementSibling)==null||i.classList.remove("hidden")}}),s.jsx(fi,{className:"text-white hidden",size:24})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-black",children:"Gigster Garage"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Simplified Workflow Hub"})]})]}),s.jsxs("div",{className:"text-sm text-gray-500",children:[" ",new Date().getFullYear()," Gigster Garage. All rights reserved."]})]})})})]})}function SPe(){const[e,t]=b.useState(""),[n,r]=b.useState(""),[,a]=Fs(),{toast:i}=mt(),o=Se({mutationFn:async c=>(await ke("POST","/api/login",c)).json(),onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/auth/user"]}),i({title:"Login successful",description:"Welcome to Gigster Garage"}),setTimeout(()=>{a("/")},100)},onError:c=>{i({title:"Login failed",description:c.message,variant:"destructive"})}}),l=c=>{if(c.preventDefault(),!e.trim()||!n.trim()){i({title:"Missing information",description:"Please enter both username and password",variant:"destructive"});return}o.mutate({username:e.trim(),password:n})};return s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",style:{background:"linear-gradient(135deg, rgba(11, 29, 58, 0.05) 0%, rgba(46, 197, 194, 0.05) 100%)"},children:s.jsxs(B,{className:"gigster-card w-full max-w-md",children:[s.jsxs(ae,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsx(a$,{size:"medium",showText:!1})}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(ie,{className:"text-2xl brand-heading",children:"Gigster Garage"}),s.jsx("p",{className:"text-xs brand-tagline",children:"Smarter tools for bolder dreams"}),s.jsx("p",{className:"text-gray-600 pt-2",children:"Sign in to your account"})]})]}),s.jsxs(q,{children:[s.jsxs("form",{onSubmit:l,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),s.jsx(te,{id:"username",type:"text",value:e,onChange:c=>t(c.target.value),placeholder:"Enter your username",className:"w-full",required:!0})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),s.jsx(te,{id:"password",type:"password",value:n,onChange:c=>r(c.target.value),placeholder:"Enter your password",className:"w-full",required:!0})]}),s.jsx(D,{type:"submit",className:"gigster-button-primary w-full",disabled:o.isPending,children:o.isPending?"Signing in...":s.jsxs(s.Fragment,{children:[s.jsx(v0e,{size:16,className:"mr-2"}),"Sign In"]})})]}),s.jsxs("div",{className:"mt-6 text-center text-sm text-gray-600 space-y-3",children:[s.jsxs("p",{children:["Don't have an account?"," ",s.jsx(ze,{href:"/signup",className:"text-blue-600 hover:underline",children:"Create one here"})]}),s.jsxs("div",{className:"border-t pt-3",children:[s.jsx("p",{children:"Demo Account:"}),s.jsxs("p",{children:["Username: ",s.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"demo"})]}),s.jsxs("p",{children:["Password: ",s.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"demo123"})]})]})]})]})]})})}function CPe(){Fs();const{toast:e}=mt(),[t,n]=b.useState({username:"",password:"",name:"",email:""}),r=Se({mutationFn:async o=>(await ke("POST","/api/signup",o)).json(),onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/auth/user"]}),e({title:"Account Created!",description:"Welcome to Gigster Garage. You'll now complete a quick setup."}),window.location.href="/"},onError:o=>{e({title:"Signup Failed",description:o.message||"Failed to create account. Please try again.",variant:"destructive"})}}),a=o=>{if(o.preventDefault(),!t.username.trim()||!t.password.trim()||!t.name.trim()){e({title:"Missing Information",description:"Please fill in all required fields.",variant:"destructive"});return}r.mutate(t)},i=o=>l=>{n(c=>({...c,[o]:l.target.value}))};return s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",style:{background:"linear-gradient(135deg, rgba(0,76,109,0.05) 0%, rgba(2,158,157,0.05) 100%)"},children:s.jsxs(B,{className:"w-full max-w-md",children:[s.jsx(ae,{className:"space-y-1",children:s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx(ie,{className:"text-2xl font-black text-black",children:"Gigster Garage"}),s.jsx("p",{className:"text-xs text-black font-medium",children:"Smarter tools for bolder dreams"}),s.jsx(Lt,{className:"pt-2",children:"Join Gigster Garage to start managing your tasks efficiently"})]})}),s.jsxs("form",{onSubmit:a,children:[s.jsxs(q,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"name",children:"Full Name *"}),s.jsx(te,{id:"name",type:"text",placeholder:"Enter your full name",value:t.name,onChange:i("name"),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"username",children:"Username *"}),s.jsx(te,{id:"username",type:"text",placeholder:"Choose a username",value:t.username,onChange:i("username"),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"password",children:"Password *"}),s.jsx(te,{id:"password",type:"password",placeholder:"Create a secure password",value:t.password,onChange:i("password"),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"email",children:"Email (Optional)"}),s.jsx(te,{id:"email",type:"email",placeholder:"Enter your email address",value:t.email,onChange:i("email")})]})]}),s.jsxs(GZ,{className:"flex flex-col space-y-4",children:[s.jsx(D,{type:"submit",className:"w-full",disabled:r.isPending,children:r.isPending?"Creating Account...":"Create Account"}),s.jsxs("p",{className:"text-sm text-gray-600 text-center",children:["Already have an account?"," ",s.jsx(ze,{href:"/login",className:"text-blue-600 hover:underline",children:"Sign in here"})]})]})]})]})})}function kPe(){const[,e]=Fs(),[t,n]=b.useState(!1),[r,a]=b.useState({username:"",password:"",name:"",email:"",role:"user"}),{toast:i}=mt(),{data:o=[],isLoading:l}=he({queryKey:["/api/users"]}),c=Se({mutationFn:async h=>(await ke("POST","/api/users",h)).json(),onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/users"]}),a({username:"",password:"",name:"",email:"",role:"user"}),n(!1),i({title:"User created",description:"New user has been added successfully"})},onError:h=>{i({title:"Error",description:h.message,variant:"destructive"})}}),d=Se({mutationFn:async h=>{await ke("DELETE",`/api/users/${h}`)},onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/users"]}),i({title:"User deleted",description:"User has been removed successfully"})},onError:h=>{i({title:"Error",description:h.message,variant:"destructive"})}}),u=h=>{if(h.preventDefault(),!r.username.trim()||!r.password.trim()||!r.name.trim()){i({title:"Missing information",description:"Please fill in all required fields",variant:"destructive"});return}c.mutate(r)};return l?s.jsx("div",{className:"min-h-screen bg-neutral-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Loading users..."})]})}):s.jsx("div",{className:"min-h-screen bg-neutral-50",children:s.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(D,{variant:"outline",onClick:()=>e("/"),className:"flex items-center",children:[s.jsx(ln,{size:16,className:"mr-2"}),"Back to Tasks"]}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center",children:[s.jsx(gn,{className:"mr-3",size:32}),"User Management"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Manage user accounts and permissions"})]})]}),s.jsxs(D,{onClick:()=>n(!t),className:"flex items-center",children:[s.jsx(oZ,{size:16,className:"mr-2"}),"Add User"]})]}),t&&s.jsxs(B,{className:"mb-6",children:[s.jsx(ae,{children:s.jsx(ie,{children:"Create New User"})}),s.jsx(q,{children:s.jsxs("form",{onSubmit:u,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"username",children:"Username *"}),s.jsx(te,{id:"username",value:r.username,onChange:h=>a(f=>({...f,username:h.target.value})),placeholder:"Enter username",required:!0})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"password",children:"Password *"}),s.jsx(te,{id:"password",type:"password",value:r.password,onChange:h=>a(f=>({...f,password:h.target.value})),placeholder:"Enter password",required:!0})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"name",children:"Full Name *"}),s.jsx(te,{id:"name",value:r.name,onChange:h=>a(f=>({...f,name:h.target.value})),placeholder:"Enter full name",required:!0})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"email",children:"Email"}),s.jsx(te,{id:"email",type:"email",value:r.email,onChange:h=>a(f=>({...f,email:h.target.value})),placeholder:"Enter email address"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(W,{htmlFor:"role",children:"Role"}),s.jsxs(Ke,{value:r.role,onValueChange:h=>a(f=>({...f,role:h})),children:[s.jsx(He,{children:s.jsx(Ge,{})}),s.jsxs(qe,{children:[s.jsx(Q,{value:"user",children:"User"}),s.jsx(Q,{value:"admin",children:"Admin"})]})]})]}),s.jsxs("div",{className:"md:col-span-2 flex gap-2",children:[s.jsx(D,{type:"submit",disabled:c.isPending,children:c.isPending?"Creating...":"Create User"}),s.jsx(D,{type:"button",variant:"outline",onClick:()=>n(!1),children:"Cancel"})]})]})})]}),s.jsxs(B,{children:[s.jsx(ae,{children:s.jsx(ie,{children:"Existing Users"})}),s.jsx(q,{children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"text-left p-3",children:"Username"}),s.jsx("th",{className:"text-left p-3",children:"Name"}),s.jsx("th",{className:"text-left p-3",children:"Email"}),s.jsx("th",{className:"text-left p-3",children:"Role"}),s.jsx("th",{className:"text-left p-3",children:"Created"}),s.jsx("th",{className:"text-left p-3",children:"Actions"})]})}),s.jsx("tbody",{children:o.map(h=>s.jsxs("tr",{className:"border-b",children:[s.jsx("td",{className:"p-3 font-medium",children:h.username}),s.jsx("td",{className:"p-3",children:h.name}),s.jsx("td",{className:"p-3",children:h.email||"-"}),s.jsx("td",{className:"p-3",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${h.role==="admin"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:h.role})}),s.jsx("td",{className:"p-3",children:h.createdAt?new Date(h.createdAt).toLocaleDateString():"-"}),s.jsx("td",{className:"p-3",children:s.jsx(D,{variant:"destructive",size:"sm",onClick:()=>d.mutate(h.id),disabled:d.isPending,children:s.jsx(Jn,{size:14})})})]},`admin-table-${h.id}`))})]})})})]})]})})}var _Pe=Array.isArray,aa=_Pe,PPe=typeof qi=="object"&&qi&&qi.Object===Object&&qi,Zse=PPe,TPe=Zse,APe=typeof self=="object"&&self&&self.Object===Object&&self,EPe=TPe||APe||Function("return this")(),cl=EPe,DPe=cl,OPe=DPe.Symbol,wv=OPe,DL=wv,Jse=Object.prototype,MPe=Jse.hasOwnProperty,RPe=Jse.toString,hx=DL?DL.toStringTag:void 0;function $Pe(e){var t=MPe.call(e,hx),n=e[hx];try{e[hx]=void 0;var r=!0}catch{}var a=RPe.call(e);return r&&(t?e[hx]=n:delete e[hx]),a}var IPe=$Pe,FPe=Object.prototype,LPe=FPe.toString;function zPe(e){return LPe.call(e)}var BPe=zPe,OL=wv,UPe=IPe,VPe=BPe,WPe="[object Null]",HPe="[object Undefined]",ML=OL?OL.toStringTag:void 0;function qPe(e){return e==null?e===void 0?HPe:WPe:ML&&ML in Object(e)?UPe(e):VPe(e)}var xd=qPe;function KPe(e){return e!=null&&typeof e=="object"}var dl=KPe,GPe=xd,YPe=dl,XPe="[object Symbol]";function QPe(e){return typeof e=="symbol"||YPe(e)&&GPe(e)==XPe}var Nv=QPe,ZPe=aa,JPe=Nv,eTe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,tTe=/^\w*$/;function nTe(e,t){if(ZPe(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||JPe(e)?!0:tTe.test(e)||!eTe.test(e)||t!=null&&e in Object(t)}var A$=nTe;function rTe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var lo=rTe;const Sv=Tt(lo);var sTe=xd,aTe=lo,iTe="[object AsyncFunction]",oTe="[object Function]",lTe="[object GeneratorFunction]",cTe="[object Proxy]";function dTe(e){if(!aTe(e))return!1;var t=sTe(e);return t==oTe||t==lTe||t==iTe||t==cTe}var Ak=dTe;const yt=Tt(Ak);var uTe=cl,hTe=uTe["__core-js_shared__"],fTe=hTe,uT=fTe,RL=function(){var e=/[^.]+$/.exec(uT&&uT.keys&&uT.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function mTe(e){return!!RL&&RL in e}var pTe=mTe,gTe=Function.prototype,vTe=gTe.toString;function xTe(e){if(e!=null){try{return vTe.call(e)}catch{}try{return e+""}catch{}}return""}var eae=xTe,yTe=Ak,bTe=pTe,jTe=lo,wTe=eae,NTe=/[\\^$.*+?()[\]{}|]/g,STe=/^\[object .+?Constructor\]$/,CTe=Function.prototype,kTe=Object.prototype,_Te=CTe.toString,PTe=kTe.hasOwnProperty,TTe=RegExp("^"+_Te.call(PTe).replace(NTe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ATe(e){if(!jTe(e)||bTe(e))return!1;var t=yTe(e)?TTe:STe;return t.test(wTe(e))}var ETe=ATe;function DTe(e,t){return e==null?void 0:e[t]}var OTe=DTe,MTe=ETe,RTe=OTe;function $Te(e,t){var n=RTe(e,t);return MTe(n)?n:void 0}var tm=$Te,ITe=tm,FTe=ITe(Object,"create"),Ek=FTe,$L=Ek;function LTe(){this.__data__=$L?$L(null):{},this.size=0}var zTe=LTe;function BTe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var UTe=BTe,VTe=Ek,WTe="__lodash_hash_undefined__",HTe=Object.prototype,qTe=HTe.hasOwnProperty;function KTe(e){var t=this.__data__;if(VTe){var n=t[e];return n===WTe?void 0:n}return qTe.call(t,e)?t[e]:void 0}var GTe=KTe,YTe=Ek,XTe=Object.prototype,QTe=XTe.hasOwnProperty;function ZTe(e){var t=this.__data__;return YTe?t[e]!==void 0:QTe.call(t,e)}var JTe=ZTe,eAe=Ek,tAe="__lodash_hash_undefined__";function nAe(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=eAe&&t===void 0?tAe:t,this}var rAe=nAe,sAe=zTe,aAe=UTe,iAe=GTe,oAe=JTe,lAe=rAe;function Cv(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Cv.prototype.clear=sAe;Cv.prototype.delete=aAe;Cv.prototype.get=iAe;Cv.prototype.has=oAe;Cv.prototype.set=lAe;var cAe=Cv;function dAe(){this.__data__=[],this.size=0}var uAe=dAe;function hAe(e,t){return e===t||e!==e&&t!==t}var zj=hAe,fAe=zj;function mAe(e,t){for(var n=e.length;n--;)if(fAe(e[n][0],t))return n;return-1}var Dk=mAe,pAe=Dk,gAe=Array.prototype,vAe=gAe.splice;function xAe(e){var t=this.__data__,n=pAe(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():vAe.call(t,n,1),--this.size,!0}var yAe=xAe,bAe=Dk;function jAe(e){var t=this.__data__,n=bAe(t,e);return n<0?void 0:t[n][1]}var wAe=jAe,NAe=Dk;function SAe(e){return NAe(this.__data__,e)>-1}var CAe=SAe,kAe=Dk;function _Ae(e,t){var n=this.__data__,r=kAe(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var PAe=_Ae,TAe=uAe,AAe=yAe,EAe=wAe,DAe=CAe,OAe=PAe;function kv(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}kv.prototype.clear=TAe;kv.prototype.delete=AAe;kv.prototype.get=EAe;kv.prototype.has=DAe;kv.prototype.set=OAe;var Ok=kv,MAe=tm,RAe=cl,$Ae=MAe(RAe,"Map"),E$=$Ae,IL=cAe,IAe=Ok,FAe=E$;function LAe(){this.size=0,this.__data__={hash:new IL,map:new(FAe||IAe),string:new IL}}var zAe=LAe;function BAe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var UAe=BAe,VAe=UAe;function WAe(e,t){var n=e.__data__;return VAe(t)?n[typeof t=="string"?"string":"hash"]:n.map}var Mk=WAe,HAe=Mk;function qAe(e){var t=HAe(this,e).delete(e);return this.size-=t?1:0,t}var KAe=qAe,GAe=Mk;function YAe(e){return GAe(this,e).get(e)}var XAe=YAe,QAe=Mk;function ZAe(e){return QAe(this,e).has(e)}var JAe=ZAe,eEe=Mk;function tEe(e,t){var n=eEe(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var nEe=tEe,rEe=zAe,sEe=KAe,aEe=XAe,iEe=JAe,oEe=nEe;function _v(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}_v.prototype.clear=rEe;_v.prototype.delete=sEe;_v.prototype.get=aEe;_v.prototype.has=iEe;_v.prototype.set=oEe;var D$=_v,tae=D$,lEe="Expected a function";function O$(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(lEe);var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var o=e.apply(this,r);return n.cache=i.set(a,o)||i,o};return n.cache=new(O$.Cache||tae),n}O$.Cache=tae;var nae=O$;const cEe=Tt(nae);var dEe=nae,uEe=500;function hEe(e){var t=dEe(e,function(r){return n.size===uEe&&n.clear(),r}),n=t.cache;return t}var fEe=hEe,mEe=fEe,pEe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,gEe=/\\(\\)?/g,vEe=mEe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(pEe,function(n,r,a,i){t.push(a?i.replace(gEe,"$1"):r||n)}),t}),xEe=vEe;function yEe(e,t){for(var n=-1,r=e==null?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}var Rk=yEe,FL=wv,bEe=Rk,jEe=aa,wEe=Nv,NEe=1/0,LL=FL?FL.prototype:void 0,zL=LL?LL.toString:void 0;function rae(e){if(typeof e=="string")return e;if(jEe(e))return bEe(e,rae)+"";if(wEe(e))return zL?zL.call(e):"";var t=e+"";return t=="0"&&1/e==-NEe?"-0":t}var SEe=rae,CEe=SEe;function kEe(e){return e==null?"":CEe(e)}var sae=kEe,_Ee=aa,PEe=A$,TEe=xEe,AEe=sae;function EEe(e,t){return _Ee(e)?e:PEe(e,t)?[e]:TEe(AEe(e))}var $k=EEe,DEe=Nv,OEe=1/0;function MEe(e){if(typeof e=="string"||DEe(e))return e;var t=e+"";return t=="0"&&1/e==-OEe?"-0":t}var Bj=MEe,REe=$k,$Ee=Bj;function IEe(e,t){t=REe(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[$Ee(t[n++])];return n&&n==r?e:void 0}var Ik=IEe,FEe=Ik;function LEe(e,t,n){var r=e==null?void 0:FEe(e,t);return r===void 0?n:r}var aae=LEe;const vi=Tt(aae);function zEe(e){return e==null}var BEe=zEe;const _t=Tt(BEe);var UEe=xd,VEe=aa,WEe=dl,HEe="[object String]";function qEe(e){return typeof e=="string"||!VEe(e)&&WEe(e)&&UEe(e)==HEe}var KEe=qEe;const Df=Tt(KEe);var iae={exports:{}},vn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M$=Symbol.for("react.element"),R$=Symbol.for("react.portal"),Fk=Symbol.for("react.fragment"),Lk=Symbol.for("react.strict_mode"),zk=Symbol.for("react.profiler"),Bk=Symbol.for("react.provider"),Uk=Symbol.for("react.context"),GEe=Symbol.for("react.server_context"),Vk=Symbol.for("react.forward_ref"),Wk=Symbol.for("react.suspense"),Hk=Symbol.for("react.suspense_list"),qk=Symbol.for("react.memo"),Kk=Symbol.for("react.lazy"),YEe=Symbol.for("react.offscreen"),oae;oae=Symbol.for("react.module.reference");function co(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case M$:switch(e=e.type,e){case Fk:case zk:case Lk:case Wk:case Hk:return e;default:switch(e=e&&e.$$typeof,e){case GEe:case Uk:case Vk:case Kk:case qk:case Bk:return e;default:return t}}case R$:return t}}}vn.ContextConsumer=Uk;vn.ContextProvider=Bk;vn.Element=M$;vn.ForwardRef=Vk;vn.Fragment=Fk;vn.Lazy=Kk;vn.Memo=qk;vn.Portal=R$;vn.Profiler=zk;vn.StrictMode=Lk;vn.Suspense=Wk;vn.SuspenseList=Hk;vn.isAsyncMode=function(){return!1};vn.isConcurrentMode=function(){return!1};vn.isContextConsumer=function(e){return co(e)===Uk};vn.isContextProvider=function(e){return co(e)===Bk};vn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===M$};vn.isForwardRef=function(e){return co(e)===Vk};vn.isFragment=function(e){return co(e)===Fk};vn.isLazy=function(e){return co(e)===Kk};vn.isMemo=function(e){return co(e)===qk};vn.isPortal=function(e){return co(e)===R$};vn.isProfiler=function(e){return co(e)===zk};vn.isStrictMode=function(e){return co(e)===Lk};vn.isSuspense=function(e){return co(e)===Wk};vn.isSuspenseList=function(e){return co(e)===Hk};vn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Fk||e===zk||e===Lk||e===Wk||e===Hk||e===YEe||typeof e=="object"&&e!==null&&(e.$$typeof===Kk||e.$$typeof===qk||e.$$typeof===Bk||e.$$typeof===Uk||e.$$typeof===Vk||e.$$typeof===oae||e.getModuleId!==void 0)};vn.typeOf=co;iae.exports=vn;var XEe=iae.exports,QEe=xd,ZEe=dl,JEe="[object Number]";function eDe(e){return typeof e=="number"||ZEe(e)&&QEe(e)==JEe}var lae=eDe;const tDe=Tt(lae);var nDe=lae;function rDe(e){return nDe(e)&&e!=+e}var sDe=rDe;const Pv=Tt(sDe);var ba=function(t){return t===0?0:t>0?1:-1},Oh=function(t){return Df(t)&&t.indexOf("%")===t.length-1},Ee=function(t){return tDe(t)&&!Pv(t)},aDe=function(t){return _t(t)},cs=function(t){return Ee(t)||Df(t)},iDe=0,nm=function(t){var n=++iDe;return"".concat(t||"").concat(n)},ja=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ee(t)&&!Df(t))return r;var i;if(Oh(t)){var o=t.indexOf("%");i=n*parseFloat(t.slice(0,o))/100}else i=+t;return Pv(i)&&(i=r),a&&i>n&&(i=n),i},Wd=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},oDe=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},a=0;a<n;a++)if(!r[t[a]])r[t[a]]=!0;else return!0;return!1},as=function(t,n){return Ee(t)&&Ee(n)?function(r){return t+r*(n-t)}:function(){return n}};function PS(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):vi(r,t))===n})}var lDe=function(t,n){return Ee(t)&&Ee(n)?t-n:Df(t)&&Df(n)?t.localeCompare(n):t instanceof Date&&n instanceof Date?t.getTime()-n.getTime():String(t).localeCompare(String(n))};function fp(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function vD(e){"@babel/helpers - typeof";return vD=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vD(e)}var cDe=["viewBox","children"],dDe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],BL=["points","pathLength"],hT={svg:cDe,polygon:BL,polyline:BL},$$=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],TS=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(b.isValidElement(t)&&(r=t.props),!Sv(r))return null;var a={};return Object.keys(r).forEach(function(i){$$.includes(i)&&(a[i]=n||function(o){return r[i](r,o)})}),a},uDe=function(t,n,r){return function(a){return t(n,r,a),null}},Of=function(t,n,r){if(!Sv(t)||vD(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];$$.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=uDe(o,n,r))}),a},hDe=["children"],fDe=["children"];function UL(e,t){if(e==null)return{};var n=mDe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function mDe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function xD(e){"@babel/helpers - typeof";return xD=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xD(e)}var VL={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Gc=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},WL=null,fT=null,I$=function e(t){if(t===WL&&Array.isArray(fT))return fT;var n=[];return b.Children.forEach(t,function(r){_t(r)||(XEe.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),fT=n,WL=t,n};function xi(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(a){return Gc(a)}):r=[Gc(t)],I$(e).forEach(function(a){var i=vi(a,"type.displayName")||vi(a,"type.name");r.indexOf(i)!==-1&&n.push(a)}),n}function si(e,t){var n=xi(e,t);return n&&n[0]}var HL=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,a=n.height;return!(!Ee(r)||r<=0||!Ee(a)||a<=0)},pDe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],gDe=function(t){return t&&t.type&&Df(t.type)&&pDe.indexOf(t.type)>=0},cae=function(t){return t&&xD(t)==="object"&&"clipDot"in t},vDe=function(t,n,r,a){var i,o=(i=hT==null?void 0:hT[a])!==null&&i!==void 0?i:[];return n.startsWith("data-")||!yt(t)&&(a&&o.includes(n)||dDe.includes(n))||r&&$$.includes(n)},ot=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(b.isValidElement(t)&&(a=t.props),!Sv(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;vDe((l=a)===null||l===void 0?void 0:l[o],o,n,r)&&(i[o]=a[o])}),i},yD=function e(t,n){if(t===n)return!0;var r=b.Children.count(t);if(r!==b.Children.count(n))return!1;if(r===0)return!0;if(r===1)return qL(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var a=0;a<r;a++){var i=t[a],o=n[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!qL(i,o))return!1}return!0},qL=function(t,n){if(_t(t)&&_t(n))return!0;if(!_t(t)&&!_t(n)){var r=t.props||{},a=r.children,i=UL(r,hDe),o=n.props||{},l=o.children,c=UL(o,fDe);return a&&l?fp(i,c)&&yD(a,l):!a&&!l?fp(i,c):!1}return!1},KL=function(t,n){var r=[],a={};return I$(t).forEach(function(i,o){if(gDe(i))r.push(i);else if(i){var l=Gc(i.type),c=n[l]||{},d=c.handler,u=c.once;if(d&&(!u||!a[l])){var h=d(i,l,o);r.push(h),a[l]=!0}}}),r},xDe=function(t){var n=t&&t.type;return n&&VL[n]?VL[n]:null},yDe=function(t,n){return I$(n).indexOf(t)},bDe=["children","width","height","viewBox","className","style","title","desc"];function bD(){return bD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bD.apply(this,arguments)}function jDe(e,t){if(e==null)return{};var n=wDe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function wDe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function jD(e){var t=e.children,n=e.width,r=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,d=jDe(e,bDe),u=a||{width:n,height:r,x:0,y:0},h=Ct("recharts-surface",i);return O.createElement("svg",bD({},ot(d,!0,"svg"),{className:h,width:n,height:r,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),O.createElement("title",null,l),O.createElement("desc",null,c),t)}var NDe=["children","className"];function wD(){return wD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wD.apply(this,arguments)}function SDe(e,t){if(e==null)return{};var n=CDe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function CDe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Vt=O.forwardRef(function(e,t){var n=e.children,r=e.className,a=SDe(e,NDe),i=Ct("recharts-layer",r);return O.createElement("g",wD({className:i},ot(a,!0),{ref:t}),n)}),qo=function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i]};function kDe(e,t,n){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),n=n>a?a:n,n<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(a);++r<a;)i[r]=e[r+t];return i}var F$=kDe,_De=F$;function PDe(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:_De(e,t,n)}var TDe=PDe,ADe="\\ud800-\\udfff",EDe="\\u0300-\\u036f",DDe="\\ufe20-\\ufe2f",ODe="\\u20d0-\\u20ff",MDe=EDe+DDe+ODe,RDe="\\ufe0e\\ufe0f",$De="\\u200d",IDe=RegExp("["+$De+ADe+MDe+RDe+"]");function FDe(e){return IDe.test(e)}var dae=FDe;function LDe(e){return e.split("")}var zDe=LDe,uae="\\ud800-\\udfff",BDe="\\u0300-\\u036f",UDe="\\ufe20-\\ufe2f",VDe="\\u20d0-\\u20ff",WDe=BDe+UDe+VDe,HDe="\\ufe0e\\ufe0f",qDe="["+uae+"]",ND="["+WDe+"]",SD="\\ud83c[\\udffb-\\udfff]",KDe="(?:"+ND+"|"+SD+")",hae="[^"+uae+"]",fae="(?:\\ud83c[\\udde6-\\uddff]){2}",mae="[\\ud800-\\udbff][\\udc00-\\udfff]",GDe="\\u200d",pae=KDe+"?",gae="["+HDe+"]?",YDe="(?:"+GDe+"(?:"+[hae,fae,mae].join("|")+")"+gae+pae+")*",XDe=gae+pae+YDe,QDe="(?:"+[hae+ND+"?",ND,fae,mae,qDe].join("|")+")",ZDe=RegExp(SD+"(?="+SD+")|"+QDe+XDe,"g");function JDe(e){return e.match(ZDe)||[]}var eOe=JDe,tOe=zDe,nOe=dae,rOe=eOe;function sOe(e){return nOe(e)?rOe(e):tOe(e)}var aOe=sOe,iOe=TDe,oOe=dae,lOe=aOe,cOe=sae;function dOe(e){return function(t){t=cOe(t);var n=oOe(t)?lOe(t):void 0,r=n?n[0]:t.charAt(0),a=n?iOe(n,1).join(""):t.slice(1);return r[e]()+a}}var uOe=dOe,hOe=uOe,fOe=hOe("toUpperCase"),mOe=fOe;const Gk=Tt(mOe);function En(e){return function(){return e}}const vae=Math.cos,AS=Math.sin,ul=Math.sqrt,ES=Math.PI,Yk=2*ES,CD=Math.PI,kD=2*CD,xh=1e-6,pOe=kD-xh;function xae(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function gOe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return xae;const n=10**t;return function(r){this._+=r[0];for(let a=1,i=r.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class vOe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?xae:gOe(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,a){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,n,r,a,i,o){this._append`C${+t},${+n},${+r},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,n,r,a,i){if(t=+t,n=+n,r=+r,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=r-t,d=a-n,u=o-t,h=l-n,f=u*u+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(f>xh)if(!(Math.abs(h*c-d*u)>xh)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let g=r-o,m=a-l,p=c*c+d*d,x=g*g+m*m,v=Math.sqrt(p),y=Math.sqrt(f),j=i*Math.tan((CD-Math.acos((p+f-x)/(2*v*y)))/2),N=j/y,w=j/v;Math.abs(N-1)>xh&&this._append`L${t+N*u},${n+N*h}`,this._append`A${i},${i},0,0,${+(h*g>u*m)},${this._x1=t+w*c},${this._y1=n+w*d}`}}arc(t,n,r,a,i,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(a),c=r*Math.sin(a),d=t+l,u=n+c,h=1^o,f=o?a-i:i-a;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>xh||Math.abs(this._y1-u)>xh)&&this._append`L${d},${u}`,r&&(f<0&&(f=f%kD+kD),f>pOe?this._append`A${r},${r},0,1,${h},${t-l},${n-c}A${r},${r},0,1,${h},${this._x1=d},${this._y1=u}`:f>xh&&this._append`A${r},${r},0,${+(f>=CD)},${h},${this._x1=t+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(t,n,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function L$(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new vOe(t)}function z$(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function yae(e){this._context=e}yae.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Xk(e){return new yae(e)}function bae(e){return e[0]}function jae(e){return e[1]}function wae(e,t){var n=En(!0),r=null,a=Xk,i=null,o=L$(l);e=typeof e=="function"?e:e===void 0?bae:En(e),t=typeof t=="function"?t:t===void 0?jae:En(t);function l(c){var d,u=(c=z$(c)).length,h,f=!1,g;for(r==null&&(i=a(g=o())),d=0;d<=u;++d)!(d<u&&n(h=c[d],d,c))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+e(h,d,c),+t(h,d,c));if(g)return i=null,g+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:En(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:En(+c),l):t},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:En(!!c),l):n},l.curve=function(c){return arguments.length?(a=c,r!=null&&(i=a(r)),l):a},l.context=function(c){return arguments.length?(c==null?r=i=null:i=a(r=c),l):r},l}function Gw(e,t,n){var r=null,a=En(!0),i=null,o=Xk,l=null,c=L$(d);e=typeof e=="function"?e:e===void 0?bae:En(+e),t=typeof t=="function"?t:En(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?jae:En(+n);function d(h){var f,g,m,p=(h=z$(h)).length,x,v=!1,y,j=new Array(p),N=new Array(p);for(i==null&&(l=o(y=c())),f=0;f<=p;++f){if(!(f<p&&a(x=h[f],f,h))===v)if(v=!v)g=f,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),m=f-1;m>=g;--m)l.point(j[m],N[m]);l.lineEnd(),l.areaEnd()}v&&(j[f]=+e(x,f,h),N[f]=+t(x,f,h),l.point(r?+r(x,f,h):j[f],n?+n(x,f,h):N[f]))}if(y)return l=null,y+""||null}function u(){return wae().defined(a).curve(o).context(i)}return d.x=function(h){return arguments.length?(e=typeof h=="function"?h:En(+h),r=null,d):e},d.x0=function(h){return arguments.length?(e=typeof h=="function"?h:En(+h),d):e},d.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:En(+h),d):r},d.y=function(h){return arguments.length?(t=typeof h=="function"?h:En(+h),n=null,d):t},d.y0=function(h){return arguments.length?(t=typeof h=="function"?h:En(+h),d):t},d.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:En(+h),d):n},d.lineX0=d.lineY0=function(){return u().x(e).y(t)},d.lineY1=function(){return u().x(e).y(n)},d.lineX1=function(){return u().x(r).y(t)},d.defined=function(h){return arguments.length?(a=typeof h=="function"?h:En(!!h),d):a},d.curve=function(h){return arguments.length?(o=h,i!=null&&(l=o(i)),d):o},d.context=function(h){return arguments.length?(h==null?i=l=null:l=o(i=h),d):i},d}class Nae{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function xOe(e){return new Nae(e,!0)}function yOe(e){return new Nae(e,!1)}const B$={draw(e,t){const n=ul(t/ES);e.moveTo(n,0),e.arc(0,0,n,0,Yk)}},bOe={draw(e,t){const n=ul(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Sae=ul(1/3),jOe=Sae*2,wOe={draw(e,t){const n=ul(t/jOe),r=n*Sae;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},NOe={draw(e,t){const n=ul(t),r=-n/2;e.rect(r,r,n,n)}},SOe=.8908130915292852,Cae=AS(ES/10)/AS(7*ES/10),COe=AS(Yk/10)*Cae,kOe=-vae(Yk/10)*Cae,_Oe={draw(e,t){const n=ul(t*SOe),r=COe*n,a=kOe*n;e.moveTo(0,-n),e.lineTo(r,a);for(let i=1;i<5;++i){const o=Yk*i/5,l=vae(o),c=AS(o);e.lineTo(c*n,-l*n),e.lineTo(l*r-c*a,c*r+l*a)}e.closePath()}},mT=ul(3),POe={draw(e,t){const n=-ul(t/(mT*3));e.moveTo(0,n*2),e.lineTo(-mT*n,-n),e.lineTo(mT*n,-n),e.closePath()}},Ai=-.5,Ei=ul(3)/2,_D=1/ul(12),TOe=(_D/2+1)*3,AOe={draw(e,t){const n=ul(t/TOe),r=n/2,a=n*_D,i=r,o=n*_D+n,l=-i,c=o;e.moveTo(r,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(Ai*r-Ei*a,Ei*r+Ai*a),e.lineTo(Ai*i-Ei*o,Ei*i+Ai*o),e.lineTo(Ai*l-Ei*c,Ei*l+Ai*c),e.lineTo(Ai*r+Ei*a,Ai*a-Ei*r),e.lineTo(Ai*i+Ei*o,Ai*o-Ei*i),e.lineTo(Ai*l+Ei*c,Ai*c-Ei*l),e.closePath()}};function EOe(e,t){let n=null,r=L$(a);e=typeof e=="function"?e:En(e||B$),t=typeof t=="function"?t:En(t===void 0?64:+t);function a(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:En(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:En(+i),a):t},a.context=function(i){return arguments.length?(n=i??null,a):n},a}function DS(){}function OS(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function kae(e){this._context=e}kae.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:OS(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:OS(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function DOe(e){return new kae(e)}function _ae(e){this._context=e}_ae.prototype={areaStart:DS,areaEnd:DS,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:OS(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function OOe(e){return new _ae(e)}function Pae(e){this._context=e}Pae.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:OS(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function MOe(e){return new Pae(e)}function Tae(e){this._context=e}Tae.prototype={areaStart:DS,areaEnd:DS,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function ROe(e){return new Tae(e)}function GL(e){return e<0?-1:1}function YL(e,t,n){var r=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(r||a<0&&-0),o=(n-e._y1)/(a||r<0&&-0),l=(i*a+o*r)/(r+a);return(GL(i)+GL(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function XL(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function pT(e,t,n){var r=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-r)/3;e._context.bezierCurveTo(r+l,a+l*t,i-l,o-l*n,i,o)}function MS(e){this._context=e}MS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:pT(this,this._t0,XL(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,pT(this,XL(this,n=YL(this,e,t)),n);break;default:pT(this,this._t0,n=YL(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function Aae(e){this._context=new Eae(e)}(Aae.prototype=Object.create(MS.prototype)).point=function(e,t){MS.prototype.point.call(this,t,e)};function Eae(e){this._context=e}Eae.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,i){this._context.bezierCurveTo(t,e,r,n,i,a)}};function $Oe(e){return new MS(e)}function IOe(e){return new Aae(e)}function Dae(e){this._context=e}Dae.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=QL(e),a=QL(t),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function QL(e){var t,n=e.length-1,r,a=new Array(n),i=new Array(n),o=new Array(n);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,i[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/i[t-1],i[t]-=r,o[t]-=r*o[t-1];for(a[n-1]=o[n-1]/i[n-1],t=n-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function FOe(e){return new Dae(e)}function Qk(e,t){this._context=e,this._t=t}Qk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function LOe(e){return new Qk(e,.5)}function zOe(e){return new Qk(e,0)}function BOe(e){return new Qk(e,1)}function jg(e,t){if((o=e.length)>1)for(var n=1,r,a,i=e[t[0]],o,l=i.length;n<o;++n)for(a=i,i=e[t[n]],r=0;r<l;++r)i[r][1]+=i[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function PD(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function UOe(e,t){return e[t]}function VOe(e){const t=[];return t.key=e,t}function WOe(){var e=En([]),t=PD,n=jg,r=UOe;function a(i){var o=Array.from(e.apply(this,arguments),VOe),l,c=o.length,d=-1,u;for(const h of i)for(l=0,++d;l<c;++l)(o[l][d]=[0,+r(h,o[l].key,d,i)]).data=h;for(l=0,u=z$(t(o));l<c;++l)o[u[l]].index=l;return n(o,u),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:En(Array.from(i)),a):e},a.value=function(i){return arguments.length?(r=typeof i=="function"?i:En(+i),a):r},a.order=function(i){return arguments.length?(t=i==null?PD:typeof i=="function"?i:En(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(n=i??jg,a):n},a}function HOe(e,t){if((r=e.length)>0){for(var n,r,a=0,i=e[0].length,o;a<i;++a){for(o=n=0;n<r;++n)o+=e[n][a][1]||0;if(o)for(n=0;n<r;++n)e[n][a][1]/=o}jg(e,t)}}function qOe(e,t){if((a=e.length)>0){for(var n=0,r=e[t[0]],a,i=r.length;n<i;++n){for(var o=0,l=0;o<a;++o)l+=e[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}jg(e,t)}}function KOe(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var n=0,r=1,a,i,o;r<i;++r){for(var l=0,c=0,d=0;l<o;++l){for(var u=e[t[l]],h=u[r][1]||0,f=u[r-1][1]||0,g=(h-f)/2,m=0;m<l;++m){var p=e[t[m]],x=p[r][1]||0,v=p[r-1][1]||0;g+=x-v}c+=h,d+=g*h}a[r-1][1]+=a[r-1][0]=n,c&&(n-=d/c)}a[r-1][1]+=a[r-1][0]=n,jg(e,t)}}function N0(e){"@babel/helpers - typeof";return N0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N0(e)}var GOe=["type","size","sizeType"];function TD(){return TD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TD.apply(this,arguments)}function ZL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function JL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZL(Object(n),!0).forEach(function(r){YOe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YOe(e,t,n){return t=XOe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XOe(e){var t=QOe(e,"string");return N0(t)=="symbol"?t:t+""}function QOe(e,t){if(N0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(N0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZOe(e,t){if(e==null)return{};var n=JOe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function JOe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Oae={symbolCircle:B$,symbolCross:bOe,symbolDiamond:wOe,symbolSquare:NOe,symbolStar:_Oe,symbolTriangle:POe,symbolWye:AOe},eMe=Math.PI/180,tMe=function(t){var n="symbol".concat(Gk(t));return Oae[n]||B$},nMe=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*eMe;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},rMe=function(t,n){Oae["symbol".concat(Gk(t))]=n},U$=function(t){var n=t.type,r=n===void 0?"circle":n,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=ZOe(t,GOe),d=JL(JL({},c),{},{type:r,size:i,sizeType:l}),u=function(){var x=tMe(r),v=EOe().type(x).size(nMe(i,l,r));return v()},h=d.className,f=d.cx,g=d.cy,m=ot(d,!0);return f===+f&&g===+g&&i===+i?O.createElement("path",TD({},m,{className:Ct("recharts-symbols",h),transform:"translate(".concat(f,", ").concat(g,")"),d:u()})):null};U$.registerSymbol=rMe;function wg(e){"@babel/helpers - typeof";return wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wg(e)}function AD(){return AD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AD.apply(this,arguments)}function e8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function sMe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?e8(Object(n),!0).forEach(function(r){S0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iMe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Rae(r.key),r)}}function oMe(e,t,n){return t&&iMe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lMe(e,t,n){return t=RS(t),cMe(e,Mae()?Reflect.construct(t,n||[],RS(e).constructor):t.apply(e,n))}function cMe(e,t){if(t&&(wg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dMe(e)}function dMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mae(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mae=function(){return!!e})()}function RS(e){return RS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},RS(e)}function uMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ED(e,t)}function ED(e,t){return ED=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},ED(e,t)}function S0(e,t,n){return t=Rae(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rae(e){var t=hMe(e,"string");return wg(t)=="symbol"?t:t+""}function hMe(e,t){if(wg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(wg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Di=32,V$=function(e){function t(){return aMe(this,t),lMe(this,t,arguments)}return uMe(t,e),oMe(t,[{key:"renderIcon",value:function(r){var a=this.props.inactiveColor,i=Di/2,o=Di/6,l=Di/3,c=r.inactive?a:r.color;if(r.type==="plainline")return O.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:i,x2:Di,y2:i,className:"recharts-legend-icon"});if(r.type==="line")return O.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Di,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(r.type==="rect")return O.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Di/8,"h").concat(Di,"v").concat(Di*3/4,"h").concat(-Di,"z"),className:"recharts-legend-icon"});if(O.isValidElement(r.legendIcon)){var d=sMe({},r);return delete d.legendIcon,O.cloneElement(r.legendIcon,d)}return O.createElement(U$,{fill:c,cx:i,cy:i,size:Di,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,d=a.inactiveColor,u={x:0,y:0,width:Di,height:Di},h={display:l==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(g,m){var p=g.formatter||c,x=Ct(S0(S0({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",g.inactive));if(g.type==="none")return null;var v=yt(g.value)?null:g.value;qo(!yt(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=g.inactive?d:g.color;return O.createElement("li",AD({className:x,style:h,key:"legend-item-".concat(m)},Of(r.props,g,m)),O.createElement(jD,{width:o,height:o,viewBox:u,style:f},r.renderIcon(g)),O.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},p?p(v,g,m):v))})}},{key:"render",value:function(){var r=this.props,a=r.payload,i=r.layout,o=r.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return O.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(b.PureComponent);S0(V$,"displayName","Legend");S0(V$,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var fMe=Ok;function mMe(){this.__data__=new fMe,this.size=0}var pMe=mMe;function gMe(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var vMe=gMe;function xMe(e){return this.__data__.get(e)}var yMe=xMe;function bMe(e){return this.__data__.has(e)}var jMe=bMe,wMe=Ok,NMe=E$,SMe=D$,CMe=200;function kMe(e,t){var n=this.__data__;if(n instanceof wMe){var r=n.__data__;if(!NMe||r.length<CMe-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new SMe(r)}return n.set(e,t),this.size=n.size,this}var _Me=kMe,PMe=Ok,TMe=pMe,AMe=vMe,EMe=yMe,DMe=jMe,OMe=_Me;function Tv(e){var t=this.__data__=new PMe(e);this.size=t.size}Tv.prototype.clear=TMe;Tv.prototype.delete=AMe;Tv.prototype.get=EMe;Tv.prototype.has=DMe;Tv.prototype.set=OMe;var W$=Tv,MMe="__lodash_hash_undefined__";function RMe(e){return this.__data__.set(e,MMe),this}var $Me=RMe;function IMe(e){return this.__data__.has(e)}var FMe=IMe,LMe=D$,zMe=$Me,BMe=FMe;function $S(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new LMe;++t<n;)this.add(e[t])}$S.prototype.add=$S.prototype.push=zMe;$S.prototype.has=BMe;var $ae=$S;function UMe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Iae=UMe;function VMe(e,t){return e.has(t)}var Fae=VMe,WMe=$ae,HMe=Iae,qMe=Fae,KMe=1,GMe=2;function YMe(e,t,n,r,a,i){var o=n&KMe,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var d=i.get(e),u=i.get(t);if(d&&u)return d==t&&u==e;var h=-1,f=!0,g=n&GMe?new WMe:void 0;for(i.set(e,t),i.set(t,e);++h<l;){var m=e[h],p=t[h];if(r)var x=o?r(p,m,h,t,e,i):r(m,p,h,e,t,i);if(x!==void 0){if(x)continue;f=!1;break}if(g){if(!HMe(t,function(v,y){if(!qMe(g,y)&&(m===v||a(m,v,n,r,i)))return g.push(y)})){f=!1;break}}else if(!(m===p||a(m,p,n,r,i))){f=!1;break}}return i.delete(e),i.delete(t),f}var Lae=YMe,XMe=cl,QMe=XMe.Uint8Array,zae=QMe;function ZMe(e){var t=-1,n=Array(e.size);return e.forEach(function(r,a){n[++t]=[a,r]}),n}var JMe=ZMe;function e4e(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var H$=e4e,t8=wv,n8=zae,t4e=zj,n4e=Lae,r4e=JMe,s4e=H$,a4e=1,i4e=2,o4e="[object Boolean]",l4e="[object Date]",c4e="[object Error]",d4e="[object Map]",u4e="[object Number]",h4e="[object RegExp]",f4e="[object Set]",m4e="[object String]",p4e="[object Symbol]",g4e="[object ArrayBuffer]",v4e="[object DataView]",r8=t8?t8.prototype:void 0,gT=r8?r8.valueOf:void 0;function x4e(e,t,n,r,a,i,o){switch(n){case v4e:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case g4e:return!(e.byteLength!=t.byteLength||!i(new n8(e),new n8(t)));case o4e:case l4e:case u4e:return t4e(+e,+t);case c4e:return e.name==t.name&&e.message==t.message;case h4e:case m4e:return e==t+"";case d4e:var l=r4e;case f4e:var c=r&a4e;if(l||(l=s4e),e.size!=t.size&&!c)return!1;var d=o.get(e);if(d)return d==t;r|=i4e,o.set(e,t);var u=n4e(l(e),l(t),r,a,i,o);return o.delete(e),u;case p4e:if(gT)return gT.call(e)==gT.call(t)}return!1}var y4e=x4e;function b4e(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}var q$=b4e,j4e=q$,w4e=aa;function N4e(e,t,n){var r=t(e);return w4e(e)?r:j4e(r,n(e))}var Bae=N4e;function S4e(e,t){for(var n=-1,r=e==null?0:e.length,a=0,i=[];++n<r;){var o=e[n];t(o,n,e)&&(i[a++]=o)}return i}var C4e=S4e;function k4e(){return[]}var Uae=k4e,_4e=C4e,P4e=Uae,T4e=Object.prototype,A4e=T4e.propertyIsEnumerable,s8=Object.getOwnPropertySymbols,E4e=s8?function(e){return e==null?[]:(e=Object(e),_4e(s8(e),function(t){return A4e.call(e,t)}))}:P4e,K$=E4e;function D4e(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var O4e=D4e,M4e=xd,R4e=dl,$4e="[object Arguments]";function I4e(e){return R4e(e)&&M4e(e)==$4e}var F4e=I4e,a8=F4e,L4e=dl,Vae=Object.prototype,z4e=Vae.hasOwnProperty,B4e=Vae.propertyIsEnumerable,U4e=a8(function(){return arguments}())?a8:function(e){return L4e(e)&&z4e.call(e,"callee")&&!B4e.call(e,"callee")},G$=U4e,IS={exports:{}};function V4e(){return!1}var W4e=V4e;IS.exports;(function(e,t){var n=cl,r=W4e,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||r;e.exports=d})(IS,IS.exports);var Zk=IS.exports,H4e=9007199254740991,q4e=/^(?:0|[1-9]\d*)$/;function K4e(e,t){var n=typeof e;return t=t??H4e,!!t&&(n=="number"||n!="symbol"&&q4e.test(e))&&e>-1&&e%1==0&&e<t}var Y$=K4e,G4e=9007199254740991;function Y4e(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=G4e}var X$=Y4e,X4e=xd,Q4e=X$,Z4e=dl,J4e="[object Arguments]",eRe="[object Array]",tRe="[object Boolean]",nRe="[object Date]",rRe="[object Error]",sRe="[object Function]",aRe="[object Map]",iRe="[object Number]",oRe="[object Object]",lRe="[object RegExp]",cRe="[object Set]",dRe="[object String]",uRe="[object WeakMap]",hRe="[object ArrayBuffer]",fRe="[object DataView]",mRe="[object Float32Array]",pRe="[object Float64Array]",gRe="[object Int8Array]",vRe="[object Int16Array]",xRe="[object Int32Array]",yRe="[object Uint8Array]",bRe="[object Uint8ClampedArray]",jRe="[object Uint16Array]",wRe="[object Uint32Array]",Ln={};Ln[mRe]=Ln[pRe]=Ln[gRe]=Ln[vRe]=Ln[xRe]=Ln[yRe]=Ln[bRe]=Ln[jRe]=Ln[wRe]=!0;Ln[J4e]=Ln[eRe]=Ln[hRe]=Ln[tRe]=Ln[fRe]=Ln[nRe]=Ln[rRe]=Ln[sRe]=Ln[aRe]=Ln[iRe]=Ln[oRe]=Ln[lRe]=Ln[cRe]=Ln[dRe]=Ln[uRe]=!1;function NRe(e){return Z4e(e)&&Q4e(e.length)&&!!Ln[X4e(e)]}var SRe=NRe;function CRe(e){return function(t){return e(t)}}var Jk=CRe,FS={exports:{}};FS.exports;(function(e,t){var n=Zse,r=t&&!t.nodeType&&t,a=r&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===r,o=i&&n.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(FS,FS.exports);var Q$=FS.exports,kRe=SRe,_Re=Jk,i8=Q$,o8=i8&&i8.isTypedArray,PRe=o8?_Re(o8):kRe,Z$=PRe,TRe=O4e,ARe=G$,ERe=aa,DRe=Zk,ORe=Y$,MRe=Z$,RRe=Object.prototype,$Re=RRe.hasOwnProperty;function IRe(e,t){var n=ERe(e),r=!n&&ARe(e),a=!n&&!r&&DRe(e),i=!n&&!r&&!a&&MRe(e),o=n||r||a||i,l=o?TRe(e.length,String):[],c=l.length;for(var d in e)(t||$Re.call(e,d))&&!(o&&(d=="length"||a&&(d=="offset"||d=="parent")||i&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||ORe(d,c)))&&l.push(d);return l}var Wae=IRe,FRe=Object.prototype;function LRe(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||FRe;return e===n}var J$=LRe;function zRe(e,t){return function(n){return e(t(n))}}var Hae=zRe,BRe=Hae,URe=BRe(Object.keys,Object),VRe=URe,WRe=J$,HRe=VRe,qRe=Object.prototype,KRe=qRe.hasOwnProperty;function GRe(e){if(!WRe(e))return HRe(e);var t=[];for(var n in Object(e))KRe.call(e,n)&&n!="constructor"&&t.push(n);return t}var YRe=GRe,XRe=Ak,QRe=X$;function ZRe(e){return e!=null&&QRe(e.length)&&!XRe(e)}var Av=ZRe,JRe=Wae,e$e=YRe,t$e=Av;function n$e(e){return t$e(e)?JRe(e):e$e(e)}var Ev=n$e,r$e=Bae,s$e=K$,a$e=Ev;function i$e(e){return r$e(e,a$e,s$e)}var qae=i$e,l8=qae,o$e=1,l$e=Object.prototype,c$e=l$e.hasOwnProperty;function d$e(e,t,n,r,a,i){var o=n&o$e,l=l8(e),c=l.length,d=l8(t),u=d.length;if(c!=u&&!o)return!1;for(var h=c;h--;){var f=l[h];if(!(o?f in t:c$e.call(t,f)))return!1}var g=i.get(e),m=i.get(t);if(g&&m)return g==t&&m==e;var p=!0;i.set(e,t),i.set(t,e);for(var x=o;++h<c;){f=l[h];var v=e[f],y=t[f];if(r)var j=o?r(y,v,f,t,e,i):r(v,y,f,e,t,i);if(!(j===void 0?v===y||a(v,y,n,r,i):j)){p=!1;break}x||(x=f=="constructor")}if(p&&!x){var N=e.constructor,w=t.constructor;N!=w&&"constructor"in e&&"constructor"in t&&!(typeof N=="function"&&N instanceof N&&typeof w=="function"&&w instanceof w)&&(p=!1)}return i.delete(e),i.delete(t),p}var u$e=d$e,h$e=tm,f$e=cl,m$e=h$e(f$e,"DataView"),p$e=m$e,g$e=tm,v$e=cl,x$e=g$e(v$e,"Promise"),y$e=x$e,b$e=tm,j$e=cl,w$e=b$e(j$e,"Set"),Kae=w$e,N$e=tm,S$e=cl,C$e=N$e(S$e,"WeakMap"),k$e=C$e,DD=p$e,OD=E$,MD=y$e,RD=Kae,$D=k$e,Gae=xd,Dv=eae,c8="[object Map]",_$e="[object Object]",d8="[object Promise]",u8="[object Set]",h8="[object WeakMap]",f8="[object DataView]",P$e=Dv(DD),T$e=Dv(OD),A$e=Dv(MD),E$e=Dv(RD),D$e=Dv($D),yh=Gae;(DD&&yh(new DD(new ArrayBuffer(1)))!=f8||OD&&yh(new OD)!=c8||MD&&yh(MD.resolve())!=d8||RD&&yh(new RD)!=u8||$D&&yh(new $D)!=h8)&&(yh=function(e){var t=Gae(e),n=t==_$e?e.constructor:void 0,r=n?Dv(n):"";if(r)switch(r){case P$e:return f8;case T$e:return c8;case A$e:return d8;case E$e:return u8;case D$e:return h8}return t});var e_=yh,vT=W$,O$e=Lae,M$e=y4e,R$e=u$e,m8=e_,p8=aa,g8=Zk,$$e=Z$,I$e=1,v8="[object Arguments]",x8="[object Array]",Yw="[object Object]",F$e=Object.prototype,y8=F$e.hasOwnProperty;function L$e(e,t,n,r,a,i){var o=p8(e),l=p8(t),c=o?x8:m8(e),d=l?x8:m8(t);c=c==v8?Yw:c,d=d==v8?Yw:d;var u=c==Yw,h=d==Yw,f=c==d;if(f&&g8(e)){if(!g8(t))return!1;o=!0,u=!1}if(f&&!u)return i||(i=new vT),o||$$e(e)?O$e(e,t,n,r,a,i):M$e(e,t,c,n,r,a,i);if(!(n&I$e)){var g=u&&y8.call(e,"__wrapped__"),m=h&&y8.call(t,"__wrapped__");if(g||m){var p=g?e.value():e,x=m?t.value():t;return i||(i=new vT),a(p,x,n,r,i)}}return f?(i||(i=new vT),R$e(e,t,n,r,a,i)):!1}var z$e=L$e,B$e=z$e,b8=dl;function Yae(e,t,n,r,a){return e===t?!0:e==null||t==null||!b8(e)&&!b8(t)?e!==e&&t!==t:B$e(e,t,n,r,Yae,a)}var eI=Yae,U$e=W$,V$e=eI,W$e=1,H$e=2;function q$e(e,t,n,r){var a=n.length,i=a,o=!r;if(e==null)return!i;for(e=Object(e);a--;){var l=n[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=n[a];var c=l[0],d=e[c],u=l[1];if(o&&l[2]){if(d===void 0&&!(c in e))return!1}else{var h=new U$e;if(r)var f=r(d,u,c,e,t,h);if(!(f===void 0?V$e(u,d,W$e|H$e,r,h):f))return!1}}return!0}var K$e=q$e,G$e=lo;function Y$e(e){return e===e&&!G$e(e)}var Xae=Y$e,X$e=Xae,Q$e=Ev;function Z$e(e){for(var t=Q$e(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,X$e(a)]}return t}var J$e=Z$e;function eIe(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var Qae=eIe,tIe=K$e,nIe=J$e,rIe=Qae;function sIe(e){var t=nIe(e);return t.length==1&&t[0][2]?rIe(t[0][0],t[0][1]):function(n){return n===e||tIe(n,e,t)}}var aIe=sIe;function iIe(e,t){return e!=null&&t in Object(e)}var oIe=iIe,lIe=$k,cIe=G$,dIe=aa,uIe=Y$,hIe=X$,fIe=Bj;function mIe(e,t,n){t=lIe(t,e);for(var r=-1,a=t.length,i=!1;++r<a;){var o=fIe(t[r]);if(!(i=e!=null&&n(e,o)))break;e=e[o]}return i||++r!=a?i:(a=e==null?0:e.length,!!a&&hIe(a)&&uIe(o,a)&&(dIe(e)||cIe(e)))}var pIe=mIe,gIe=oIe,vIe=pIe;function xIe(e,t){return e!=null&&vIe(e,t,gIe)}var yIe=xIe,bIe=eI,jIe=aae,wIe=yIe,NIe=A$,SIe=Xae,CIe=Qae,kIe=Bj,_Ie=1,PIe=2;function TIe(e,t){return NIe(e)&&SIe(t)?CIe(kIe(e),t):function(n){var r=jIe(n,e);return r===void 0&&r===t?wIe(n,e):bIe(t,r,_Ie|PIe)}}var AIe=TIe;function EIe(e){return e}var Ov=EIe;function DIe(e){return function(t){return t==null?void 0:t[e]}}var OIe=DIe,MIe=Ik;function RIe(e){return function(t){return MIe(t,e)}}var $Ie=RIe,IIe=OIe,FIe=$Ie,LIe=A$,zIe=Bj;function BIe(e){return LIe(e)?IIe(zIe(e)):FIe(e)}var UIe=BIe,VIe=aIe,WIe=AIe,HIe=Ov,qIe=aa,KIe=UIe;function GIe(e){return typeof e=="function"?e:e==null?HIe:typeof e=="object"?qIe(e)?WIe(e[0],e[1]):VIe(e):KIe(e)}var hl=GIe;function YIe(e,t,n,r){for(var a=e.length,i=n+(r?1:-1);r?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var Zae=YIe;function XIe(e){return e!==e}var QIe=XIe;function ZIe(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1}var JIe=ZIe,eFe=Zae,tFe=QIe,nFe=JIe;function rFe(e,t,n){return t===t?nFe(e,t,n):eFe(e,tFe,n)}var sFe=rFe,aFe=sFe;function iFe(e,t){var n=e==null?0:e.length;return!!n&&aFe(e,t,0)>-1}var oFe=iFe;function lFe(e,t,n){for(var r=-1,a=e==null?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}var cFe=lFe;function dFe(){}var uFe=dFe,xT=Kae,hFe=uFe,fFe=H$,mFe=1/0,pFe=xT&&1/fFe(new xT([,-0]))[1]==mFe?function(e){return new xT(e)}:hFe,gFe=pFe,vFe=$ae,xFe=oFe,yFe=cFe,bFe=Fae,jFe=gFe,wFe=H$,NFe=200;function SFe(e,t,n){var r=-1,a=xFe,i=e.length,o=!0,l=[],c=l;if(n)o=!1,a=yFe;else if(i>=NFe){var d=t?null:jFe(e);if(d)return wFe(d);o=!1,a=bFe,c=new vFe}else c=t?[]:l;e:for(;++r<i;){var u=e[r],h=t?t(u):u;if(u=n||u!==0?u:0,o&&h===h){for(var f=c.length;f--;)if(c[f]===h)continue e;t&&c.push(h),l.push(u)}else a(c,h,n)||(c!==l&&c.push(h),l.push(u))}return l}var CFe=SFe,kFe=hl,_Fe=CFe;function PFe(e,t){return e&&e.length?_Fe(e,kFe(t)):[]}var TFe=PFe;const j8=Tt(TFe);function Jae(e,t,n){return t===!0?j8(e,n):yt(t)?j8(e,t):e}function Ng(e){"@babel/helpers - typeof";return Ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ng(e)}var AFe=["ref"];function w8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function yc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?w8(Object(n),!0).forEach(function(r){t_(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function EFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tie(r.key),r)}}function DFe(e,t,n){return t&&N8(e.prototype,t),n&&N8(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function OFe(e,t,n){return t=LS(t),MFe(e,eie()?Reflect.construct(t,n||[],LS(e).constructor):t.apply(e,n))}function MFe(e,t){if(t&&(Ng(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RFe(e)}function RFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eie=function(){return!!e})()}function LS(e){return LS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},LS(e)}function $Fe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ID(e,t)}function ID(e,t){return ID=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},ID(e,t)}function t_(e,t,n){return t=tie(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tie(e){var t=IFe(e,"string");return Ng(t)=="symbol"?t:t+""}function IFe(e,t){if(Ng(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ng(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FFe(e,t){if(e==null)return{};var n=LFe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function LFe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function zFe(e){return e.value}function BFe(e,t){if(O.isValidElement(e))return O.cloneElement(e,t);if(typeof e=="function")return O.createElement(e,t);t.ref;var n=FFe(t,AFe);return O.createElement(V$,n)}var S8=1,Gl=function(e){function t(){var n;EFe(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=OFe(this,t,[].concat(a)),t_(n,"lastBoundingBox",{width:-1,height:-1}),n}return $Fe(t,e),DFe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>S8||Math.abs(a.height-this.lastBoundingBox.height)>S8)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,r&&r(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?yc({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,d=a.chartWidth,u=a.chartHeight,h,f;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&i==="vertical"){var g=this.getBBoxSnapshot();h={left:((d||0)-g.width)/2}}else h=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var m=this.getBBoxSnapshot();f={top:((u||0)-m.height)/2}}else f=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return yc(yc({},h),f)}},{key:"render",value:function(){var r=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,d=a.payloadUniqBy,u=a.payload,h=yc(yc({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return O.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(g){r.wrapperNode=g}},BFe(i,yc(yc({},this.props),{},{payload:Jae(u,d,zFe)})))}}],[{key:"getWithHeight",value:function(r,a){var i=yc(yc({},this.defaultProps),r.props),o=i.layout;return o==="vertical"&&Ee(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||a}:null}}])}(b.PureComponent);t_(Gl,"displayName","Legend");t_(Gl,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var C8=wv,UFe=G$,VFe=aa,k8=C8?C8.isConcatSpreadable:void 0;function WFe(e){return VFe(e)||UFe(e)||!!(k8&&e&&e[k8])}var HFe=WFe,qFe=q$,KFe=HFe;function nie(e,t,n,r,a){var i=-1,o=e.length;for(n||(n=KFe),a||(a=[]);++i<o;){var l=e[i];t>0&&n(l)?t>1?nie(l,t-1,n,r,a):qFe(a,l):r||(a[a.length]=l)}return a}var tI=nie;function GFe(e){return function(t,n,r){for(var a=-1,i=Object(t),o=r(t),l=o.length;l--;){var c=o[e?l:++a];if(n(i[c],c,i)===!1)break}return t}}var YFe=GFe,XFe=YFe,QFe=XFe(),ZFe=QFe,JFe=ZFe,e5e=Ev;function t5e(e,t){return e&&JFe(e,t,e5e)}var nI=t5e,n5e=Av;function r5e(e,t){return function(n,r){if(n==null)return n;if(!n5e(n))return e(n,r);for(var a=n.length,i=t?a:-1,o=Object(n);(t?i--:++i<a)&&r(o[i],i,o)!==!1;);return n}}var s5e=r5e,a5e=nI,i5e=s5e,o5e=i5e(a5e),rI=o5e,l5e=rI,c5e=Av;function d5e(e,t){var n=-1,r=c5e(e)?Array(e.length):[];return l5e(e,function(a,i,o){r[++n]=t(a,i,o)}),r}var rie=d5e;function u5e(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var h5e=u5e,_8=Nv;function f5e(e,t){if(e!==t){var n=e!==void 0,r=e===null,a=e===e,i=_8(e),o=t!==void 0,l=t===null,c=t===t,d=_8(t);if(!l&&!d&&!i&&e>t||i&&o&&c&&!l&&!d||r&&o&&c||!n&&c||!a)return 1;if(!r&&!i&&!d&&e<t||d&&n&&a&&!r&&!i||l&&n&&a||!o&&a||!c)return-1}return 0}var m5e=f5e,p5e=m5e;function g5e(e,t,n){for(var r=-1,a=e.criteria,i=t.criteria,o=a.length,l=n.length;++r<o;){var c=p5e(a[r],i[r]);if(c){if(r>=l)return c;var d=n[r];return c*(d=="desc"?-1:1)}}return e.index-t.index}var v5e=g5e,yT=Rk,x5e=Ik,y5e=hl,b5e=rie,j5e=h5e,w5e=Jk,N5e=v5e,S5e=Ov,C5e=aa;function k5e(e,t,n){t.length?t=yT(t,function(i){return C5e(i)?function(o){return x5e(o,i.length===1?i[0]:i)}:i}):t=[S5e];var r=-1;t=yT(t,w5e(y5e));var a=b5e(e,function(i,o,l){var c=yT(t,function(d){return d(i)});return{criteria:c,index:++r,value:i}});return j5e(a,function(i,o){return N5e(i,o,n)})}var _5e=k5e;function P5e(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var T5e=P5e,A5e=T5e,P8=Math.max;function E5e(e,t,n){return t=P8(t===void 0?e.length-1:t,0),function(){for(var r=arguments,a=-1,i=P8(r.length-t,0),o=Array(i);++a<i;)o[a]=r[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=r[a];return l[t]=n(o),A5e(e,this,l)}}var sie=E5e;function D5e(e){return function(){return e}}var O5e=D5e,M5e=tm,R5e=function(){try{var e=M5e(Object,"defineProperty");return e({},"",{}),e}catch{}}(),aie=R5e,$5e=O5e,T8=aie,I5e=Ov,F5e=T8?function(e,t){return T8(e,"toString",{configurable:!0,enumerable:!1,value:$5e(t),writable:!0})}:I5e,L5e=F5e,z5e=800,B5e=16,U5e=Date.now;function V5e(e){var t=0,n=0;return function(){var r=U5e(),a=B5e-(r-n);if(n=r,a>0){if(++t>=z5e)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var W5e=V5e,H5e=L5e,q5e=W5e,K5e=q5e(H5e),iie=K5e,G5e=Ov,Y5e=sie,X5e=iie;function Q5e(e,t){return X5e(Y5e(e,t,G5e),e+"")}var oie=Q5e,Z5e=zj,J5e=Av,e6e=Y$,t6e=lo;function n6e(e,t,n){if(!t6e(n))return!1;var r=typeof t;return(r=="number"?J5e(n)&&e6e(t,n.length):r=="string"&&t in n)?Z5e(n[t],e):!1}var Mv=n6e,r6e=tI,s6e=_5e,a6e=oie,A8=Mv,i6e=a6e(function(e,t){if(e==null)return[];var n=t.length;return n>1&&A8(e,t[0],t[1])?t=[]:n>2&&A8(t[0],t[1],t[2])&&(t=[t[0]]),s6e(e,r6e(t,1),[])}),o6e=i6e;const n_=Tt(o6e);function C0(e){"@babel/helpers - typeof";return C0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C0(e)}function FD(){return FD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FD.apply(this,arguments)}function l6e(e,t){return h6e(e)||u6e(e,t)||d6e(e,t)||c6e()}function c6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d6e(e,t){if(e){if(typeof e=="string")return E8(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E8(e,t)}}function E8(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u6e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function h6e(e){if(Array.isArray(e))return e}function D8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function bT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?D8(Object(n),!0).forEach(function(r){f6e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function f6e(e,t,n){return t=m6e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m6e(e){var t=p6e(e,"string");return C0(t)=="symbol"?t:t+""}function p6e(e,t){if(C0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(C0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function g6e(e){return Array.isArray(e)&&cs(e[0])&&cs(e[1])?e.join(" ~ "):e}var v6e=function(t){var n=t.separator,r=n===void 0?" : ":n,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,d=c===void 0?{}:c,u=t.payload,h=t.formatter,f=t.itemSorter,g=t.wrapperClassName,m=t.labelClassName,p=t.label,x=t.labelFormatter,v=t.accessibilityLayer,y=v===void 0?!1:v,j=function(){if(u&&u.length){var A={padding:0,margin:0},E=(f?n_(u,f):u).map(function(I,$){if(I.type==="none")return null;var U=bT({display:"block",paddingTop:4,paddingBottom:4,color:I.color||"#000"},l),M=I.formatter||h||g6e,F=I.value,V=I.name,Y=F,K=V;if(M&&Y!=null&&K!=null){var z=M(F,V,I,$,u);if(Array.isArray(z)){var L=l6e(z,2);Y=L[0],K=L[1]}else Y=z}return O.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat($),style:U},cs(K)?O.createElement("span",{className:"recharts-tooltip-item-name"},K):null,cs(K)?O.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,O.createElement("span",{className:"recharts-tooltip-item-value"},Y),O.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return O.createElement("ul",{className:"recharts-tooltip-item-list",style:A},E)}return null},N=bT({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),w=bT({margin:0},d),S=!_t(p),k=S?p:"",_=Ct("recharts-default-tooltip",g),T=Ct("recharts-tooltip-label",m);S&&x&&u!==void 0&&u!==null&&(k=x(p,u));var P=y?{role:"status","aria-live":"assertive"}:{};return O.createElement("div",FD({className:_,style:N},P),O.createElement("p",{className:T,style:w},O.isValidElement(k)?k:"".concat(k)),j())};function k0(e){"@babel/helpers - typeof";return k0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k0(e)}function Xw(e,t,n){return t=x6e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x6e(e){var t=y6e(e,"string");return k0(t)=="symbol"?t:t+""}function y6e(e,t){if(k0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(k0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fx="recharts-tooltip-wrapper",b6e={visibility:"hidden"};function j6e(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return Ct(fx,Xw(Xw(Xw(Xw({},"".concat(fx,"-right"),Ee(n)&&t&&Ee(t.x)&&n>=t.x),"".concat(fx,"-left"),Ee(n)&&t&&Ee(t.x)&&n<t.x),"".concat(fx,"-bottom"),Ee(r)&&t&&Ee(t.y)&&r>=t.y),"".concat(fx,"-top"),Ee(r)&&t&&Ee(t.y)&&r<t.y))}function O8(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,d=e.viewBoxDimension;if(i&&Ee(i[r]))return i[r];var u=n[r]-l-a,h=n[r]+a;if(t[r])return o[r]?u:h;if(o[r]){var f=u,g=c[r];return f<g?Math.max(h,c[r]):Math.max(u,c[r])}var m=h+l,p=c[r]+d;return m>p?Math.max(u,c[r]):Math.max(h,c[r])}function w6e(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function N6e(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,d,u,h;return o.height>0&&o.width>0&&n?(u=O8({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),h=O8({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=w6e({translateX:u,translateY:h,useTranslate3d:l})):d=b6e,{cssProperties:d,cssClasses:j6e({translateX:u,translateY:h,coordinate:n})}}function Sg(e){"@babel/helpers - typeof";return Sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sg(e)}function M8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function R8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?M8(Object(n),!0).forEach(function(r){zD(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function S6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C6e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,cie(r.key),r)}}function k6e(e,t,n){return t&&C6e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _6e(e,t,n){return t=zS(t),P6e(e,lie()?Reflect.construct(t,n||[],zS(e).constructor):t.apply(e,n))}function P6e(e,t){if(t&&(Sg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T6e(e)}function T6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lie=function(){return!!e})()}function zS(e){return zS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zS(e)}function A6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&LD(e,t)}function LD(e,t){return LD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},LD(e,t)}function zD(e,t,n){return t=cie(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cie(e){var t=E6e(e,"string");return Sg(t)=="symbol"?t:t+""}function E6e(e,t){if(Sg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Sg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $8=1,D6e=function(e){function t(){var n;S6e(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=_6e(this,t,[].concat(a)),zD(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),zD(n,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,u;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(u=n.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&d!==void 0?d:0}})}}),n}return A6e(t,e),k6e(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>$8||Math.abs(r.height-this.state.lastBoundingBox.height)>$8)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,d=a.children,u=a.coordinate,h=a.hasPayload,f=a.isAnimationActive,g=a.offset,m=a.position,p=a.reverseDirection,x=a.useTranslate3d,v=a.viewBox,y=a.wrapperStyle,j=N6e({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:g,position:m,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:v}),N=j.cssClasses,w=j.cssProperties,S=R8(R8({transition:f&&i?"transform ".concat(l,"ms ").concat(c):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&h?"visible":"hidden",position:"absolute",top:0,left:0},y);return O.createElement("div",{tabIndex:-1,className:N,style:S,ref:function(_){r.wrapperNode=_}},d)}}])}(b.PureComponent),O6e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ko={isSsr:O6e(),get:function(t){return Ko[t]},set:function(t,n){if(typeof t=="string")Ko[t]=n;else{var r=Object.keys(t);r&&r.length&&r.forEach(function(a){Ko[a]=t[a]})}}};function Cg(e){"@babel/helpers - typeof";return Cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cg(e)}function I8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function F8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?I8(Object(n),!0).forEach(function(r){sI(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function M6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R6e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,uie(r.key),r)}}function $6e(e,t,n){return t&&R6e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function I6e(e,t,n){return t=BS(t),F6e(e,die()?Reflect.construct(t,n||[],BS(e).constructor):t.apply(e,n))}function F6e(e,t){if(t&&(Cg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L6e(e)}function L6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function die(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(die=function(){return!!e})()}function BS(e){return BS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},BS(e)}function z6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BD(e,t)}function BD(e,t){return BD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},BD(e,t)}function sI(e,t,n){return t=uie(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uie(e){var t=B6e(e,"string");return Cg(t)=="symbol"?t:t+""}function B6e(e,t){if(Cg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Cg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function U6e(e){return e.dataKey}function V6e(e,t){return O.isValidElement(e)?O.cloneElement(e,t):typeof e=="function"?O.createElement(e,t):O.createElement(v6e,t)}var Gs=function(e){function t(){return M6e(this,t),I6e(this,t,arguments)}return z6e(t,e),$6e(t,[{key:"render",value:function(){var r=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,d=a.content,u=a.coordinate,h=a.filterNull,f=a.isAnimationActive,g=a.offset,m=a.payload,p=a.payloadUniqBy,x=a.position,v=a.reverseDirection,y=a.useTranslate3d,j=a.viewBox,N=a.wrapperStyle,w=m??[];h&&w.length&&(w=Jae(m.filter(function(k){return k.value!=null&&(k.hide!==!0||r.props.includeHidden)}),p,U6e));var S=w.length>0;return O.createElement(D6e,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:f,active:i,coordinate:u,hasPayload:S,offset:g,position:x,reverseDirection:v,useTranslate3d:y,viewBox:j,wrapperStyle:N},V6e(d,F8(F8({},this.props),{},{payload:w})))}}])}(b.PureComponent);sI(Gs,"displayName","Tooltip");sI(Gs,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ko.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var W6e=cl,H6e=function(){return W6e.Date.now()},q6e=H6e,K6e=/\s/;function G6e(e){for(var t=e.length;t--&&K6e.test(e.charAt(t)););return t}var Y6e=G6e,X6e=Y6e,Q6e=/^\s+/;function Z6e(e){return e&&e.slice(0,X6e(e)+1).replace(Q6e,"")}var J6e=Z6e,e3e=J6e,L8=lo,t3e=Nv,z8=NaN,n3e=/^[-+]0x[0-9a-f]+$/i,r3e=/^0b[01]+$/i,s3e=/^0o[0-7]+$/i,a3e=parseInt;function i3e(e){if(typeof e=="number")return e;if(t3e(e))return z8;if(L8(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=L8(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e3e(e);var n=r3e.test(e);return n||s3e.test(e)?a3e(e.slice(2),n?2:8):n3e.test(e)?z8:+e}var hie=i3e,o3e=lo,jT=q6e,B8=hie,l3e="Expected a function",c3e=Math.max,d3e=Math.min;function u3e(e,t,n){var r,a,i,o,l,c,d=0,u=!1,h=!1,f=!0;if(typeof e!="function")throw new TypeError(l3e);t=B8(t)||0,o3e(n)&&(u=!!n.leading,h="maxWait"in n,i=h?c3e(B8(n.maxWait)||0,t):i,f="trailing"in n?!!n.trailing:f);function g(S){var k=r,_=a;return r=a=void 0,d=S,o=e.apply(_,k),o}function m(S){return d=S,l=setTimeout(v,t),u?g(S):o}function p(S){var k=S-c,_=S-d,T=t-k;return h?d3e(T,i-_):T}function x(S){var k=S-c,_=S-d;return c===void 0||k>=t||k<0||h&&_>=i}function v(){var S=jT();if(x(S))return y(S);l=setTimeout(v,p(S))}function y(S){return l=void 0,f&&r?g(S):(r=a=void 0,o)}function j(){l!==void 0&&clearTimeout(l),d=0,r=c=a=l=void 0}function N(){return l===void 0?o:y(jT())}function w(){var S=jT(),k=x(S);if(r=arguments,a=this,c=S,k){if(l===void 0)return m(c);if(h)return clearTimeout(l),l=setTimeout(v,t),g(c)}return l===void 0&&(l=setTimeout(v,t)),o}return w.cancel=j,w.flush=N,w}var fie=u3e;const h3e=Tt(fie);var f3e=fie,m3e=lo,p3e="Expected a function";function g3e(e,t,n){var r=!0,a=!0;if(typeof e!="function")throw new TypeError(p3e);return m3e(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),f3e(e,t,{leading:r,maxWait:t,trailing:a})}var v3e=g3e;const aI=Tt(v3e);function _0(e){"@babel/helpers - typeof";return _0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_0(e)}function U8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Qw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?U8(Object(n),!0).forEach(function(r){x3e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function x3e(e,t,n){return t=y3e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y3e(e){var t=b3e(e,"string");return _0(t)=="symbol"?t:t+""}function b3e(e,t){if(_0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(_0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function j3e(e,t){return C3e(e)||S3e(e,t)||N3e(e,t)||w3e()}function w3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N3e(e,t){if(e){if(typeof e=="string")return V8(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V8(e,t)}}function V8(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S3e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function C3e(e){if(Array.isArray(e))return e}var df=b.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,a=r===void 0?{width:-1,height:-1}:r,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,d=e.minWidth,u=d===void 0?0:d,h=e.minHeight,f=e.maxHeight,g=e.children,m=e.debounce,p=m===void 0?0:m,x=e.id,v=e.className,y=e.onResize,j=e.style,N=j===void 0?{}:j,w=b.useRef(null),S=b.useRef();S.current=y,b.useImperativeHandle(t,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var k=b.useState({containerWidth:a.width,containerHeight:a.height}),_=j3e(k,2),T=_[0],P=_[1],C=b.useCallback(function(E,I){P(function($){var U=Math.round(E),M=Math.round(I);return $.containerWidth===U&&$.containerHeight===M?$:{containerWidth:U,containerHeight:M}})},[]);b.useEffect(function(){var E=function(V){var Y,K=V[0].contentRect,z=K.width,L=K.height;C(z,L),(Y=S.current)===null||Y===void 0||Y.call(S,z,L)};p>0&&(E=aI(E,p,{trailing:!0,leading:!1}));var I=new ResizeObserver(E),$=w.current.getBoundingClientRect(),U=$.width,M=$.height;return C(U,M),I.observe(w.current),function(){I.disconnect()}},[C,p]);var A=b.useMemo(function(){var E=T.containerWidth,I=T.containerHeight;if(E<0||I<0)return null;qo(Oh(o)||Oh(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),qo(!n||n>0,"The aspect(%s) must be greater than zero.",n);var $=Oh(o)?E:o,U=Oh(c)?I:c;n&&n>0&&($?U=$/n:U&&($=U*n),f&&U>f&&(U=f)),qo($>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,$,U,o,c,u,h,n);var M=!Array.isArray(g)&&Gc(g.type).endsWith("Chart");return O.Children.map(g,function(F){return O.isValidElement(F)?b.cloneElement(F,Qw({width:$,height:U},M?{style:Qw({height:"100%",width:"100%",maxHeight:U,maxWidth:$},F.props.style)}:{})):F})},[n,g,c,f,h,u,T,o]);return O.createElement("div",{id:x?"".concat(x):void 0,className:Ct("recharts-responsive-container",v),style:Qw(Qw({},N),{},{width:o,height:c,minWidth:u,minHeight:h,maxHeight:f}),ref:w},A)}),r_=function(t){return null};r_.displayName="Cell";function P0(e){"@babel/helpers - typeof";return P0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P0(e)}function W8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function UD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?W8(Object(n),!0).forEach(function(r){k3e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function k3e(e,t,n){return t=_3e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _3e(e){var t=P3e(e,"string");return P0(t)=="symbol"?t:t+""}function P3e(e,t){if(P0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(P0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mm={widthCache:{},cacheCount:0},T3e=2e3,A3e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},H8="recharts_measurement_span";function E3e(e){var t=UD({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var my=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ko.isSsr)return{width:0,height:0};var r=E3e(n),a=JSON.stringify({text:t,copyStyle:r});if(mm.widthCache[a])return mm.widthCache[a];try{var i=document.getElementById(H8);i||(i=document.createElement("span"),i.setAttribute("id",H8),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=UD(UD({},A3e),r);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return mm.widthCache[a]=c,++mm.cacheCount>T3e&&(mm.cacheCount=0,mm.widthCache={}),c}catch{return{width:0,height:0}}},D3e=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function T0(e){"@babel/helpers - typeof";return T0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T0(e)}function US(e,t){return $3e(e)||R3e(e,t)||M3e(e,t)||O3e()}function O3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M3e(e,t){if(e){if(typeof e=="string")return q8(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q8(e,t)}}function q8(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R3e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function $3e(e){if(Array.isArray(e))return e}function I3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,L3e(r.key),r)}}function F3e(e,t,n){return t&&K8(e.prototype,t),n&&K8(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function L3e(e){var t=z3e(e,"string");return T0(t)=="symbol"?t:t+""}function z3e(e,t){if(T0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(T0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var G8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Y8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,B3e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,U3e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,mie={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},V3e=Object.keys(mie),Fm="NaN";function W3e(e,t){return e*mie[t]}var Zw=function(){function e(t,n){I3e(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!B3e.test(n)&&(this.num=NaN,this.unit=""),V3e.includes(n)&&(this.num=W3e(t,n),this.unit="px")}return F3e(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,a=(r=U3e.exec(n))!==null&&r!==void 0?r:[],i=US(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function pie(e){if(e.includes(Fm))return Fm;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=G8.exec(t))!==null&&n!==void 0?n:[],a=US(r,4),i=a[1],o=a[2],l=a[3],c=Zw.parse(i??""),d=Zw.parse(l??""),u=o==="*"?c.multiply(d):c.divide(d);if(u.isNaN())return Fm;t=t.replace(G8,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,f=(h=Y8.exec(t))!==null&&h!==void 0?h:[],g=US(f,4),m=g[1],p=g[2],x=g[3],v=Zw.parse(m??""),y=Zw.parse(x??""),j=p==="+"?v.add(y):v.subtract(y);if(j.isNaN())return Fm;t=t.replace(Y8,j.toString())}return t}var X8=/\(([^()]*)\)/;function H3e(e){for(var t=e;t.includes("(");){var n=X8.exec(t),r=US(n,2),a=r[1];t=t.replace(X8,pie(a))}return t}function q3e(e){var t=e.replace(/\s+/g,"");return t=H3e(t),t=pie(t),t}function K3e(e){try{return q3e(e)}catch{return Fm}}function wT(e){var t=K3e(e.slice(5,-1));return t===Fm?"":t}var G3e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Y3e=["dx","dy","angle","className","breakAll"];function VD(){return VD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},VD.apply(this,arguments)}function Q8(e,t){if(e==null)return{};var n=X3e(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function X3e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Z8(e,t){return eLe(e)||J3e(e,t)||Z3e(e,t)||Q3e()}function Q3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z3e(e,t){if(e){if(typeof e=="string")return J8(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J8(e,t)}}function J8(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function J3e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function eLe(e){if(Array.isArray(e))return e}var gie=/[ \f\n\r\t\v\u2028\u2029]+/,vie=function(t){var n=t.children,r=t.breakAll,a=t.style;try{var i=[];_t(n)||(r?i=n.toString().split(""):i=n.toString().split(gie));var o=i.map(function(c){return{word:c,width:my(c,a).width}}),l=r?0:my("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},tLe=function(t,n,r,a,i){var o=t.maxLines,l=t.children,c=t.style,d=t.breakAll,u=Ee(o),h=l,f=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return $.reduce(function(U,M){var F=M.word,V=M.width,Y=U[U.length-1];if(Y&&(a==null||i||Y.width+V+r<Number(a)))Y.words.push(F),Y.width+=V+r;else{var K={words:[F],width:V};U.push(K)}return U},[])},g=f(n),m=function($){return $.reduce(function(U,M){return U.width>M.width?U:M})};if(!u)return g;for(var p="",x=function($){var U=h.slice(0,$),M=vie({breakAll:d,style:c,children:U+p}).wordsWithComputedWidth,F=f(M),V=F.length>o||m(F).width>Number(a);return[V,F]},v=0,y=h.length-1,j=0,N;v<=y&&j<=h.length-1;){var w=Math.floor((v+y)/2),S=w-1,k=x(S),_=Z8(k,2),T=_[0],P=_[1],C=x(w),A=Z8(C,1),E=A[0];if(!T&&!E&&(v=w+1),T&&E&&(y=w-1),!T&&E){N=P;break}j++}return N||g},ez=function(t){var n=_t(t)?[]:t.toString().split(gie);return[{words:n}]},nLe=function(t){var n=t.width,r=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((n||r)&&!Ko.isSsr){var c,d,u=vie({breakAll:o,children:a,style:i});if(u){var h=u.wordsWithComputedWidth,f=u.spaceWidth;c=h,d=f}else return ez(a);return tLe({breakAll:o,children:a,maxLines:l,style:i},c,d,n,r)}return ez(a)},tz="#808080",Mf=function(t){var n=t.x,r=n===void 0?0:n,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,d=c===void 0?"0.71em":c,u=t.scaleToFit,h=u===void 0?!1:u,f=t.textAnchor,g=f===void 0?"start":f,m=t.verticalAnchor,p=m===void 0?"end":m,x=t.fill,v=x===void 0?tz:x,y=Q8(t,G3e),j=b.useMemo(function(){return nLe({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:h,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,h,y.style,y.width]),N=y.dx,w=y.dy,S=y.angle,k=y.className,_=y.breakAll,T=Q8(y,Y3e);if(!cs(r)||!cs(i))return null;var P=r+(Ee(N)?N:0),C=i+(Ee(w)?w:0),A;switch(p){case"start":A=wT("calc(".concat(d,")"));break;case"middle":A=wT("calc(".concat((j.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:A=wT("calc(".concat(j.length-1," * -").concat(l,")"));break}var E=[];if(h){var I=j[0].width,$=y.width;E.push("scale(".concat((Ee($)?$/I:1)/I,")"))}return S&&E.push("rotate(".concat(S,", ").concat(P,", ").concat(C,")")),E.length&&(T.transform=E.join(" ")),O.createElement("text",VD({},ot(T,!0),{x:P,y:C,className:Ct("recharts-text",k),textAnchor:g,fill:v.includes("url")?tz:v}),j.map(function(U,M){var F=U.words.join(_?"":" ");return O.createElement("tspan",{x:P,dy:M===0?A:l,key:"".concat(F,"-").concat(M)},F)}))};function bu(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function rLe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function iI(e){let t,n,r;e.length!==2?(t=bu,n=(l,c)=>bu(e(l),c),r=(l,c)=>e(l)-c):(t=e===bu||e===rLe?e:sLe,n=e,r=e);function a(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const h=d+u>>>1;n(l[h],c)<0?d=h+1:u=h}while(d<u)}return d}function i(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const h=d+u>>>1;n(l[h],c)<=0?d=h+1:u=h}while(d<u)}return d}function o(l,c,d=0,u=l.length){const h=a(l,c,d,u-1);return h>d&&r(l[h-1],c)>-r(l[h],c)?h-1:h}return{left:a,center:o,right:i}}function sLe(){return 0}function xie(e){return e===null?NaN:+e}function*aLe(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const iLe=iI(bu),Uj=iLe.right;iI(xie).center;class nz extends Map{constructor(t,n=cLe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,a]of t)this.set(r,a)}get(t){return super.get(rz(this,t))}has(t){return super.has(rz(this,t))}set(t,n){return super.set(oLe(this,t),n)}delete(t){return super.delete(lLe(this,t))}}function rz({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function oLe({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function lLe({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function cLe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function dLe(e=bu){if(e===bu)return yie;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function yie(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const uLe=Math.sqrt(50),hLe=Math.sqrt(10),fLe=Math.sqrt(2);function VS(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),o=i>=uLe?10:i>=hLe?5:i>=fLe?2:1;let l,c,d;return a<0?(d=Math.pow(10,-a)/o,l=Math.round(e*d),c=Math.round(t*d),l/d<e&&++l,c/d>t&&--c,d=-d):(d=Math.pow(10,a)*o,l=Math.round(e/d),c=Math.round(t/d),l*d<e&&++l,c*d>t&&--c),c<l&&.5<=n&&n<2?VS(e,t,n*2):[l,c,d]}function WD(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,i,o]=r?VS(t,e,n):VS(e,t,n);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(r)if(o<0)for(let d=0;d<l;++d)c[d]=(i-d)/-o;else for(let d=0;d<l;++d)c[d]=(i-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(a+d)/-o;else for(let d=0;d<l;++d)c[d]=(a+d)*o;return c}function HD(e,t,n){return t=+t,e=+e,n=+n,VS(e,t,n)[2]}function qD(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?HD(t,e,n):HD(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function sz(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function az(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function bie(e,t,n=0,r=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=a===void 0?yie:dLe(a);r>n;){if(r-n>600){const c=r-n+1,d=t-n+1,u=Math.log(c),h=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*h*(c-h)/c)*(d-c/2<0?-1:1),g=Math.max(n,Math.floor(t-d*h/c+f)),m=Math.min(r,Math.floor(t+(c-d)*h/c+f));bie(e,t,g,m,a)}const i=e[t];let o=n,l=r;for(mx(e,n,t),a(e[r],i)>0&&mx(e,n,r);o<l;){for(mx(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[n],i)===0?mx(e,n,l):(++l,mx(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function mx(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function mLe(e,t,n){if(e=Float64Array.from(aLe(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return az(e);if(t>=1)return sz(e);var r,a=(r-1)*t,i=Math.floor(a),o=sz(bie(e,i).subarray(0,i+1)),l=az(e.subarray(i+1));return o+(l-o)*(a-i)}}function pLe(e,t,n=xie){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,i=Math.floor(a),o=+n(e[i],i,e),l=+n(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function gLe(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(a);++r<a;)i[r]=e+r*n;return i}function uo(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function yd(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const KD=Symbol("implicit");function oI(){var e=new nz,t=[],n=[],r=KD;function a(i){let o=e.get(i);if(o===void 0){if(r!==KD)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new nz;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return oI(t,n).unknown(r)},uo.apply(a,arguments),a}function A0(){var e=oI().unknown(void 0),t=e.domain,n=e.range,r=0,a=1,i,o,l=!1,c=0,d=0,u=.5;delete e.unknown;function h(){var f=t().length,g=a<r,m=g?a:r,p=g?r:a;i=(p-m)/Math.max(1,f-c+d*2),l&&(i=Math.floor(i)),m+=(p-m-i*(f-c))*u,o=i*(1-c),l&&(m=Math.round(m),o=Math.round(o));var x=gLe(f).map(function(v){return m+i*v});return n(g?x.reverse():x)}return e.domain=function(f){return arguments.length?(t(f),h()):t()},e.range=function(f){return arguments.length?([r,a]=f,r=+r,a=+a,h()):[r,a]},e.rangeRound=function(f){return[r,a]=f,r=+r,a=+a,l=!0,h()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(f){return arguments.length?(l=!!f,h()):l},e.padding=function(f){return arguments.length?(c=Math.min(1,d=+f),h()):c},e.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),h()):c},e.paddingOuter=function(f){return arguments.length?(d=+f,h()):d},e.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),h()):u},e.copy=function(){return A0(t(),[r,a]).round(l).paddingInner(c).paddingOuter(d).align(u)},uo.apply(h(),arguments)}function jie(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return jie(t())},e}function py(){return jie(A0.apply(null,arguments).paddingInner(1))}function lI(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function wie(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Vj(){}var E0=.7,WS=1/E0,mp="\\s*([+-]?\\d+)\\s*",D0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Yl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",vLe=/^#([0-9a-f]{3,8})$/,xLe=new RegExp(`^rgb\\(${mp},${mp},${mp}\\)$`),yLe=new RegExp(`^rgb\\(${Yl},${Yl},${Yl}\\)$`),bLe=new RegExp(`^rgba\\(${mp},${mp},${mp},${D0}\\)$`),jLe=new RegExp(`^rgba\\(${Yl},${Yl},${Yl},${D0}\\)$`),wLe=new RegExp(`^hsl\\(${D0},${Yl},${Yl}\\)$`),NLe=new RegExp(`^hsla\\(${D0},${Yl},${Yl},${D0}\\)$`),iz={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};lI(Vj,O0,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:oz,formatHex:oz,formatHex8:SLe,formatHsl:CLe,formatRgb:lz,toString:lz});function oz(){return this.rgb().formatHex()}function SLe(){return this.rgb().formatHex8()}function CLe(){return Nie(this).formatHsl()}function lz(){return this.rgb().formatRgb()}function O0(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=vLe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?cz(t):n===3?new za(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Jw(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Jw(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=xLe.exec(e))?new za(t[1],t[2],t[3],1):(t=yLe.exec(e))?new za(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=bLe.exec(e))?Jw(t[1],t[2],t[3],t[4]):(t=jLe.exec(e))?Jw(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=wLe.exec(e))?hz(t[1],t[2]/100,t[3]/100,1):(t=NLe.exec(e))?hz(t[1],t[2]/100,t[3]/100,t[4]):iz.hasOwnProperty(e)?cz(iz[e]):e==="transparent"?new za(NaN,NaN,NaN,0):null}function cz(e){return new za(e>>16&255,e>>8&255,e&255,1)}function Jw(e,t,n,r){return r<=0&&(e=t=n=NaN),new za(e,t,n,r)}function kLe(e){return e instanceof Vj||(e=O0(e)),e?(e=e.rgb(),new za(e.r,e.g,e.b,e.opacity)):new za}function GD(e,t,n,r){return arguments.length===1?kLe(e):new za(e,t,n,r??1)}function za(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}lI(za,GD,wie(Vj,{brighter(e){return e=e==null?WS:Math.pow(WS,e),new za(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?E0:Math.pow(E0,e),new za(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new za(uf(this.r),uf(this.g),uf(this.b),HS(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:dz,formatHex:dz,formatHex8:_Le,formatRgb:uz,toString:uz}));function dz(){return`#${Mh(this.r)}${Mh(this.g)}${Mh(this.b)}`}function _Le(){return`#${Mh(this.r)}${Mh(this.g)}${Mh(this.b)}${Mh((isNaN(this.opacity)?1:this.opacity)*255)}`}function uz(){const e=HS(this.opacity);return`${e===1?"rgb(":"rgba("}${uf(this.r)}, ${uf(this.g)}, ${uf(this.b)}${e===1?")":`, ${e})`}`}function HS(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function uf(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Mh(e){return e=uf(e),(e<16?"0":"")+e.toString(16)}function hz(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ro(e,t,n,r)}function Nie(e){if(e instanceof Ro)return new Ro(e.h,e.s,e.l,e.opacity);if(e instanceof Vj||(e=O0(e)),!e)return new Ro;if(e instanceof Ro)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(n-r)/l+(n<r)*6:n===i?o=(r-t)/l+2:o=(t-n)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new Ro(o,l,c,e.opacity)}function PLe(e,t,n,r){return arguments.length===1?Nie(e):new Ro(e,t,n,r??1)}function Ro(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}lI(Ro,PLe,wie(Vj,{brighter(e){return e=e==null?WS:Math.pow(WS,e),new Ro(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?E0:Math.pow(E0,e),new Ro(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new za(NT(e>=240?e-240:e+120,a,r),NT(e,a,r),NT(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new Ro(fz(this.h),eN(this.s),eN(this.l),HS(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=HS(this.opacity);return`${e===1?"hsl(":"hsla("}${fz(this.h)}, ${eN(this.s)*100}%, ${eN(this.l)*100}%${e===1?")":`, ${e})`}`}}));function fz(e){return e=(e||0)%360,e<0?e+360:e}function eN(e){return Math.max(0,Math.min(1,e||0))}function NT(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const cI=e=>()=>e;function TLe(e,t){return function(n){return e+n*t}}function ALe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function ELe(e){return(e=+e)==1?Sie:function(t,n){return n-t?ALe(t,n,e):cI(isNaN(t)?n:t)}}function Sie(e,t){var n=t-e;return n?TLe(e,n):cI(isNaN(e)?t:e)}const mz=function e(t){var n=ELe(t);function r(a,i){var o=n((a=GD(a)).r,(i=GD(i)).r),l=n(a.g,i.g),c=n(a.b,i.b),d=Sie(a.opacity,i.opacity);return function(u){return a.r=o(u),a.g=l(u),a.b=c(u),a.opacity=d(u),a+""}}return r.gamma=e,r}(1);function DLe(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=e[a]*(1-i)+t[a]*i;return r}}function OLe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function MLe(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)a[o]=Rv(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(l){for(o=0;o<r;++o)i[o]=a[o](l);return i}}function RLe(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function qS(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function $Le(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=Rv(e[a],t[a]):r[a]=t[a];return function(i){for(a in n)r[a]=n[a](i);return r}}var YD=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ST=new RegExp(YD.source,"g");function ILe(e){return function(){return e}}function FLe(e){return function(t){return e(t)+""}}function LLe(e,t){var n=YD.lastIndex=ST.lastIndex=0,r,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(r=YD.exec(e))&&(a=ST.exec(t));)(i=a.index)>n&&(i=t.slice(n,i),l[o]?l[o]+=i:l[++o]=i),(r=r[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:qS(r,a)})),n=ST.lastIndex;return n<t.length&&(i=t.slice(n),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?FLe(c[0].x):ILe(t):(t=c.length,function(d){for(var u=0,h;u<t;++u)l[(h=c[u]).i]=h.x(d);return l.join("")})}function Rv(e,t){var n=typeof t,r;return t==null||n==="boolean"?cI(t):(n==="number"?qS:n==="string"?(r=O0(t))?(t=r,mz):LLe:t instanceof O0?mz:t instanceof Date?RLe:OLe(t)?DLe:Array.isArray(t)?MLe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?$Le:qS)(e,t)}function dI(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function zLe(e,t){t===void 0&&(t=e,e=Rv);for(var n=0,r=t.length-1,a=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(a,a=t[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return i[l](o-l)}}function BLe(e){return function(){return e}}function KS(e){return+e}var pz=[0,1];function wa(e){return e}function XD(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:BLe(isNaN(t)?NaN:.5)}function ULe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function VLe(e,t,n){var r=e[0],a=e[1],i=t[0],o=t[1];return a<r?(r=XD(a,r),i=n(o,i)):(r=XD(r,a),i=n(i,o)),function(l){return i(r(l))}}function WLe(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=XD(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(l){var c=Uj(e,l,1,r)-1;return i[c](a[c](l))}}function Wj(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function s_(){var e=pz,t=pz,n=Rv,r,a,i,o=wa,l,c,d;function u(){var f=Math.min(e.length,t.length);return o!==wa&&(o=ULe(e[0],e[f-1])),l=f>2?WLe:VLe,c=d=null,h}function h(f){return f==null||isNaN(f=+f)?i:(c||(c=l(e.map(r),t,n)))(r(o(f)))}return h.invert=function(f){return o(a((d||(d=l(t,e.map(r),qS)))(f)))},h.domain=function(f){return arguments.length?(e=Array.from(f,KS),u()):e.slice()},h.range=function(f){return arguments.length?(t=Array.from(f),u()):t.slice()},h.rangeRound=function(f){return t=Array.from(f),n=dI,u()},h.clamp=function(f){return arguments.length?(o=f?!0:wa,u()):o!==wa},h.interpolate=function(f){return arguments.length?(n=f,u()):n},h.unknown=function(f){return arguments.length?(i=f,h):i},function(f,g){return r=f,a=g,u()}}function uI(){return s_()(wa,wa)}function HLe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function GS(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function kg(e){return e=GS(Math.abs(e)),e?e[1]:NaN}function qLe(e,t){return function(n,r){for(var a=n.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),i.push(n.substring(a-=l,a+l)),!((c+=l+1)>r));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function KLe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var GLe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function M0(e){if(!(t=GLe.exec(e)))throw new Error("invalid format: "+e);var t;return new hI({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}M0.prototype=hI.prototype;function hI(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}hI.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function YLe(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var Cie;function XLe(e,t){var n=GS(e,t);if(!n)return e+"";var r=n[0],a=n[1],i=a-(Cie=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+GS(e,Math.max(0,t+i-1))[0]}function gz(e,t){var n=GS(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const vz={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:HLe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>gz(e*100,t),r:gz,s:XLe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function xz(e){return e}var yz=Array.prototype.map,bz=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function QLe(e){var t=e.grouping===void 0||e.thousands===void 0?xz:qLe(yz.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?xz:KLe(yz.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(h){h=M0(h);var f=h.fill,g=h.align,m=h.sign,p=h.symbol,x=h.zero,v=h.width,y=h.comma,j=h.precision,N=h.trim,w=h.type;w==="n"?(y=!0,w="g"):vz[w]||(j===void 0&&(j=12),N=!0,w="g"),(x||f==="0"&&g==="=")&&(x=!0,f="0",g="=");var S=p==="$"?n:p==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",k=p==="$"?r:/[%p]/.test(w)?o:"",_=vz[w],T=/[defgprs%]/.test(w);j=j===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function P(C){var A=S,E=k,I,$,U;if(w==="c")E=_(C)+E,C="";else{C=+C;var M=C<0||1/C<0;if(C=isNaN(C)?c:_(Math.abs(C),j),N&&(C=YLe(C)),M&&+C==0&&m!=="+"&&(M=!1),A=(M?m==="("?m:l:m==="-"||m==="("?"":m)+A,E=(w==="s"?bz[8+Cie/3]:"")+E+(M&&m==="("?")":""),T){for(I=-1,$=C.length;++I<$;)if(U=C.charCodeAt(I),48>U||U>57){E=(U===46?a+C.slice(I+1):C.slice(I))+E,C=C.slice(0,I);break}}}y&&!x&&(C=t(C,1/0));var F=A.length+C.length+E.length,V=F<v?new Array(v-F+1).join(f):"";switch(y&&x&&(C=t(V+C,V.length?v-E.length:1/0),V=""),g){case"<":C=A+C+E+V;break;case"=":C=A+V+C+E;break;case"^":C=V.slice(0,F=V.length>>1)+A+C+E+V.slice(F);break;default:C=V+A+C+E;break}return i(C)}return P.toString=function(){return h+""},P}function u(h,f){var g=d((h=M0(h),h.type="f",h)),m=Math.max(-8,Math.min(8,Math.floor(kg(f)/3)))*3,p=Math.pow(10,-m),x=bz[8+m/3];return function(v){return g(p*v)+x}}return{format:d,formatPrefix:u}}var tN,fI,kie;ZLe({thousands:",",grouping:[3],currency:["$",""]});function ZLe(e){return tN=QLe(e),fI=tN.format,kie=tN.formatPrefix,tN}function JLe(e){return Math.max(0,-kg(Math.abs(e)))}function e8e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(kg(t)/3)))*3-kg(Math.abs(e)))}function t8e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,kg(t)-kg(e))+1}function _ie(e,t,n,r){var a=qD(e,t,n),i;switch(r=M0(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=e8e(a,o))&&(r.precision=i),kie(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=t8e(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=JLe(a))&&(r.precision=i-(r.type==="%")*2);break}}return fI(r)}function nh(e){var t=e.domain;return e.ticks=function(n){var r=t();return WD(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return _ie(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,i=r.length-1,o=r[a],l=r[i],c,d,u=10;for(l<o&&(d=o,o=l,l=d,d=a,a=i,i=d);u-- >0;){if(d=HD(o,l,n),d===c)return r[a]=o,r[i]=l,t(r);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return e},e}function YS(){var e=uI();return e.copy=function(){return Wj(e,YS())},uo.apply(e,arguments),nh(e)}function Pie(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,KS),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return Pie(e).unknown(t)},e=arguments.length?Array.from(e,KS):[0,1],nh(n)}function Tie(e,t){e=e.slice();var n=0,r=e.length-1,a=e[n],i=e[r],o;return i<a&&(o=n,n=r,r=o,o=a,a=i,i=o),e[n]=t.floor(a),e[r]=t.ceil(i),e}function jz(e){return Math.log(e)}function wz(e){return Math.exp(e)}function n8e(e){return-Math.log(-e)}function r8e(e){return-Math.exp(-e)}function s8e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function a8e(e){return e===10?s8e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function i8e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Nz(e){return(t,n)=>-e(-t,n)}function mI(e){const t=e(jz,wz),n=t.domain;let r=10,a,i;function o(){return a=i8e(r),i=a8e(r),n()[0]<0?(a=Nz(a),i=Nz(i),e(n8e,r8e)):e(jz,wz),t}return t.base=function(l){return arguments.length?(r=+l,o()):r},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const c=n();let d=c[0],u=c[c.length-1];const h=u<d;h&&([d,u]=[u,d]);let f=a(d),g=a(u),m,p;const x=l==null?10:+l;let v=[];if(!(r%1)&&g-f<x){if(f=Math.floor(f),g=Math.ceil(g),d>0){for(;f<=g;++f)for(m=1;m<r;++m)if(p=f<0?m/i(-f):m*i(f),!(p<d)){if(p>u)break;v.push(p)}}else for(;f<=g;++f)for(m=r-1;m>=1;--m)if(p=f>0?m/i(-f):m*i(f),!(p<d)){if(p>u)break;v.push(p)}v.length*2<x&&(v=WD(d,u,x))}else v=WD(f,g,Math.min(g-f,x)).map(i);return h?v.reverse():v},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=M0(c)).precision==null&&(c.trim=!0),c=fI(c)),l===1/0)return c;const d=Math.max(1,r*l/t.ticks().length);return u=>{let h=u/i(Math.round(a(u)));return h*r<r-.5&&(h*=r),h<=d?c(u):""}},t.nice=()=>n(Tie(n(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function Aie(){const e=mI(s_()).domain([1,10]);return e.copy=()=>Wj(e,Aie()).base(e.base()),uo.apply(e,arguments),e}function Sz(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Cz(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function pI(e){var t=1,n=e(Sz(t),Cz(t));return n.constant=function(r){return arguments.length?e(Sz(t=+r),Cz(t)):t},nh(n)}function Eie(){var e=pI(s_());return e.copy=function(){return Wj(e,Eie()).constant(e.constant())},uo.apply(e,arguments)}function kz(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function o8e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function l8e(e){return e<0?-e*e:e*e}function gI(e){var t=e(wa,wa),n=1;function r(){return n===1?e(wa,wa):n===.5?e(o8e,l8e):e(kz(n),kz(1/n))}return t.exponent=function(a){return arguments.length?(n=+a,r()):n},nh(t)}function vI(){var e=gI(s_());return e.copy=function(){return Wj(e,vI()).exponent(e.exponent())},uo.apply(e,arguments),e}function c8e(){return vI.apply(null,arguments).exponent(.5)}function _z(e){return Math.sign(e)*e*e}function d8e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Die(){var e=uI(),t=[0,1],n=!1,r;function a(i){var o=d8e(e(i));return isNaN(o)?r:n?Math.round(o):o}return a.invert=function(i){return e.invert(_z(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,KS)).map(_z)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(n=!!i,a):n},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return Die(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},uo.apply(a,arguments),nh(a)}function Oie(){var e=[],t=[],n=[],r;function a(){var o=0,l=Math.max(1,t.length);for(n=new Array(l-1);++o<l;)n[o-1]=pLe(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?r:t[Uj(n,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(bu),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.quantiles=function(){return n.slice()},i.copy=function(){return Oie().domain(e).range(t).unknown(r)},uo.apply(i,arguments)}function Mie(){var e=0,t=1,n=1,r=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[Uj(r,c,0,n)]:i}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*t-(c-n)*e)/(n+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(n=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var d=a.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,r[0]]:d>=n?[r[n-1],t]:[r[d-1],r[d]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return Mie().domain([e,t]).range(a).unknown(i)},uo.apply(nh(o),arguments)}function Rie(){var e=[.5],t=[0,1],n,r=1;function a(i){return i!=null&&i<=i?t[Uj(e,i,0,r)]:n}return a.domain=function(i){return arguments.length?(e=Array.from(i),r=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),r=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return Rie().domain(e).range(t).unknown(n)},uo.apply(a,arguments)}const CT=new Date,kT=new Date;function ps(e,t,n,r){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let d;do c.push(d=new Date(+i)),t(i,l),e(i);while(d<i&&i<o);return c},a.filter=i=>ps(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),n&&(a.count=(i,o)=>(CT.setTime(+i),kT.setTime(+o),e(CT),e(kT),Math.floor(n(CT,kT))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(r?o=>r(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const XS=ps(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);XS.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ps(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):XS);XS.range;const Bc=1e3,Xi=Bc*60,Uc=Xi*60,cd=Uc*24,xI=cd*7,Pz=cd*30,_T=cd*365,Rh=ps(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Bc)},(e,t)=>(t-e)/Bc,e=>e.getUTCSeconds());Rh.range;const yI=ps(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Bc)},(e,t)=>{e.setTime(+e+t*Xi)},(e,t)=>(t-e)/Xi,e=>e.getMinutes());yI.range;const bI=ps(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Xi)},(e,t)=>(t-e)/Xi,e=>e.getUTCMinutes());bI.range;const jI=ps(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Bc-e.getMinutes()*Xi)},(e,t)=>{e.setTime(+e+t*Uc)},(e,t)=>(t-e)/Uc,e=>e.getHours());jI.range;const wI=ps(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Uc)},(e,t)=>(t-e)/Uc,e=>e.getUTCHours());wI.range;const Hj=ps(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Xi)/cd,e=>e.getDate()-1);Hj.range;const a_=ps(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/cd,e=>e.getUTCDate()-1);a_.range;const $ie=ps(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/cd,e=>Math.floor(e/cd));$ie.range;function rm(e){return ps(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Xi)/xI)}const i_=rm(0),QS=rm(1),u8e=rm(2),h8e=rm(3),_g=rm(4),f8e=rm(5),m8e=rm(6);i_.range;QS.range;u8e.range;h8e.range;_g.range;f8e.range;m8e.range;function sm(e){return ps(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/xI)}const o_=sm(0),ZS=sm(1),p8e=sm(2),g8e=sm(3),Pg=sm(4),v8e=sm(5),x8e=sm(6);o_.range;ZS.range;p8e.range;g8e.range;Pg.range;v8e.range;x8e.range;const NI=ps(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());NI.range;const SI=ps(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());SI.range;const dd=ps(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());dd.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ps(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});dd.range;const ud=ps(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ud.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ps(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});ud.range;function Iie(e,t,n,r,a,i){const o=[[Rh,1,Bc],[Rh,5,5*Bc],[Rh,15,15*Bc],[Rh,30,30*Bc],[i,1,Xi],[i,5,5*Xi],[i,15,15*Xi],[i,30,30*Xi],[a,1,Uc],[a,3,3*Uc],[a,6,6*Uc],[a,12,12*Uc],[r,1,cd],[r,2,2*cd],[n,1,xI],[t,1,Pz],[t,3,3*Pz],[e,1,_T]];function l(d,u,h){const f=u<d;f&&([d,u]=[u,d]);const g=h&&typeof h.range=="function"?h:c(d,u,h),m=g?g.range(d,+u+1):[];return f?m.reverse():m}function c(d,u,h){const f=Math.abs(u-d)/h,g=iI(([,,x])=>x).right(o,f);if(g===o.length)return e.every(qD(d/_T,u/_T,h));if(g===0)return XS.every(Math.max(qD(d,u,h),1));const[m,p]=o[f/o[g-1][2]<o[g][2]/f?g-1:g];return m.every(p)}return[l,c]}const[y8e,b8e]=Iie(ud,SI,o_,$ie,wI,bI),[j8e,w8e]=Iie(dd,NI,i_,Hj,jI,yI);function PT(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function TT(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function px(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function N8e(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,d=gx(a),u=vx(a),h=gx(i),f=vx(i),g=gx(o),m=vx(o),p=gx(l),x=vx(l),v=gx(c),y=vx(c),j={a:M,A:F,b:V,B:Y,c:null,d:Mz,e:Mz,f:q8e,g:nze,G:sze,H:V8e,I:W8e,j:H8e,L:Fie,m:K8e,M:G8e,p:K,q:z,Q:Iz,s:Fz,S:Y8e,u:X8e,U:Q8e,V:Z8e,w:J8e,W:eze,x:null,X:null,y:tze,Y:rze,Z:aze,"%":$z},N={a:L,A:ee,b:le,B:ve,c:null,d:Rz,e:Rz,f:cze,g:yze,G:jze,H:ize,I:oze,j:lze,L:zie,m:dze,M:uze,p:ne,q:be,Q:Iz,s:Fz,S:hze,u:fze,U:mze,V:pze,w:gze,W:vze,x:null,X:null,y:xze,Y:bze,Z:wze,"%":$z},w={a:P,A:C,b:A,B:E,c:I,d:Dz,e:Dz,f:L8e,g:Ez,G:Az,H:Oz,I:Oz,j:R8e,L:F8e,m:M8e,M:$8e,p:T,q:O8e,Q:B8e,s:U8e,S:I8e,u:P8e,U:T8e,V:A8e,w:_8e,W:E8e,x:$,X:U,y:Ez,Y:Az,Z:D8e,"%":z8e};j.x=S(n,j),j.X=S(r,j),j.c=S(t,j),N.x=S(n,N),N.X=S(r,N),N.c=S(t,N);function S(ge,we){return function(Ae){var X=[],xe=-1,Be=0,At=ge.length,Pt,sn,Kr;for(Ae instanceof Date||(Ae=new Date(+Ae));++xe<At;)ge.charCodeAt(xe)===37&&(X.push(ge.slice(Be,xe)),(sn=Tz[Pt=ge.charAt(++xe)])!=null?Pt=ge.charAt(++xe):sn=Pt==="e"?" ":"0",(Kr=we[Pt])&&(Pt=Kr(Ae,sn)),X.push(Pt),Be=xe+1);return X.push(ge.slice(Be,xe)),X.join("")}}function k(ge,we){return function(Ae){var X=px(1900,void 0,1),xe=_(X,ge,Ae+="",0),Be,At;if(xe!=Ae.length)return null;if("Q"in X)return new Date(X.Q);if("s"in X)return new Date(X.s*1e3+("L"in X?X.L:0));if(we&&!("Z"in X)&&(X.Z=0),"p"in X&&(X.H=X.H%12+X.p*12),X.m===void 0&&(X.m="q"in X?X.q:0),"V"in X){if(X.V<1||X.V>53)return null;"w"in X||(X.w=1),"Z"in X?(Be=TT(px(X.y,0,1)),At=Be.getUTCDay(),Be=At>4||At===0?ZS.ceil(Be):ZS(Be),Be=a_.offset(Be,(X.V-1)*7),X.y=Be.getUTCFullYear(),X.m=Be.getUTCMonth(),X.d=Be.getUTCDate()+(X.w+6)%7):(Be=PT(px(X.y,0,1)),At=Be.getDay(),Be=At>4||At===0?QS.ceil(Be):QS(Be),Be=Hj.offset(Be,(X.V-1)*7),X.y=Be.getFullYear(),X.m=Be.getMonth(),X.d=Be.getDate()+(X.w+6)%7)}else("W"in X||"U"in X)&&("w"in X||(X.w="u"in X?X.u%7:"W"in X?1:0),At="Z"in X?TT(px(X.y,0,1)).getUTCDay():PT(px(X.y,0,1)).getDay(),X.m=0,X.d="W"in X?(X.w+6)%7+X.W*7-(At+5)%7:X.w+X.U*7-(At+6)%7);return"Z"in X?(X.H+=X.Z/100|0,X.M+=X.Z%100,TT(X)):PT(X)}}function _(ge,we,Ae,X){for(var xe=0,Be=we.length,At=Ae.length,Pt,sn;xe<Be;){if(X>=At)return-1;if(Pt=we.charCodeAt(xe++),Pt===37){if(Pt=we.charAt(xe++),sn=w[Pt in Tz?we.charAt(xe++):Pt],!sn||(X=sn(ge,Ae,X))<0)return-1}else if(Pt!=Ae.charCodeAt(X++))return-1}return X}function T(ge,we,Ae){var X=d.exec(we.slice(Ae));return X?(ge.p=u.get(X[0].toLowerCase()),Ae+X[0].length):-1}function P(ge,we,Ae){var X=g.exec(we.slice(Ae));return X?(ge.w=m.get(X[0].toLowerCase()),Ae+X[0].length):-1}function C(ge,we,Ae){var X=h.exec(we.slice(Ae));return X?(ge.w=f.get(X[0].toLowerCase()),Ae+X[0].length):-1}function A(ge,we,Ae){var X=v.exec(we.slice(Ae));return X?(ge.m=y.get(X[0].toLowerCase()),Ae+X[0].length):-1}function E(ge,we,Ae){var X=p.exec(we.slice(Ae));return X?(ge.m=x.get(X[0].toLowerCase()),Ae+X[0].length):-1}function I(ge,we,Ae){return _(ge,t,we,Ae)}function $(ge,we,Ae){return _(ge,n,we,Ae)}function U(ge,we,Ae){return _(ge,r,we,Ae)}function M(ge){return o[ge.getDay()]}function F(ge){return i[ge.getDay()]}function V(ge){return c[ge.getMonth()]}function Y(ge){return l[ge.getMonth()]}function K(ge){return a[+(ge.getHours()>=12)]}function z(ge){return 1+~~(ge.getMonth()/3)}function L(ge){return o[ge.getUTCDay()]}function ee(ge){return i[ge.getUTCDay()]}function le(ge){return c[ge.getUTCMonth()]}function ve(ge){return l[ge.getUTCMonth()]}function ne(ge){return a[+(ge.getUTCHours()>=12)]}function be(ge){return 1+~~(ge.getUTCMonth()/3)}return{format:function(ge){var we=S(ge+="",j);return we.toString=function(){return ge},we},parse:function(ge){var we=k(ge+="",!1);return we.toString=function(){return ge},we},utcFormat:function(ge){var we=S(ge+="",N);return we.toString=function(){return ge},we},utcParse:function(ge){var we=k(ge+="",!0);return we.toString=function(){return ge},we}}}var Tz={"-":"",_:" ",0:"0"},Ts=/^\s*\d+/,S8e=/^%/,C8e=/[\\^$*+?|[\]().{}]/g;function nn(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(t)+a:a)}function k8e(e){return e.replace(C8e,"\\$&")}function gx(e){return new RegExp("^(?:"+e.map(k8e).join("|")+")","i")}function vx(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function _8e(e,t,n){var r=Ts.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function P8e(e,t,n){var r=Ts.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function T8e(e,t,n){var r=Ts.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function A8e(e,t,n){var r=Ts.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function E8e(e,t,n){var r=Ts.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Az(e,t,n){var r=Ts.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Ez(e,t,n){var r=Ts.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function D8e(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function O8e(e,t,n){var r=Ts.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function M8e(e,t,n){var r=Ts.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Dz(e,t,n){var r=Ts.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function R8e(e,t,n){var r=Ts.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Oz(e,t,n){var r=Ts.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function $8e(e,t,n){var r=Ts.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function I8e(e,t,n){var r=Ts.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function F8e(e,t,n){var r=Ts.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function L8e(e,t,n){var r=Ts.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function z8e(e,t,n){var r=S8e.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function B8e(e,t,n){var r=Ts.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function U8e(e,t,n){var r=Ts.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Mz(e,t){return nn(e.getDate(),t,2)}function V8e(e,t){return nn(e.getHours(),t,2)}function W8e(e,t){return nn(e.getHours()%12||12,t,2)}function H8e(e,t){return nn(1+Hj.count(dd(e),e),t,3)}function Fie(e,t){return nn(e.getMilliseconds(),t,3)}function q8e(e,t){return Fie(e,t)+"000"}function K8e(e,t){return nn(e.getMonth()+1,t,2)}function G8e(e,t){return nn(e.getMinutes(),t,2)}function Y8e(e,t){return nn(e.getSeconds(),t,2)}function X8e(e){var t=e.getDay();return t===0?7:t}function Q8e(e,t){return nn(i_.count(dd(e)-1,e),t,2)}function Lie(e){var t=e.getDay();return t>=4||t===0?_g(e):_g.ceil(e)}function Z8e(e,t){return e=Lie(e),nn(_g.count(dd(e),e)+(dd(e).getDay()===4),t,2)}function J8e(e){return e.getDay()}function eze(e,t){return nn(QS.count(dd(e)-1,e),t,2)}function tze(e,t){return nn(e.getFullYear()%100,t,2)}function nze(e,t){return e=Lie(e),nn(e.getFullYear()%100,t,2)}function rze(e,t){return nn(e.getFullYear()%1e4,t,4)}function sze(e,t){var n=e.getDay();return e=n>=4||n===0?_g(e):_g.ceil(e),nn(e.getFullYear()%1e4,t,4)}function aze(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+nn(t/60|0,"0",2)+nn(t%60,"0",2)}function Rz(e,t){return nn(e.getUTCDate(),t,2)}function ize(e,t){return nn(e.getUTCHours(),t,2)}function oze(e,t){return nn(e.getUTCHours()%12||12,t,2)}function lze(e,t){return nn(1+a_.count(ud(e),e),t,3)}function zie(e,t){return nn(e.getUTCMilliseconds(),t,3)}function cze(e,t){return zie(e,t)+"000"}function dze(e,t){return nn(e.getUTCMonth()+1,t,2)}function uze(e,t){return nn(e.getUTCMinutes(),t,2)}function hze(e,t){return nn(e.getUTCSeconds(),t,2)}function fze(e){var t=e.getUTCDay();return t===0?7:t}function mze(e,t){return nn(o_.count(ud(e)-1,e),t,2)}function Bie(e){var t=e.getUTCDay();return t>=4||t===0?Pg(e):Pg.ceil(e)}function pze(e,t){return e=Bie(e),nn(Pg.count(ud(e),e)+(ud(e).getUTCDay()===4),t,2)}function gze(e){return e.getUTCDay()}function vze(e,t){return nn(ZS.count(ud(e)-1,e),t,2)}function xze(e,t){return nn(e.getUTCFullYear()%100,t,2)}function yze(e,t){return e=Bie(e),nn(e.getUTCFullYear()%100,t,2)}function bze(e,t){return nn(e.getUTCFullYear()%1e4,t,4)}function jze(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Pg(e):Pg.ceil(e),nn(e.getUTCFullYear()%1e4,t,4)}function wze(){return"+0000"}function $z(){return"%"}function Iz(e){return+e}function Fz(e){return Math.floor(+e/1e3)}var pm,Uie,Vie;Nze({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Nze(e){return pm=N8e(e),Uie=pm.format,pm.parse,Vie=pm.utcFormat,pm.utcParse,pm}function Sze(e){return new Date(e)}function Cze(e){return e instanceof Date?+e:+new Date(+e)}function CI(e,t,n,r,a,i,o,l,c,d){var u=uI(),h=u.invert,f=u.domain,g=d(".%L"),m=d(":%S"),p=d("%I:%M"),x=d("%I %p"),v=d("%a %d"),y=d("%b %d"),j=d("%B"),N=d("%Y");function w(S){return(c(S)<S?g:l(S)<S?m:o(S)<S?p:i(S)<S?x:r(S)<S?a(S)<S?v:y:n(S)<S?j:N)(S)}return u.invert=function(S){return new Date(h(S))},u.domain=function(S){return arguments.length?f(Array.from(S,Cze)):f().map(Sze)},u.ticks=function(S){var k=f();return e(k[0],k[k.length-1],S??10)},u.tickFormat=function(S,k){return k==null?w:d(k)},u.nice=function(S){var k=f();return(!S||typeof S.range!="function")&&(S=t(k[0],k[k.length-1],S??10)),S?f(Tie(k,S)):u},u.copy=function(){return Wj(u,CI(e,t,n,r,a,i,o,l,c,d))},u}function kze(){return uo.apply(CI(j8e,w8e,dd,NI,i_,Hj,jI,yI,Rh,Uie).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function _ze(){return uo.apply(CI(y8e,b8e,ud,SI,o_,a_,wI,bI,Rh,Vie).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function l_(){var e=0,t=1,n,r,a,i,o=wa,l=!1,c;function d(h){return h==null||isNaN(h=+h)?c:o(a===0?.5:(h=(i(h)-n)*a,l?Math.max(0,Math.min(1,h)):h))}d.domain=function(h){return arguments.length?([e,t]=h,n=i(e=+e),r=i(t=+t),a=n===r?0:1/(r-n),d):[e,t]},d.clamp=function(h){return arguments.length?(l=!!h,d):l},d.interpolator=function(h){return arguments.length?(o=h,d):o};function u(h){return function(f){var g,m;return arguments.length?([g,m]=f,o=h(g,m),d):[o(0),o(1)]}}return d.range=u(Rv),d.rangeRound=u(dI),d.unknown=function(h){return arguments.length?(c=h,d):c},function(h){return i=h,n=h(e),r=h(t),a=n===r?0:1/(r-n),d}}function rh(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Wie(){var e=nh(l_()(wa));return e.copy=function(){return rh(e,Wie())},yd.apply(e,arguments)}function Hie(){var e=mI(l_()).domain([1,10]);return e.copy=function(){return rh(e,Hie()).base(e.base())},yd.apply(e,arguments)}function qie(){var e=pI(l_());return e.copy=function(){return rh(e,qie()).constant(e.constant())},yd.apply(e,arguments)}function kI(){var e=gI(l_());return e.copy=function(){return rh(e,kI()).exponent(e.exponent())},yd.apply(e,arguments)}function Pze(){return kI.apply(null,arguments).exponent(.5)}function Kie(){var e=[],t=wa;function n(r){if(r!=null&&!isNaN(r=+r))return t((Uj(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let a of r)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(bu),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,a)=>t(a/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,i)=>mLe(e,i/r))},n.copy=function(){return Kie(t).domain(e)},yd.apply(n,arguments)}function c_(){var e=0,t=.5,n=1,r=1,a,i,o,l,c,d=wa,u,h=!1,f;function g(p){return isNaN(p=+p)?f:(p=.5+((p=+u(p))-i)*(r*p<r*i?l:c),d(h?Math.max(0,Math.min(1,p)):p))}g.domain=function(p){return arguments.length?([e,t,n]=p,a=u(e=+e),i=u(t=+t),o=u(n=+n),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),r=i<a?-1:1,g):[e,t,n]},g.clamp=function(p){return arguments.length?(h=!!p,g):h},g.interpolator=function(p){return arguments.length?(d=p,g):d};function m(p){return function(x){var v,y,j;return arguments.length?([v,y,j]=x,d=zLe(p,[v,y,j]),g):[d(0),d(.5),d(1)]}}return g.range=m(Rv),g.rangeRound=m(dI),g.unknown=function(p){return arguments.length?(f=p,g):f},function(p){return u=p,a=p(e),i=p(t),o=p(n),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),r=i<a?-1:1,g}}function Gie(){var e=nh(c_()(wa));return e.copy=function(){return rh(e,Gie())},yd.apply(e,arguments)}function Yie(){var e=mI(c_()).domain([.1,1,10]);return e.copy=function(){return rh(e,Yie()).base(e.base())},yd.apply(e,arguments)}function Xie(){var e=pI(c_());return e.copy=function(){return rh(e,Xie()).constant(e.constant())},yd.apply(e,arguments)}function _I(){var e=gI(c_());return e.copy=function(){return rh(e,_I()).exponent(e.exponent())},yd.apply(e,arguments)}function Tze(){return _I.apply(null,arguments).exponent(.5)}const Lz=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:A0,scaleDiverging:Gie,scaleDivergingLog:Yie,scaleDivergingPow:_I,scaleDivergingSqrt:Tze,scaleDivergingSymlog:Xie,scaleIdentity:Pie,scaleImplicit:KD,scaleLinear:YS,scaleLog:Aie,scaleOrdinal:oI,scalePoint:py,scalePow:vI,scaleQuantile:Oie,scaleQuantize:Mie,scaleRadial:Die,scaleSequential:Wie,scaleSequentialLog:Hie,scaleSequentialPow:kI,scaleSequentialQuantile:Kie,scaleSequentialSqrt:Pze,scaleSequentialSymlog:qie,scaleSqrt:c8e,scaleSymlog:Eie,scaleThreshold:Rie,scaleTime:kze,scaleUtc:_ze,tickFormat:_ie},Symbol.toStringTag,{value:"Module"}));var Aze=Nv;function Eze(e,t,n){for(var r=-1,a=e.length;++r<a;){var i=e[r],o=t(i);if(o!=null&&(l===void 0?o===o&&!Aze(o):n(o,l)))var l=o,c=i}return c}var d_=Eze;function Dze(e,t){return e>t}var Qie=Dze,Oze=d_,Mze=Qie,Rze=Ov;function $ze(e){return e&&e.length?Oze(e,Rze,Mze):void 0}var Ize=$ze;const iu=Tt(Ize);function Fze(e,t){return e<t}var Zie=Fze,Lze=d_,zze=Zie,Bze=Ov;function Uze(e){return e&&e.length?Lze(e,Bze,zze):void 0}var Vze=Uze;const u_=Tt(Vze);var Wze=Rk,Hze=hl,qze=rie,Kze=aa;function Gze(e,t){var n=Kze(e)?Wze:qze;return n(e,Hze(t))}var Yze=Gze,Xze=tI,Qze=Yze;function Zze(e,t){return Xze(Qze(e,t),1)}var Jze=Zze;const eBe=Tt(Jze);var tBe=eI;function nBe(e,t){return tBe(e,t)}var rBe=nBe;const zu=Tt(rBe);var $v=1e9,sBe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},TI,Zn=!0,ro="[DecimalError] ",hf=ro+"Invalid argument: ",PI=ro+"Exponent out of range: ",Iv=Math.floor,bh=Math.pow,aBe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,di,ys=1e7,Bn=7,Jie=9007199254740991,JS=Iv(Jie/Bn),tt={};tt.absoluteValue=tt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};tt.comparedTo=tt.cmp=function(e){var t,n,r,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(r=i.d.length,a=e.d.length,t=0,n=r<a?r:a;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return r===a?0:r>a^i.s<0?1:-1};tt.decimalPlaces=tt.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Bn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};tt.dividedBy=tt.div=function(e){return Yc(this,new this.constructor(e))};tt.dividedToIntegerBy=tt.idiv=function(e){var t=this,n=t.constructor;return Cn(Yc(t,new n(e),0,1),n.precision)};tt.equals=tt.eq=function(e){return!this.cmp(e)};tt.exponent=function(){return Wr(this)};tt.greaterThan=tt.gt=function(e){return this.cmp(e)>0};tt.greaterThanOrEqualTo=tt.gte=function(e){return this.cmp(e)>=0};tt.isInteger=tt.isint=function(){return this.e>this.d.length-2};tt.isNegative=tt.isneg=function(){return this.s<0};tt.isPositive=tt.ispos=function(){return this.s>0};tt.isZero=function(){return this.s===0};tt.lessThan=tt.lt=function(e){return this.cmp(e)<0};tt.lessThanOrEqualTo=tt.lte=function(e){return this.cmp(e)<1};tt.logarithm=tt.log=function(e){var t,n=this,r=n.constructor,a=r.precision,i=a+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(di))throw Error(ro+"NaN");if(n.s<1)throw Error(ro+(n.s?"NaN":"-Infinity"));return n.eq(di)?new r(0):(Zn=!1,t=Yc(R0(n,i),R0(e,i),i),Zn=!0,Cn(t,a))};tt.minus=tt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?noe(t,e):eoe(t,(e.s=-e.s,e))};tt.modulo=tt.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(e=new r(e),!e.s)throw Error(ro+"NaN");return n.s?(Zn=!1,t=Yc(n,e,0,1).times(e),Zn=!0,n.minus(t)):Cn(new r(n),a)};tt.naturalExponential=tt.exp=function(){return toe(this)};tt.naturalLogarithm=tt.ln=function(){return R0(this)};tt.negated=tt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};tt.plus=tt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?eoe(t,e):noe(t,(e.s=-e.s,e))};tt.precision=tt.sd=function(e){var t,n,r,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(hf+e);if(t=Wr(a)+1,r=a.d.length-1,n=r*Bn+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};tt.squareRoot=tt.sqrt=function(){var e,t,n,r,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(ro+"NaN")}for(e=Wr(l),Zn=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Ll(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Iv((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new c(t)):r=new c(a.toString()),n=c.precision,a=o=n+3;;)if(i=r,r=i.plus(Yc(l,i,o+2)).times(.5),Ll(i.d).slice(0,o)===(t=Ll(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Cn(i,n+1,0),i.times(i).eq(l)){r=i;break}}else if(t!="9999")break;o+=4}return Zn=!0,Cn(r,n)};tt.times=tt.mul=function(e){var t,n,r,a,i,o,l,c,d,u=this,h=u.constructor,f=u.d,g=(e=new h(e)).d;if(!u.s||!e.s)return new h(0);for(e.s*=u.s,n=u.e+e.e,c=f.length,d=g.length,c<d&&(i=f,f=g,g=i,o=c,c=d,d=o),i=[],o=c+d,r=o;r--;)i.push(0);for(r=d;--r>=0;){for(t=0,a=c+r;a>r;)l=i[a]+g[r]*f[a-r-1]+t,i[a--]=l%ys|0,t=l/ys|0;i[a]=(i[a]+t)%ys|0}for(;!i[--o];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,Zn?Cn(e,h.precision):e};tt.toDecimalPlaces=tt.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(cc(e,0,$v),t===void 0?t=r.rounding:cc(t,0,8),Cn(n,e+Wr(n)+1,t))};tt.toExponential=function(e,t){var n,r=this,a=r.constructor;return e===void 0?n=Rf(r,!0):(cc(e,0,$v),t===void 0?t=a.rounding:cc(t,0,8),r=Cn(new a(r),e+1,t),n=Rf(r,!0,e+1)),n};tt.toFixed=function(e,t){var n,r,a=this,i=a.constructor;return e===void 0?Rf(a):(cc(e,0,$v),t===void 0?t=i.rounding:cc(t,0,8),r=Cn(new i(a),e+Wr(a)+1,t),n=Rf(r.abs(),!1,e+Wr(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};tt.toInteger=tt.toint=function(){var e=this,t=e.constructor;return Cn(new t(e),Wr(e)+1,t.rounding)};tt.toNumber=function(){return+this};tt.toPower=tt.pow=function(e){var t,n,r,a,i,o,l=this,c=l.constructor,d=12,u=+(e=new c(e));if(!e.s)return new c(di);if(l=new c(l),!l.s){if(e.s<1)throw Error(ro+"Infinity");return l}if(l.eq(di))return l;if(r=c.precision,e.eq(di))return Cn(l,r);if(t=e.e,n=e.d.length-1,o=t>=n,i=l.s,o){if((n=u<0?-u:u)<=Jie){for(a=new c(di),t=Math.ceil(r/Bn+4),Zn=!1;n%2&&(a=a.times(l),Bz(a.d,t)),n=Iv(n/2),n!==0;)l=l.times(l),Bz(l.d,t);return Zn=!0,e.s<0?new c(di).div(a):Cn(a,r)}}else if(i<0)throw Error(ro+"NaN");return i=i<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,Zn=!1,a=e.times(R0(l,r+d)),Zn=!0,a=toe(a),a.s=i,a};tt.toPrecision=function(e,t){var n,r,a=this,i=a.constructor;return e===void 0?(n=Wr(a),r=Rf(a,n<=i.toExpNeg||n>=i.toExpPos)):(cc(e,1,$v),t===void 0?t=i.rounding:cc(t,0,8),a=Cn(new i(a),e,t),n=Wr(a),r=Rf(a,e<=n||n<=i.toExpNeg,e)),r};tt.toSignificantDigits=tt.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(cc(e,1,$v),t===void 0?t=r.rounding:cc(t,0,8)),Cn(new r(n),e,t)};tt.toString=tt.valueOf=tt.val=tt.toJSON=tt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Wr(e),n=e.constructor;return Rf(e,t<=n.toExpNeg||t>=n.toExpPos)};function eoe(e,t){var n,r,a,i,o,l,c,d,u=e.constructor,h=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),Zn?Cn(t,h):t;if(c=e.d,d=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(r=c,i=-i,l=d.length):(r=d,a=o,l=c.length),o=Math.ceil(h/Bn),l=o>l?o+1:l+1,i>l&&(i=l,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(l=c.length,i=d.length,l-i<0&&(i=l,r=d,d=c,c=r),n=0;i;)n=(c[--i]=c[i]+d[i]+n)/ys|0,c[i]%=ys;for(n&&(c.unshift(n),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,Zn?Cn(t,h):t}function cc(e,t,n){if(e!==~~e||e<t||e>n)throw Error(hf+e)}function Ll(e){var t,n,r,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)r=e[t]+"",n=Bn-r.length,n&&(i+=Ld(n)),i+=r;o=e[t],r=o+"",n=Bn-r.length,n&&(i+=Ld(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Yc=function(){function e(r,a){var i,o=0,l=r.length;for(r=r.slice();l--;)i=r[l]*a+o,r[l]=i%ys|0,o=i/ys|0;return o&&r.unshift(o),r}function t(r,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(r[l]!=a[l]){c=r[l]>a[l]?1:-1;break}return c}function n(r,a,i){for(var o=0;i--;)r[i]-=o,o=r[i]<a[i]?1:0,r[i]=o*ys+r[i]-a[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,i,o){var l,c,d,u,h,f,g,m,p,x,v,y,j,N,w,S,k,_,T=r.constructor,P=r.s==a.s?1:-1,C=r.d,A=a.d;if(!r.s)return new T(r);if(!a.s)throw Error(ro+"Division by zero");for(c=r.e-a.e,k=A.length,w=C.length,g=new T(P),m=g.d=[],d=0;A[d]==(C[d]||0);)++d;if(A[d]>(C[d]||0)&&--c,i==null?y=i=T.precision:o?y=i+(Wr(r)-Wr(a))+1:y=i,y<0)return new T(0);if(y=y/Bn+2|0,d=0,k==1)for(u=0,A=A[0],y++;(d<w||u)&&y--;d++)j=u*ys+(C[d]||0),m[d]=j/A|0,u=j%A|0;else{for(u=ys/(A[0]+1)|0,u>1&&(A=e(A,u),C=e(C,u),k=A.length,w=C.length),N=k,p=C.slice(0,k),x=p.length;x<k;)p[x++]=0;_=A.slice(),_.unshift(0),S=A[0],A[1]>=ys/2&&++S;do u=0,l=t(A,p,k,x),l<0?(v=p[0],k!=x&&(v=v*ys+(p[1]||0)),u=v/S|0,u>1?(u>=ys&&(u=ys-1),h=e(A,u),f=h.length,x=p.length,l=t(h,p,f,x),l==1&&(u--,n(h,k<f?_:A,f))):(u==0&&(l=u=1),h=A.slice()),f=h.length,f<x&&h.unshift(0),n(p,h,x),l==-1&&(x=p.length,l=t(A,p,k,x),l<1&&(u++,n(p,k<x?_:A,x))),x=p.length):l===0&&(u++,p=[0]),m[d++]=u,l&&p[0]?p[x++]=C[N]||0:(p=[C[N]],x=1);while((N++<w||p[0]!==void 0)&&y--)}return m[0]||m.shift(),g.e=c,Cn(g,o?i+Wr(g)+1:i)}}();function toe(e,t){var n,r,a,i,o,l,c=0,d=0,u=e.constructor,h=u.precision;if(Wr(e)>16)throw Error(PI+Wr(e));if(!e.s)return new u(di);for(t==null?(Zn=!1,l=h):l=t,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(r=Math.log(bh(2,d))/Math.LN10*2+5|0,l+=r,n=a=i=new u(di),u.precision=l;;){if(a=Cn(a.times(e),l),n=n.times(++c),o=i.plus(Yc(a,n,l)),Ll(o.d).slice(0,l)===Ll(i.d).slice(0,l)){for(;d--;)i=Cn(i.times(i),l);return u.precision=h,t==null?(Zn=!0,Cn(i,h)):i}i=o}}function Wr(e){for(var t=e.e*Bn,n=e.d[0];n>=10;n/=10)t++;return t}function AT(e,t,n){if(t>e.LN10.sd())throw Zn=!0,n&&(e.precision=n),Error(ro+"LN10 precision limit exceeded");return Cn(new e(e.LN10),t)}function Ld(e){for(var t="";e--;)t+="0";return t}function R0(e,t){var n,r,a,i,o,l,c,d,u,h=1,f=10,g=e,m=g.d,p=g.constructor,x=p.precision;if(g.s<1)throw Error(ro+(g.s?"NaN":"-Infinity"));if(g.eq(di))return new p(0);if(t==null?(Zn=!1,d=x):d=t,g.eq(10))return t==null&&(Zn=!0),AT(p,d);if(d+=f,p.precision=d,n=Ll(m),r=n.charAt(0),i=Wr(g),Math.abs(i)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)g=g.times(e),n=Ll(g.d),r=n.charAt(0),h++;i=Wr(g),r>1?(g=new p("0."+n),i++):g=new p(r+"."+n.slice(1))}else return c=AT(p,d+2,x).times(i+""),g=R0(new p(r+"."+n.slice(1)),d-f).plus(c),p.precision=x,t==null?(Zn=!0,Cn(g,x)):g;for(l=o=g=Yc(g.minus(di),g.plus(di),d),u=Cn(g.times(g),d),a=3;;){if(o=Cn(o.times(u),d),c=l.plus(Yc(o,new p(a),d)),Ll(c.d).slice(0,d)===Ll(l.d).slice(0,d))return l=l.times(2),i!==0&&(l=l.plus(AT(p,d+2,x).times(i+""))),l=Yc(l,new p(h),d),p.precision=x,t==null?(Zn=!0,Cn(l,x)):l;l=c,a+=2}}function zz(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(r,a),t){if(a-=r,n=n-r-1,e.e=Iv(n/Bn),e.d=[],r=(n+1)%Bn,n<0&&(r+=Bn),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=Bn;r<a;)e.d.push(+t.slice(r,r+=Bn));t=t.slice(r),r=Bn-t.length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),Zn&&(e.e>JS||e.e<-JS))throw Error(PI+n)}else e.s=0,e.e=0,e.d=[0];return e}function Cn(e,t,n){var r,a,i,o,l,c,d,u,h=e.d;for(o=1,i=h[0];i>=10;i/=10)o++;if(r=t-o,r<0)r+=Bn,a=t,d=h[u=0];else{if(u=Math.ceil((r+1)/Bn),i=h.length,u>=i)return e;for(d=i=h[u],o=1;i>=10;i/=10)o++;r%=Bn,a=r-Bn+o}if(n!==void 0&&(i=bh(10,o-a-1),l=d/i%10|0,c=t<0||h[u+1]!==void 0||d%i,c=n<4?(l||c)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?a>0?d/bh(10,o-a):0:h[u-1])%10&1||n==(e.s<0?8:7))),t<1||!h[0])return c?(i=Wr(e),h.length=1,t=t-i-1,h[0]=bh(10,(Bn-t%Bn)%Bn),e.e=Iv(-t/Bn)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(r==0?(h.length=u,i=1,u--):(h.length=u+1,i=bh(10,Bn-r),h[u]=a>0?(d/bh(10,o-a)%bh(10,a)|0)*i:0),c)for(;;)if(u==0){(h[0]+=i)==ys&&(h[0]=1,++e.e);break}else{if(h[u]+=i,h[u]!=ys)break;h[u--]=0,i=1}for(r=h.length;h[--r]===0;)h.pop();if(Zn&&(e.e>JS||e.e<-JS))throw Error(PI+Wr(e));return e}function noe(e,t){var n,r,a,i,o,l,c,d,u,h,f=e.constructor,g=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),Zn?Cn(t,g):t;if(c=e.d,h=t.d,r=t.e,d=e.e,c=c.slice(),o=d-r,o){for(u=o<0,u?(n=c,o=-o,l=h.length):(n=h,r=d,l=c.length),a=Math.max(Math.ceil(g/Bn),l)+2,o>a&&(o=a,n.length=1),n.reverse(),a=o;a--;)n.push(0);n.reverse()}else{for(a=c.length,l=h.length,u=a<l,u&&(l=a),a=0;a<l;a++)if(c[a]!=h[a]){u=c[a]<h[a];break}o=0}for(u&&(n=c,c=h,h=n,t.s=-t.s),l=c.length,a=h.length-l;a>0;--a)c[l++]=0;for(a=h.length;a>o;){if(c[--a]<h[a]){for(i=a;i&&c[--i]===0;)c[i]=ys-1;--c[i],c[a]+=ys}c[a]-=h[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(t.d=c,t.e=r,Zn?Cn(t,g):t):new f(0)}function Rf(e,t,n){var r,a=Wr(e),i=Ll(e.d),o=i.length;return t?(n&&(r=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+Ld(r):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Ld(-a-1)+i,n&&(r=n-o)>0&&(i+=Ld(r))):a>=o?(i+=Ld(a+1-o),n&&(r=n-a-1)>0&&(i=i+"."+Ld(r))):((r=a+1)<o&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-o)>0&&(a+1===o&&(i+="."),i+=Ld(r))),e.s<0?"-"+i:i}function Bz(e,t){if(e.length>t)return e.length=t,!0}function roe(e){var t,n,r;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(hf+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return zz(o,i.toString())}else if(typeof i!="string")throw Error(hf+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,aBe.test(i))zz(o,i);else throw Error(hf+i)}if(a.prototype=tt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=roe,a.config=a.set=iBe,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return a.config(e),a}function iBe(e){if(!e||typeof e!="object")throw Error(ro+"Object expected");var t,n,r,a=["precision",1,$v,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((r=e[n=a[t]])!==void 0)if(Iv(r)===r&&r>=a[t+1]&&r<=a[t+2])this[n]=r;else throw Error(hf+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(hf+n+": "+r);return this}var TI=roe(sBe);di=new TI(1);const yn=TI;function oBe(e){return uBe(e)||dBe(e)||cBe(e)||lBe()}function lBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cBe(e,t){if(e){if(typeof e=="string")return QD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QD(e,t)}}function dBe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function uBe(e){if(Array.isArray(e))return QD(e)}function QD(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var hBe=function(t){return t},soe={"@@functional/placeholder":!0},aoe=function(t){return t===soe},Uz=function(t){return function n(){return arguments.length===0||arguments.length===1&&aoe(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},fBe=function e(t,n){return t===1?n:Uz(function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==soe}).length;return o>=t?n.apply(void 0,a):e(t-o,Uz(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var u=a.map(function(h){return aoe(h)?c.shift():h});return n.apply(void 0,oBe(u).concat(c))}))})},h_=function(t){return fBe(t.length,t)},ZD=function(t,n){for(var r=[],a=t;a<n;++a)r[a-t]=a;return r},mBe=h_(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),pBe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return hBe;var a=n.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},JD=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},ioe=function(t){var n=null,r=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n&&i.every(function(l,c){return l===n[c]})||(n=i,r=t.apply(void 0,i)),r}};function gBe(e){var t;return e===0?t=1:t=Math.floor(new yn(e).abs().log(10).toNumber())+1,t}function vBe(e,t,n){for(var r=new yn(e),a=0,i=[];r.lt(t)&&a<1e5;)i.push(r.toNumber()),r=r.add(n),a++;return i}var xBe=h_(function(e,t,n){var r=+e,a=+t;return r+n*(a-r)}),yBe=h_(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),bBe=h_(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const f_={rangeStep:vBe,getDigitCount:gBe,interpolateNumber:xBe,uninterpolateNumber:yBe,uninterpolateTruncation:bBe};function eO(e){return NBe(e)||wBe(e)||ooe(e)||jBe()}function jBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wBe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function NBe(e){if(Array.isArray(e))return tO(e)}function $0(e,t){return kBe(e)||CBe(e,t)||ooe(e,t)||SBe()}function SBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ooe(e,t){if(e){if(typeof e=="string")return tO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tO(e,t)}}function tO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function CBe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(r=(l=o.next()).done)&&(n.push(l.value),!(t&&n.length===t));r=!0);}catch(c){a=!0,i=c}finally{try{!r&&o.return!=null&&o.return()}finally{if(a)throw i}}return n}}function kBe(e){if(Array.isArray(e))return e}function loe(e){var t=$0(e,2),n=t[0],r=t[1],a=n,i=r;return n>r&&(a=r,i=n),[a,i]}function coe(e,t,n){if(e.lte(0))return new yn(0);var r=f_.getDigitCount(e.toNumber()),a=new yn(10).pow(r),i=e.div(a),o=r!==1?.05:.1,l=new yn(Math.ceil(i.div(o).toNumber())).add(n).mul(o),c=l.mul(a);return t?c:new yn(Math.ceil(c))}function _Be(e,t,n){var r=1,a=new yn(e);if(!a.isint()&&n){var i=Math.abs(e);i<1?(r=new yn(10).pow(f_.getDigitCount(e)-1),a=new yn(Math.floor(a.div(r).toNumber())).mul(r)):i>1&&(a=new yn(Math.floor(e)))}else e===0?a=new yn(Math.floor((t-1)/2)):n||(a=new yn(Math.floor(e)));var o=Math.floor((t-1)/2),l=pBe(mBe(function(c){return a.add(new yn(c-o).mul(r)).toNumber()}),ZD);return l(0,t)}function doe(e,t,n,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new yn(0),tickMin:new yn(0),tickMax:new yn(0)};var i=coe(new yn(t).sub(e).div(n-1),r,a),o;e<=0&&t>=0?o=new yn(0):(o=new yn(e).add(t).div(2),o=o.sub(new yn(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new yn(t).sub(o).div(i).toNumber()),d=l+c+1;return d>n?doe(e,t,n,r,a+1):(d<n&&(c=t>0?c+(n-d):c,l=t>0?l:l+(n-d)),{step:i,tickMin:o.sub(new yn(l).mul(i)),tickMax:o.add(new yn(c).mul(i))})}function PBe(e){var t=$0(e,2),n=t[0],r=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=loe([n,r]),c=$0(l,2),d=c[0],u=c[1];if(d===-1/0||u===1/0){var h=u===1/0?[d].concat(eO(ZD(0,a-1).map(function(){return 1/0}))):[].concat(eO(ZD(0,a-1).map(function(){return-1/0})),[u]);return n>r?JD(h):h}if(d===u)return _Be(d,a,i);var f=doe(d,u,o,i),g=f.step,m=f.tickMin,p=f.tickMax,x=f_.rangeStep(m,p.add(new yn(.1).mul(g)),g);return n>r?JD(x):x}function TBe(e,t){var n=$0(e,2),r=n[0],a=n[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=loe([r,a]),l=$0(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[r,a];if(c===d)return[c];var u=Math.max(t,2),h=coe(new yn(d).sub(c).div(u-1),i,0),f=[].concat(eO(f_.rangeStep(new yn(c),new yn(d).sub(new yn(.99).mul(h)),h)),[d]);return r>a?JD(f):f}var ABe=ioe(PBe),EBe=ioe(TBe),DBe="Invariant failed";function $f(e,t){throw new Error(DBe)}var OBe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Tg(e){"@babel/helpers - typeof";return Tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tg(e)}function eC(){return eC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eC.apply(this,arguments)}function MBe(e,t){return FBe(e)||IBe(e,t)||$Be(e,t)||RBe()}function RBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Be(e,t){if(e){if(typeof e=="string")return Vz(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vz(e,t)}}function Vz(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function IBe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function FBe(e){if(Array.isArray(e))return e}function LBe(e,t){if(e==null)return{};var n=zBe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function zBe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function BBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UBe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,foe(r.key),r)}}function VBe(e,t,n){return t&&UBe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function WBe(e,t,n){return t=tC(t),HBe(e,uoe()?Reflect.construct(t,n||[],tC(e).constructor):t.apply(e,n))}function HBe(e,t){if(t&&(Tg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qBe(e)}function qBe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uoe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uoe=function(){return!!e})()}function tC(e){return tC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tC(e)}function KBe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nO(e,t)}function nO(e,t){return nO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},nO(e,t)}function hoe(e,t,n){return t=foe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function foe(e){var t=GBe(e,"string");return Tg(t)=="symbol"?t:t+""}function GBe(e,t){if(Tg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Tg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qj=function(e){function t(){return BBe(this,t),WBe(this,t,arguments)}return KBe(t,e),VBe(t,[{key:"render",value:function(){var r=this.props,a=r.offset,i=r.layout,o=r.width,l=r.dataKey,c=r.data,d=r.dataPointFormatter,u=r.xAxis,h=r.yAxis,f=LBe(r,OBe),g=ot(f,!1);this.props.direction==="x"&&u.type!=="number"&&$f();var m=c.map(function(p){var x=d(p,l),v=x.x,y=x.y,j=x.value,N=x.errorVal;if(!N)return null;var w=[],S,k;if(Array.isArray(N)){var _=MBe(N,2);S=_[0],k=_[1]}else S=k=N;if(i==="vertical"){var T=u.scale,P=y+a,C=P+o,A=P-o,E=T(j-S),I=T(j+k);w.push({x1:I,y1:C,x2:I,y2:A}),w.push({x1:E,y1:P,x2:I,y2:P}),w.push({x1:E,y1:C,x2:E,y2:A})}else if(i==="horizontal"){var $=h.scale,U=v+a,M=U-o,F=U+o,V=$(j-S),Y=$(j+k);w.push({x1:M,y1:Y,x2:F,y2:Y}),w.push({x1:U,y1:V,x2:U,y2:Y}),w.push({x1:M,y1:V,x2:F,y2:V})}return O.createElement(Vt,eC({className:"recharts-errorBar",key:"bar-".concat(w.map(function(K){return"".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))},g),w.map(function(K){return O.createElement("line",eC({},K,{key:"line-".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))}))});return O.createElement(Vt,{className:"recharts-errorBars"},m)}}])}(O.Component);hoe(qj,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});hoe(qj,"displayName","ErrorBar");function I0(e){"@babel/helpers - typeof";return I0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I0(e)}function Wz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function dh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Wz(Object(n),!0).forEach(function(r){YBe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wz(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YBe(e,t,n){return t=XBe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XBe(e){var t=QBe(e,"string");return I0(t)=="symbol"?t:t+""}function QBe(e,t){if(I0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(I0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var moe=function(t){var n=t.children,r=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=si(n,Gl);if(!o)return null;var l=Gl.defaultProps,c=l!==void 0?dh(dh({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:i==="children"?d=(r||[]).reduce(function(u,h){var f=h.item,g=h.props,m=g.sectors||g.data||[];return u.concat(m.map(function(p){return{type:o.props.iconType||f.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):d=(r||[]).map(function(u){var h=u.item,f=h.type.defaultProps,g=f!==void 0?dh(dh({},f),h.props):{},m=g.dataKey,p=g.name,x=g.legendType,v=g.hide;return{inactive:v,dataKey:m,type:c.iconType||x||"square",color:AI(h),value:p||m,payload:g}}),dh(dh(dh({},c),Gl.getWithHeight(o,a)),{},{payload:d,item:o})};function F0(e){"@babel/helpers - typeof";return F0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F0(e)}function Hz(e){return tUe(e)||eUe(e)||JBe(e)||ZBe()}function ZBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JBe(e,t){if(e){if(typeof e=="string")return rO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rO(e,t)}}function eUe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tUe(e){if(Array.isArray(e))return rO(e)}function rO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function yr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qz(Object(n),!0).forEach(function(r){pp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qz(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pp(e,t,n){return t=nUe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nUe(e){var t=rUe(e,"string");return F0(t)=="symbol"?t:t+""}function rUe(e,t){if(F0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(F0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mr(e,t,n){return _t(e)||_t(t)?n:cs(t)?vi(e,t,n):yt(t)?t(e):n}function gy(e,t,n,r){var a=eBe(e,function(l){return Mr(l,t)});if(n==="number"){var i=a.filter(function(l){return Ee(l)||parseFloat(l)});return i.length?[u_(i),iu(i)]:[1/0,-1/0]}var o=r?a.filter(function(l){return!_t(l)}):a;return o.map(function(l){return cs(l)||l instanceof Date?l:""})}var sUe=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,d=0;d<l;d++){var u=d>0?a[d-1].coordinate:a[l-1].coordinate,h=a[d].coordinate,f=d>=l-1?a[0].coordinate:a[d+1].coordinate,g=void 0;if(ba(h-u)!==ba(f-h)){var m=[];if(ba(f-h)===ba(c[1]-c[0])){g=f;var p=h+c[1]-c[0];m[0]=Math.min(p,(p+u)/2),m[1]=Math.max(p,(p+u)/2)}else{g=u;var x=f+c[1]-c[0];m[0]=Math.min(h,(x+h)/2),m[1]=Math.max(h,(x+h)/2)}var v=[Math.min(h,(g+h)/2),Math.max(h,(g+h)/2)];if(t>v[0]&&t<=v[1]||t>=m[0]&&t<=m[1]){o=a[d].index;break}}else{var y=Math.min(u,f),j=Math.max(u,f);if(t>(y+h)/2&&t<=(j+h)/2){o=a[d].index;break}}}else for(var N=0;N<l;N++)if(N===0&&t<=(r[N].coordinate+r[N+1].coordinate)/2||N>0&&N<l-1&&t>(r[N].coordinate+r[N-1].coordinate)/2&&t<=(r[N].coordinate+r[N+1].coordinate)/2||N===l-1&&t>(r[N].coordinate+r[N-1].coordinate)/2){o=r[N].index;break}return o},AI=function(t){var n,r=t,a=r.type.displayName,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?yr(yr({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},aUe=function(t){var n=t.barSize,r=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,d=l.length;c<d;c++)for(var u=i[l[c]].stackGroups,h=Object.keys(u),f=0,g=h.length;f<g;f++){var m=u[h[f]],p=m.items,x=m.cateAxisId,v=p.filter(function(k){return Gc(k.type).indexOf("Bar")>=0});if(v&&v.length){var y=v[0].type.defaultProps,j=y!==void 0?yr(yr({},y),v[0].props):v[0].props,N=j.barSize,w=j[x];o[w]||(o[w]=[]);var S=_t(N)?n:N;o[w].push({item:v[0],stackList:v.slice(1),barSize:_t(S)?void 0:ja(S,r,0)})}}return o},iUe=function(t){var n=t.barGap,r=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var d=ja(n,a,0,!0),u,h=[];if(o[0].barSize===+o[0].barSize){var f=!1,g=a/c,m=o.reduce(function(N,w){return N+w.barSize||0},0);m+=(c-1)*d,m>=a&&(m-=(c-1)*d,d=0),m>=a&&g>0&&(f=!0,g*=.9,m=c*g);var p=(a-m)/2>>0,x={offset:p-d,size:0};u=o.reduce(function(N,w){var S={item:w.item,position:{offset:x.offset+x.size+d,size:f?g:w.barSize}},k=[].concat(Hz(N),[S]);return x=k[k.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(_){k.push({item:_,position:x})}),k},h)}else{var v=ja(r,a,0,!0);a-2*v-(c-1)*d<=0&&(d=0);var y=(a-2*v-(c-1)*d)/c;y>1&&(y>>=0);var j=l===+l?Math.min(y,l):y;u=o.reduce(function(N,w,S){var k=[].concat(Hz(N),[{item:w.item,position:{offset:v+(y+d)*S+(y-j)/2,size:j}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(_){k.push({item:_,position:k[k.length-1].position})}),k},h)}return u},oUe=function(t,n,r,a){var i=r.children,o=r.width,l=r.margin,c=o-(l.left||0)-(l.right||0),d=moe({children:i,legendWidth:c});if(d){var u=a||{},h=u.width,f=u.height,g=d.align,m=d.verticalAlign,p=d.layout;if((p==="vertical"||p==="horizontal"&&m==="middle")&&g!=="center"&&Ee(t[g]))return yr(yr({},t),{},pp({},g,t[g]+(h||0)));if((p==="horizontal"||p==="vertical"&&g==="center")&&m!=="middle"&&Ee(t[m]))return yr(yr({},t),{},pp({},m,t[m]+(f||0)))}return t},lUe=function(t,n,r){return _t(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},poe=function(t,n,r,a,i){var o=n.props.children,l=xi(o,qj).filter(function(d){return lUe(a,i,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return t.reduce(function(d,u){var h=Mr(u,r);if(_t(h))return d;var f=Array.isArray(h)?[u_(h),iu(h)]:[h,h],g=c.reduce(function(m,p){var x=Mr(u,p,0),v=f[0]-Math.abs(Array.isArray(x)?x[0]:x),y=f[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(v,m[0]),Math.max(y,m[1])]},[1/0,-1/0]);return[Math.min(g[0],d[0]),Math.max(g[1],d[1])]},[1/0,-1/0])}return null},cUe=function(t,n,r,a,i){var o=n.map(function(l){return poe(t,l,r,i,a)}).filter(function(l){return!_t(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},goe=function(t,n,r,a,i){var o=n.map(function(c){var d=c.props.dataKey;return r==="number"&&d&&poe(t,c,d,a)||gy(t,d,r,i)});if(r==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var u=0,h=d.length;u<h;u++)l[d[u]]||(l[d[u]]=!0,c.push(d[u]));return c},[])},voe=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},xoe=function(t,n,r,a){if(a)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===n&&(i=!0),c.coordinate===r&&(o=!0),c.coordinate});return i||l.push(n),o||l.push(r),l},Vc=function(t,n,r){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,d=(n||r)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(d=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?ba(l[0]-l[1])*2*d:d,n&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(h){var f=i?i.indexOf(h):h;return{coordinate:a(f)+d,value:h,offset:d}});return u.filter(function(h){return!Pv(h.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(h,f){return{coordinate:a(h)+d,value:h,index:f,offset:d}}):a.ticks&&!r?a.ticks(t.tickCount).map(function(h){return{coordinate:a(h)+d,value:h,offset:d}}):a.domain().map(function(h,f){return{coordinate:a(h)+d,value:i?i[h]:h,index:f,offset:d}})},ET=new WeakMap,nN=function(t,n){if(typeof n!="function")return t;ET.has(t)||ET.set(t,new WeakMap);var r=ET.get(t);if(r.has(n))return r.get(n);var a=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,a),a},yoe=function(t,n,r){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:A0(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:YS(),realScaleType:"linear"}:i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:py(),realScaleType:"point"}:i==="category"?{scale:A0(),realScaleType:"band"}:{scale:YS(),realScaleType:"linear"};if(Df(a)){var c="scale".concat(Gk(a));return{scale:(Lz[c]||py)(),realScaleType:Lz[c]?c:"point"}}return yt(a)?{scale:a}:{scale:py(),realScaleType:"point"}},Kz=1e-4,boe=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,a=t.range(),i=Math.min(a[0],a[1])-Kz,o=Math.max(a[0],a[1])+Kz,l=t(n[0]),c=t(n[r-1]);(l<i||l>o||c<i||c>o)&&t.domain([n[0],n[r-1]])}},dUe=function(t,n){if(!t)return null;for(var r=0,a=t.length;r<a;r++)if(t[r].item===n)return t[r].position;return null},uUe=function(t,n){if(!n||n.length!==2||!Ee(n[0])||!Ee(n[1]))return t;var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]),i=[t[0],t[1]];return(!Ee(t[0])||t[0]<r)&&(i[0]=r),(!Ee(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<r&&(i[1]=r),i},hUe=function(t){var n=t.length;if(!(n<=0))for(var r=0,a=t[0].length;r<a;++r)for(var i=0,o=0,l=0;l<n;++l){var c=Pv(t[l][r][1])?t[l][r][0]:t[l][r][1];c>=0?(t[l][r][0]=i,t[l][r][1]=i+c,i=t[l][r][1]):(t[l][r][0]=o,t[l][r][1]=o+c,o=t[l][r][1])}},fUe=function(t){var n=t.length;if(!(n<=0))for(var r=0,a=t[0].length;r<a;++r)for(var i=0,o=0;o<n;++o){var l=Pv(t[o][r][1])?t[o][r][0]:t[o][r][1];l>=0?(t[o][r][0]=i,t[o][r][1]=i+l,i=t[o][r][1]):(t[o][r][0]=0,t[o][r][1]=0)}},mUe={sign:hUe,expand:HOe,none:jg,silhouette:qOe,wiggle:KOe,positive:fUe},pUe=function(t,n,r){var a=n.map(function(l){return l.props.dataKey}),i=mUe[r],o=WOe().keys(a).value(function(l,c){return+Mr(l,c,0)}).order(PD).offset(i);return o(t)},gUe=function(t,n,r,a,i,o){if(!t)return null;var l=o?n.reverse():n,c={},d=l.reduce(function(h,f){var g,m=(g=f.type)!==null&&g!==void 0&&g.defaultProps?yr(yr({},f.type.defaultProps),f.props):f.props,p=m.stackId,x=m.hide;if(x)return h;var v=m[r],y=h[v]||{hasStack:!1,stackGroups:{}};if(cs(p)){var j=y.stackGroups[p]||{numericAxisId:r,cateAxisId:a,items:[]};j.items.push(f),y.hasStack=!0,y.stackGroups[p]=j}else y.stackGroups[nm("_stackId_")]={numericAxisId:r,cateAxisId:a,items:[f]};return yr(yr({},h),{},pp({},v,y))},c),u={};return Object.keys(d).reduce(function(h,f){var g=d[f];if(g.hasStack){var m={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(p,x){var v=g.stackGroups[x];return yr(yr({},p),{},pp({},x,{numericAxisId:r,cateAxisId:a,items:v.items,stackedData:pUe(t,v.items,i)}))},m)}return yr(yr({},h),{},pp({},f,g))},u)},joe=function(t,n){var r=n.realScaleType,a=n.type,i=n.tickCount,o=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=t.domain();if(!d.length)return null;var u=ABe(d,i,l);return t.domain([u_(u),iu(u)]),{niceTicks:u}}if(i&&a==="number"){var h=t.domain(),f=EBe(h,i,l);return{niceTicks:f}}return null};function nC(e){var t=e.axis,n=e.ticks,r=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!_t(a[t.dataKey])){var l=PS(n,"value",a[t.dataKey]);if(l)return l.coordinate+r/2}return n[i]?n[i].coordinate+r/2:null}var c=Mr(a,_t(o)?t.dataKey:o);return _t(c)?null:t.scale(c)}var Gz=function(t){var n=t.axis,r=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(n.type==="category")return r[l]?r[l].coordinate+a:null;var c=Mr(o,n.dataKey,n.domain[l]);return _t(c)?null:n.scale(c)-i/2+a},vUe=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var a=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return a<=0&&i>=0?0:i<0?i:a}return r[0]},xUe=function(t,n){var r,a=(r=t.type)!==null&&r!==void 0&&r.defaultProps?yr(yr({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(cs(i)){var o=n[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},yUe=function(t){return t.reduce(function(n,r){return[u_(r.concat([n[0]]).filter(Ee)),iu(r.concat([n[1]]).filter(Ee))]},[1/0,-1/0])},woe=function(t,n,r){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,c=l.reduce(function(d,u){var h=yUe(u.slice(n,r+1));return[Math.min(d[0],h[0]),Math.max(d[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},Yz=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Xz=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,sO=function(t,n,r){if(yt(t))return t(n,r);if(!Array.isArray(t))return n;var a=[];if(Ee(t[0]))a[0]=r?t[0]:Math.min(t[0],n[0]);else if(Yz.test(t[0])){var i=+Yz.exec(t[0])[1];a[0]=n[0]-i}else yt(t[0])?a[0]=t[0](n[0]):a[0]=n[0];if(Ee(t[1]))a[1]=r?t[1]:Math.max(t[1],n[1]);else if(Xz.test(t[1])){var o=+Xz.exec(t[1])[1];a[1]=n[1]+o}else yt(t[1])?a[1]=t[1](n[1]):a[1]=n[1];return a},rC=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!r||a>0)return a}if(t&&n&&n.length>=2){for(var i=n_(n,function(h){return h.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var d=i[l],u=i[l-1];o=Math.min((d.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},Qz=function(t,n,r){return!t||!t.length||zu(t,vi(r,"type.defaultProps.domain"))?n:t},Noe=function(t,n){var r=t.type.defaultProps?yr(yr({},t.type.defaultProps),t.props):t.props,a=r.dataKey,i=r.name,o=r.unit,l=r.formatter,c=r.tooltipType,d=r.chartType,u=r.hide;return yr(yr({},ot(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:AI(t),value:Mr(n,a),type:c,payload:n,chartType:d,hide:u})};function L0(e){"@babel/helpers - typeof";return L0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L0(e)}function Zz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function _c(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Zz(Object(n),!0).forEach(function(r){Soe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zz(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Soe(e,t,n){return t=bUe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bUe(e){var t=jUe(e,"string");return L0(t)=="symbol"?t:t+""}function jUe(e,t){if(L0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(L0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wUe(e,t){return kUe(e)||CUe(e,t)||SUe(e,t)||NUe()}function NUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SUe(e,t){if(e){if(typeof e=="string")return Jz(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jz(e,t)}}function Jz(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function CUe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function kUe(e){if(Array.isArray(e))return e}var sC=Math.PI/180,_Ue=function(t){return t*180/Math.PI},On=function(t,n,r,a){return{x:t+Math.cos(-sC*a)*r,y:n+Math.sin(-sC*a)*r}},Coe=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},PUe=function(t,n,r,a,i){var o=t.width,l=t.height,c=t.startAngle,d=t.endAngle,u=ja(t.cx,o,o/2),h=ja(t.cy,l,l/2),f=Coe(o,l,r),g=ja(t.innerRadius,f,0),m=ja(t.outerRadius,f,f*.8),p=Object.keys(n);return p.reduce(function(x,v){var y=n[v],j=y.domain,N=y.reversed,w;if(_t(y.range))a==="angleAxis"?w=[c,d]:a==="radiusAxis"&&(w=[g,m]),N&&(w=[w[1],w[0]]);else{w=y.range;var S=w,k=wUe(S,2);c=k[0],d=k[1]}var _=yoe(y,i),T=_.realScaleType,P=_.scale;P.domain(j).range(w),boe(P);var C=joe(P,_c(_c({},y),{},{realScaleType:T})),A=_c(_c(_c({},y),C),{},{range:w,radius:m,realScaleType:T,scale:P,cx:u,cy:h,innerRadius:g,outerRadius:m,startAngle:c,endAngle:d});return _c(_c({},x),{},Soe({},v,A))},{})},TUe=function(t,n){var r=t.x,a=t.y,i=n.x,o=n.y;return Math.sqrt(Math.pow(r-i,2)+Math.pow(a-o,2))},AUe=function(t,n){var r=t.x,a=t.y,i=n.cx,o=n.cy,l=TUe({x:r,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(r-i)/l,d=Math.acos(c);return a>o&&(d=2*Math.PI-d),{radius:l,angle:_Ue(d),angleInRadian:d}},EUe=function(t){var n=t.startAngle,r=t.endAngle,a=Math.floor(n/360),i=Math.floor(r/360),o=Math.min(a,i);return{startAngle:n-o*360,endAngle:r-o*360}},DUe=function(t,n){var r=n.startAngle,a=n.endAngle,i=Math.floor(r/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},eB=function(t,n){var r=t.x,a=t.y,i=AUe({x:r,y:a},n),o=i.radius,l=i.angle,c=n.innerRadius,d=n.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var u=EUe(n),h=u.startAngle,f=u.endAngle,g=l,m;if(h<=f){for(;g>f;)g-=360;for(;g<h;)g+=360;m=g>=h&&g<=f}else{for(;g>h;)g-=360;for(;g<f;)g+=360;m=g>=f&&g<=h}return m?_c(_c({},n),{},{radius:o,angle:DUe(g,n)}):null},koe=function(t){return!b.isValidElement(t)&&!yt(t)&&typeof t!="boolean"?t.className:""};function z0(e){"@babel/helpers - typeof";return z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z0(e)}var OUe=["offset"];function MUe(e){return FUe(e)||IUe(e)||$Ue(e)||RUe()}function RUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Ue(e,t){if(e){if(typeof e=="string")return aO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aO(e,t)}}function IUe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function FUe(e){if(Array.isArray(e))return aO(e)}function aO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function LUe(e,t){if(e==null)return{};var n=zUe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function zUe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function tB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Xr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tB(Object(n),!0).forEach(function(r){BUe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BUe(e,t,n){return t=UUe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UUe(e){var t=VUe(e,"string");return z0(t)=="symbol"?t:t+""}function VUe(e,t){if(z0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(z0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function B0(){return B0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B0.apply(this,arguments)}var WUe=function(t){var n=t.value,r=t.formatter,a=_t(t.children)?n:t.children;return yt(r)?r(a):a},HUe=function(t,n){var r=ba(n-t),a=Math.min(Math.abs(n-t),360);return r*a},qUe=function(t,n,r){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,d=c.cx,u=c.cy,h=c.innerRadius,f=c.outerRadius,g=c.startAngle,m=c.endAngle,p=c.clockWise,x=(h+f)/2,v=HUe(g,m),y=v>=0?1:-1,j,N;a==="insideStart"?(j=g+y*o,N=p):a==="insideEnd"?(j=m-y*o,N=!p):a==="end"&&(j=m+y*o,N=p),N=v<=0?N:!N;var w=On(d,u,x,j),S=On(d,u,x,j+(N?1:-1)*359),k="M".concat(w.x,",").concat(w.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(N?0:1,`,
    `).concat(S.x,",").concat(S.y),_=_t(t.id)?nm("recharts-radial-line-"):t.id;return O.createElement("text",B0({},r,{dominantBaseline:"central",className:Ct("recharts-radial-bar-label",l)}),O.createElement("defs",null,O.createElement("path",{id:_,d:k})),O.createElement("textPath",{xlinkHref:"#".concat(_)},n))},KUe=function(t){var n=t.viewBox,r=t.offset,a=t.position,i=n,o=i.cx,l=i.cy,c=i.innerRadius,d=i.outerRadius,u=i.startAngle,h=i.endAngle,f=(u+h)/2;if(a==="outside"){var g=On(o,l,d+r,f),m=g.x,p=g.y;return{x:m,y:p,textAnchor:m>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var x=(c+d)/2,v=On(o,l,x,f),y=v.x,j=v.y;return{x:y,y:j,textAnchor:"middle",verticalAnchor:"middle"}},GUe=function(t){var n=t.viewBox,r=t.parentViewBox,a=t.offset,i=t.position,o=n,l=o.x,c=o.y,d=o.width,u=o.height,h=u>=0?1:-1,f=h*a,g=h>0?"end":"start",m=h>0?"start":"end",p=d>=0?1:-1,x=p*a,v=p>0?"end":"start",y=p>0?"start":"end";if(i==="top"){var j={x:l+d/2,y:c-h*a,textAnchor:"middle",verticalAnchor:g};return Xr(Xr({},j),r?{height:Math.max(c-r.y,0),width:d}:{})}if(i==="bottom"){var N={x:l+d/2,y:c+u+f,textAnchor:"middle",verticalAnchor:m};return Xr(Xr({},N),r?{height:Math.max(r.y+r.height-(c+u),0),width:d}:{})}if(i==="left"){var w={x:l-x,y:c+u/2,textAnchor:v,verticalAnchor:"middle"};return Xr(Xr({},w),r?{width:Math.max(w.x-r.x,0),height:u}:{})}if(i==="right"){var S={x:l+d+x,y:c+u/2,textAnchor:y,verticalAnchor:"middle"};return Xr(Xr({},S),r?{width:Math.max(r.x+r.width-S.x,0),height:u}:{})}var k=r?{width:d,height:u}:{};return i==="insideLeft"?Xr({x:l+x,y:c+u/2,textAnchor:y,verticalAnchor:"middle"},k):i==="insideRight"?Xr({x:l+d-x,y:c+u/2,textAnchor:v,verticalAnchor:"middle"},k):i==="insideTop"?Xr({x:l+d/2,y:c+f,textAnchor:"middle",verticalAnchor:m},k):i==="insideBottom"?Xr({x:l+d/2,y:c+u-f,textAnchor:"middle",verticalAnchor:g},k):i==="insideTopLeft"?Xr({x:l+x,y:c+f,textAnchor:y,verticalAnchor:m},k):i==="insideTopRight"?Xr({x:l+d-x,y:c+f,textAnchor:v,verticalAnchor:m},k):i==="insideBottomLeft"?Xr({x:l+x,y:c+u-f,textAnchor:y,verticalAnchor:g},k):i==="insideBottomRight"?Xr({x:l+d-x,y:c+u-f,textAnchor:v,verticalAnchor:g},k):Sv(i)&&(Ee(i.x)||Oh(i.x))&&(Ee(i.y)||Oh(i.y))?Xr({x:l+ja(i.x,d),y:c+ja(i.y,u),textAnchor:"end",verticalAnchor:"end"},k):Xr({x:l+d/2,y:c+u/2,textAnchor:"middle",verticalAnchor:"middle"},k)},YUe=function(t){return"cx"in t&&Ee(t.cx)};function ws(e){var t=e.offset,n=t===void 0?5:t,r=LUe(e,OUe),a=Xr({offset:n},r),i=a.viewBox,o=a.position,l=a.value,c=a.children,d=a.content,u=a.className,h=u===void 0?"":u,f=a.textBreakAll;if(!i||_t(l)&&_t(c)&&!b.isValidElement(d)&&!yt(d))return null;if(b.isValidElement(d))return b.cloneElement(d,a);var g;if(yt(d)){if(g=b.createElement(d,a),b.isValidElement(g))return g}else g=WUe(a);var m=YUe(i),p=ot(a,!0);if(m&&(o==="insideStart"||o==="insideEnd"||o==="end"))return qUe(a,g,p);var x=m?KUe(a):GUe(a);return O.createElement(Mf,B0({className:Ct("recharts-label",h)},p,x,{breakAll:f}),g)}ws.displayName="Label";var _oe=function(t){var n=t.cx,r=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,d=t.innerRadius,u=t.outerRadius,h=t.x,f=t.y,g=t.top,m=t.left,p=t.width,x=t.height,v=t.clockWise,y=t.labelViewBox;if(y)return y;if(Ee(p)&&Ee(x)){if(Ee(h)&&Ee(f))return{x:h,y:f,width:p,height:x};if(Ee(g)&&Ee(m))return{x:g,y:m,width:p,height:x}}return Ee(h)&&Ee(f)?{x:h,y:f,width:0,height:0}:Ee(n)&&Ee(r)?{cx:n,cy:r,startAngle:i||a||0,endAngle:o||a||0,innerRadius:d||0,outerRadius:u||c||l||0,clockWise:v}:t.viewBox?t.viewBox:{}},XUe=function(t,n){return t?t===!0?O.createElement(ws,{key:"label-implicit",viewBox:n}):cs(t)?O.createElement(ws,{key:"label-implicit",viewBox:n,value:t}):b.isValidElement(t)?t.type===ws?b.cloneElement(t,{key:"label-implicit",viewBox:n}):O.createElement(ws,{key:"label-implicit",content:t,viewBox:n}):yt(t)?O.createElement(ws,{key:"label-implicit",content:t,viewBox:n}):Sv(t)?O.createElement(ws,B0({viewBox:n},t,{key:"label-implicit"})):null:null},QUe=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var a=t.children,i=_oe(t),o=xi(a,ws).map(function(c,d){return b.cloneElement(c,{viewBox:n||i,key:"label-".concat(d)})});if(!r)return o;var l=XUe(t.label,n||i);return[l].concat(MUe(o))};ws.parseViewBox=_oe;ws.renderCallByParent=QUe;function ZUe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Poe=ZUe;const JUe=Tt(Poe);function U0(e){"@babel/helpers - typeof";return U0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U0(e)}var eVe=["valueAccessor"],tVe=["data","dataKey","clockWise","id","textBreakAll"];function nVe(e){return iVe(e)||aVe(e)||sVe(e)||rVe()}function rVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sVe(e,t){if(e){if(typeof e=="string")return iO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iO(e,t)}}function aVe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function iVe(e){if(Array.isArray(e))return iO(e)}function iO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function aC(){return aC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aC.apply(this,arguments)}function nB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function rB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nB(Object(n),!0).forEach(function(r){oVe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oVe(e,t,n){return t=lVe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lVe(e){var t=cVe(e,"string");return U0(t)=="symbol"?t:t+""}function cVe(e,t){if(U0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(U0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sB(e,t){if(e==null)return{};var n=dVe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function dVe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var uVe=function(t){return Array.isArray(t.value)?JUe(t.value):t.value};function Xl(e){var t=e.valueAccessor,n=t===void 0?uVe:t,r=sB(e,eVe),a=r.data,i=r.dataKey,o=r.clockWise,l=r.id,c=r.textBreakAll,d=sB(r,tVe);return!a||!a.length?null:O.createElement(Vt,{className:"recharts-label-list"},a.map(function(u,h){var f=_t(i)?n(u,h):Mr(u&&u.payload,i),g=_t(l)?{}:{id:"".concat(l,"-").concat(h)};return O.createElement(ws,aC({},ot(u,!0),d,g,{parentViewBox:u.parentViewBox,value:f,textBreakAll:c,viewBox:ws.parseViewBox(_t(o)?u:rB(rB({},u),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}Xl.displayName="LabelList";function hVe(e,t){return e?e===!0?O.createElement(Xl,{key:"labelList-implicit",data:t}):O.isValidElement(e)||yt(e)?O.createElement(Xl,{key:"labelList-implicit",data:t,content:e}):Sv(e)?O.createElement(Xl,aC({data:t},e,{key:"labelList-implicit"})):null:null}function fVe(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,a=xi(r,Xl).map(function(o,l){return b.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!n)return a;var i=hVe(e.label,t);return[i].concat(nVe(a))}Xl.renderCallByParent=fVe;function V0(e){"@babel/helpers - typeof";return V0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V0(e)}function oO(){return oO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oO.apply(this,arguments)}function aB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function iB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aB(Object(n),!0).forEach(function(r){mVe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mVe(e,t,n){return t=pVe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pVe(e){var t=gVe(e,"string");return V0(t)=="symbol"?t:t+""}function gVe(e,t){if(V0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(V0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vVe=function(t,n){var r=ba(n-t),a=Math.min(Math.abs(n-t),359.999);return r*a},rN=function(t){var n=t.cx,r=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,d=t.cornerIsExternal,u=c*(l?1:-1)+a,h=Math.asin(c/u)/sC,f=d?i:i+o*h,g=On(n,r,u,f),m=On(n,r,a,f),p=d?i-o*h:i,x=On(n,r,u*Math.cos(h*sC),p);return{center:g,circleTangency:m,lineTangency:x,theta:h}},Toe=function(t){var n=t.cx,r=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=vVe(o,l),d=o+c,u=On(n,r,i,o),h=On(n,r,i,d),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(a>0){var g=On(n,r,a,o),m=On(n,r,a,d);f+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(g.x,",").concat(g.y," Z")}else f+="L ".concat(n,",").concat(r," Z");return f},xVe=function(t){var n=t.cx,r=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,d=t.startAngle,u=t.endAngle,h=ba(u-d),f=rN({cx:n,cy:r,radius:i,angle:d,sign:h,cornerRadius:o,cornerIsExternal:c}),g=f.circleTangency,m=f.lineTangency,p=f.theta,x=rN({cx:n,cy:r,radius:i,angle:u,sign:-h,cornerRadius:o,cornerIsExternal:c}),v=x.circleTangency,y=x.lineTangency,j=x.theta,N=c?Math.abs(d-u):Math.abs(d-u)-p-j;if(N<0)return l?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Toe({cx:n,cy:r,innerRadius:a,outerRadius:i,startAngle:d,endAngle:u});var w="M ".concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(N>180),",").concat(+(h<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(y.x,",").concat(y.y,`
  `);if(a>0){var S=rN({cx:n,cy:r,radius:a,angle:d,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),k=S.circleTangency,_=S.lineTangency,T=S.theta,P=rN({cx:n,cy:r,radius:a,angle:u,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),C=P.circleTangency,A=P.lineTangency,E=P.theta,I=c?Math.abs(d-u):Math.abs(d-u)-T-E;if(I<0&&o===0)return"".concat(w,"L").concat(n,",").concat(r,"Z");w+="L".concat(A.x,",").concat(A.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(I>180),",").concat(+(h>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(_.x,",").concat(_.y,"Z")}else w+="L".concat(n,",").concat(r,"Z");return w},yVe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Aoe=function(t){var n=iB(iB({},yVe),t),r=n.cx,a=n.cy,i=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,d=n.cornerIsExternal,u=n.startAngle,h=n.endAngle,f=n.className;if(o<i||u===h)return null;var g=Ct("recharts-sector",f),m=o-i,p=ja(l,m,0,!0),x;return p>0&&Math.abs(u-h)<360?x=xVe({cx:r,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(p,m/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:u,endAngle:h}):x=Toe({cx:r,cy:a,innerRadius:i,outerRadius:o,startAngle:u,endAngle:h}),O.createElement("path",oO({},ot(n,!0),{className:g,d:x,role:"img"}))};function W0(e){"@babel/helpers - typeof";return W0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W0(e)}function lO(){return lO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lO.apply(this,arguments)}function oB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function lB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oB(Object(n),!0).forEach(function(r){bVe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bVe(e,t,n){return t=jVe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jVe(e){var t=wVe(e,"string");return W0(t)=="symbol"?t:t+""}function wVe(e,t){if(W0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(W0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cB={curveBasisClosed:OOe,curveBasisOpen:MOe,curveBasis:DOe,curveBumpX:xOe,curveBumpY:yOe,curveLinearClosed:ROe,curveLinear:Xk,curveMonotoneX:$Oe,curveMonotoneY:IOe,curveNatural:FOe,curveStep:LOe,curveStepAfter:BOe,curveStepBefore:zOe},sN=function(t){return t.x===+t.x&&t.y===+t.y},xx=function(t){return t.x},yx=function(t){return t.y},NVe=function(t,n){if(yt(t))return t;var r="curve".concat(Gk(t));return(r==="curveMonotone"||r==="curveBump")&&n?cB["".concat(r).concat(n==="vertical"?"Y":"X")]:cB[r]||Xk},SVe=function(t){var n=t.type,r=n===void 0?"linear":n,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,d=c===void 0?!1:c,u=NVe(r,l),h=d?i.filter(function(p){return sN(p)}):i,f;if(Array.isArray(o)){var g=d?o.filter(function(p){return sN(p)}):o,m=h.map(function(p,x){return lB(lB({},p),{},{base:g[x]})});return l==="vertical"?f=Gw().y(yx).x1(xx).x0(function(p){return p.base.x}):f=Gw().x(xx).y1(yx).y0(function(p){return p.base.y}),f.defined(sN).curve(u),f(m)}return l==="vertical"&&Ee(o)?f=Gw().y(yx).x1(xx).x0(o):Ee(o)?f=Gw().x(xx).y1(yx).y0(o):f=wae().x(xx).y(yx),f.defined(sN).curve(u),f(h)},ff=function(t){var n=t.className,r=t.points,a=t.path,i=t.pathRef;if((!r||!r.length)&&!a)return null;var o=r&&r.length?SVe(t):a;return b.createElement("path",lO({},ot(t,!1),TS(t),{className:Ct("recharts-curve",n),d:o,ref:i}))},Eoe={exports:{}},CVe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",kVe=CVe,_Ve=kVe;function Doe(){}function Ooe(){}Ooe.resetWarningCache=Doe;var PVe=function(){function e(r,a,i,o,l,c){if(c!==_Ve){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Ooe,resetWarningCache:Doe};return n.PropTypes=n,n};Eoe.exports=PVe();var TVe=Eoe.exports;const ce=Tt(TVe);var AVe=Object.getOwnPropertyNames,EVe=Object.getOwnPropertySymbols,DVe=Object.prototype.hasOwnProperty;function dB(e,t){return function(r,a,i){return e(r,a,i)&&t(r,a,i)}}function aN(e){return function(n,r,a){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,a);var i=a.cache,o=i.get(n),l=i.get(r);if(o&&l)return o===r&&l===n;i.set(n,r),i.set(r,n);var c=e(n,r,a);return i.delete(n),i.delete(r),c}}function uB(e){return AVe(e).concat(EVe(e))}var OVe=Object.hasOwn||function(e,t){return DVe.call(e,t)};function am(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var MVe="__v",RVe="__o",$Ve="_owner",hB=Object.getOwnPropertyDescriptor,fB=Object.keys;function IVe(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function FVe(e,t){return am(e.getTime(),t.getTime())}function LVe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function zVe(e,t){return e===t}function mB(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var a=new Array(r),i=e.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var d=t.entries(),u=!1,h=0;(l=d.next())&&!l.done;){if(a[h]){h++;continue}var f=o.value,g=l.value;if(n.equals(f[0],g[0],c,h,e,t,n)&&n.equals(f[1],g[1],f[0],g[0],e,t,n)){u=a[h]=!0;break}h++}if(!u)return!1;c++}return!0}var BVe=am;function UVe(e,t,n){var r=fB(e),a=r.length;if(fB(t).length!==a)return!1;for(;a-- >0;)if(!Moe(e,t,n,r[a]))return!1;return!0}function bx(e,t,n){var r=uB(e),a=r.length;if(uB(t).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=r[a],!Moe(e,t,n,i)||(o=hB(e,i),l=hB(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function VVe(e,t){return am(e.valueOf(),t.valueOf())}function WVe(e,t){return e.source===t.source&&e.flags===t.flags}function pB(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var a=new Array(r),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var c=t.values(),d=!1,u=0;(l=c.next())&&!l.done;){if(!a[u]&&n.equals(o.value,l.value,o.value,l.value,e,t,n)){d=a[u]=!0;break}u++}if(!d)return!1}return!0}function HVe(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function qVe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function Moe(e,t,n,r){return(r===$Ve||r===RVe||r===MVe)&&(e.$$typeof||t.$$typeof)?!0:OVe(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var KVe="[object Arguments]",GVe="[object Boolean]",YVe="[object Date]",XVe="[object Error]",QVe="[object Map]",ZVe="[object Number]",JVe="[object Object]",e9e="[object RegExp]",t9e="[object Set]",n9e="[object String]",r9e="[object URL]",s9e=Array.isArray,gB=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,vB=Object.assign,a9e=Object.prototype.toString.call.bind(Object.prototype.toString);function i9e(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,d=e.areRegExpsEqual,u=e.areSetsEqual,h=e.areTypedArraysEqual,f=e.areUrlsEqual;return function(m,p,x){if(m===p)return!0;if(m==null||p==null)return!1;var v=typeof m;if(v!==typeof p)return!1;if(v!=="object")return v==="number"?o(m,p,x):v==="function"?a(m,p,x):!1;var y=m.constructor;if(y!==p.constructor)return!1;if(y===Object)return l(m,p,x);if(s9e(m))return t(m,p,x);if(gB!=null&&gB(m))return h(m,p,x);if(y===Date)return n(m,p,x);if(y===RegExp)return d(m,p,x);if(y===Map)return i(m,p,x);if(y===Set)return u(m,p,x);var j=a9e(m);return j===YVe?n(m,p,x):j===e9e?d(m,p,x):j===QVe?i(m,p,x):j===t9e?u(m,p,x):j===JVe?typeof m.then!="function"&&typeof p.then!="function"&&l(m,p,x):j===r9e?f(m,p,x):j===XVe?r(m,p,x):j===KVe?l(m,p,x):j===GVe||j===ZVe||j===n9e?c(m,p,x):!1}}function o9e(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,a={areArraysEqual:r?bx:IVe,areDatesEqual:FVe,areErrorsEqual:LVe,areFunctionsEqual:zVe,areMapsEqual:r?dB(mB,bx):mB,areNumbersEqual:BVe,areObjectsEqual:r?bx:UVe,arePrimitiveWrappersEqual:VVe,areRegExpsEqual:WVe,areSetsEqual:r?dB(pB,bx):pB,areTypedArraysEqual:r?bx:HVe,areUrlsEqual:qVe};if(n&&(a=vB({},a,n(a))),t){var i=aN(a.areArraysEqual),o=aN(a.areMapsEqual),l=aN(a.areObjectsEqual),c=aN(a.areSetsEqual);a=vB({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function l9e(e){return function(t,n,r,a,i,o,l){return e(t,n,l)}}function c9e(e){var t=e.circular,n=e.comparator,r=e.createState,a=e.equals,i=e.strict;if(r)return function(c,d){var u=r(),h=u.cache,f=h===void 0?t?new WeakMap:void 0:h,g=u.meta;return n(c,d,{cache:f,equals:a,meta:g,strict:i})};if(t)return function(c,d){return n(c,d,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,d){return n(c,d,o)}}var d9e=sh();sh({strict:!0});sh({circular:!0});sh({circular:!0,strict:!0});sh({createInternalComparator:function(){return am}});sh({strict:!0,createInternalComparator:function(){return am}});sh({circular:!0,createInternalComparator:function(){return am}});sh({circular:!0,createInternalComparator:function(){return am},strict:!0});function sh(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,r=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,l=o9e(e),c=i9e(l),d=r?r(c):l9e(c);return c9e({circular:n,comparator:c,createState:a,equals:d,strict:o})}function u9e(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function xB(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function a(i){n<0&&(n=i),i-n>t?(e(i),n=-1):u9e(a)};requestAnimationFrame(r)}function cO(e){"@babel/helpers - typeof";return cO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cO(e)}function h9e(e){return g9e(e)||p9e(e)||m9e(e)||f9e()}function f9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m9e(e,t){if(e){if(typeof e=="string")return yB(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yB(e,t)}}function yB(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p9e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function g9e(e){if(Array.isArray(e))return e}function v9e(){var e={},t=function(){return null},n=!1,r=function a(i){if(!n){if(Array.isArray(i)){if(!i.length)return;var o=i,l=h9e(o),c=l[0],d=l.slice(1);if(typeof c=="number"){xB(a.bind(null,d),c);return}a(c),xB(a.bind(null,d));return}cO(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){n=!0},start:function(i){n=!1,r(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function H0(e){"@babel/helpers - typeof";return H0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H0(e)}function bB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function jB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bB(Object(n),!0).forEach(function(r){Roe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Roe(e,t,n){return t=x9e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x9e(e){var t=y9e(e,"string");return H0(t)==="symbol"?t:String(t)}function y9e(e,t){if(H0(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(H0(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var b9e=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,a){return r.filter(function(i){return a.includes(i)})})},j9e=function(t){return t},w9e=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},vy=function(t,n){return Object.keys(n).reduce(function(r,a){return jB(jB({},r),{},Roe({},a,t(a,n[a])))},{})},wB=function(t,n,r){return t.map(function(a){return"".concat(w9e(a)," ").concat(n,"ms ").concat(r)}).join(",")};function N9e(e,t){return k9e(e)||C9e(e,t)||$oe(e,t)||S9e()}function S9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C9e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function k9e(e){if(Array.isArray(e))return e}function _9e(e){return A9e(e)||T9e(e)||$oe(e)||P9e()}function P9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $oe(e,t){if(e){if(typeof e=="string")return dO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dO(e,t)}}function T9e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function A9e(e){if(Array.isArray(e))return dO(e)}function dO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var iC=1e-4,Ioe=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},Foe=function(t,n){return t.map(function(r,a){return r*Math.pow(n,a)}).reduce(function(r,a){return r+a})},NB=function(t,n){return function(r){var a=Ioe(t,n);return Foe(a,r)}},E9e=function(t,n){return function(r){var a=Ioe(t,n),i=[].concat(_9e(a.map(function(o,l){return o*l}).slice(1)),[0]);return Foe(i,r)}},SB=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n[0],i=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),u=N9e(d,4);a=u[0],i=u[1],o=u[2],l=u[3]}}}var h=NB(a,o),f=NB(i,l),g=E9e(a,o),m=function(v){return v>1?1:v<0?0:v},p=function(v){for(var y=v>1?1:v,j=y,N=0;N<8;++N){var w=h(j)-y,S=g(j);if(Math.abs(w-y)<iC||S<iC)return f(j);j=m(j-w/S)}return f(j)};return p.isStepper=!1,p},D9e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(u,h,f){var g=-(u-h)*r,m=f*i,p=f+(g-m)*l/1e3,x=f*l/1e3+u;return Math.abs(x-h)<iC&&Math.abs(p)<iC?[h,0]:[x,p]};return c.isStepper=!0,c.dt=l,c},O9e=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return SB(a);case"spring":return D9e();default:if(a.split("(")[0]==="cubic-bezier")return SB(a)}return typeof a=="function"?a:null};function q0(e){"@babel/helpers - typeof";return q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q0(e)}function CB(e){return $9e(e)||R9e(e)||Loe(e)||M9e()}function M9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R9e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $9e(e){if(Array.isArray(e))return hO(e)}function kB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ds(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kB(Object(n),!0).forEach(function(r){uO(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uO(e,t,n){return t=I9e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I9e(e){var t=F9e(e,"string");return q0(t)==="symbol"?t:String(t)}function F9e(e,t){if(q0(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(q0(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function L9e(e,t){return U9e(e)||B9e(e,t)||Loe(e,t)||z9e()}function z9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Loe(e,t){if(e){if(typeof e=="string")return hO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hO(e,t)}}function hO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function B9e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function U9e(e){if(Array.isArray(e))return e}var oC=function(t,n,r){return t+(n-t)*r},fO=function(t){var n=t.from,r=t.to;return n!==r},V9e=function e(t,n,r){var a=vy(function(i,o){if(fO(o)){var l=t(o.from,o.to,o.velocity),c=L9e(l,2),d=c[0],u=c[1];return Ds(Ds({},o),{},{from:d,velocity:u})}return o},n);return r<1?vy(function(i,o){return fO(o)?Ds(Ds({},o),{},{velocity:oC(o.velocity,a[i].velocity,r),from:oC(o.from,a[i].from,r)}):o},n):e(t,a,r-1)};const W9e=function(e,t,n,r,a){var i=b9e(e,t),o=i.reduce(function(x,v){return Ds(Ds({},x),{},uO({},v,[e[v],t[v]]))},{}),l=i.reduce(function(x,v){return Ds(Ds({},x),{},uO({},v,{from:e[v],velocity:0,to:t[v]}))},{}),c=-1,d,u,h=function(){return null},f=function(){return vy(function(v,y){return y.from},l)},g=function(){return!Object.values(l).filter(fO).length},m=function(v){d||(d=v);var y=v-d,j=y/n.dt;l=V9e(n,l,j),a(Ds(Ds(Ds({},e),t),f())),d=v,g()||(c=requestAnimationFrame(h))},p=function(v){u||(u=v);var y=(v-u)/r,j=vy(function(w,S){return oC.apply(void 0,CB(S).concat([n(y)]))},o);if(a(Ds(Ds(Ds({},e),t),j)),y<1)c=requestAnimationFrame(h);else{var N=vy(function(w,S){return oC.apply(void 0,CB(S).concat([n(1)]))},o);a(Ds(Ds(Ds({},e),t),N))}};return h=n.isStepper?m:p,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(c)}}};function Ag(e){"@babel/helpers - typeof";return Ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ag(e)}var H9e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function q9e(e,t){if(e==null)return{};var n=K9e(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function K9e(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function DT(e){return Q9e(e)||X9e(e)||Y9e(e)||G9e()}function G9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y9e(e,t){if(e){if(typeof e=="string")return mO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mO(e,t)}}function X9e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Q9e(e){if(Array.isArray(e))return mO(e)}function mO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function po(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_B(Object(n),!0).forEach(function(r){Wx(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_B(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wx(e,t,n){return t=zoe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J9e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zoe(r.key),r)}}function e7e(e,t,n){return t&&J9e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zoe(e){var t=t7e(e,"string");return Ag(t)==="symbol"?t:String(t)}function t7e(e,t){if(Ag(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ag(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function n7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pO(e,t)}function pO(e,t){return pO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},pO(e,t)}function r7e(e){var t=s7e();return function(){var r=lC(e),a;if(t){var i=lC(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return gO(this,a)}}function gO(e,t){if(t&&(Ag(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vO(e)}function vO(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s7e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function lC(e){return lC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lC(e)}var el=function(e){n7e(n,e);var t=r7e(n);function n(r,a){var i;Z9e(this,n),i=t.call(this,r,a);var o=i.props,l=o.isActive,c=o.attributeName,d=o.from,u=o.to,h=o.steps,f=o.children,g=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(vO(i)),i.changeStyle=i.changeStyle.bind(vO(i)),!l||g<=0)return i.state={style:{}},typeof f=="function"&&(i.state={style:u}),gO(i);if(h&&h.length)i.state={style:h[0].style};else if(d){if(typeof f=="function")return i.state={style:d},gO(i);i.state={style:c?Wx({},c,d):d}}else i.state={style:{}};return i}return e7e(n,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,d=i.shouldReAnimate,u=i.to,h=i.from,f=this.state.style;if(l){if(!o){var g={style:c?Wx({},c,u):u};this.state&&f&&(c&&f[c]!==u||!c&&f!==u)&&this.setState(g);return}if(!(d9e(a.to,u)&&a.canBegin&&a.isActive)){var m=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=m||d?h:a.to;if(this.state&&f){var x={style:c?Wx({},c,p):p};(c&&f[c]!==p||!c&&f!==p)&&this.setState(x)}this.runAnimation(po(po({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,d=a.easing,u=a.begin,h=a.onAnimationEnd,f=a.onAnimationStart,g=W9e(o,l,O9e(d),c,this.changeStyle),m=function(){i.stopJSAnimation=g()};this.manager.start([f,u,m,c,h])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,d=o[0],u=d.style,h=d.duration,f=h===void 0?0:h,g=function(p,x,v){if(v===0)return p;var y=x.duration,j=x.easing,N=j===void 0?"ease":j,w=x.style,S=x.properties,k=x.onAnimationEnd,_=v>0?o[v-1]:x,T=S||Object.keys(w);if(typeof N=="function"||N==="spring")return[].concat(DT(p),[i.runJSAnimation.bind(i,{from:_.style,to:w,duration:y,easing:N}),y]);var P=wB(T,y,N),C=po(po(po({},_.style),w),{},{transition:P});return[].concat(DT(p),[C,y,k]).filter(j9e)};return this.manager.start([c].concat(DT(o.reduce(g,[u,Math.max(f,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=v9e());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,d=a.easing,u=a.onAnimationStart,h=a.onAnimationEnd,f=a.steps,g=a.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof d=="function"||typeof g=="function"||d==="spring"){this.runJSAnimation(a);return}if(f.length>1){this.runStepAnimation(a);return}var p=l?Wx({},l,c):c,x=wB(Object.keys(p),o,d);m.start([u,i,po(po({},p),{},{transition:x}),o,h])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=q9e(a,H9e),d=b.Children.count(i),u=this.state.style;if(typeof i=="function")return i(u);if(!l||d===0||o<=0)return i;var h=function(g){var m=g.props,p=m.style,x=p===void 0?{}:p,v=m.className,y=b.cloneElement(g,po(po({},c),{},{style:po(po({},x),u),className:v}));return y};return d===1?h(b.Children.only(i)):O.createElement("div",null,b.Children.map(i,function(f){return h(f)}))}}]),n}(b.PureComponent);el.displayName="Animate";el.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};el.propTypes={from:ce.oneOfType([ce.object,ce.string]),to:ce.oneOfType([ce.object,ce.string]),attributeName:ce.string,duration:ce.number,begin:ce.number,easing:ce.oneOfType([ce.string,ce.func]),steps:ce.arrayOf(ce.shape({duration:ce.number.isRequired,style:ce.object.isRequired,easing:ce.oneOfType([ce.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ce.func]),properties:ce.arrayOf("string"),onAnimationEnd:ce.func})),children:ce.oneOfType([ce.node,ce.func]),isActive:ce.bool,canBegin:ce.bool,onAnimationEnd:ce.func,shouldReAnimate:ce.bool,onAnimationStart:ce.func,onAnimationReStart:ce.func};function br(){return br=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},br.apply(null,arguments)}function m_(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function cC(e,t){return cC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},cC(e,t)}function a7e(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,cC(e,t)}function i7e(e,t){return e.classList?e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function o7e(e,t){e.classList?e.classList.add(t):i7e(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function PB(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function l7e(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=PB(e.className,t):e.setAttribute("class",PB(e.className&&e.className.baseVal||"",t))}function c7e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K0(e){"@babel/helpers - typeof";return K0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K0(e)}function dC(){return dC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dC.apply(this,arguments)}function d7e(e,t){return m7e(e)||f7e(e,t)||h7e(e,t)||u7e()}function u7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h7e(e,t){if(e){if(typeof e=="string")return TB(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TB(e,t)}}function TB(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f7e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function m7e(e){if(Array.isArray(e))return e}function AB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function EB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AB(Object(n),!0).forEach(function(r){p7e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function p7e(e,t,n){return t=g7e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g7e(e){var t=v7e(e,"string");return K0(t)=="symbol"?t:t+""}function v7e(e,t){if(K0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(K0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DB=function(t,n,r,a,i){var o=Math.min(Math.abs(r)/2,Math.abs(a)/2),l=a>=0?1:-1,c=r>=0?1:-1,d=a>=0&&r>=0||a<0&&r<0?1:0,u;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],f=0,g=4;f<g;f++)h[f]=i[f]>o?o:i[f];u="M".concat(t,",").concat(n+l*h[0]),h[0]>0&&(u+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(d,",").concat(t+c*h[0],",").concat(n)),u+="L ".concat(t+r-c*h[1],",").concat(n),h[1]>0&&(u+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(d,`,
        `).concat(t+r,",").concat(n+l*h[1])),u+="L ".concat(t+r,",").concat(n+a-l*h[2]),h[2]>0&&(u+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(d,`,
        `).concat(t+r-c*h[2],",").concat(n+a)),u+="L ".concat(t+c*h[3],",").concat(n+a),h[3]>0&&(u+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(d,`,
        `).concat(t,",").concat(n+a-l*h[3])),u+="Z"}else if(o>0&&i===+i&&i>0){var m=Math.min(o,i);u="M ".concat(t,",").concat(n+l*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(d,",").concat(t+c*m,",").concat(n,`
            L `).concat(t+r-c*m,",").concat(n,`
            A `).concat(m,",").concat(m,",0,0,").concat(d,",").concat(t+r,",").concat(n+l*m,`
            L `).concat(t+r,",").concat(n+a-l*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(d,",").concat(t+r-c*m,",").concat(n+a,`
            L `).concat(t+c*m,",").concat(n+a,`
            A `).concat(m,",").concat(m,",0,0,").concat(d,",").concat(t,",").concat(n+a-l*m," Z")}else u="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(a," h ").concat(-r," Z");return u},x7e=function(t,n){if(!t||!n)return!1;var r=t.x,a=t.y,i=n.x,o=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(i,i+l),u=Math.max(i,i+l),h=Math.min(o,o+c),f=Math.max(o,o+c);return r>=d&&r<=u&&a>=h&&a<=f}return!1},y7e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},EI=function(t){var n=EB(EB({},y7e),t),r=b.useRef(),a=b.useState(-1),i=d7e(a,2),o=i[0],l=i[1];b.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var N=r.current.getTotalLength();N&&l(N)}catch{}},[]);var c=n.x,d=n.y,u=n.width,h=n.height,f=n.radius,g=n.className,m=n.animationEasing,p=n.animationDuration,x=n.animationBegin,v=n.isAnimationActive,y=n.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||h!==+h||u===0||h===0)return null;var j=Ct("recharts-rectangle",g);return y?O.createElement(el,{canBegin:o>0,from:{width:u,height:h,x:c,y:d},to:{width:u,height:h,x:c,y:d},duration:p,animationEasing:m,isActive:y},function(N){var w=N.width,S=N.height,k=N.x,_=N.y;return O.createElement(el,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:p,isActive:v,easing:m},O.createElement("path",dC({},ot(n,!0),{className:j,d:DB(k,_,w,S,f),ref:r})))}):O.createElement("path",dC({},ot(n,!0),{className:j,d:DB(c,d,u,h,f)}))},b7e=["points","className","baseLinePoints","connectNulls"];function Lm(){return Lm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lm.apply(this,arguments)}function j7e(e,t){if(e==null)return{};var n=w7e(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function w7e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function OB(e){return k7e(e)||C7e(e)||S7e(e)||N7e()}function N7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S7e(e,t){if(e){if(typeof e=="string")return xO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xO(e,t)}}function C7e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function k7e(e){if(Array.isArray(e))return xO(e)}function xO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var MB=function(t){return t&&t.x===+t.x&&t.y===+t.y},_7e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(r){MB(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),MB(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},xy=function(t,n){var r=_7e(t);n&&(r=[r.reduce(function(i,o){return[].concat(OB(i),OB(o))},[])]);var a=r.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return r.length===1?"".concat(a,"Z"):a},P7e=function(t,n,r){var a=xy(t,r);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(xy(n.reverse(),r).slice(1))},T7e=function(t){var n=t.points,r=t.className,a=t.baseLinePoints,i=t.connectNulls,o=j7e(t,b7e);if(!n||!n.length)return null;var l=Ct("recharts-polygon",r);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",d=P7e(n,a,i);return O.createElement("g",{className:l},O.createElement("path",Lm({},ot(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),c?O.createElement("path",Lm({},ot(o,!0),{fill:"none",d:xy(n,i)})):null,c?O.createElement("path",Lm({},ot(o,!0),{fill:"none",d:xy(a,i)})):null)}var u=xy(n,i);return O.createElement("path",Lm({},ot(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",className:l,d:u}))};function yO(){return yO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yO.apply(this,arguments)}var Kj=function(t){var n=t.cx,r=t.cy,a=t.r,i=t.className,o=Ct("recharts-dot",i);return n===+n&&r===+r&&a===+a?b.createElement("circle",yO({},ot(t,!1),TS(t),{className:o,cx:n,cy:r,r:a})):null};function G0(e){"@babel/helpers - typeof";return G0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G0(e)}var A7e=["x","y","top","left","width","height","className"];function bO(){return bO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bO.apply(this,arguments)}function RB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function E7e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RB(Object(n),!0).forEach(function(r){D7e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function D7e(e,t,n){return t=O7e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O7e(e){var t=M7e(e,"string");return G0(t)=="symbol"?t:t+""}function M7e(e,t){if(G0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(G0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function R7e(e,t){if(e==null)return{};var n=$7e(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function $7e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var I7e=function(t,n,r,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(n,"h").concat(r)},F7e=function(t){var n=t.x,r=n===void 0?0:n,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,d=c===void 0?0:c,u=t.width,h=u===void 0?0:u,f=t.height,g=f===void 0?0:f,m=t.className,p=R7e(t,A7e),x=E7e({x:r,y:i,top:l,left:d,width:h,height:g},p);return!Ee(r)||!Ee(i)||!Ee(h)||!Ee(g)||!Ee(l)||!Ee(d)?null:O.createElement("path",bO({},ot(x,!0),{className:Ct("recharts-cross",m),d:I7e(r,i,h,g,l,d)}))},L7e=d_,z7e=Qie,B7e=hl;function U7e(e,t){return e&&e.length?L7e(e,B7e(t),z7e):void 0}var V7e=U7e;const W7e=Tt(V7e);var H7e=d_,q7e=hl,K7e=Zie;function G7e(e,t){return e&&e.length?H7e(e,q7e(t),K7e):void 0}var Y7e=G7e;const X7e=Tt(Y7e);var Q7e=["cx","cy","angle","ticks","axisLine"],Z7e=["ticks","tick","angle","tickFormatter","stroke"];function Eg(e){"@babel/helpers - typeof";return Eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eg(e)}function yy(){return yy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yy.apply(this,arguments)}function $B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function uh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$B(Object(n),!0).forEach(function(r){p_(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$B(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function IB(e,t){if(e==null)return{};var n=J7e(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function J7e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function eWe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Uoe(r.key),r)}}function tWe(e,t,n){return t&&FB(e.prototype,t),n&&FB(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function nWe(e,t,n){return t=uC(t),rWe(e,Boe()?Reflect.construct(t,n||[],uC(e).constructor):t.apply(e,n))}function rWe(e,t){if(t&&(Eg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sWe(e)}function sWe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Boe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Boe=function(){return!!e})()}function uC(e){return uC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},uC(e)}function aWe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jO(e,t)}function jO(e,t){return jO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},jO(e,t)}function p_(e,t,n){return t=Uoe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uoe(e){var t=iWe(e,"string");return Eg(t)=="symbol"?t:t+""}function iWe(e,t){if(Eg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Eg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var g_=function(e){function t(){return eWe(this,t),nWe(this,t,arguments)}return aWe(t,e),tWe(t,[{key:"getTickValueCoord",value:function(r){var a=r.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return On(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,a;switch(r){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var r=this.props,a=r.cx,i=r.cy,o=r.angle,l=r.ticks,c=W7e(l,function(u){return u.coordinate||0}),d=X7e(l,function(u){return u.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.cx,i=r.cy,o=r.angle,l=r.ticks,c=r.axisLine,d=IB(r,Q7e),u=l.reduce(function(m,p){return[Math.min(m[0],p.coordinate),Math.max(m[1],p.coordinate)]},[1/0,-1/0]),h=On(a,i,u[0],o),f=On(a,i,u[1],o),g=uh(uh(uh({},ot(d,!1)),{},{fill:"none"},ot(c,!1)),{},{x1:h.x,y1:h.y,x2:f.x,y2:f.y});return O.createElement("line",yy({className:"recharts-polar-radius-axis-line"},g))}},{key:"renderTicks",value:function(){var r=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,d=a.stroke,u=IB(a,Z7e),h=this.getTickTextAnchor(),f=ot(u,!1),g=ot(o,!1),m=i.map(function(p,x){var v=r.getTickValueCoord(p),y=uh(uh(uh(uh({textAnchor:h,transform:"rotate(".concat(90-l,", ").concat(v.x,", ").concat(v.y,")")},f),{},{stroke:"none",fill:d},g),{},{index:x},v),{},{payload:p});return O.createElement(Vt,yy({className:Ct("recharts-polar-radius-axis-tick",koe(o)),key:"tick-".concat(p.coordinate)},Of(r.props,p,x)),t.renderTickItem(o,y,c?c(p.value,x):p.value))});return O.createElement(Vt,{className:"recharts-polar-radius-axis-ticks"},m)}},{key:"render",value:function(){var r=this.props,a=r.ticks,i=r.axisLine,o=r.tick;return!a||!a.length?null:O.createElement(Vt,{className:Ct("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),ws.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,a,i){var o;return O.isValidElement(r)?o=O.cloneElement(r,a):yt(r)?o=r(a):o=O.createElement(Mf,yy({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(b.PureComponent);p_(g_,"displayName","PolarRadiusAxis");p_(g_,"axisType","radiusAxis");p_(g_,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Dg(e){"@babel/helpers - typeof";return Dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dg(e)}function Ch(){return Ch=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ch.apply(this,arguments)}function LB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function hh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LB(Object(n),!0).forEach(function(r){v_(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oWe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Woe(r.key),r)}}function lWe(e,t,n){return t&&zB(e.prototype,t),n&&zB(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function cWe(e,t,n){return t=hC(t),dWe(e,Voe()?Reflect.construct(t,n||[],hC(e).constructor):t.apply(e,n))}function dWe(e,t){if(t&&(Dg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uWe(e)}function uWe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Voe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Voe=function(){return!!e})()}function hC(e){return hC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hC(e)}function hWe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wO(e,t)}function wO(e,t){return wO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},wO(e,t)}function v_(e,t,n){return t=Woe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Woe(e){var t=fWe(e,"string");return Dg(t)=="symbol"?t:t+""}function fWe(e,t){if(Dg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Dg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mWe=Math.PI/180,BB=1e-5,x_=function(e){function t(){return oWe(this,t),cWe(this,t,arguments)}return hWe(t,e),lWe(t,[{key:"getTickLineCoord",value:function(r){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,d=a.tickSize,u=d||8,h=On(i,o,l,r.coordinate),f=On(i,o,l+(c==="inner"?-1:1)*u,r.coordinate);return{x1:h.x,y1:h.y,x2:f.x,y2:f.y}}},{key:"getTickTextAnchor",value:function(r){var a=this.props.orientation,i=Math.cos(-r.coordinate*mWe),o;return i>BB?o=a==="outer"?"start":"end":i<-BB?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.cx,i=r.cy,o=r.radius,l=r.axisLine,c=r.axisLineType,d=hh(hh({},ot(this.props,!1)),{},{fill:"none"},ot(l,!1));if(c==="circle")return O.createElement(Kj,Ch({className:"recharts-polar-angle-axis-line"},d,{cx:a,cy:i,r:o}));var u=this.props.ticks,h=u.map(function(f){return On(a,i,o,f.coordinate)});return O.createElement(T7e,Ch({className:"recharts-polar-angle-axis-line"},d,{points:h}))}},{key:"renderTicks",value:function(){var r=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,d=a.stroke,u=ot(this.props,!1),h=ot(o,!1),f=hh(hh({},u),{},{fill:"none"},ot(l,!1)),g=i.map(function(m,p){var x=r.getTickLineCoord(m),v=r.getTickTextAnchor(m),y=hh(hh(hh({textAnchor:v},u),{},{stroke:"none",fill:d},h),{},{index:p,payload:m,x:x.x2,y:x.y2});return O.createElement(Vt,Ch({className:Ct("recharts-polar-angle-axis-tick",koe(o)),key:"tick-".concat(m.coordinate)},Of(r.props,m,p)),l&&O.createElement("line",Ch({className:"recharts-polar-angle-axis-tick-line"},f,x)),o&&t.renderTickItem(o,y,c?c(m.value,p):m.value))});return O.createElement(Vt,{className:"recharts-polar-angle-axis-ticks"},g)}},{key:"render",value:function(){var r=this.props,a=r.ticks,i=r.radius,o=r.axisLine;return i<=0||!a||!a.length?null:O.createElement(Vt,{className:Ct("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,a,i){var o;return O.isValidElement(r)?o=O.cloneElement(r,a):yt(r)?o=r(a):o=O.createElement(Mf,Ch({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(b.PureComponent);v_(x_,"displayName","PolarAngleAxis");v_(x_,"axisType","angleAxis");v_(x_,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var pWe=Hae,gWe=pWe(Object.getPrototypeOf,Object),y_=gWe,vWe=xd,xWe=y_,yWe=dl,bWe="[object Object]",jWe=Function.prototype,wWe=Object.prototype,Hoe=jWe.toString,NWe=wWe.hasOwnProperty,SWe=Hoe.call(Object);function CWe(e){if(!yWe(e)||vWe(e)!=bWe)return!1;var t=xWe(e);if(t===null)return!0;var n=NWe.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Hoe.call(n)==SWe}var qoe=CWe;const kWe=Tt(qoe);var _We=xd,PWe=dl,TWe="[object Boolean]";function AWe(e){return e===!0||e===!1||PWe(e)&&_We(e)==TWe}var EWe=AWe;const DWe=Tt(EWe);function Y0(e){"@babel/helpers - typeof";return Y0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y0(e)}function fC(){return fC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fC.apply(this,arguments)}function OWe(e,t){return IWe(e)||$We(e,t)||RWe(e,t)||MWe()}function MWe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RWe(e,t){if(e){if(typeof e=="string")return UB(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UB(e,t)}}function UB(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $We(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function IWe(e){if(Array.isArray(e))return e}function VB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function WB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VB(Object(n),!0).forEach(function(r){FWe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FWe(e,t,n){return t=LWe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LWe(e){var t=zWe(e,"string");return Y0(t)=="symbol"?t:t+""}function zWe(e,t){if(Y0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Y0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HB=function(t,n,r,a,i){var o=r-a,l;return l="M ".concat(t,",").concat(n),l+="L ".concat(t+r,",").concat(n),l+="L ".concat(t+r-o/2,",").concat(n+i),l+="L ".concat(t+r-o/2-a,",").concat(n+i),l+="L ".concat(t,",").concat(n," Z"),l},BWe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},UWe=function(t){var n=WB(WB({},BWe),t),r=b.useRef(),a=b.useState(-1),i=OWe(a,2),o=i[0],l=i[1];b.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var j=r.current.getTotalLength();j&&l(j)}catch{}},[]);var c=n.x,d=n.y,u=n.upperWidth,h=n.lowerWidth,f=n.height,g=n.className,m=n.animationEasing,p=n.animationDuration,x=n.animationBegin,v=n.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||h!==+h||f!==+f||u===0&&h===0||f===0)return null;var y=Ct("recharts-trapezoid",g);return v?O.createElement(el,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:f,x:c,y:d},to:{upperWidth:u,lowerWidth:h,height:f,x:c,y:d},duration:p,animationEasing:m,isActive:v},function(j){var N=j.upperWidth,w=j.lowerWidth,S=j.height,k=j.x,_=j.y;return O.createElement(el,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:p,easing:m},O.createElement("path",fC({},ot(n,!0),{className:y,d:HB(k,_,N,w,S),ref:r})))}):O.createElement("g",null,O.createElement("path",fC({},ot(n,!0),{className:y,d:HB(c,d,u,h,f)})))},VWe=["option","shapeType","propTransformer","activeClassName","isActive"];function X0(e){"@babel/helpers - typeof";return X0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},X0(e)}function WWe(e,t){if(e==null)return{};var n=HWe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function HWe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function qB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function mC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qB(Object(n),!0).forEach(function(r){qWe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qWe(e,t,n){return t=KWe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KWe(e){var t=GWe(e,"string");return X0(t)=="symbol"?t:t+""}function GWe(e,t){if(X0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(X0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YWe(e,t){return mC(mC({},t),e)}function XWe(e,t){return e==="symbols"}function KB(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return O.createElement(EI,n);case"trapezoid":return O.createElement(UWe,n);case"sector":return O.createElement(Aoe,n);case"symbols":if(XWe(t))return O.createElement(U$,n);break;default:return null}}function QWe(e){return b.isValidElement(e)?e.props:e}function Koe(e){var t=e.option,n=e.shapeType,r=e.propTransformer,a=r===void 0?YWe:r,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=WWe(e,VWe),d;if(b.isValidElement(t))d=b.cloneElement(t,mC(mC({},c),QWe(t)));else if(yt(t))d=t(c);else if(kWe(t)&&!DWe(t)){var u=a(t,c);d=O.createElement(KB,{shapeType:n,elementProps:u})}else{var h=c;d=O.createElement(KB,{shapeType:n,elementProps:h})}return l?O.createElement(Vt,{className:o},d):d}function b_(e,t){return t!=null&&"trapezoids"in e.props}function j_(e,t){return t!=null&&"sectors"in e.props}function Q0(e,t){return t!=null&&"points"in e.props}function ZWe(e,t){var n,r,a=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,i=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return a&&i}function JWe(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function eHe(e,t){var n=e.x===t.x,r=e.y===t.y,a=e.z===t.z;return n&&r&&a}function tHe(e,t){var n;return b_(e,t)?n=ZWe:j_(e,t)?n=JWe:Q0(e,t)&&(n=eHe),n}function nHe(e,t){var n;return b_(e,t)?n="trapezoids":j_(e,t)?n="sectors":Q0(e,t)&&(n="points"),n}function rHe(e,t){if(b_(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(j_(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Q0(e,t)?t.payload:{}}function sHe(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,a=nHe(n,t),i=rHe(n,t),o=r.filter(function(c,d){var u=zu(i,c),h=n.props[a].filter(function(m){var p=tHe(n,t);return p(m,t)}),f=n.props[a].indexOf(h[h.length-1]),g=d===f;return u&&g}),l=r.indexOf(o[o.length-1]);return l}var o1;function Og(e){"@babel/helpers - typeof";return Og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Og(e)}function zm(){return zm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zm.apply(this,arguments)}function GB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function An(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GB(Object(n),!0).forEach(function(r){Wi(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aHe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Yoe(r.key),r)}}function iHe(e,t,n){return t&&YB(e.prototype,t),n&&YB(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function oHe(e,t,n){return t=pC(t),lHe(e,Goe()?Reflect.construct(t,n||[],pC(e).constructor):t.apply(e,n))}function lHe(e,t){if(t&&(Og(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cHe(e)}function cHe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Goe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Goe=function(){return!!e})()}function pC(e){return pC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pC(e)}function dHe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&NO(e,t)}function NO(e,t){return NO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},NO(e,t)}function Wi(e,t,n){return t=Yoe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yoe(e){var t=uHe(e,"string");return Og(t)=="symbol"?t:t+""}function uHe(e,t){if(Og(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Og(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bd=function(e){function t(n){var r;return aHe(this,t),r=oHe(this,t,[n]),Wi(r,"pieRef",null),Wi(r,"sectorRefs",[]),Wi(r,"id",nm("recharts-pie-")),Wi(r,"handleAnimationEnd",function(){var a=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),yt(a)&&a()}),Wi(r,"handleAnimationStart",function(){var a=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),yt(a)&&a()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return dHe(t,e),iHe(t,[{key:"isActiveIndex",value:function(r){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(r)!==-1:r===a}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,d=i.valueKey,u=ot(this.props,!1),h=ot(o,!1),f=ot(l,!1),g=o&&o.offsetRadius||20,m=r.map(function(p,x){var v=(p.startAngle+p.endAngle)/2,y=On(p.cx,p.cy,p.outerRadius+g,v),j=An(An(An(An({},u),p),{},{stroke:"none"},h),{},{index:x,textAnchor:t.getTextAnchor(y.x,p.cx)},y),N=An(An(An(An({},u),p),{},{fill:"none",stroke:p.fill},f),{},{index:x,points:[On(p.cx,p.cy,p.outerRadius,v),y]}),w=c;return _t(c)&&_t(d)?w="value":_t(c)&&(w=d),O.createElement(Vt,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(x)},l&&t.renderLabelLineItem(l,N,"line"),t.renderLabelItem(o,j,Mr(p,w)))});return O.createElement(Vt,{className:"recharts-pie-labels"},m)}},{key:"renderSectorsStatically",value:function(r){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return r.map(function(d,u){if((d==null?void 0:d.startAngle)===0&&(d==null?void 0:d.endAngle)===0&&r.length!==1)return null;var h=a.isActiveIndex(u),f=c&&a.hasActiveIndex()?c:null,g=h?o:f,m=An(An({},d),{},{stroke:l?d.fill:d.stroke,tabIndex:-1});return O.createElement(Vt,zm({ref:function(x){x&&!a.sectorRefs.includes(x)&&a.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},Of(a.props,d,u),{key:"sector-".concat(d==null?void 0:d.startAngle,"-").concat(d==null?void 0:d.endAngle,"-").concat(d.midAngle,"-").concat(u)}),O.createElement(Koe,zm({option:g,isActive:h,shapeType:"sector"},m)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,d=a.animationEasing,u=a.animationId,h=this.state,f=h.prevSectors,g=h.prevIsAnimationActive;return O.createElement(el,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(g),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(m){var p=m.t,x=[],v=i&&i[0],y=v.startAngle;return i.forEach(function(j,N){var w=f&&f[N],S=N>0?vi(j,"paddingAngle",0):0;if(w){var k=as(w.endAngle-w.startAngle,j.endAngle-j.startAngle),_=An(An({},j),{},{startAngle:y+S,endAngle:y+k(p)+S});x.push(_),y=_.endAngle}else{var T=j.endAngle,P=j.startAngle,C=as(0,T-P),A=C(p),E=An(An({},j),{},{startAngle:y+S,endAngle:y+A+S});x.push(E),y=E.endAngle}}),O.createElement(Vt,null,r.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(r){var a=this;r.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,a=r.sectors,i=r.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!zu(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,d=a.cx,u=a.cy,h=a.innerRadius,f=a.outerRadius,g=a.isAnimationActive,m=this.state.isAnimationFinished;if(i||!o||!o.length||!Ee(d)||!Ee(u)||!Ee(h)||!Ee(f))return null;var p=Ct("recharts-pie",l);return O.createElement(Vt,{tabIndex:this.props.rootTabIndex,className:p,ref:function(v){r.pieRef=v}},this.renderSectors(),c&&this.renderLabels(o),ws.renderCallByParent(this.props,null,!1),(!g||m)&&Xl.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return a.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:r.sectors!==a.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,a){return r>a?"start":r<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,a,i){if(O.isValidElement(r))return O.cloneElement(r,a);if(yt(r))return r(a);var o=Ct("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return O.createElement(ff,zm({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,a,i){if(O.isValidElement(r))return O.cloneElement(r,a);var o=i;if(yt(r)&&(o=r(a),O.isValidElement(o)))return o;var l=Ct("recharts-pie-label-text",typeof r!="boolean"&&!yt(r)?r.className:"");return O.createElement(Mf,zm({},a,{alignmentBaseline:"middle",className:l}),o)}}])}(b.PureComponent);o1=bd;Wi(bd,"displayName","Pie");Wi(bd,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ko.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Wi(bd,"parseDeltaAngle",function(e,t){var n=ba(t-e),r=Math.min(Math.abs(t-e),360);return n*r});Wi(bd,"getRealPieData",function(e){var t=e.data,n=e.children,r=ot(e,!1),a=xi(n,r_);return t&&t.length?t.map(function(i,o){return An(An(An({payload:i},r),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return An(An({},r),i.props)}):[]});Wi(bd,"parseCoordinateOfPie",function(e,t){var n=t.top,r=t.left,a=t.width,i=t.height,o=Coe(a,i),l=r+ja(e.cx,a,a/2),c=n+ja(e.cy,i,i/2),d=ja(e.innerRadius,o,0),u=ja(e.outerRadius,o,o*.8),h=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:u,maxRadius:h}});Wi(bd,"getComposedData",function(e){var t=e.item,n=e.offset,r=t.type.defaultProps!==void 0?An(An({},t.type.defaultProps),t.props):t.props,a=o1.getRealPieData(r);if(!a||!a.length)return null;var i=r.cornerRadius,o=r.startAngle,l=r.endAngle,c=r.paddingAngle,d=r.dataKey,u=r.nameKey,h=r.valueKey,f=r.tooltipType,g=Math.abs(r.minAngle),m=o1.parseCoordinateOfPie(r,n),p=o1.parseDeltaAngle(o,l),x=Math.abs(p),v=d;_t(d)&&_t(h)?(qo(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v="value"):_t(d)&&(qo(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v=h);var y=a.filter(function(_){return Mr(_,v,0)!==0}).length,j=(x>=360?y:y-1)*c,N=x-y*g-j,w=a.reduce(function(_,T){var P=Mr(T,v,0);return _+(Ee(P)?P:0)},0),S;if(w>0){var k;S=a.map(function(_,T){var P=Mr(_,v,0),C=Mr(_,u,T),A=(Ee(P)?P:0)/w,E;T?E=k.endAngle+ba(p)*c*(P!==0?1:0):E=o;var I=E+ba(p)*((P!==0?g:0)+A*N),$=(E+I)/2,U=(m.innerRadius+m.outerRadius)/2,M=[{name:C,value:P,payload:_,dataKey:v,type:f}],F=On(m.cx,m.cy,U,$);return k=An(An(An({percent:A,cornerRadius:i,name:C,tooltipPayload:M,midAngle:$,middleRadius:U,tooltipPosition:F},_),m),{},{value:Mr(_,v),startAngle:E,endAngle:I,payload:_,paddingAngle:ba(p)*c}),k})}return An(An({},m),{},{sectors:S,data:a})});var hHe=Math.ceil,fHe=Math.max;function mHe(e,t,n,r){for(var a=-1,i=fHe(hHe((t-e)/(n||1)),0),o=Array(i);i--;)o[r?i:++a]=e,e+=n;return o}var pHe=mHe,gHe=hie,XB=1/0,vHe=17976931348623157e292;function xHe(e){if(!e)return e===0?e:0;if(e=gHe(e),e===XB||e===-XB){var t=e<0?-1:1;return t*vHe}return e===e?e:0}var Xoe=xHe,yHe=pHe,bHe=Mv,OT=Xoe;function jHe(e){return function(t,n,r){return r&&typeof r!="number"&&bHe(t,n,r)&&(n=r=void 0),t=OT(t),n===void 0?(n=t,t=0):n=OT(n),r=r===void 0?t<n?1:-1:OT(r),yHe(t,n,r,e)}}var wHe=jHe,NHe=wHe,SHe=NHe(),CHe=SHe;const Z0=Tt(CHe);function J0(e){"@babel/helpers - typeof";return J0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J0(e)}function QB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ZB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QB(Object(n),!0).forEach(function(r){Qoe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qoe(e,t,n){return t=kHe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kHe(e){var t=_He(e,"string");return J0(t)=="symbol"?t:t+""}function _He(e,t){if(J0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(J0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PHe=["Webkit","Moz","O","ms"],THe=function(t,n){var r=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=PHe.reduce(function(i,o){return ZB(ZB({},i),{},Qoe({},o+r,n))},{});return a[t]=n,a};function Mg(e){"@babel/helpers - typeof";return Mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mg(e)}function gC(){return gC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gC.apply(this,arguments)}function JB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function MT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JB(Object(n),!0).forEach(function(r){ti(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function AHe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Joe(r.key),r)}}function EHe(e,t,n){return t&&eU(e.prototype,t),n&&eU(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function DHe(e,t,n){return t=vC(t),OHe(e,Zoe()?Reflect.construct(t,n||[],vC(e).constructor):t.apply(e,n))}function OHe(e,t){if(t&&(Mg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MHe(e)}function MHe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zoe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zoe=function(){return!!e})()}function vC(e){return vC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vC(e)}function RHe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SO(e,t)}function SO(e,t){return SO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},SO(e,t)}function ti(e,t,n){return t=Joe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Joe(e){var t=$He(e,"string");return Mg(t)=="symbol"?t:t+""}function $He(e,t){if(Mg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Mg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IHe=function(t){var n=t.data,r=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!n||!n.length)return{};var c=n.length,d=py().domain(Z0(0,c)).range([i,i+o-l]),u=d.domain().map(function(h){return d(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(r),endX:d(a),scale:d,scaleValues:u}},tU=function(t){return t.changedTouches&&!!t.changedTouches.length},Rg=function(e){function t(n){var r;return AHe(this,t),r=DHe(this,t,[n]),ti(r,"handleDrag",function(a){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(a):r.state.isSlideMoving&&r.handleSlideDrag(a)}),ti(r,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&r.handleDrag(a.changedTouches[0])}),ti(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=r.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),r.detachDragEndListener()}),ti(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),ti(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),ti(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),ti(r,"handleSlideDragStart",function(a){var i=tU(a)?a.changedTouches[0]:a;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return RHe(t,e),EHe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var a=r.startX,i=r.endX,o=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,u=d.length-1,h=Math.min(a,i),f=Math.max(a,i),g=t.getIndexInRange(o,h),m=t.getIndexInRange(o,f);return{startIndex:g-g%c,endIndex:m===u?u:m-m%c}}},{key:"getTextOfTick",value:function(r){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=Mr(i[r],l,r);return yt(o)?o(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,d=c.x,u=c.width,h=c.travellerWidth,f=c.startIndex,g=c.endIndex,m=c.onChange,p=r.pageX-i;p>0?p=Math.min(p,d+u-h-l,d+u-h-o):p<0&&(p=Math.max(p,d-o,d-l));var x=this.getIndex({startX:o+p,endX:l+p});(x.startIndex!==f||x.endIndex!==g)&&m&&m(x),this.setState({startX:o+p,endX:l+p,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,a){var i=tU(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,d=this.state[o],u=this.props,h=u.x,f=u.width,g=u.travellerWidth,m=u.onChange,p=u.gap,x=u.data,v={startX:this.state.startX,endX:this.state.endX},y=r.pageX-i;y>0?y=Math.min(y,h+f-g-d):y<0&&(y=Math.max(y,h-d)),v[o]=d+y;var j=this.getIndex(v),N=j.startIndex,w=j.endIndex,S=function(){var _=x.length-1;return o==="startX"&&(l>c?N%p===0:w%p===0)||l<c&&w===_||o==="endX"&&(l>c?w%p===0:N%p===0)||l>c&&w===_};this.setState(ti(ti({},o,d+y),"brushMoveStartX",r.pageX),function(){m&&S()&&m(j)})}},{key:"handleTravellerMoveKeyboard",value:function(r,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,d=o.endX,u=this.state[a],h=l.indexOf(u);if(h!==-1){var f=h+r;if(!(f===-1||f>=l.length)){var g=l[f];a==="startX"&&g>=d||a==="endX"&&g<=c||this.setState(ti({},a,g),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,a=r.x,i=r.y,o=r.width,l=r.height,c=r.fill,d=r.stroke;return O.createElement("rect",{stroke:d,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,a=r.x,i=r.y,o=r.width,l=r.height,c=r.data,d=r.children,u=r.padding,h=b.Children.only(d);return h?O.cloneElement(h,{x:a,y:i,width:o,height:l,margin:u,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,a){var i,o,l=this,c=this.props,d=c.y,u=c.travellerWidth,h=c.height,f=c.traveller,g=c.ariaLabel,m=c.data,p=c.startIndex,x=c.endIndex,v=Math.max(r,this.props.x),y=MT(MT({},ot(this.props,!1)),{},{x:v,y:d,width:u,height:h}),j=g||"Min value: ".concat((i=m[p])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=m[x])===null||o===void 0?void 0:o.name);return O.createElement(Vt,{tabIndex:0,role:"slider","aria-label":j,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),l.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(f,y))}},{key:"renderSlide",value:function(r,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,d=i.travellerWidth,u=Math.min(r,a)+d,h=Math.max(Math.abs(a-r)-d,0);return O.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:u,y:o,width:h,height:l})}},{key:"renderText",value:function(){var r=this.props,a=r.startIndex,i=r.endIndex,o=r.y,l=r.height,c=r.travellerWidth,d=r.stroke,u=this.state,h=u.startX,f=u.endX,g=5,m={pointerEvents:"none",fill:d};return O.createElement(Vt,{className:"recharts-brush-texts"},O.createElement(Mf,gC({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,f)-g,y:o+l/2},m),this.getTextOfTick(a)),O.createElement(Mf,gC({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,f)+c+g,y:o+l/2},m),this.getTextOfTick(i)))}},{key:"render",value:function(){var r=this.props,a=r.data,i=r.className,o=r.children,l=r.x,c=r.y,d=r.width,u=r.height,h=r.alwaysShowText,f=this.state,g=f.startX,m=f.endX,p=f.isTextActive,x=f.isSlideMoving,v=f.isTravellerMoving,y=f.isTravellerFocused;if(!a||!a.length||!Ee(l)||!Ee(c)||!Ee(d)||!Ee(u)||d<=0||u<=0)return null;var j=Ct("recharts-brush",i),N=O.Children.count(o)===1,w=THe("userSelect","none");return O.createElement(Vt,{className:j,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(g,m),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(m,"endX"),(p||x||v||y||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var a=r.x,i=r.y,o=r.width,l=r.height,c=r.stroke,d=Math.floor(i+l/2)-1;return O.createElement(O.Fragment,null,O.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),O.createElement("line",{x1:a+1,y1:d,x2:a+o-1,y2:d,fill:"none",stroke:"#fff"}),O.createElement("line",{x1:a+1,y1:d+2,x2:a+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,a){var i;return O.isValidElement(r)?i=O.cloneElement(r,a):yt(r)?i=r(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(r,a){var i=r.data,o=r.width,l=r.x,c=r.travellerWidth,d=r.updateId,u=r.startIndex,h=r.endIndex;if(i!==a.prevData||d!==a.prevUpdateId)return MT({prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o},i&&i.length?IHe({data:i,width:o,x:l,travellerWidth:c,startIndex:u,endIndex:h}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var f=a.scale.domain().map(function(g){return a.scale(g)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o,startX:a.scale(r.startIndex),endX:a.scale(r.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(r,a){for(var i=r.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);r[c]>a?l=c:o=c}return a>=r[l]?l:o}}])}(b.PureComponent);ti(Rg,"displayName","Brush");ti(Rg,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var FHe=rI;function LHe(e,t){var n;return FHe(e,function(r,a,i){return n=t(r,a,i),!n}),!!n}var zHe=LHe,BHe=Iae,UHe=hl,VHe=zHe,WHe=aa,HHe=Mv;function qHe(e,t,n){var r=WHe(e)?BHe:VHe;return n&&HHe(e,t,n)&&(t=void 0),r(e,UHe(t))}var KHe=qHe;const GHe=Tt(KHe);var Ql=function(t,n){var r=t.alwaysShow,a=t.ifOverflow;return r&&(a="extendDomain"),a===n},nU=aie;function YHe(e,t,n){t=="__proto__"&&nU?nU(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var DI=YHe,XHe=DI,QHe=nI,ZHe=hl;function JHe(e,t){var n={};return t=ZHe(t),QHe(e,function(r,a,i){XHe(n,a,t(r,a,i))}),n}var eqe=JHe;const ele=Tt(eqe);function tqe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}var nqe=tqe,rqe=rI;function sqe(e,t){var n=!0;return rqe(e,function(r,a,i){return n=!!t(r,a,i),n}),n}var aqe=sqe,iqe=nqe,oqe=aqe,lqe=hl,cqe=aa,dqe=Mv;function uqe(e,t,n){var r=cqe(e)?iqe:oqe;return n&&dqe(e,t,n)&&(t=void 0),r(e,lqe(t))}var hqe=uqe;const tle=Tt(hqe);var fqe=["x","y"];function eb(e){"@babel/helpers - typeof";return eb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eb(e)}function CO(){return CO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CO.apply(this,arguments)}function rU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function jx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rU(Object(n),!0).forEach(function(r){mqe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mqe(e,t,n){return t=pqe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pqe(e){var t=gqe(e,"string");return eb(t)=="symbol"?t:t+""}function gqe(e,t){if(eb(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(eb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vqe(e,t){if(e==null)return{};var n=xqe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function xqe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function yqe(e,t){var n=e.x,r=e.y,a=vqe(e,fqe),i="".concat(n),o=parseInt(i,10),l="".concat(r),c=parseInt(l,10),d="".concat(t.height||a.height),u=parseInt(d,10),h="".concat(t.width||a.width),f=parseInt(h,10);return jx(jx(jx(jx(jx({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:u,width:f,name:t.name,radius:t.radius})}function sU(e){return O.createElement(Koe,CO({shapeType:"rectangle",propTransformer:yqe,activeClassName:"recharts-active-bar"},e))}var bqe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,a){if(typeof t=="number")return t;var i=Ee(r)||aDe(r);return i?t(r,a):(i||$f(),n)}},jqe=["value","background"],nle;function $g(e){"@babel/helpers - typeof";return $g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$g(e)}function wqe(e,t){if(e==null)return{};var n=Nqe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Nqe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function xC(){return xC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xC.apply(this,arguments)}function aU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Lr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aU(Object(n),!0).forEach(function(r){ou(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sqe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,sle(r.key),r)}}function Cqe(e,t,n){return t&&iU(e.prototype,t),n&&iU(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function kqe(e,t,n){return t=yC(t),_qe(e,rle()?Reflect.construct(t,n||[],yC(e).constructor):t.apply(e,n))}function _qe(e,t){if(t&&($g(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pqe(e)}function Pqe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rle(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rle=function(){return!!e})()}function yC(e){return yC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yC(e)}function Tqe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kO(e,t)}function kO(e,t){return kO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},kO(e,t)}function ou(e,t,n){return t=sle(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sle(e){var t=Aqe(e,"string");return $g(t)=="symbol"?t:t+""}function Aqe(e,t){if($g(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if($g(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zl=function(e){function t(){var n;Sqe(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=kqe(this,t,[].concat(a)),ou(n,"state",{isAnimationFinished:!1}),ou(n,"id",nm("recharts-bar-")),ou(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),ou(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return Tqe(t,e),Cqe(t,[{key:"renderRectanglesStatically",value:function(r){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,d=i.activeBar,u=ot(this.props,!1);return r&&r.map(function(h,f){var g=f===c,m=g?d:o,p=Lr(Lr(Lr({},u),h),{},{isActive:g,option:m,index:f,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return O.createElement(Vt,xC({className:"recharts-bar-rectangle"},Of(a.props,h,f),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value,"-").concat(f)}),O.createElement(sU,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,d=a.animationDuration,u=a.animationEasing,h=a.animationId,f=this.state.prevData;return O.createElement(el,{begin:c,duration:d,isActive:l,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var m=g.t,p=i.map(function(x,v){var y=f&&f[v];if(y){var j=as(y.x,x.x),N=as(y.y,x.y),w=as(y.width,x.width),S=as(y.height,x.height);return Lr(Lr({},x),{},{x:j(m),y:N(m),width:w(m),height:S(m)})}if(o==="horizontal"){var k=as(0,x.height),_=k(m);return Lr(Lr({},x),{},{y:x.y+x.height-_,height:_})}var T=as(0,x.width),P=T(m);return Lr(Lr({},x),{},{width:P})});return O.createElement(Vt,null,r.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var r=this.props,a=r.data,i=r.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!zu(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var r=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=ot(this.props.background,!1);return i.map(function(d,u){d.value;var h=d.background,f=wqe(d,jqe);if(!h)return null;var g=Lr(Lr(Lr(Lr(Lr({},f),{},{fill:"#eee"},h),c),Of(r.props,d,u)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return O.createElement(sU,xC({key:"background-bar-".concat(u),option:r.props.background,isActive:u===l},g))})}},{key:"renderErrorBar",value:function(r,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,d=i.layout,u=i.children,h=xi(u,qj);if(!h)return null;var f=d==="vertical"?o[0].height/2:o[0].width/2,g=function(x,v){var y=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:y,errorVal:Mr(x,v)}},m={clipPath:r?"url(#clipPath-".concat(a,")"):null};return O.createElement(Vt,m,h.map(function(p){return O.cloneElement(p,{key:"error-bar-".concat(a,"-").concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,offset:f,dataPointFormatter:g})}))}},{key:"render",value:function(){var r=this.props,a=r.hide,i=r.data,o=r.className,l=r.xAxis,c=r.yAxis,d=r.left,u=r.top,h=r.width,f=r.height,g=r.isAnimationActive,m=r.background,p=r.id;if(a||!i||!i.length)return null;var x=this.state.isAnimationFinished,v=Ct("recharts-bar",o),y=l&&l.allowDataOverflow,j=c&&c.allowDataOverflow,N=y||j,w=_t(p)?this.id:p;return O.createElement(Vt,{className:v},y||j?O.createElement("defs",null,O.createElement("clipPath",{id:"clipPath-".concat(w)},O.createElement("rect",{x:y?d:d-h/2,y:j?u:u-f/2,width:y?h:h*2,height:j?f:f*2}))):null,O.createElement(Vt,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(w,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,w),(!g||x)&&Xl.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:a.curData}:r.data!==a.curData?{curData:r.data}:null}}])}(b.PureComponent);nle=Zl;ou(Zl,"displayName","Bar");ou(Zl,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ko.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ou(Zl,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,d=e.stackedData,u=e.dataStartIndex,h=e.displayedData,f=e.offset,g=dUe(r,n);if(!g)return null;var m=t.layout,p=n.type.defaultProps,x=p!==void 0?Lr(Lr({},p),n.props):n.props,v=x.dataKey,y=x.children,j=x.minPointSize,N=m==="horizontal"?o:i,w=d?N.scale.domain():null,S=vUe({numericAxis:N}),k=xi(y,r_),_=h.map(function(T,P){var C,A,E,I,$,U;d?C=uUe(d[u+P],w):(C=Mr(T,v),Array.isArray(C)||(C=[S,C]));var M=bqe(j,nle.defaultProps.minPointSize)(C[1],P);if(m==="horizontal"){var F,V=[o.scale(C[0]),o.scale(C[1])],Y=V[0],K=V[1];A=Gz({axis:i,ticks:l,bandSize:a,offset:g.offset,entry:T,index:P}),E=(F=K??Y)!==null&&F!==void 0?F:void 0,I=g.size;var z=Y-K;if($=Number.isNaN(z)?0:z,U={x:A,y:o.y,width:I,height:o.height},Math.abs(M)>0&&Math.abs($)<Math.abs(M)){var L=ba($||M)*(Math.abs(M)-Math.abs($));E-=L,$+=L}}else{var ee=[i.scale(C[0]),i.scale(C[1])],le=ee[0],ve=ee[1];if(A=le,E=Gz({axis:o,ticks:c,bandSize:a,offset:g.offset,entry:T,index:P}),I=ve-le,$=g.size,U={x:i.x,y:E,width:i.width,height:$},Math.abs(M)>0&&Math.abs(I)<Math.abs(M)){var ne=ba(I||M)*(Math.abs(M)-Math.abs(I));I+=ne}}return Lr(Lr(Lr({},T),{},{x:A,y:E,width:I,height:$,value:d?C:C[1],payload:T,background:U},k&&k[P]&&k[P].props),{},{tooltipPayload:[Noe(n,T)],tooltipPosition:{x:A+I/2,y:E+$/2}})});return Lr({data:_,layout:m},f)});function tb(e){"@babel/helpers - typeof";return tb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tb(e)}function Eqe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ale(r.key),r)}}function Dqe(e,t,n){return t&&oU(e.prototype,t),n&&oU(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function lU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function _o(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lU(Object(n),!0).forEach(function(r){w_(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function w_(e,t,n){return t=ale(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ale(e){var t=Oqe(e,"string");return tb(t)=="symbol"?t:t+""}function Oqe(e,t){if(tb(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(tb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OI=function(t,n,r,a,i){var o=t.width,l=t.height,c=t.layout,d=t.children,u=Object.keys(n),h={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},f=!!si(d,Zl);return u.reduce(function(g,m){var p=n[m],x=p.orientation,v=p.domain,y=p.padding,j=y===void 0?{}:y,N=p.mirror,w=p.reversed,S="".concat(x).concat(N?"Mirror":""),k,_,T,P,C;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var A=v[1]-v[0],E=1/0,I=p.categoricalDomain.sort(lDe);if(I.forEach(function(ee,le){le>0&&(E=Math.min((ee||0)-(I[le-1]||0),E))}),Number.isFinite(E)){var $=E/A,U=p.layout==="vertical"?r.height:r.width;if(p.padding==="gap"&&(k=$*U/2),p.padding==="no-gap"){var M=ja(t.barCategoryGap,$*U),F=$*U/2;k=F-M-(F-M)/U*M}}}a==="xAxis"?_=[r.left+(j.left||0)+(k||0),r.left+r.width-(j.right||0)-(k||0)]:a==="yAxis"?_=c==="horizontal"?[r.top+r.height-(j.bottom||0),r.top+(j.top||0)]:[r.top+(j.top||0)+(k||0),r.top+r.height-(j.bottom||0)-(k||0)]:_=p.range,w&&(_=[_[1],_[0]]);var V=yoe(p,i,f),Y=V.scale,K=V.realScaleType;Y.domain(v).range(_),boe(Y);var z=joe(Y,_o(_o({},p),{},{realScaleType:K}));a==="xAxis"?(C=x==="top"&&!N||x==="bottom"&&N,T=r.left,P=h[S]-C*p.height):a==="yAxis"&&(C=x==="left"&&!N||x==="right"&&N,T=h[S]-C*p.width,P=r.top);var L=_o(_o(_o({},p),z),{},{realScaleType:K,x:T,y:P,scale:Y,width:a==="xAxis"?r.width:p.width,height:a==="yAxis"?r.height:p.height});return L.bandSize=rC(L,z),!p.hide&&a==="xAxis"?h[S]+=(C?-1:1)*L.height:p.hide||(h[S]+=(C?-1:1)*L.width),_o(_o({},g),{},w_({},m,L))},{})},ile=function(t,n){var r=t.x,a=t.y,i=n.x,o=n.y;return{x:Math.min(r,i),y:Math.min(a,o),width:Math.abs(i-r),height:Math.abs(o-a)}},Mqe=function(t){var n=t.x1,r=t.y1,a=t.x2,i=t.y2;return ile({x:n,y:r},{x:a,y:i})},ole=function(){function e(t){Eqe(this,e),this.scale=t}return Dqe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=r.bandAware,i=r.position;if(n!==void 0){if(i)switch(i){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),a=r[0],i=r[r.length-1];return a<=i?n>=a&&n<=i:n>=i&&n<=a}}],[{key:"create",value:function(n){return new e(n)}}])}();w_(ole,"EPS",1e-4);var MI=function(t){var n=Object.keys(t).reduce(function(r,a){return _o(_o({},r),{},w_({},a,ole.create(t[a])))},{});return _o(_o({},n),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return ele(a,function(c,d){return n[d].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return tle(a,function(i,o){return n[o].isInRange(i)})}})};function Rqe(e){return(e%180+180)%180}var $qe=function(t){var n=t.width,r=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Rqe(a),o=i*Math.PI/180,l=Math.atan(r/n),c=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},Iqe=hl,Fqe=Av,Lqe=Ev;function zqe(e){return function(t,n,r){var a=Object(t);if(!Fqe(t)){var i=Iqe(n);t=Lqe(t),n=function(l){return i(a[l],l,a)}}var o=e(t,n,r);return o>-1?a[i?t[o]:o]:void 0}}var Bqe=zqe,Uqe=Xoe;function Vqe(e){var t=Uqe(e),n=t%1;return t===t?n?t-n:t:0}var lle=Vqe,Wqe=Zae,Hqe=hl,qqe=lle,Kqe=Math.max;function Gqe(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var a=n==null?0:qqe(n);return a<0&&(a=Kqe(r+a,0)),Wqe(e,Hqe(t),a)}var cle=Gqe;const Yqe=Tt(cle);var Xqe=Bqe,Qqe=cle,Zqe=Xqe(Qqe),Jqe=Zqe;const eKe=Tt(Jqe);var tKe=cEe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),RI=b.createContext(void 0),$I=b.createContext(void 0),dle=b.createContext(void 0),ule=b.createContext({}),hle=b.createContext(void 0),fle=b.createContext(0),mle=b.createContext(0),cU=function(t){var n=t.state,r=n.xAxisMap,a=n.yAxisMap,i=n.offset,o=t.clipPathId,l=t.children,c=t.width,d=t.height,u=tKe(i);return O.createElement(RI.Provider,{value:r},O.createElement($I.Provider,{value:a},O.createElement(ule.Provider,{value:i},O.createElement(dle.Provider,{value:u},O.createElement(hle.Provider,{value:o},O.createElement(fle.Provider,{value:d},O.createElement(mle.Provider,{value:c},l)))))))},nKe=function(){return b.useContext(hle)},ple=function(t){var n=b.useContext(RI);n==null&&$f();var r=n[t];return r==null&&$f(),r},rKe=function(){var t=b.useContext(RI);return Wd(t)},sKe=function(){var t=b.useContext($I),n=eKe(t,function(r){return tle(r.domain,Number.isFinite)});return n||Wd(t)},gle=function(t){var n=b.useContext($I);n==null&&$f();var r=n[t];return r==null&&$f(),r},aKe=function(){var t=b.useContext(dle);return t},iKe=function(){return b.useContext(ule)},II=function(){return b.useContext(mle)},FI=function(){return b.useContext(fle)};function Ig(e){"@babel/helpers - typeof";return Ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ig(e)}function oKe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lKe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xle(r.key),r)}}function cKe(e,t,n){return t&&lKe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dKe(e,t,n){return t=bC(t),uKe(e,vle()?Reflect.construct(t,n||[],bC(e).constructor):t.apply(e,n))}function uKe(e,t){if(t&&(Ig(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hKe(e)}function hKe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vle(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vle=function(){return!!e})()}function bC(e){return bC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bC(e)}function fKe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_O(e,t)}function _O(e,t){return _O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},_O(e,t)}function dU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function uU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dU(Object(n),!0).forEach(function(r){LI(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function LI(e,t,n){return t=xle(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xle(e){var t=mKe(e,"string");return Ig(t)=="symbol"?t:t+""}function mKe(e,t){if(Ig(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ig(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pKe(e,t){return yKe(e)||xKe(e,t)||vKe(e,t)||gKe()}function gKe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vKe(e,t){if(e){if(typeof e=="string")return hU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hU(e,t)}}function hU(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xKe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function yKe(e){if(Array.isArray(e))return e}function PO(){return PO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},PO.apply(this,arguments)}var bKe=function(t,n){var r;return O.isValidElement(t)?r=O.cloneElement(t,n):yt(t)?r=t(n):r=O.createElement("line",PO({},n,{className:"recharts-reference-line-line"})),r},jKe=function(t,n,r,a,i,o,l,c,d){var u=i.x,h=i.y,f=i.width,g=i.height;if(r){var m=d.y,p=t.y.apply(m,{position:o});if(Ql(d,"discard")&&!t.y.isInRange(p))return null;var x=[{x:u+f,y:p},{x:u,y:p}];return c==="left"?x.reverse():x}if(n){var v=d.x,y=t.x.apply(v,{position:o});if(Ql(d,"discard")&&!t.x.isInRange(y))return null;var j=[{x:y,y:h+g},{x:y,y:h}];return l==="top"?j.reverse():j}if(a){var N=d.segment,w=N.map(function(S){return t.apply(S,{position:o})});return Ql(d,"discard")&&GHe(w,function(S){return!t.isInRange(S)})?null:w}return null};function wKe(e){var t=e.x,n=e.y,r=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,d=nKe(),u=ple(a),h=gle(i),f=aKe();if(!d||!f)return null;qo(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=MI({x:u.scale,y:h.scale}),m=cs(t),p=cs(n),x=r&&r.length===2,v=jKe(g,m,p,x,f,e.position,u.orientation,h.orientation,e);if(!v)return null;var y=pKe(v,2),j=y[0],N=j.x,w=j.y,S=y[1],k=S.x,_=S.y,T=Ql(e,"hidden")?"url(#".concat(d,")"):void 0,P=uU(uU({clipPath:T},ot(e,!0)),{},{x1:N,y1:w,x2:k,y2:_});return O.createElement(Vt,{className:Ct("recharts-reference-line",l)},bKe(o,P),ws.renderCallByParent(e,Mqe({x1:N,y1:w,x2:k,y2:_})))}var zI=function(e){function t(){return oKe(this,t),dKe(this,t,arguments)}return fKe(t,e),cKe(t,[{key:"render",value:function(){return O.createElement(wKe,this.props)}}])}(O.Component);LI(zI,"displayName","ReferenceLine");LI(zI,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function TO(){return TO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TO.apply(this,arguments)}function Fg(e){"@babel/helpers - typeof";return Fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fg(e)}function fU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function mU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fU(Object(n),!0).forEach(function(r){N_(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NKe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SKe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ble(r.key),r)}}function CKe(e,t,n){return t&&SKe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function kKe(e,t,n){return t=jC(t),_Ke(e,yle()?Reflect.construct(t,n||[],jC(e).constructor):t.apply(e,n))}function _Ke(e,t){if(t&&(Fg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PKe(e)}function PKe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yle(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yle=function(){return!!e})()}function jC(e){return jC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jC(e)}function TKe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AO(e,t)}function AO(e,t){return AO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},AO(e,t)}function N_(e,t,n){return t=ble(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ble(e){var t=AKe(e,"string");return Fg(t)=="symbol"?t:t+""}function AKe(e,t){if(Fg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Fg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EKe=function(t){var n=t.x,r=t.y,a=t.xAxis,i=t.yAxis,o=MI({x:a.scale,y:i.scale}),l=o.apply({x:n,y:r},{bandAware:!0});return Ql(t,"discard")&&!o.isInRange(l)?null:l},S_=function(e){function t(){return NKe(this,t),kKe(this,t,arguments)}return TKe(t,e),CKe(t,[{key:"render",value:function(){var r=this.props,a=r.x,i=r.y,o=r.r,l=r.alwaysShow,c=r.clipPathId,d=cs(a),u=cs(i);if(qo(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!u)return null;var h=EKe(this.props);if(!h)return null;var f=h.x,g=h.y,m=this.props,p=m.shape,x=m.className,v=Ql(this.props,"hidden")?"url(#".concat(c,")"):void 0,y=mU(mU({clipPath:v},ot(this.props,!0)),{},{cx:f,cy:g});return O.createElement(Vt,{className:Ct("recharts-reference-dot",x)},t.renderDot(p,y),ws.renderCallByParent(this.props,{x:f-o,y:g-o,width:2*o,height:2*o}))}}])}(O.Component);N_(S_,"displayName","ReferenceDot");N_(S_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});N_(S_,"renderDot",function(e,t){var n;return O.isValidElement(e)?n=O.cloneElement(e,t):yt(e)?n=e(t):n=O.createElement(Kj,TO({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function EO(){return EO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},EO.apply(this,arguments)}function Lg(e){"@babel/helpers - typeof";return Lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lg(e)}function pU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function gU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pU(Object(n),!0).forEach(function(r){C_(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DKe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OKe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wle(r.key),r)}}function MKe(e,t,n){return t&&OKe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function RKe(e,t,n){return t=wC(t),$Ke(e,jle()?Reflect.construct(t,n||[],wC(e).constructor):t.apply(e,n))}function $Ke(e,t){if(t&&(Lg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IKe(e)}function IKe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jle(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jle=function(){return!!e})()}function wC(e){return wC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wC(e)}function FKe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&DO(e,t)}function DO(e,t){return DO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},DO(e,t)}function C_(e,t,n){return t=wle(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wle(e){var t=LKe(e,"string");return Lg(t)=="symbol"?t:t+""}function LKe(e,t){if(Lg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Lg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zKe=function(t,n,r,a,i){var o=i.x1,l=i.x2,c=i.y1,d=i.y2,u=i.xAxis,h=i.yAxis;if(!u||!h)return null;var f=MI({x:u.scale,y:h.scale}),g={x:t?f.x.apply(o,{position:"start"}):f.x.rangeMin,y:r?f.y.apply(c,{position:"start"}):f.y.rangeMin},m={x:n?f.x.apply(l,{position:"end"}):f.x.rangeMax,y:a?f.y.apply(d,{position:"end"}):f.y.rangeMax};return Ql(i,"discard")&&(!f.isInRange(g)||!f.isInRange(m))?null:ile(g,m)},k_=function(e){function t(){return DKe(this,t),RKe(this,t,arguments)}return FKe(t,e),MKe(t,[{key:"render",value:function(){var r=this.props,a=r.x1,i=r.x2,o=r.y1,l=r.y2,c=r.className,d=r.alwaysShow,u=r.clipPathId;qo(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=cs(a),f=cs(i),g=cs(o),m=cs(l),p=this.props.shape;if(!h&&!f&&!g&&!m&&!p)return null;var x=zKe(h,f,g,m,this.props);if(!x&&!p)return null;var v=Ql(this.props,"hidden")?"url(#".concat(u,")"):void 0;return O.createElement(Vt,{className:Ct("recharts-reference-area",c)},t.renderRect(p,gU(gU({clipPath:v},ot(this.props,!0)),x)),ws.renderCallByParent(this.props,x))}}])}(O.Component);C_(k_,"displayName","ReferenceArea");C_(k_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});C_(k_,"renderRect",function(e,t){var n;return O.isValidElement(e)?n=O.cloneElement(e,t):yt(e)?n=e(t):n=O.createElement(EI,EO({},t,{className:"recharts-reference-area-rect"})),n});function Nle(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],a=0;a<e.length;a+=t)r.push(e[a]);return r}function BKe(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return $qe(r,n)}function UKe(e,t,n){var r=n==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:r?a:i,end:r?a+o:i+l}:{start:r?a+o:i+l,end:r?a:i}}function NC(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var i=n();return e*(t-e*i/2-r)>=0&&e*(t+e*i/2-a)<=0}function VKe(e,t){return Nle(e,t+1)}function WKe(e,t,n,r,a){for(var i=(r||[]).slice(),o=t.start,l=t.end,c=0,d=1,u=o,h=function(){var m=r==null?void 0:r[c];if(m===void 0)return{v:Nle(r,d)};var p=c,x,v=function(){return x===void 0&&(x=n(m,p)),x},y=m.coordinate,j=c===0||NC(e,y,v,u,l);j||(c=0,u=o,d+=1),j&&(u=y+e*(v()/2+a),c+=d)},f;d<=i.length;)if(f=h(),f)return f.v;return[]}function nb(e){"@babel/helpers - typeof";return nb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nb(e)}function vU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Hs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vU(Object(n),!0).forEach(function(r){HKe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HKe(e,t,n){return t=qKe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qKe(e){var t=KKe(e,"string");return nb(t)=="symbol"?t:t+""}function KKe(e,t){if(nb(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(nb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GKe(e,t,n,r,a){for(var i=(r||[]).slice(),o=i.length,l=t.start,c=t.end,d=function(f){var g=i[f],m,p=function(){return m===void 0&&(m=n(g,f)),m};if(f===o-1){var x=e*(g.coordinate+e*p()/2-c);i[f]=g=Hs(Hs({},g),{},{tickCoord:x>0?g.coordinate-x*e:g.coordinate})}else i[f]=g=Hs(Hs({},g),{},{tickCoord:g.coordinate});var v=NC(e,g.tickCoord,p,l,c);v&&(c=g.tickCoord-e*(p()/2+a),i[f]=Hs(Hs({},g),{},{isShow:!0}))},u=o-1;u>=0;u--)d(u);return i}function YKe(e,t,n,r,a,i){var o=(r||[]).slice(),l=o.length,c=t.start,d=t.end;if(i){var u=r[l-1],h=n(u,l-1),f=e*(u.coordinate+e*h/2-d);o[l-1]=u=Hs(Hs({},u),{},{tickCoord:f>0?u.coordinate-f*e:u.coordinate});var g=NC(e,u.tickCoord,function(){return h},c,d);g&&(d=u.tickCoord-e*(h/2+a),o[l-1]=Hs(Hs({},u),{},{isShow:!0}))}for(var m=i?l-1:l,p=function(y){var j=o[y],N,w=function(){return N===void 0&&(N=n(j,y)),N};if(y===0){var S=e*(j.coordinate-e*w()/2-c);o[y]=j=Hs(Hs({},j),{},{tickCoord:S<0?j.coordinate-S*e:j.coordinate})}else o[y]=j=Hs(Hs({},j),{},{tickCoord:j.coordinate});var k=NC(e,j.tickCoord,w,c,d);k&&(c=j.tickCoord+e*(w()/2+a),o[y]=Hs(Hs({},j),{},{isShow:!0}))},x=0;x<m;x++)p(x);return o}function BI(e,t,n){var r=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,d=e.tickFormatter,u=e.unit,h=e.angle;if(!a||!a.length||!r)return[];if(Ee(c)||Ko.isSsr)return VKe(a,typeof c=="number"&&Ee(c)?c:0);var f=[],g=l==="top"||l==="bottom"?"width":"height",m=u&&g==="width"?my(u,{fontSize:t,letterSpacing:n}):{width:0,height:0},p=function(j,N){var w=yt(d)?d(j.value,N):j.value;return g==="width"?BKe(my(w,{fontSize:t,letterSpacing:n}),m,h):my(w,{fontSize:t,letterSpacing:n})[g]},x=a.length>=2?ba(a[1].coordinate-a[0].coordinate):1,v=UKe(i,x,g);return c==="equidistantPreserveStart"?WKe(x,v,p,a,o):(c==="preserveStart"||c==="preserveStartEnd"?f=YKe(x,v,p,a,o,c==="preserveStartEnd"):f=GKe(x,v,p,a,o),f.filter(function(y){return y.isShow}))}var XKe=["viewBox"],QKe=["viewBox"],ZKe=["ticks"];function zg(e){"@babel/helpers - typeof";return zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zg(e)}function Bm(){return Bm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bm.apply(this,arguments)}function xU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Yr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xU(Object(n),!0).forEach(function(r){UI(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RT(e,t){if(e==null)return{};var n=JKe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function JKe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function eGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Cle(r.key),r)}}function tGe(e,t,n){return t&&yU(e.prototype,t),n&&yU(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function nGe(e,t,n){return t=SC(t),rGe(e,Sle()?Reflect.construct(t,n||[],SC(e).constructor):t.apply(e,n))}function rGe(e,t){if(t&&(zg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sGe(e)}function sGe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sle(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Sle=function(){return!!e})()}function SC(e){return SC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},SC(e)}function aGe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&OO(e,t)}function OO(e,t){return OO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},OO(e,t)}function UI(e,t,n){return t=Cle(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cle(e){var t=iGe(e,"string");return zg(t)=="symbol"?t:t+""}function iGe(e,t){if(zg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(zg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fv=function(e){function t(n){var r;return eGe(this,t),r=nGe(this,t,[n]),r.state={fontSize:"",letterSpacing:""},r}return aGe(t,e),tGe(t,[{key:"shouldComponentUpdate",value:function(r,a){var i=r.viewBox,o=RT(r,XKe),l=this.props,c=l.viewBox,d=RT(l,QKe);return!fp(i,c)||!fp(o,d)||!fp(a,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var a=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,d=a.orientation,u=a.tickSize,h=a.mirror,f=a.tickMargin,g,m,p,x,v,y,j=h?-1:1,N=r.tickSize||u,w=Ee(r.tickCoord)?r.tickCoord:r.coordinate;switch(d){case"top":g=m=r.coordinate,x=o+ +!h*c,p=x-j*N,y=p-j*f,v=w;break;case"left":p=x=r.coordinate,m=i+ +!h*l,g=m-j*N,v=g-j*f,y=w;break;case"right":p=x=r.coordinate,m=i+ +h*l,g=m+j*N,v=g+j*f,y=w;break;default:g=m=r.coordinate,x=o+ +h*c,p=x+j*N,y=p+j*f,v=w;break}return{line:{x1:g,y1:p,x2:m,y2:x},tick:{x:v,y}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,a=r.orientation,i=r.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,a=r.orientation,i=r.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.x,i=r.y,o=r.width,l=r.height,c=r.orientation,d=r.mirror,u=r.axisLine,h=Yr(Yr(Yr({},ot(this.props,!1)),ot(u,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var f=+(c==="top"&&!d||c==="bottom"&&d);h=Yr(Yr({},h),{},{x1:a,y1:i+f*l,x2:a+o,y2:i+f*l})}else{var g=+(c==="left"&&!d||c==="right"&&d);h=Yr(Yr({},h),{},{x1:a+g*o,y1:i,x2:a+g*o,y2:i+l})}return O.createElement("line",Bm({},h,{className:Ct("recharts-cartesian-axis-line",vi(u,"className"))}))}},{key:"renderTicks",value:function(r,a,i){var o=this,l=this.props,c=l.tickLine,d=l.stroke,u=l.tick,h=l.tickFormatter,f=l.unit,g=BI(Yr(Yr({},this.props),{},{ticks:r}),a,i),m=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),x=ot(this.props,!1),v=ot(u,!1),y=Yr(Yr({},x),{},{fill:"none"},ot(c,!1)),j=g.map(function(N,w){var S=o.getTickLineCoord(N),k=S.line,_=S.tick,T=Yr(Yr(Yr(Yr({textAnchor:m,verticalAnchor:p},x),{},{stroke:"none",fill:d},v),_),{},{index:w,payload:N,visibleTicksCount:g.length,tickFormatter:h});return O.createElement(Vt,Bm({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},Of(o.props,N,w)),c&&O.createElement("line",Bm({},y,k,{className:Ct("recharts-cartesian-axis-tick-line",vi(c,"className"))})),u&&t.renderTickItem(u,T,"".concat(yt(h)?h(N.value,w):N.value).concat(f||"")))});return O.createElement("g",{className:"recharts-cartesian-axis-ticks"},j)}},{key:"render",value:function(){var r=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,d=a.className,u=a.hide;if(u)return null;var h=this.props,f=h.ticks,g=RT(h,ZKe),m=f;return yt(c)&&(m=f&&f.length>0?c(this.props):c(g)),o<=0||l<=0||!m||!m.length?null:O.createElement(Vt,{className:Ct("recharts-cartesian-axis",d),ref:function(x){r.layerReference=x}},i&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),ws.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,a,i){var o,l=Ct(a.className,"recharts-cartesian-axis-tick-value");return O.isValidElement(r)?o=O.cloneElement(r,Yr(Yr({},a),{},{className:l})):yt(r)?o=r(Yr(Yr({},a),{},{className:l})):o=O.createElement(Mf,Bm({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(b.Component);UI(Fv,"displayName","CartesianAxis");UI(Fv,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var oGe=["x1","y1","x2","y2","key"],lGe=["offset"];function If(e){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},If(e)}function bU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Xs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bU(Object(n),!0).forEach(function(r){cGe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cGe(e,t,n){return t=dGe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dGe(e){var t=uGe(e,"string");return If(t)=="symbol"?t:t+""}function uGe(e,t){if(If(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(If(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $h(){return $h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$h.apply(this,arguments)}function jU(e,t){if(e==null)return{};var n=hGe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function hGe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var fGe=function(t){var n=t.fill;if(!n||n==="none")return null;var r=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return O.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function kle(e,t){var n;if(O.isValidElement(e))n=O.cloneElement(e,t);else if(yt(e))n=e(t);else{var r=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=jU(t,oGe),d=ot(c,!1);d.offset;var u=jU(d,lGe);n=O.createElement("line",$h({},u,{x1:r,y1:a,x2:i,y2:o,fill:"none",key:l}))}return n}function mGe(e){var t=e.x,n=e.width,r=e.horizontal,a=r===void 0?!0:r,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var d=Xs(Xs({},e),{},{x1:t,y1:l,x2:t+n,y2:l,key:"line-".concat(c),index:c});return kle(a,d)});return O.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function pGe(e){var t=e.y,n=e.height,r=e.vertical,a=r===void 0?!0:r,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var d=Xs(Xs({},e),{},{x1:l,y1:t,x2:l,y2:t+n,key:"line-".concat(c),index:c});return kle(a,d)});return O.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function gGe(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,d=c===void 0?!0:c;if(!d||!t||!t.length)return null;var u=l.map(function(f){return Math.round(f+a-a)}).sort(function(f,g){return f-g});a!==u[0]&&u.unshift(0);var h=u.map(function(f,g){var m=!u[g+1],p=m?a+o-f:u[g+1]-f;if(p<=0)return null;var x=g%t.length;return O.createElement("rect",{key:"react-".concat(g),y:f,x:r,height:p,width:i,stroke:"none",fill:t[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return O.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function vGe(e){var t=e.vertical,n=t===void 0?!0:t,r=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,d=e.verticalPoints;if(!n||!r||!r.length)return null;var u=d.map(function(f){return Math.round(f+i-i)}).sort(function(f,g){return f-g});i!==u[0]&&u.unshift(0);var h=u.map(function(f,g){var m=!u[g+1],p=m?i+l-f:u[g+1]-f;if(p<=0)return null;var x=g%r.length;return O.createElement("rect",{key:"react-".concat(g),x:f,y:o,width:p,height:c,stroke:"none",fill:r[x],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return O.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var xGe=function(t,n){var r=t.xAxis,a=t.width,i=t.height,o=t.offset;return xoe(BI(Xs(Xs(Xs({},Fv.defaultProps),r),{},{ticks:Vc(r,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,n)},yGe=function(t,n){var r=t.yAxis,a=t.width,i=t.height,o=t.offset;return xoe(BI(Xs(Xs(Xs({},Fv.defaultProps),r),{},{ticks:Vc(r,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,n)},gm={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function zl(e){var t,n,r,a,i,o,l=II(),c=FI(),d=iKe(),u=Xs(Xs({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:gm.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:gm.fill,horizontal:(r=e.horizontal)!==null&&r!==void 0?r:gm.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:gm.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:gm.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:gm.verticalFill,x:Ee(e.x)?e.x:d.left,y:Ee(e.y)?e.y:d.top,width:Ee(e.width)?e.width:d.width,height:Ee(e.height)?e.height:d.height}),h=u.x,f=u.y,g=u.width,m=u.height,p=u.syncWithTicks,x=u.horizontalValues,v=u.verticalValues,y=rKe(),j=sKe();if(!Ee(g)||g<=0||!Ee(m)||m<=0||!Ee(h)||h!==+h||!Ee(f)||f!==+f)return null;var N=u.verticalCoordinatesGenerator||xGe,w=u.horizontalCoordinatesGenerator||yGe,S=u.horizontalPoints,k=u.verticalPoints;if((!S||!S.length)&&yt(w)){var _=x&&x.length,T=w({yAxis:j?Xs(Xs({},j),{},{ticks:_?x:j.ticks}):void 0,width:l,height:c,offset:d},_?!0:p);qo(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(If(T),"]")),Array.isArray(T)&&(S=T)}if((!k||!k.length)&&yt(N)){var P=v&&v.length,C=N({xAxis:y?Xs(Xs({},y),{},{ticks:P?v:y.ticks}):void 0,width:l,height:c,offset:d},P?!0:p);qo(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(If(C),"]")),Array.isArray(C)&&(k=C)}return O.createElement("g",{className:"recharts-cartesian-grid"},O.createElement(fGe,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),O.createElement(mGe,$h({},u,{offset:d,horizontalPoints:S,xAxis:y,yAxis:j})),O.createElement(pGe,$h({},u,{offset:d,verticalPoints:k,xAxis:y,yAxis:j})),O.createElement(gGe,$h({},u,{horizontalPoints:S})),O.createElement(vGe,$h({},u,{verticalPoints:k})))}zl.displayName="CartesianGrid";var bGe=["type","layout","connectNulls","ref"],jGe=["key"];function Bg(e){"@babel/helpers - typeof";return Bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bg(e)}function wU(e,t){if(e==null)return{};var n=wGe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function wGe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function by(){return by=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},by.apply(this,arguments)}function NU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ei(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NU(Object(n),!0).forEach(function(r){Po(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vm(e){return kGe(e)||CGe(e)||SGe(e)||NGe()}function NGe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SGe(e,t){if(e){if(typeof e=="string")return MO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MO(e,t)}}function CGe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kGe(e){if(Array.isArray(e))return MO(e)}function MO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _Ge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ple(r.key),r)}}function PGe(e,t,n){return t&&SU(e.prototype,t),n&&SU(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function TGe(e,t,n){return t=CC(t),AGe(e,_le()?Reflect.construct(t,n||[],CC(e).constructor):t.apply(e,n))}function AGe(e,t){if(t&&(Bg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EGe(e)}function EGe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _le(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_le=function(){return!!e})()}function CC(e){return CC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},CC(e)}function DGe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RO(e,t)}function RO(e,t){return RO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},RO(e,t)}function Po(e,t,n){return t=Ple(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ple(e){var t=OGe(e,"string");return Bg(t)=="symbol"?t:t+""}function OGe(e,t){if(Bg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Bg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rl=function(e){function t(){var n;_Ge(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=TGe(this,t,[].concat(a)),Po(n,"state",{isAnimationFinished:!0,totalLength:0}),Po(n,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Po(n,"getStrokeDasharray",function(o,l,c){var d=c.reduce(function(v,y){return v+y});if(!d)return n.generateSimpleStrokeDasharray(l,o);for(var u=Math.floor(o/d),h=o%d,f=l-o,g=[],m=0,p=0;m<c.length;p+=c[m],++m)if(p+c[m]>h){g=[].concat(vm(c.slice(0,m)),[h-p]);break}var x=g.length%2===0?[0,f]:[f];return[].concat(vm(t.repeat(c,u)),vm(g),x).map(function(v){return"".concat(v,"px")}).join(", ")}),Po(n,"id",nm("recharts-line-")),Po(n,"pathRef",function(o){n.mainCurve=o}),Po(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Po(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return DGe(t,e),PGe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,d=i.layout,u=i.children,h=xi(u,qj);if(!h)return null;var f=function(p,x){return{x:p.x,y:p.y,value:p.value,errorVal:Mr(p.payload,x)}},g={clipPath:r?"url(#clipPath-".concat(a,")"):null};return O.createElement(Vt,g,h.map(function(m){return O.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,dataPointFormatter:f})}))}},{key:"renderDots",value:function(r,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,d=l.points,u=l.dataKey,h=ot(this.props,!1),f=ot(c,!0),g=d.map(function(p,x){var v=ei(ei(ei({key:"dot-".concat(x),r:3},h),f),{},{index:x,cx:p.x,cy:p.y,value:p.value,dataKey:u,payload:p.payload,points:d});return t.renderDotItem(c,v)}),m={clipPath:r?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return O.createElement(Vt,by({className:"recharts-line-dots",key:"dots"},m),g)}},{key:"renderCurveStatically",value:function(r,a,i,o){var l=this.props,c=l.type,d=l.layout,u=l.connectNulls;l.ref;var h=wU(l,bGe),f=ei(ei(ei({},ot(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:r},o),{},{type:c,layout:d,connectNulls:u});return O.createElement(ff,by({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,a){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,d=o.isAnimationActive,u=o.animationBegin,h=o.animationDuration,f=o.animationEasing,g=o.animationId,m=o.animateNewValues,p=o.width,x=o.height,v=this.state,y=v.prevPoints,j=v.totalLength;return O.createElement(el,{begin:u,duration:h,isActive:d,easing:f,from:{t:0},to:{t:1},key:"line-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var w=N.t;if(y){var S=y.length/l.length,k=l.map(function(A,E){var I=Math.floor(E*S);if(y[I]){var $=y[I],U=as($.x,A.x),M=as($.y,A.y);return ei(ei({},A),{},{x:U(w),y:M(w)})}if(m){var F=as(p*2,A.x),V=as(x/2,A.y);return ei(ei({},A),{},{x:F(w),y:V(w)})}return ei(ei({},A),{},{x:A.x,y:A.y})});return i.renderCurveStatically(k,r,a)}var _=as(0,j),T=_(w),P;if(c){var C="".concat(c).split(/[,\s]+/gim).map(function(A){return parseFloat(A)});P=i.getStrokeDasharray(T,j,C)}else P=i.generateSimpleStrokeDasharray(j,T);return i.renderCurveStatically(l,r,a,{strokeDasharray:P})})}},{key:"renderCurve",value:function(r,a){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,d=c.prevPoints,u=c.totalLength;return l&&o&&o.length&&(!d&&u>0||!zu(d,o))?this.renderCurveWithAnimation(r,a):this.renderCurveStatically(o,r,a)}},{key:"render",value:function(){var r,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,d=a.xAxis,u=a.yAxis,h=a.top,f=a.left,g=a.width,m=a.height,p=a.isAnimationActive,x=a.id;if(i||!l||!l.length)return null;var v=this.state.isAnimationFinished,y=l.length===1,j=Ct("recharts-line",c),N=d&&d.allowDataOverflow,w=u&&u.allowDataOverflow,S=N||w,k=_t(x)?this.id:x,_=(r=ot(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},T=_.r,P=T===void 0?3:T,C=_.strokeWidth,A=C===void 0?2:C,E=cae(o)?o:{},I=E.clipDot,$=I===void 0?!0:I,U=P*2+A;return O.createElement(Vt,{className:j},N||w?O.createElement("defs",null,O.createElement("clipPath",{id:"clipPath-".concat(k)},O.createElement("rect",{x:N?f:f-g/2,y:w?h:h-m/2,width:N?g:g*2,height:w?m:m*2})),!$&&O.createElement("clipPath",{id:"clipPath-dots-".concat(k)},O.createElement("rect",{x:f-U/2,y:h-U/2,width:g+U,height:m+U}))):null,!y&&this.renderCurve(S,k),this.renderErrorBar(S,k),(y||o)&&this.renderDots(S,$,k),(!p||v)&&Xl.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:a.curPoints}:r.points!==a.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,a){for(var i=r.length%2!==0?[].concat(vm(r),[0]):r,o=[],l=0;l<a;++l)o=[].concat(vm(o),vm(i));return o}},{key:"renderDotItem",value:function(r,a){var i;if(O.isValidElement(r))i=O.cloneElement(r,a);else if(yt(r))i=r(a);else{var o=a.key,l=wU(a,jGe),c=Ct("recharts-line-dot",typeof r!="boolean"?r.className:"");i=O.createElement(Kj,by({key:o},l,{className:c}))}return i}}])}(b.PureComponent);Po(Rl,"displayName","Line");Po(Rl,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ko.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Po(Rl,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,d=e.offset,u=t.layout,h=c.map(function(f,g){var m=Mr(f,o);return u==="horizontal"?{x:nC({axis:n,ticks:a,bandSize:l,entry:f,index:g}),y:_t(m)?null:r.scale(m),value:m,payload:f}:{x:_t(m)?null:n.scale(m),y:nC({axis:r,ticks:i,bandSize:l,entry:f,index:g}),value:m,payload:f}});return ei({points:h,layout:u},d)});var MGe=["layout","type","stroke","connectNulls","isRange","ref"],RGe=["key"],Tle;function Ug(e){"@babel/helpers - typeof";return Ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ug(e)}function Ale(e,t){if(e==null)return{};var n=$Ge(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function $Ge(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Ih(){return Ih=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ih.apply(this,arguments)}function CU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Md(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CU(Object(n),!0).forEach(function(r){Bl(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function IGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Dle(r.key),r)}}function FGe(e,t,n){return t&&kU(e.prototype,t),n&&kU(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function LGe(e,t,n){return t=kC(t),zGe(e,Ele()?Reflect.construct(t,n||[],kC(e).constructor):t.apply(e,n))}function zGe(e,t){if(t&&(Ug(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BGe(e)}function BGe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ele(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ele=function(){return!!e})()}function kC(e){return kC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kC(e)}function UGe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$O(e,t)}function $O(e,t){return $O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},$O(e,t)}function Bl(e,t,n){return t=Dle(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dle(e){var t=VGe(e,"string");return Ug(t)=="symbol"?t:t+""}function VGe(e,t){if(Ug(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ug(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ji=function(e){function t(){var n;IGe(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=LGe(this,t,[].concat(a)),Bl(n,"state",{isAnimationFinished:!0}),Bl(n,"id",nm("recharts-area-")),Bl(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),yt(o)&&o()}),Bl(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),yt(o)&&o()}),n}return UGe(t,e),FGe(t,[{key:"renderDots",value:function(r,a,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,d=c.dot,u=c.points,h=c.dataKey,f=ot(this.props,!1),g=ot(d,!0),m=u.map(function(x,v){var y=Md(Md(Md({key:"dot-".concat(v),r:3},f),g),{},{index:v,cx:x.x,cy:x.y,dataKey:h,value:x.value,payload:x.payload,points:u});return t.renderDotItem(d,y)}),p={clipPath:r?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return O.createElement(Vt,Ih({className:"recharts-area-dots"},p),m)}},{key:"renderHorizontalRect",value:function(r){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].x,d=o[o.length-1].x,u=r*Math.abs(c-d),h=iu(o.map(function(f){return f.y||0}));return Ee(i)&&typeof i=="number"?h=Math.max(i,h):i&&Array.isArray(i)&&i.length&&(h=Math.max(iu(i.map(function(f){return f.y||0})),h)),Ee(h)?O.createElement("rect",{x:c<d?c:c-u,y:0,width:u,height:Math.floor(h+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].y,d=o[o.length-1].y,u=r*Math.abs(c-d),h=iu(o.map(function(f){return f.x||0}));return Ee(i)&&typeof i=="number"?h=Math.max(i,h):i&&Array.isArray(i)&&i.length&&(h=Math.max(iu(i.map(function(f){return f.x||0})),h)),Ee(h)?O.createElement("rect",{x:0,y:c<d?c:c-u,width:h+(l?parseInt("".concat(l),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(r){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,a,i,o){var l=this.props,c=l.layout,d=l.type,u=l.stroke,h=l.connectNulls,f=l.isRange;l.ref;var g=Ale(l,MGe);return O.createElement(Vt,{clipPath:i?"url(#clipPath-".concat(o,")"):null},O.createElement(ff,Ih({},ot(g,!0),{points:r,connectNulls:h,type:d,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),u!=="none"&&O.createElement(ff,Ih({},ot(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:h,fill:"none",points:r})),u!=="none"&&f&&O.createElement(ff,Ih({},ot(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:h,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(r,a){var i=this,o=this.props,l=o.points,c=o.baseLine,d=o.isAnimationActive,u=o.animationBegin,h=o.animationDuration,f=o.animationEasing,g=o.animationId,m=this.state,p=m.prevPoints,x=m.prevBaseLine;return O.createElement(el,{begin:u,duration:h,isActive:d,easing:f,from:{t:0},to:{t:1},key:"area-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var y=v.t;if(p){var j=p.length/l.length,N=l.map(function(_,T){var P=Math.floor(T*j);if(p[P]){var C=p[P],A=as(C.x,_.x),E=as(C.y,_.y);return Md(Md({},_),{},{x:A(y),y:E(y)})}return _}),w;if(Ee(c)&&typeof c=="number"){var S=as(x,c);w=S(y)}else if(_t(c)||Pv(c)){var k=as(x,0);w=k(y)}else w=c.map(function(_,T){var P=Math.floor(T*j);if(x[P]){var C=x[P],A=as(C.x,_.x),E=as(C.y,_.y);return Md(Md({},_),{},{x:A(y),y:E(y)})}return _});return i.renderAreaStatically(N,w,r,a)}return O.createElement(Vt,null,O.createElement("defs",null,O.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(y))),O.createElement(Vt,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(l,c,r,a)))})}},{key:"renderArea",value:function(r,a){var i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,d=this.state,u=d.prevPoints,h=d.prevBaseLine,f=d.totalLength;return c&&o&&o.length&&(!u&&f>0||!zu(u,o)||!zu(h,l))?this.renderAreaWithAnimation(r,a):this.renderAreaStatically(o,l,r,a)}},{key:"render",value:function(){var r,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,d=a.top,u=a.left,h=a.xAxis,f=a.yAxis,g=a.width,m=a.height,p=a.isAnimationActive,x=a.id;if(i||!l||!l.length)return null;var v=this.state.isAnimationFinished,y=l.length===1,j=Ct("recharts-area",c),N=h&&h.allowDataOverflow,w=f&&f.allowDataOverflow,S=N||w,k=_t(x)?this.id:x,_=(r=ot(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},T=_.r,P=T===void 0?3:T,C=_.strokeWidth,A=C===void 0?2:C,E=cae(o)?o:{},I=E.clipDot,$=I===void 0?!0:I,U=P*2+A;return O.createElement(Vt,{className:j},N||w?O.createElement("defs",null,O.createElement("clipPath",{id:"clipPath-".concat(k)},O.createElement("rect",{x:N?u:u-g/2,y:w?d:d-m/2,width:N?g:g*2,height:w?m:m*2})),!$&&O.createElement("clipPath",{id:"clipPath-dots-".concat(k)},O.createElement("rect",{x:u-U/2,y:d-U/2,width:g+U,height:m+U}))):null,y?null:this.renderArea(S,k),(o||y)&&this.renderDots(S,$,k),(!p||v)&&Xl.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:r.points!==a.curPoints||r.baseLine!==a.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(b.PureComponent);Tle=Ji;Bl(Ji,"displayName","Area");Bl(Ji,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Ko.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Bl(Ji,"getBaseValue",function(e,t,n,r){var a=e.layout,i=e.baseValue,o=t.props.baseValue,l=o??i;if(Ee(l)&&typeof l=="number")return l;var c=a==="horizontal"?r:n,d=c.scale.domain();if(c.type==="number"){var u=Math.max(d[0],d[1]),h=Math.min(d[0],d[1]);return l==="dataMin"?h:l==="dataMax"||u<0?u:Math.max(Math.min(d[0],d[1]),0)}return l==="dataMin"?d[0]:l==="dataMax"?d[1]:d[0]});Bl(Ji,"getComposedData",function(e){var t=e.props,n=e.item,r=e.xAxis,a=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,d=e.stackedData,u=e.dataStartIndex,h=e.displayedData,f=e.offset,g=t.layout,m=d&&d.length,p=Tle.getBaseValue(t,n,r,a),x=g==="horizontal",v=!1,y=h.map(function(N,w){var S;m?S=d[u+w]:(S=Mr(N,c),Array.isArray(S)?v=!0:S=[p,S]);var k=S[1]==null||m&&Mr(N,c)==null;return x?{x:nC({axis:r,ticks:i,bandSize:l,entry:N,index:w}),y:k?null:a.scale(S[1]),value:S,payload:N}:{x:k?null:r.scale(S[1]),y:nC({axis:a,ticks:o,bandSize:l,entry:N,index:w}),value:S,payload:N}}),j;return m||v?j=y.map(function(N){var w=Array.isArray(N.value)?N.value[0]:null;return x?{x:N.x,y:w!=null&&N.y!=null?a.scale(w):null}:{x:w!=null?r.scale(w):null,y:N.y}}):j=x?a.scale(p):r.scale(p),Md({points:y,baseLine:j,layout:g,isRange:v},f)});Bl(Ji,"renderDotItem",function(e,t){var n;if(O.isValidElement(e))n=O.cloneElement(e,t);else if(yt(e))n=e(t);else{var r=Ct("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,i=Ale(t,RGe);n=O.createElement(Kj,Ih({},i,{key:a,className:r}))}return n});function Vg(e){"@babel/helpers - typeof";return Vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vg(e)}function WGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HGe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Rle(r.key),r)}}function qGe(e,t,n){return t&&HGe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function KGe(e,t,n){return t=_C(t),GGe(e,Ole()?Reflect.construct(t,n||[],_C(e).constructor):t.apply(e,n))}function GGe(e,t){if(t&&(Vg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YGe(e)}function YGe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ole(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ole=function(){return!!e})()}function _C(e){return _C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_C(e)}function XGe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&IO(e,t)}function IO(e,t){return IO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},IO(e,t)}function Mle(e,t,n){return t=Rle(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rle(e){var t=QGe(e,"string");return Vg(t)=="symbol"?t:t+""}function QGe(e,t){if(Vg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Vg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FO(){return FO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FO.apply(this,arguments)}function ZGe(e){var t=e.xAxisId,n=II(),r=FI(),a=ple(t);return a==null?null:b.createElement(Fv,FO({},a,{className:Ct("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return Vc(o,!0)}}))}var Ba=function(e){function t(){return WGe(this,t),KGe(this,t,arguments)}return XGe(t,e),qGe(t,[{key:"render",value:function(){return b.createElement(ZGe,this.props)}}])}(b.Component);Mle(Ba,"displayName","XAxis");Mle(Ba,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Wg(e){"@babel/helpers - typeof";return Wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wg(e)}function JGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eYe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Fle(r.key),r)}}function tYe(e,t,n){return t&&eYe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nYe(e,t,n){return t=PC(t),rYe(e,$le()?Reflect.construct(t,n||[],PC(e).constructor):t.apply(e,n))}function rYe(e,t){if(t&&(Wg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sYe(e)}function sYe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $le(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($le=function(){return!!e})()}function PC(e){return PC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},PC(e)}function aYe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&LO(e,t)}function LO(e,t){return LO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},LO(e,t)}function Ile(e,t,n){return t=Fle(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fle(e){var t=iYe(e,"string");return Wg(t)=="symbol"?t:t+""}function iYe(e,t){if(Wg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Wg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zO(){return zO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zO.apply(this,arguments)}var oYe=function(t){var n=t.yAxisId,r=II(),a=FI(),i=gle(n);return i==null?null:b.createElement(Fv,zO({},i,{className:Ct("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(l){return Vc(l,!0)}}))},Na=function(e){function t(){return JGe(this,t),nYe(this,t,arguments)}return aYe(t,e),tYe(t,[{key:"render",value:function(){return b.createElement(oYe,this.props)}}])}(b.Component);Ile(Na,"displayName","YAxis");Ile(Na,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function _U(e){return uYe(e)||dYe(e)||cYe(e)||lYe()}function lYe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cYe(e,t){if(e){if(typeof e=="string")return BO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BO(e,t)}}function dYe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function uYe(e){if(Array.isArray(e))return BO(e)}function BO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var UO=function(t,n,r,a,i){var o=xi(t,zI),l=xi(t,S_),c=[].concat(_U(o),_U(l)),d=xi(t,k_),u="".concat(a,"Id"),h=a[0],f=n;if(c.length&&(f=c.reduce(function(p,x){if(x.props[u]===r&&Ql(x.props,"extendDomain")&&Ee(x.props[h])){var v=x.props[h];return[Math.min(p[0],v),Math.max(p[1],v)]}return p},f)),d.length){var g="".concat(h,"1"),m="".concat(h,"2");f=d.reduce(function(p,x){if(x.props[u]===r&&Ql(x.props,"extendDomain")&&Ee(x.props[g])&&Ee(x.props[m])){var v=x.props[g],y=x.props[m];return[Math.min(p[0],v,y),Math.max(p[1],v,y)]}return p},f)}return i&&i.length&&(f=i.reduce(function(p,x){return Ee(x)?[Math.min(p[0],x),Math.max(p[1],x)]:p},f)),f},Lle={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function i(c,d,u,h,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var g=new a(u,h||c,f),m=n?n+d:d;return c._events[m]?c._events[m].fn?c._events[m]=[c._events[m],g]:c._events[m].push(g):(c._events[m]=g,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new r:delete c._events[d]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],u,h;if(this._eventsCount===0)return d;for(h in u=this._events)t.call(u,h)&&d.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},l.prototype.listeners=function(d){var u=n?n+d:d,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,g=h.length,m=new Array(g);f<g;f++)m[f]=h[f].fn;return m},l.prototype.listenerCount=function(d){var u=n?n+d:d,h=this._events[u];return h?h.fn?1:h.length:0},l.prototype.emit=function(d,u,h,f,g,m){var p=n?n+d:d;if(!this._events[p])return!1;var x=this._events[p],v=arguments.length,y,j;if(x.fn){switch(x.once&&this.removeListener(d,x.fn,void 0,!0),v){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,u),!0;case 3:return x.fn.call(x.context,u,h),!0;case 4:return x.fn.call(x.context,u,h,f),!0;case 5:return x.fn.call(x.context,u,h,f,g),!0;case 6:return x.fn.call(x.context,u,h,f,g,m),!0}for(j=1,y=new Array(v-1);j<v;j++)y[j-1]=arguments[j];x.fn.apply(x.context,y)}else{var N=x.length,w;for(j=0;j<N;j++)switch(x[j].once&&this.removeListener(d,x[j].fn,void 0,!0),v){case 1:x[j].fn.call(x[j].context);break;case 2:x[j].fn.call(x[j].context,u);break;case 3:x[j].fn.call(x[j].context,u,h);break;case 4:x[j].fn.call(x[j].context,u,h,f);break;default:if(!y)for(w=1,y=new Array(v-1);w<v;w++)y[w-1]=arguments[w];x[j].fn.apply(x[j].context,y)}}return!0},l.prototype.on=function(d,u,h){return i(this,d,u,h,!1)},l.prototype.once=function(d,u,h){return i(this,d,u,h,!0)},l.prototype.removeListener=function(d,u,h,f){var g=n?n+d:d;if(!this._events[g])return this;if(!u)return o(this,g),this;var m=this._events[g];if(m.fn)m.fn===u&&(!f||m.once)&&(!h||m.context===h)&&o(this,g);else{for(var p=0,x=[],v=m.length;p<v;p++)(m[p].fn!==u||f&&!m[p].once||h&&m[p].context!==h)&&x.push(m[p]);x.length?this._events[g]=x.length===1?x[0]:x:o(this,g)}return this},l.prototype.removeAllListeners=function(d){var u;return d?(u=n?n+d:d,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(Lle);var hYe=Lle.exports;const fYe=Tt(hYe);var $T=new fYe,IT="recharts.syncMouseEvents";function rb(e){"@babel/helpers - typeof";return rb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rb(e)}function mYe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pYe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zle(r.key),r)}}function gYe(e,t,n){return t&&pYe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function FT(e,t,n){return t=zle(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zle(e){var t=vYe(e,"string");return rb(t)=="symbol"?t:t+""}function vYe(e,t){if(rb(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(rb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var xYe=function(){function e(){mYe(this,e),FT(this,"activeIndex",0),FT(this,"coordinateList",[]),FT(this,"layout","horizontal")}return gYe(e,[{key:"setDetails",value:function(n){var r,a=n.coordinateList,i=a===void 0?null:a,o=n.container,l=o===void 0?null:o,c=n.layout,d=c===void 0?null:c,u=n.offset,h=u===void 0?null:u,f=n.mouseHandlerCallback,g=f===void 0?null:f;this.coordinateList=(r=i??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,d=((n=window)===null||n===void 0?void 0:n.scrollX)||0,u=((r=window)===null||r===void 0?void 0:r.scrollY)||0,h=i+c+d,f=o+this.offset.top+l/2+u;this.mouseHandlerCallback({pageX:h,pageY:f})}}}])}();function yYe(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e==null?void 0:e[0],a=e==null?void 0:e[1];if(r&&a&&Ee(r)&&Ee(a))return!0}return!1}function bYe(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-a,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function Ble(e){var t=e.cx,n=e.cy,r=e.radius,a=e.startAngle,i=e.endAngle,o=On(t,n,r,a),l=On(t,n,r,i);return{points:[o,l],cx:t,cy:n,radius:r,startAngle:a,endAngle:i}}function jYe(e,t,n){var r,a,i,o;if(e==="horizontal")r=t.x,i=r,a=n.top,o=n.top+n.height;else if(e==="vertical")a=t.y,o=a,r=n.left,i=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,d=t.innerRadius,u=t.outerRadius,h=t.angle,f=On(l,c,d,h),g=On(l,c,u,h);r=f.x,a=f.y,i=g.x,o=g.y}else return Ble(t);return[{x:r,y:a},{x:i,y:o}]}function sb(e){"@babel/helpers - typeof";return sb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sb(e)}function PU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function iN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PU(Object(n),!0).forEach(function(r){wYe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wYe(e,t,n){return t=NYe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NYe(e){var t=SYe(e,"string");return sb(t)=="symbol"?t:t+""}function SYe(e,t){if(sb(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(sb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CYe(e){var t,n,r=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,d=e.activeTooltipIndex,u=e.tooltipAxisBandSize,h=e.layout,f=e.chartName,g=(t=r.props.cursor)!==null&&t!==void 0?t:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!g||!i||!o||f!=="ScatterChart"&&a!=="axis")return null;var m,p=ff;if(f==="ScatterChart")m=o,p=F7e;else if(f==="BarChart")m=bYe(h,o,c,u),p=EI;else if(h==="radial"){var x=Ble(o),v=x.cx,y=x.cy,j=x.radius,N=x.startAngle,w=x.endAngle;m={cx:v,cy:y,startAngle:N,endAngle:w,innerRadius:j,outerRadius:j},p=Aoe}else m={points:jYe(h,o,c)},p=ff;var S=iN(iN(iN(iN({stroke:"#ccc",pointerEvents:"none"},c),m),ot(g,!1)),{},{payload:l,payloadIndex:d,className:Ct("recharts-tooltip-cursor",g.className)});return b.isValidElement(g)?b.cloneElement(g,S):b.createElement(p,S)}var kYe=["item"],_Ye=["children","className","width","height","style","compact","title","desc"];function Hg(e){"@babel/helpers - typeof";return Hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hg(e)}function Um(){return Um=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Um.apply(this,arguments)}function TU(e,t){return AYe(e)||TYe(e,t)||Vle(e,t)||PYe()}function PYe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TYe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function AYe(e){if(Array.isArray(e))return e}function AU(e,t){if(e==null)return{};var n=EYe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function EYe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function DYe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OYe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Wle(r.key),r)}}function MYe(e,t,n){return t&&OYe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function RYe(e,t,n){return t=TC(t),$Ye(e,Ule()?Reflect.construct(t,n||[],TC(e).constructor):t.apply(e,n))}function $Ye(e,t){if(t&&(Hg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IYe(e)}function IYe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ule(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ule=function(){return!!e})()}function TC(e){return TC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},TC(e)}function FYe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&VO(e,t)}function VO(e,t){return VO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},VO(e,t)}function qg(e){return BYe(e)||zYe(e)||Vle(e)||LYe()}function LYe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vle(e,t){if(e){if(typeof e=="string")return WO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WO(e,t)}}function zYe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function BYe(e){if(Array.isArray(e))return WO(e)}function WO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function EU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EU(Object(n),!0).forEach(function(r){vt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vt(e,t,n){return t=Wle(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wle(e){var t=UYe(e,"string");return Hg(t)=="symbol"?t:t+""}function UYe(e,t){if(Hg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Hg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VYe={xAxis:["bottom","top"],yAxis:["left","right"]},WYe={width:"100%",height:"100%"},Hle={x:0,y:0};function oN(e){return e}var HYe=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},qYe=function(t,n,r,a){var i=n.find(function(u){return u&&u.index===r});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return ye(ye(ye({},a),On(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,d=a.angle;return ye(ye(ye({},a),On(a.cx,a.cy,c,d)),{},{angle:d,radius:c})}return Hle},__=function(t,n){var r=n.graphicalItems,a=n.dataStartIndex,i=n.dataEndIndex,o=(r??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(qg(l),qg(d)):l},[]);return o.length>0?o:t&&t.length&&Ee(a)&&Ee(i)?t.slice(a,i+1):[]};function qle(e){return e==="number"?[0,"auto"]:void 0}var HO=function(t,n,r,a){var i=t.graphicalItems,o=t.tooltipAxis,l=__(n,t);return r<0||!i||!i.length||r>=l.length?null:i.reduce(function(c,d){var u,h=(u=d.props.data)!==null&&u!==void 0?u:n;h&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=r&&(h=h.slice(t.dataStartIndex,t.dataEndIndex+1));var f;if(o.dataKey&&!o.allowDuplicatedCategory){var g=h===void 0?l:h;f=PS(g,o.dataKey,a)}else f=h&&h[r]||l[r];return f?[].concat(qg(c),[Noe(d,f)]):c},[])},DU=function(t,n,r,a){var i=a||{x:t.chartX,y:t.chartY},o=HYe(i,r),l=t.orderedTooltipTicks,c=t.tooltipAxis,d=t.tooltipTicks,u=sUe(o,l,d,c);if(u>=0&&d){var h=d[u]&&d[u].value,f=HO(t,n,u,h),g=qYe(r,l,u,i);return{activeTooltipIndex:u,activeLabel:h,activePayload:f,activeCoordinate:g}}return null},KYe=function(t,n){var r=n.axes,a=n.graphicalItems,i=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,u=t.layout,h=t.children,f=t.stackOffset,g=voe(u,i);return r.reduce(function(m,p){var x,v=p.type.defaultProps!==void 0?ye(ye({},p.type.defaultProps),p.props):p.props,y=v.type,j=v.dataKey,N=v.allowDataOverflow,w=v.allowDuplicatedCategory,S=v.scale,k=v.ticks,_=v.includeHidden,T=v[o];if(m[T])return m;var P=__(t.data,{graphicalItems:a.filter(function(z){var L,ee=o in z.props?z.props[o]:(L=z.type.defaultProps)===null||L===void 0?void 0:L[o];return ee===T}),dataStartIndex:c,dataEndIndex:d}),C=P.length,A,E,I;yYe(v.domain,N,y)&&(A=sO(v.domain,null,N),g&&(y==="number"||S!=="auto")&&(I=gy(P,j,"category")));var $=qle(y);if(!A||A.length===0){var U,M=(U=v.domain)!==null&&U!==void 0?U:$;if(j){if(A=gy(P,j,y),y==="category"&&g){var F=oDe(A);w&&F?(E=A,A=Z0(0,C)):w||(A=Qz(M,A,p).reduce(function(z,L){return z.indexOf(L)>=0?z:[].concat(qg(z),[L])},[]))}else if(y==="category")w?A=A.filter(function(z){return z!==""&&!_t(z)}):A=Qz(M,A,p).reduce(function(z,L){return z.indexOf(L)>=0||L===""||_t(L)?z:[].concat(qg(z),[L])},[]);else if(y==="number"){var V=cUe(P,a.filter(function(z){var L,ee,le=o in z.props?z.props[o]:(L=z.type.defaultProps)===null||L===void 0?void 0:L[o],ve="hide"in z.props?z.props.hide:(ee=z.type.defaultProps)===null||ee===void 0?void 0:ee.hide;return le===T&&(_||!ve)}),j,i,u);V&&(A=V)}g&&(y==="number"||S!=="auto")&&(I=gy(P,j,"category"))}else g?A=Z0(0,C):l&&l[T]&&l[T].hasStack&&y==="number"?A=f==="expand"?[0,1]:woe(l[T].stackGroups,c,d):A=goe(P,a.filter(function(z){var L=o in z.props?z.props[o]:z.type.defaultProps[o],ee="hide"in z.props?z.props.hide:z.type.defaultProps.hide;return L===T&&(_||!ee)}),y,u,!0);if(y==="number")A=UO(h,A,T,i,k),M&&(A=sO(M,A,N));else if(y==="category"&&M){var Y=M,K=A.every(function(z){return Y.indexOf(z)>=0});K&&(A=Y)}}return ye(ye({},m),{},vt({},T,ye(ye({},v),{},{axisType:i,domain:A,categoricalDomain:I,duplicateDomain:E,originalDomain:(x=v.domain)!==null&&x!==void 0?x:$,isCategorical:g,layout:u})))},{})},GYe=function(t,n){var r=n.graphicalItems,a=n.Axis,i=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,u=t.layout,h=t.children,f=__(t.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:d}),g=f.length,m=voe(u,i),p=-1;return r.reduce(function(x,v){var y=v.type.defaultProps!==void 0?ye(ye({},v.type.defaultProps),v.props):v.props,j=y[o],N=qle("number");if(!x[j]){p++;var w;return m?w=Z0(0,g):l&&l[j]&&l[j].hasStack?(w=woe(l[j].stackGroups,c,d),w=UO(h,w,j,i)):(w=sO(N,goe(f,r.filter(function(S){var k,_,T=o in S.props?S.props[o]:(k=S.type.defaultProps)===null||k===void 0?void 0:k[o],P="hide"in S.props?S.props.hide:(_=S.type.defaultProps)===null||_===void 0?void 0:_.hide;return T===j&&!P}),"number",u),a.defaultProps.allowDataOverflow),w=UO(h,w,j,i)),ye(ye({},x),{},vt({},j,ye(ye({axisType:i},a.defaultProps),{},{hide:!0,orientation:vi(VYe,"".concat(i,".").concat(p%2),null),domain:w,originalDomain:N,isCategorical:m,layout:u})))}return x},{})},YYe=function(t,n){var r=n.axisType,a=r===void 0?"xAxis":r,i=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,u=t.children,h="".concat(a,"Id"),f=xi(u,i),g={};return f&&f.length?g=KYe(t,{axes:f,graphicalItems:o,axisType:a,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(g=GYe(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),g},XYe=function(t){var n=Wd(t),r=Vc(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:n_(r,function(a){return a.coordinate}),tooltipAxis:n,tooltipAxisBandSize:rC(n,r)}},OU=function(t){var n=t.children,r=t.defaultShowTooltip,a=si(n,Rg),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},QYe=function(t){return!t||!t.length?!1:t.some(function(n){var r=Gc(n&&n.type);return r&&r.indexOf("Bar")>=0})},MU=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},ZYe=function(t,n){var r=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,d=r.width,u=r.height,h=r.children,f=r.margin||{},g=si(h,Rg),m=si(h,Gl),p=Object.keys(c).reduce(function(w,S){var k=c[S],_=k.orientation;return!k.mirror&&!k.hide?ye(ye({},w),{},vt({},_,w[_]+k.width)):w},{left:f.left||0,right:f.right||0}),x=Object.keys(o).reduce(function(w,S){var k=o[S],_=k.orientation;return!k.mirror&&!k.hide?ye(ye({},w),{},vt({},_,vi(w,"".concat(_))+k.height)):w},{top:f.top||0,bottom:f.bottom||0}),v=ye(ye({},x),p),y=v.bottom;g&&(v.bottom+=g.props.height||Rg.defaultProps.height),m&&n&&(v=oUe(v,a,r,n));var j=d-v.left-v.right,N=u-v.top-v.bottom;return ye(ye({brushBottom:y},v),{},{width:Math.max(j,0),height:Math.max(N,0)})},JYe=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},P_=function(t){var n=t.chartName,r=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,d=t.legendContent,u=t.formatAxisMap,h=t.defaultProps,f=function(v,y){var j=y.graphicalItems,N=y.stackGroups,w=y.offset,S=y.updateId,k=y.dataStartIndex,_=y.dataEndIndex,T=v.barSize,P=v.layout,C=v.barGap,A=v.barCategoryGap,E=v.maxBarSize,I=MU(P),$=I.numericAxisName,U=I.cateAxisName,M=QYe(j),F=[];return j.forEach(function(V,Y){var K=__(v.data,{graphicalItems:[V],dataStartIndex:k,dataEndIndex:_}),z=V.type.defaultProps!==void 0?ye(ye({},V.type.defaultProps),V.props):V.props,L=z.dataKey,ee=z.maxBarSize,le=z["".concat($,"Id")],ve=z["".concat(U,"Id")],ne={},be=c.reduce(function(nr,J){var oe=y["".concat(J.axisType,"Map")],pe=z["".concat(J.axisType,"Id")];oe&&oe[pe]||J.axisType==="zAxis"||$f();var Le=oe[pe];return ye(ye({},nr),{},vt(vt({},J.axisType,Le),"".concat(J.axisType,"Ticks"),Vc(Le)))},ne),ge=be[U],we=be["".concat(U,"Ticks")],Ae=N&&N[le]&&N[le].hasStack&&xUe(V,N[le].stackGroups),X=Gc(V.type).indexOf("Bar")>=0,xe=rC(ge,we),Be=[],At=M&&aUe({barSize:T,stackGroups:N,totalSize:JYe(be,U)});if(X){var Pt,sn,Kr=_t(ee)?E:ee,mr=(Pt=(sn=rC(ge,we,!0))!==null&&sn!==void 0?sn:Kr)!==null&&Pt!==void 0?Pt:0;Be=iUe({barGap:C,barCategoryGap:A,bandSize:mr!==xe?mr:xe,sizeList:At[ve],maxBarSize:Kr}),mr!==xe&&(Be=Be.map(function(nr){return ye(ye({},nr),{},{position:ye(ye({},nr.position),{},{offset:nr.position.offset-mr/2})})}))}var $n=V&&V.type&&V.type.getComposedData;$n&&F.push({props:ye(ye({},$n(ye(ye({},be),{},{displayedData:K,props:v,dataKey:L,item:V,bandSize:xe,barPosition:Be,offset:w,stackedData:Ae,layout:P,dataStartIndex:k,dataEndIndex:_}))),{},vt(vt(vt({key:V.key||"item-".concat(Y)},$,be[$]),U,be[U]),"animationId",S)),childIndex:yDe(V,v.children),item:V})}),F},g=function(v,y){var j=v.props,N=v.dataStartIndex,w=v.dataEndIndex,S=v.updateId;if(!HL({props:j}))return null;var k=j.children,_=j.layout,T=j.stackOffset,P=j.data,C=j.reverseStackOrder,A=MU(_),E=A.numericAxisName,I=A.cateAxisName,$=xi(k,r),U=gUe(P,$,"".concat(E,"Id"),"".concat(I,"Id"),T,C),M=c.reduce(function(z,L){var ee="".concat(L.axisType,"Map");return ye(ye({},z),{},vt({},ee,YYe(j,ye(ye({},L),{},{graphicalItems:$,stackGroups:L.axisType===E&&U,dataStartIndex:N,dataEndIndex:w}))))},{}),F=ZYe(ye(ye({},M),{},{props:j,graphicalItems:$}),y==null?void 0:y.legendBBox);Object.keys(M).forEach(function(z){M[z]=u(j,M[z],F,z.replace("Map",""),n)});var V=M["".concat(I,"Map")],Y=XYe(V),K=f(j,ye(ye({},M),{},{dataStartIndex:N,dataEndIndex:w,updateId:S,graphicalItems:$,stackGroups:U,offset:F}));return ye(ye({formattedGraphicalItems:K,graphicalItems:$,offset:F,stackGroups:U},Y),M)},m=function(x){function v(y){var j,N,w;return DYe(this,v),w=RYe(this,v,[y]),vt(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),vt(w,"accessibilityManager",new xYe),vt(w,"handleLegendBBoxUpdate",function(S){if(S){var k=w.state,_=k.dataStartIndex,T=k.dataEndIndex,P=k.updateId;w.setState(ye({legendBBox:S},g({props:w.props,dataStartIndex:_,dataEndIndex:T,updateId:P},ye(ye({},w.state),{},{legendBBox:S}))))}}),vt(w,"handleReceiveSyncEvent",function(S,k,_){if(w.props.syncId===S){if(_===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(k)}}),vt(w,"handleBrushChange",function(S){var k=S.startIndex,_=S.endIndex;if(k!==w.state.dataStartIndex||_!==w.state.dataEndIndex){var T=w.state.updateId;w.setState(function(){return ye({dataStartIndex:k,dataEndIndex:_},g({props:w.props,dataStartIndex:k,dataEndIndex:_,updateId:T},w.state))}),w.triggerSyncEvent({dataStartIndex:k,dataEndIndex:_})}}),vt(w,"handleMouseEnter",function(S){var k=w.getMouseInfo(S);if(k){var _=ye(ye({},k),{},{isTooltipActive:!0});w.setState(_),w.triggerSyncEvent(_);var T=w.props.onMouseEnter;yt(T)&&T(_,S)}}),vt(w,"triggeredAfterMouseMove",function(S){var k=w.getMouseInfo(S),_=k?ye(ye({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(_),w.triggerSyncEvent(_);var T=w.props.onMouseMove;yt(T)&&T(_,S)}),vt(w,"handleItemMouseEnter",function(S){w.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),vt(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),vt(w,"handleMouseMove",function(S){S.persist(),w.throttleTriggeredAfterMouseMove(S)}),vt(w,"handleMouseLeave",function(S){w.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};w.setState(k),w.triggerSyncEvent(k);var _=w.props.onMouseLeave;yt(_)&&_(k,S)}),vt(w,"handleOuterEvent",function(S){var k=xDe(S),_=vi(w.props,"".concat(k));if(k&&yt(_)){var T,P;/.*touch.*/i.test(k)?P=w.getMouseInfo(S.changedTouches[0]):P=w.getMouseInfo(S),_((T=P)!==null&&T!==void 0?T:{},S)}}),vt(w,"handleClick",function(S){var k=w.getMouseInfo(S);if(k){var _=ye(ye({},k),{},{isTooltipActive:!0});w.setState(_),w.triggerSyncEvent(_);var T=w.props.onClick;yt(T)&&T(_,S)}}),vt(w,"handleMouseDown",function(S){var k=w.props.onMouseDown;if(yt(k)){var _=w.getMouseInfo(S);k(_,S)}}),vt(w,"handleMouseUp",function(S){var k=w.props.onMouseUp;if(yt(k)){var _=w.getMouseInfo(S);k(_,S)}}),vt(w,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),vt(w,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.handleMouseDown(S.changedTouches[0])}),vt(w,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.handleMouseUp(S.changedTouches[0])}),vt(w,"handleDoubleClick",function(S){var k=w.props.onDoubleClick;if(yt(k)){var _=w.getMouseInfo(S);k(_,S)}}),vt(w,"handleContextMenu",function(S){var k=w.props.onContextMenu;if(yt(k)){var _=w.getMouseInfo(S);k(_,S)}}),vt(w,"triggerSyncEvent",function(S){w.props.syncId!==void 0&&$T.emit(IT,w.props.syncId,S,w.eventEmitterSymbol)}),vt(w,"applySyncEvent",function(S){var k=w.props,_=k.layout,T=k.syncMethod,P=w.state.updateId,C=S.dataStartIndex,A=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)w.setState(ye({dataStartIndex:C,dataEndIndex:A},g({props:w.props,dataStartIndex:C,dataEndIndex:A,updateId:P},w.state)));else if(S.activeTooltipIndex!==void 0){var E=S.chartX,I=S.chartY,$=S.activeTooltipIndex,U=w.state,M=U.offset,F=U.tooltipTicks;if(!M)return;if(typeof T=="function")$=T(F,S);else if(T==="value"){$=-1;for(var V=0;V<F.length;V++)if(F[V].value===S.activeLabel){$=V;break}}var Y=ye(ye({},M),{},{x:M.left,y:M.top}),K=Math.min(E,Y.x+Y.width),z=Math.min(I,Y.y+Y.height),L=F[$]&&F[$].value,ee=HO(w.state,w.props.data,$),le=F[$]?{x:_==="horizontal"?F[$].coordinate:K,y:_==="horizontal"?z:F[$].coordinate}:Hle;w.setState(ye(ye({},S),{},{activeLabel:L,activeCoordinate:le,activePayload:ee,activeTooltipIndex:$}))}else w.setState(S)}),vt(w,"renderCursor",function(S){var k,_=w.state,T=_.isTooltipActive,P=_.activeCoordinate,C=_.activePayload,A=_.offset,E=_.activeTooltipIndex,I=_.tooltipAxisBandSize,$=w.getTooltipEventType(),U=(k=S.props.active)!==null&&k!==void 0?k:T,M=w.props.layout,F=S.key||"_recharts-cursor";return O.createElement(CYe,{key:F,activeCoordinate:P,activePayload:C,activeTooltipIndex:E,chartName:n,element:S,isActive:U,layout:M,offset:A,tooltipAxisBandSize:I,tooltipEventType:$})}),vt(w,"renderPolarAxis",function(S,k,_){var T=vi(S,"type.axisType"),P=vi(w.state,"".concat(T,"Map")),C=S.type.defaultProps,A=C!==void 0?ye(ye({},C),S.props):S.props,E=P&&P[A["".concat(T,"Id")]];return b.cloneElement(S,ye(ye({},E),{},{className:Ct(T,E.className),key:S.key||"".concat(k,"-").concat(_),ticks:Vc(E,!0)}))}),vt(w,"renderPolarGrid",function(S){var k=S.props,_=k.radialLines,T=k.polarAngles,P=k.polarRadius,C=w.state,A=C.radiusAxisMap,E=C.angleAxisMap,I=Wd(A),$=Wd(E),U=$.cx,M=$.cy,F=$.innerRadius,V=$.outerRadius;return b.cloneElement(S,{polarAngles:Array.isArray(T)?T:Vc($,!0).map(function(Y){return Y.coordinate}),polarRadius:Array.isArray(P)?P:Vc(I,!0).map(function(Y){return Y.coordinate}),cx:U,cy:M,innerRadius:F,outerRadius:V,key:S.key||"polar-grid",radialLines:_})}),vt(w,"renderLegend",function(){var S=w.state.formattedGraphicalItems,k=w.props,_=k.children,T=k.width,P=k.height,C=w.props.margin||{},A=T-(C.left||0)-(C.right||0),E=moe({children:_,formattedGraphicalItems:S,legendWidth:A,legendContent:d});if(!E)return null;var I=E.item,$=AU(E,kYe);return b.cloneElement(I,ye(ye({},$),{},{chartWidth:T,chartHeight:P,margin:C,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),vt(w,"renderTooltip",function(){var S,k=w.props,_=k.children,T=k.accessibilityLayer,P=si(_,Gs);if(!P)return null;var C=w.state,A=C.isTooltipActive,E=C.activeCoordinate,I=C.activePayload,$=C.activeLabel,U=C.offset,M=(S=P.props.active)!==null&&S!==void 0?S:A;return b.cloneElement(P,{viewBox:ye(ye({},U),{},{x:U.left,y:U.top}),active:M,label:$,payload:M?I:[],coordinate:E,accessibilityLayer:T})}),vt(w,"renderBrush",function(S){var k=w.props,_=k.margin,T=k.data,P=w.state,C=P.offset,A=P.dataStartIndex,E=P.dataEndIndex,I=P.updateId;return b.cloneElement(S,{key:S.key||"_recharts-brush",onChange:nN(w.handleBrushChange,S.props.onChange),data:T,x:Ee(S.props.x)?S.props.x:C.left,y:Ee(S.props.y)?S.props.y:C.top+C.height+C.brushBottom-(_.bottom||0),width:Ee(S.props.width)?S.props.width:C.width,startIndex:A,endIndex:E,updateId:"brush-".concat(I)})}),vt(w,"renderReferenceElement",function(S,k,_){if(!S)return null;var T=w,P=T.clipPathId,C=w.state,A=C.xAxisMap,E=C.yAxisMap,I=C.offset,$=S.type.defaultProps||{},U=S.props,M=U.xAxisId,F=M===void 0?$.xAxisId:M,V=U.yAxisId,Y=V===void 0?$.yAxisId:V;return b.cloneElement(S,{key:S.key||"".concat(k,"-").concat(_),xAxis:A[F],yAxis:E[Y],viewBox:{x:I.left,y:I.top,width:I.width,height:I.height},clipPathId:P})}),vt(w,"renderActivePoints",function(S){var k=S.item,_=S.activePoint,T=S.basePoint,P=S.childIndex,C=S.isRange,A=[],E=k.props.key,I=k.item.type.defaultProps!==void 0?ye(ye({},k.item.type.defaultProps),k.item.props):k.item.props,$=I.activeDot,U=I.dataKey,M=ye(ye({index:P,dataKey:U,cx:_.x,cy:_.y,r:4,fill:AI(k.item),strokeWidth:2,stroke:"#fff",payload:_.payload,value:_.value},ot($,!1)),TS($));return A.push(v.renderActiveDot($,M,"".concat(E,"-activePoint-").concat(P))),T?A.push(v.renderActiveDot($,ye(ye({},M),{},{cx:T.x,cy:T.y}),"".concat(E,"-basePoint-").concat(P))):C&&A.push(null),A}),vt(w,"renderGraphicChild",function(S,k,_){var T=w.filterFormatItem(S,k,_);if(!T)return null;var P=w.getTooltipEventType(),C=w.state,A=C.isTooltipActive,E=C.tooltipAxis,I=C.activeTooltipIndex,$=C.activeLabel,U=w.props.children,M=si(U,Gs),F=T.props,V=F.points,Y=F.isRange,K=F.baseLine,z=T.item.type.defaultProps!==void 0?ye(ye({},T.item.type.defaultProps),T.item.props):T.item.props,L=z.activeDot,ee=z.hide,le=z.activeBar,ve=z.activeShape,ne=!!(!ee&&A&&M&&(L||le||ve)),be={};P!=="axis"&&M&&M.props.trigger==="click"?be={onClick:nN(w.handleItemMouseEnter,S.props.onClick)}:P!=="axis"&&(be={onMouseLeave:nN(w.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:nN(w.handleItemMouseEnter,S.props.onMouseEnter)});var ge=b.cloneElement(S,ye(ye({},T.props),be));function we(J){return typeof E.dataKey=="function"?E.dataKey(J.payload):null}if(ne)if(I>=0){var Ae,X;if(E.dataKey&&!E.allowDuplicatedCategory){var xe=typeof E.dataKey=="function"?we:"payload.".concat(E.dataKey.toString());Ae=PS(V,xe,$),X=Y&&K&&PS(K,xe,$)}else Ae=V==null?void 0:V[I],X=Y&&K&&K[I];if(ve||le){var Be=S.props.activeIndex!==void 0?S.props.activeIndex:I;return[b.cloneElement(S,ye(ye(ye({},T.props),be),{},{activeIndex:Be})),null,null]}if(!_t(Ae))return[ge].concat(qg(w.renderActivePoints({item:T,activePoint:Ae,basePoint:X,childIndex:I,isRange:Y})))}else{var At,Pt=(At=w.getItemByXY(w.state.activeCoordinate))!==null&&At!==void 0?At:{graphicalItem:ge},sn=Pt.graphicalItem,Kr=sn.item,mr=Kr===void 0?S:Kr,$n=sn.childIndex,nr=ye(ye(ye({},T.props),be),{},{activeIndex:$n});return[b.cloneElement(mr,nr),null,null]}return Y?[ge,null,null]:[ge,null]}),vt(w,"renderCustomized",function(S,k,_){return b.cloneElement(S,ye(ye({key:"recharts-customized-".concat(_)},w.props),w.state))}),vt(w,"renderMap",{CartesianGrid:{handler:oN,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:oN},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:oN},YAxis:{handler:oN},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((j=y.id)!==null&&j!==void 0?j:nm("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=aI(w.triggeredAfterMouseMove,(N=y.throttleDelay)!==null&&N!==void 0?N:1e3/60),w.state={},w}return FYe(v,x),MYe(v,[{key:"componentDidMount",value:function(){var j,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var j=this.props,N=j.children,w=j.data,S=j.height,k=j.layout,_=si(N,Gs);if(_){var T=_.props.defaultIndex;if(!(typeof T!="number"||T<0||T>this.state.tooltipTicks.length-1)){var P=this.state.tooltipTicks[T]&&this.state.tooltipTicks[T].value,C=HO(this.state,w,T,P),A=this.state.tooltipTicks[T].coordinate,E=(this.state.offset.top+S)/2,I=k==="horizontal",$=I?{x:A,y:E}:{y:A,x:E},U=this.state.formattedGraphicalItems.find(function(F){var V=F.item;return V.type.name==="Scatter"});U&&($=ye(ye({},$),U.props.points[T].tooltipPosition),C=U.props.points[T].tooltipPayload);var M={activeTooltipIndex:T,isTooltipActive:!0,activeLabel:P,activePayload:C,activeCoordinate:$};this.setState(M),this.renderCursor(_),this.accessibilityManager.setIndex(T)}}}},{key:"getSnapshotBeforeUpdate",value:function(j,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==j.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==j.margin){var w,S;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(j){yD([si(j.children,Gs)],[si(this.props.children,Gs)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var j=si(this.props.children,Gs);if(j&&typeof j.props.shared=="boolean"){var N=j.props.shared?"axis":"item";return l.indexOf(N)>=0?N:i}return i}},{key:"getMouseInfo",value:function(j){if(!this.container)return null;var N=this.container,w=N.getBoundingClientRect(),S=D3e(w),k={chartX:Math.round(j.pageX-S.left),chartY:Math.round(j.pageY-S.top)},_=w.width/N.offsetWidth||1,T=this.inRange(k.chartX,k.chartY,_);if(!T)return null;var P=this.state,C=P.xAxisMap,A=P.yAxisMap,E=this.getTooltipEventType(),I=DU(this.state,this.props.data,this.props.layout,T);if(E!=="axis"&&C&&A){var $=Wd(C).scale,U=Wd(A).scale,M=$&&$.invert?$.invert(k.chartX):null,F=U&&U.invert?U.invert(k.chartY):null;return ye(ye({},k),{},{xValue:M,yValue:F},I)}return I?ye(ye({},k),I):null}},{key:"inRange",value:function(j,N){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,k=j/w,_=N/w;if(S==="horizontal"||S==="vertical"){var T=this.state.offset,P=k>=T.left&&k<=T.left+T.width&&_>=T.top&&_<=T.top+T.height;return P?{x:k,y:_}:null}var C=this.state,A=C.angleAxisMap,E=C.radiusAxisMap;if(A&&E){var I=Wd(A);return eB({x:k,y:_},I)}return null}},{key:"parseEventsOfWrapper",value:function(){var j=this.props.children,N=this.getTooltipEventType(),w=si(j,Gs),S={};w&&N==="axis"&&(w.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=TS(this.props,this.handleOuterEvent);return ye(ye({},k),S)}},{key:"addListener",value:function(){$T.on(IT,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){$T.removeListener(IT,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(j,N,w){for(var S=this.state.formattedGraphicalItems,k=0,_=S.length;k<_;k++){var T=S[k];if(T.item===j||T.props.key===j.key||N===Gc(T.item.type)&&w===T.childIndex)return T}return null}},{key:"renderClipPath",value:function(){var j=this.clipPathId,N=this.state.offset,w=N.left,S=N.top,k=N.height,_=N.width;return O.createElement("defs",null,O.createElement("clipPath",{id:j},O.createElement("rect",{x:w,y:S,height:k,width:_})))}},{key:"getXScales",value:function(){var j=this.state.xAxisMap;return j?Object.entries(j).reduce(function(N,w){var S=TU(w,2),k=S[0],_=S[1];return ye(ye({},N),{},vt({},k,_.scale))},{}):null}},{key:"getYScales",value:function(){var j=this.state.yAxisMap;return j?Object.entries(j).reduce(function(N,w){var S=TU(w,2),k=S[0],_=S[1];return ye(ye({},N),{},vt({},k,_.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(j){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[j])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(j){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[j])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(j){var N=this.state,w=N.formattedGraphicalItems,S=N.activeItem;if(w&&w.length)for(var k=0,_=w.length;k<_;k++){var T=w[k],P=T.props,C=T.item,A=C.type.defaultProps!==void 0?ye(ye({},C.type.defaultProps),C.props):C.props,E=Gc(C.type);if(E==="Bar"){var I=(P.data||[]).find(function(F){return x7e(j,F)});if(I)return{graphicalItem:T,payload:I}}else if(E==="RadialBar"){var $=(P.data||[]).find(function(F){return eB(j,F)});if($)return{graphicalItem:T,payload:$}}else if(b_(T,S)||j_(T,S)||Q0(T,S)){var U=sHe({graphicalItem:T,activeTooltipItem:S,itemData:A.data}),M=A.activeIndex===void 0?U:A.activeIndex;return{graphicalItem:ye(ye({},T),{},{childIndex:M}),payload:Q0(T,S)?A.data[U]:T.props.data[U]}}}return null}},{key:"render",value:function(){var j=this;if(!HL(this))return null;var N=this.props,w=N.children,S=N.className,k=N.width,_=N.height,T=N.style,P=N.compact,C=N.title,A=N.desc,E=AU(N,_Ye),I=ot(E,!1);if(P)return O.createElement(cU,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},O.createElement(jD,Um({},I,{width:k,height:_,title:C,desc:A}),this.renderClipPath(),KL(w,this.renderMap)));if(this.props.accessibilityLayer){var $,U;I.tabIndex=($=this.props.tabIndex)!==null&&$!==void 0?$:0,I.role=(U=this.props.role)!==null&&U!==void 0?U:"application",I.onKeyDown=function(F){j.accessibilityManager.keyboardEvent(F)},I.onFocus=function(){j.accessibilityManager.focus()}}var M=this.parseEventsOfWrapper();return O.createElement(cU,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},O.createElement("div",Um({className:Ct("recharts-wrapper",S),style:ye({position:"relative",cursor:"default",width:k,height:_},T)},M,{ref:function(V){j.container=V}}),O.createElement(jD,Um({},I,{width:k,height:_,title:C,desc:A,style:WYe}),this.renderClipPath(),KL(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(b.Component);vt(m,"displayName",n),vt(m,"defaultProps",ye({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),vt(m,"getDerivedStateFromProps",function(x,v){var y=x.dataKey,j=x.data,N=x.children,w=x.width,S=x.height,k=x.layout,_=x.stackOffset,T=x.margin,P=v.dataStartIndex,C=v.dataEndIndex;if(v.updateId===void 0){var A=OU(x);return ye(ye(ye({},A),{},{updateId:0},g(ye(ye({props:x},A),{},{updateId:0}),v)),{},{prevDataKey:y,prevData:j,prevWidth:w,prevHeight:S,prevLayout:k,prevStackOffset:_,prevMargin:T,prevChildren:N})}if(y!==v.prevDataKey||j!==v.prevData||w!==v.prevWidth||S!==v.prevHeight||k!==v.prevLayout||_!==v.prevStackOffset||!fp(T,v.prevMargin)){var E=OU(x),I={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},$=ye(ye({},DU(v,j,k)),{},{updateId:v.updateId+1}),U=ye(ye(ye({},E),I),$);return ye(ye(ye({},U),g(ye({props:x},U),v)),{},{prevDataKey:y,prevData:j,prevWidth:w,prevHeight:S,prevLayout:k,prevStackOffset:_,prevMargin:T,prevChildren:N})}if(!yD(N,v.prevChildren)){var M,F,V,Y,K=si(N,Rg),z=K&&(M=(F=K.props)===null||F===void 0?void 0:F.startIndex)!==null&&M!==void 0?M:P,L=K&&(V=(Y=K.props)===null||Y===void 0?void 0:Y.endIndex)!==null&&V!==void 0?V:C,ee=z!==P||L!==C,le=!_t(j),ve=le&&!ee?v.updateId:v.updateId+1;return ye(ye({updateId:ve},g(ye(ye({props:x},v),{},{updateId:ve,dataStartIndex:z,dataEndIndex:L}),v)),{},{prevChildren:N,dataStartIndex:z,dataEndIndex:L})}return null}),vt(m,"renderActiveDot",function(x,v,y){var j;return b.isValidElement(x)?j=b.cloneElement(x,v):yt(x)?j=x(v):j=O.createElement(Kj,v),O.createElement(Vt,{className:"recharts-active-dot",key:y},j)});var p=b.forwardRef(function(v,y){return O.createElement(m,Um({},v,{ref:y}))});return p.displayName=m.displayName,p},qO=P_({chartName:"LineChart",GraphicalChild:Rl,axisComponents:[{axisType:"xAxis",AxisComp:Ba},{axisType:"yAxis",AxisComp:Na}],formatAxisMap:OI}),KO=P_({chartName:"BarChart",GraphicalChild:Zl,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Ba},{axisType:"yAxis",AxisComp:Na}],formatAxisMap:OI}),eXe=P_({chartName:"PieChart",GraphicalChild:bd,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:x_},{axisType:"radiusAxis",AxisComp:g_}],formatAxisMap:PUe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function tXe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var Kle=tXe,nXe=DI,rXe=zj,sXe=Object.prototype,aXe=sXe.hasOwnProperty;function iXe(e,t,n){var r=e[t];(!(aXe.call(e,t)&&rXe(r,n))||n===void 0&&!(t in e))&&nXe(e,t,n)}var Gle=iXe,oXe=Gle,lXe=DI;function cXe(e,t,n,r){var a=!n;n||(n={});for(var i=-1,o=t.length;++i<o;){var l=t[i],c=r?r(n[l],e[l],l,n,e):void 0;c===void 0&&(c=e[l]),a?lXe(n,l,c):oXe(n,l,c)}return n}var Gj=cXe,dXe=Gj,uXe=Ev;function hXe(e,t){return e&&dXe(t,uXe(t),e)}var fXe=hXe;function mXe(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var pXe=mXe,gXe=lo,vXe=J$,xXe=pXe,yXe=Object.prototype,bXe=yXe.hasOwnProperty;function jXe(e){if(!gXe(e))return xXe(e);var t=vXe(e),n=[];for(var r in e)r=="constructor"&&(t||!bXe.call(e,r))||n.push(r);return n}var wXe=jXe,NXe=Wae,SXe=wXe,CXe=Av;function kXe(e){return CXe(e)?NXe(e,!0):SXe(e)}var T_=kXe,_Xe=Gj,PXe=T_;function TXe(e,t){return e&&_Xe(t,PXe(t),e)}var AXe=TXe,AC={exports:{}};AC.exports;(function(e,t){var n=cl,r=t&&!t.nodeType&&t,a=r&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===r,o=i?n.Buffer:void 0,l=o?o.allocUnsafe:void 0;function c(d,u){if(u)return d.slice();var h=d.length,f=l?l(h):new d.constructor(h);return d.copy(f),f}e.exports=c})(AC,AC.exports);var EXe=AC.exports;function DXe(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var OXe=DXe,MXe=Gj,RXe=K$;function $Xe(e,t){return MXe(e,RXe(e),t)}var IXe=$Xe,FXe=q$,LXe=y_,zXe=K$,BXe=Uae,UXe=Object.getOwnPropertySymbols,VXe=UXe?function(e){for(var t=[];e;)FXe(t,zXe(e)),e=LXe(e);return t}:BXe,Yle=VXe,WXe=Gj,HXe=Yle;function qXe(e,t){return WXe(e,HXe(e),t)}var KXe=qXe,GXe=Bae,YXe=Yle,XXe=T_;function QXe(e){return GXe(e,XXe,YXe)}var Xle=QXe,ZXe=Object.prototype,JXe=ZXe.hasOwnProperty;function eQe(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&JXe.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var tQe=eQe,RU=zae;function nQe(e){var t=new e.constructor(e.byteLength);return new RU(t).set(new RU(e)),t}var VI=nQe,rQe=VI;function sQe(e,t){var n=t?rQe(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var aQe=sQe,iQe=/\w*$/;function oQe(e){var t=new e.constructor(e.source,iQe.exec(e));return t.lastIndex=e.lastIndex,t}var lQe=oQe,$U=wv,IU=$U?$U.prototype:void 0,FU=IU?IU.valueOf:void 0;function cQe(e){return FU?Object(FU.call(e)):{}}var dQe=cQe,uQe=VI;function hQe(e,t){var n=t?uQe(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var fQe=hQe,mQe=VI,pQe=aQe,gQe=lQe,vQe=dQe,xQe=fQe,yQe="[object Boolean]",bQe="[object Date]",jQe="[object Map]",wQe="[object Number]",NQe="[object RegExp]",SQe="[object Set]",CQe="[object String]",kQe="[object Symbol]",_Qe="[object ArrayBuffer]",PQe="[object DataView]",TQe="[object Float32Array]",AQe="[object Float64Array]",EQe="[object Int8Array]",DQe="[object Int16Array]",OQe="[object Int32Array]",MQe="[object Uint8Array]",RQe="[object Uint8ClampedArray]",$Qe="[object Uint16Array]",IQe="[object Uint32Array]";function FQe(e,t,n){var r=e.constructor;switch(t){case _Qe:return mQe(e);case yQe:case bQe:return new r(+e);case PQe:return pQe(e,n);case TQe:case AQe:case EQe:case DQe:case OQe:case MQe:case RQe:case $Qe:case IQe:return xQe(e,n);case jQe:return new r;case wQe:case CQe:return new r(e);case NQe:return gQe(e);case SQe:return new r;case kQe:return vQe(e)}}var LQe=FQe,zQe=lo,LU=Object.create,BQe=function(){function e(){}return function(t){if(!zQe(t))return{};if(LU)return LU(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),Qle=BQe,UQe=Qle,VQe=y_,WQe=J$;function HQe(e){return typeof e.constructor=="function"&&!WQe(e)?UQe(VQe(e)):{}}var qQe=HQe,KQe=e_,GQe=dl,YQe="[object Map]";function XQe(e){return GQe(e)&&KQe(e)==YQe}var QQe=XQe,ZQe=QQe,JQe=Jk,zU=Q$,BU=zU&&zU.isMap,eZe=BU?JQe(BU):ZQe,tZe=eZe,nZe=e_,rZe=dl,sZe="[object Set]";function aZe(e){return rZe(e)&&nZe(e)==sZe}var iZe=aZe,oZe=iZe,lZe=Jk,UU=Q$,VU=UU&&UU.isSet,cZe=VU?lZe(VU):oZe,dZe=cZe,uZe=W$,hZe=Kle,fZe=Gle,mZe=fXe,pZe=AXe,gZe=EXe,vZe=OXe,xZe=IXe,yZe=KXe,bZe=qae,jZe=Xle,wZe=e_,NZe=tQe,SZe=LQe,CZe=qQe,kZe=aa,_Ze=Zk,PZe=tZe,TZe=lo,AZe=dZe,EZe=Ev,DZe=T_,OZe=1,MZe=2,RZe=4,Zle="[object Arguments]",$Ze="[object Array]",IZe="[object Boolean]",FZe="[object Date]",LZe="[object Error]",Jle="[object Function]",zZe="[object GeneratorFunction]",BZe="[object Map]",UZe="[object Number]",ece="[object Object]",VZe="[object RegExp]",WZe="[object Set]",HZe="[object String]",qZe="[object Symbol]",KZe="[object WeakMap]",GZe="[object ArrayBuffer]",YZe="[object DataView]",XZe="[object Float32Array]",QZe="[object Float64Array]",ZZe="[object Int8Array]",JZe="[object Int16Array]",eJe="[object Int32Array]",tJe="[object Uint8Array]",nJe="[object Uint8ClampedArray]",rJe="[object Uint16Array]",sJe="[object Uint32Array]",Tn={};Tn[Zle]=Tn[$Ze]=Tn[GZe]=Tn[YZe]=Tn[IZe]=Tn[FZe]=Tn[XZe]=Tn[QZe]=Tn[ZZe]=Tn[JZe]=Tn[eJe]=Tn[BZe]=Tn[UZe]=Tn[ece]=Tn[VZe]=Tn[WZe]=Tn[HZe]=Tn[qZe]=Tn[tJe]=Tn[nJe]=Tn[rJe]=Tn[sJe]=!0;Tn[LZe]=Tn[Jle]=Tn[KZe]=!1;function l1(e,t,n,r,a,i){var o,l=t&OZe,c=t&MZe,d=t&RZe;if(n&&(o=a?n(e,r,a,i):n(e)),o!==void 0)return o;if(!TZe(e))return e;var u=kZe(e);if(u){if(o=NZe(e),!l)return vZe(e,o)}else{var h=wZe(e),f=h==Jle||h==zZe;if(_Ze(e))return gZe(e,l);if(h==ece||h==Zle||f&&!a){if(o=c||f?{}:CZe(e),!l)return c?yZe(e,pZe(o,e)):xZe(e,mZe(o,e))}else{if(!Tn[h])return a?e:{};o=SZe(e,h,l)}}i||(i=new uZe);var g=i.get(e);if(g)return g;i.set(e,o),AZe(e)?e.forEach(function(x){o.add(l1(x,t,n,x,e,i))}):PZe(e)&&e.forEach(function(x,v){o.set(v,l1(x,t,n,v,e,i))});var m=d?c?jZe:bZe:c?DZe:EZe,p=u?void 0:m(e);return hZe(p||e,function(x,v){p&&(v=x,x=e[v]),fZe(o,v,l1(x,t,n,v,e,i))}),o}var aJe=l1,iJe=Ik,oJe=F$;function lJe(e,t){return t.length<2?e:iJe(e,oJe(t,0,-1))}var cJe=lJe,dJe=$k,uJe=Poe,hJe=cJe,fJe=Bj;function mJe(e,t){return t=dJe(t,e),e=hJe(e,t),e==null||delete e[fJe(uJe(t))]}var pJe=mJe,gJe=qoe;function vJe(e){return gJe(e)?void 0:e}var xJe=vJe,yJe=tI;function bJe(e){var t=e==null?0:e.length;return t?yJe(e,1):[]}var jJe=bJe,wJe=jJe,NJe=sie,SJe=iie;function CJe(e){return SJe(NJe(e,void 0,wJe),e+"")}var kJe=CJe,_Je=Rk,PJe=aJe,TJe=pJe,AJe=$k,EJe=Gj,DJe=xJe,OJe=kJe,MJe=Xle,RJe=1,$Je=2,IJe=4,FJe=OJe(function(e,t){var n={};if(e==null)return n;var r=!1;t=_Je(t,function(i){return i=AJe(i,e),r||(r=i.length>1),i}),EJe(e,MJe(e),n),r&&(n=PJe(n,RJe|$Je|IJe,DJe));for(var a=t.length;a--;)TJe(n,t[a]);return n}),LJe=FJe;const zJe=Tt(LJe);var WI=P_({chartName:"AreaChart",GraphicalChild:Ji,axisComponents:[{axisType:"xAxis",AxisComp:Ba},{axisType:"yAxis",AxisComp:Na}],formatAxisMap:OI});const BJe={light:"",dark:".dark"},tce=b.createContext(null);function nce(){const e=b.useContext(tce);if(!e)throw new Error("useChart must be used within a <ChartContainer />");return e}const Hx=b.forwardRef(({id:e,className:t,children:n,config:r,...a},i)=>{const o=b.useId(),l=`chart-${e||o.replace(/:/g,"")}`;return s.jsx(tce.Provider,{value:{config:r},children:s.jsxs("div",{"data-chart":l,ref:i,className:Ne("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",t),...a,children:[s.jsx(UJe,{id:l,config:r}),s.jsx(df,{children:n})]})})});Hx.displayName="Chart";const UJe=({id:e,config:t})=>{const n=Object.entries(t).filter(([,r])=>r.theme||r.color);return n.length?s.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(BJe).map(([r,a])=>`
${a} [data-chart=${e}] {
${n.map(([i,o])=>{var c;const l=((c=o.theme)==null?void 0:c[r])||o.color;return l?`  --color-${i}: ${l};`:null}).join(`
`)}
}
`).join(`
`)}}):null},lN=Gs,qx=b.forwardRef(({active:e,payload:t,className:n,indicator:r="dot",hideLabel:a=!1,hideIndicator:i=!1,label:o,labelFormatter:l,labelClassName:c,formatter:d,color:u,nameKey:h,labelKey:f},g)=>{const{config:m}=nce(),p=b.useMemo(()=>{var w;if(a||!(t!=null&&t.length))return null;const[v]=t,y=`${f||(v==null?void 0:v.dataKey)||(v==null?void 0:v.name)||"value"}`,j=GO(m,v,y),N=!f&&typeof o=="string"?((w=m[o])==null?void 0:w.label)||o:j==null?void 0:j.label;return l?s.jsx("div",{className:Ne("font-medium",c),children:l(N,t)}):N?s.jsx("div",{className:Ne("font-medium",c),children:N}):null},[o,l,t,a,c,m,f]);if(!e||!(t!=null&&t.length))return null;const x=t.length===1&&r!=="dot";return s.jsxs("div",{ref:g,className:Ne("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",n),children:[x?null:p,s.jsx("div",{className:"grid gap-1.5",children:t.map((v,y)=>{const j=`${h||v.name||v.dataKey||"value"}`,N=GO(m,v,j),w=u||v.payload.fill||v.color;return s.jsx("div",{className:Ne("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",r==="dot"&&"items-center"),children:d&&(v==null?void 0:v.value)!==void 0&&v.name?d(v.value,v.name,v,y,v.payload):s.jsxs(s.Fragment,{children:[N!=null&&N.icon?s.jsx(N.icon,{}):!i&&s.jsx("div",{className:Ne("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":r==="dot","w-1":r==="line","w-0 border-[1.5px] border-dashed bg-transparent":r==="dashed","my-0.5":x&&r==="dashed"}),style:{"--color-bg":w,"--color-border":w}}),s.jsxs("div",{className:Ne("flex flex-1 justify-between leading-none",x?"items-end":"items-center"),children:[s.jsxs("div",{className:"grid gap-1.5",children:[x?p:null,s.jsx("span",{className:"text-muted-foreground",children:(N==null?void 0:N.label)||v.name})]}),v.value&&s.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:v.value.toLocaleString()})]})]})},v.dataKey)})})]})});qx.displayName="ChartTooltip";const VJe=b.forwardRef(({className:e,hideIcon:t=!1,payload:n,verticalAlign:r="bottom",nameKey:a},i)=>{const{config:o}=nce();return n!=null&&n.length?s.jsx("div",{ref:i,className:Ne("flex items-center justify-center gap-4",r==="top"?"pb-3":"pt-3",e),children:n.map(l=>{const c=`${a||l.dataKey||"value"}`,d=GO(o,l,c);return s.jsxs("div",{className:Ne("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[d!=null&&d.icon&&!t?s.jsx(d.icon,{}):s.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:l.color}}),d==null?void 0:d.label]},l.value)})}):null});VJe.displayName="ChartLegend";function GO(e,t,n){if(typeof t!="object"||t===null)return;const r="payload"in t&&typeof t.payload=="object"&&t.payload!==null?t.payload:void 0;let a=n;return n in t&&typeof t[n]=="string"?a=t[n]:r&&n in r&&typeof r[n]=="string"&&(a=r[n]),a in e?e[a]:e[n]}const cN={hours:{label:"Hours",color:"#004C6D"},tasksCompleted:{label:"Tasks Completed",color:"#0B1D3A"},productivity:{label:"Productivity %",color:"#2563eb"},high:{label:"High Priority",color:"#ef4444"},medium:{label:"Medium Priority",color:"#f59e0b"},low:{label:"Low Priority",color:"#10b981"}};function rce(){const{data:e,isLoading:t}=he({queryKey:["/api/analytics/productivity",{days:30}],refetchInterval:6e4}),{data:n,isLoading:r}=he({queryKey:["/api/analytics/tasks"],refetchInterval:6e4});if(t||r)return s.jsx("div",{className:"grid gap-6",children:s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[1,2,3,4].map(l=>s.jsxs(B,{className:"animate-pulse",children:[s.jsx(ae,{className:"pb-3",children:s.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})}),s.jsx(q,{children:s.jsx("div",{className:"h-48 bg-gray-200 rounded"})})]},l))})});if(!e||!n)return s.jsx(B,{children:s.jsxs(q,{className:"text-center py-12",children:[s.jsx(Sn,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),s.jsx("p",{className:"text-gray-600",children:"No analytics data available"})]})});const a=e.dailyData.map(l=>({...l,formattedDate:Me(ci(l.date),"MMM dd")})),i=[{name:"High Priority",completed:n.priorityBreakdown.high.completed,total:n.priorityBreakdown.high.total,completionRate:Math.round(n.priorityBreakdown.high.completed/Math.max(n.priorityBreakdown.high.total,1)*100),color:"#ef4444"},{name:"Medium Priority",completed:n.priorityBreakdown.medium.completed,total:n.priorityBreakdown.medium.total,completionRate:Math.round(n.priorityBreakdown.medium.completed/Math.max(n.priorityBreakdown.medium.total,1)*100),color:"#f59e0b"},{name:"Low Priority",completed:n.priorityBreakdown.low.completed,total:n.priorityBreakdown.low.total,completionRate:Math.round(n.priorityBreakdown.low.completed/Math.max(n.priorityBreakdown.low.total,1)*100),color:"#10b981"}],o=[{title:"Total Hours Logged",value:e.summary.totalHours.toFixed(1),subtitle:`${e.summary.averageDailyHours.toFixed(1)}h daily average`,icon:bt,color:"text-blue-600",bgColor:"bg-blue-50"},{title:"Tasks Completed",value:n.completedTasks.toString(),subtitle:`${n.completionRate}% completion rate`,icon:sc,color:"text-green-600",bgColor:"bg-green-50"},{title:"Overdue Tasks",value:n.overdueTasks.toString(),subtitle:`${n.totalTasks-n.completedTasks} active tasks`,icon:en,color:"text-red-600",bgColor:"bg-red-50"},{title:"Average Productivity",value:`${e.summary.averageProductivity}%`,subtitle:`Over ${e.summary.periodDays} days`,icon:ra,color:"text-purple-600",bgColor:"bg-purple-50"}];return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:o.map((l,c)=>s.jsx(B,{className:"hover:shadow-lg transition-shadow",children:s.jsx(q,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:l.title}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:l.value}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:l.subtitle})]}),s.jsx("div",{className:`p-3 rounded-lg ${l.bgColor}`,children:s.jsx(l.icon,{className:`h-6 w-6 ${l.color}`})})]})})},c))}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(B,{children:[s.jsx(ae,{children:s.jsxs(ie,{className:"flex items-center space-x-2",children:[s.jsx(us,{className:"h-5 w-5 text-blue-600"}),s.jsx("span",{children:"Daily Productivity Trend"})]})}),s.jsx(q,{children:s.jsxs(Kn,{defaultValue:"hours",className:"w-full",children:[s.jsxs(Mn,{className:"grid w-full grid-cols-2",children:[s.jsx(Re,{value:"hours",children:"Hours Logged"}),s.jsx(Re,{value:"tasks",children:"Task Completion"})]}),s.jsx(Fe,{value:"hours",className:"mt-4",children:s.jsx(Hx,{config:cN,className:"h-[300px]",children:s.jsxs(WI,{data:a,children:[s.jsx(zl,{strokeDasharray:"3 3"}),s.jsx(Ba,{dataKey:"formattedDate"}),s.jsx(Na,{}),s.jsx(lN,{content:s.jsx(qx,{indicator:"line"})}),s.jsx(Ji,{type:"monotone",dataKey:"hours",stroke:"var(--color-hours)",fill:"var(--color-hours)",fillOpacity:.2,strokeWidth:2})]})})}),s.jsx(Fe,{value:"tasks",className:"mt-4",children:s.jsx(Hx,{config:cN,className:"h-[300px]",children:s.jsxs(KO,{data:a,children:[s.jsx(zl,{strokeDasharray:"3 3"}),s.jsx(Ba,{dataKey:"formattedDate"}),s.jsx(Na,{}),s.jsx(lN,{content:s.jsx(qx,{indicator:"dashed"})}),s.jsx(Zl,{dataKey:"tasksCompleted",fill:"var(--color-tasksCompleted)",radius:[4,4,0,0]})]})})})]})})]}),s.jsxs(B,{children:[s.jsx(ae,{children:s.jsxs(ie,{className:"flex items-center space-x-2",children:[s.jsx(sc,{className:"h-5 w-5 text-green-600"}),s.jsx("span",{children:"Task Priority Analysis"})]})}),s.jsxs(q,{children:[s.jsx("div",{className:"space-y-4",children:i.map((l,c)=>s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:l.color}}),s.jsx("span",{className:"text-sm font-medium",children:l.name})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("span",{className:"text-sm font-bold",children:[l.completed,"/",l.total]}),s.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",l.completionRate,"%)"]})]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"h-2 rounded-full transition-all duration-300",style:{backgroundColor:l.color,width:`${l.completionRate}%`}})})]},c))}),s.jsx("div",{className:"mt-6 pt-4 border-t",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[n.completionRate,"%"]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Overall Completion Rate"})]})})]})]}),s.jsxs(B,{children:[s.jsx(ae,{children:s.jsxs(ie,{className:"flex items-center space-x-2",children:[s.jsx(ra,{className:"h-5 w-5 text-purple-600"}),s.jsx("span",{children:"Weekly Productivity Score"})]})}),s.jsx(q,{children:s.jsx(Hx,{config:cN,className:"h-[300px]",children:s.jsxs(qO,{data:a,children:[s.jsx(zl,{strokeDasharray:"3 3"}),s.jsx(Ba,{dataKey:"formattedDate"}),s.jsx(Na,{domain:[0,100]}),s.jsx(lN,{content:s.jsx(qx,{indicator:"line"})}),s.jsx(Rl,{type:"monotone",dataKey:"productivity",stroke:"var(--color-productivity)",strokeWidth:3,dot:{fill:"var(--color-productivity)",strokeWidth:2,r:4},activeDot:{r:6,stroke:"var(--color-productivity)",strokeWidth:2}})]})})})]}),s.jsxs(B,{children:[s.jsx(ae,{children:s.jsxs(ie,{className:"flex items-center space-x-2",children:[s.jsx(Sn,{className:"h-5 w-5 text-orange-600"}),s.jsx("span",{children:"Task Flow Analysis"})]})}),s.jsx(q,{children:s.jsx(Hx,{config:cN,className:"h-[300px]",children:s.jsxs(KO,{data:a,children:[s.jsx(zl,{strokeDasharray:"3 3"}),s.jsx(Ba,{dataKey:"formattedDate"}),s.jsx(Na,{}),s.jsx(lN,{content:s.jsx(qx,{indicator:"dashed"})}),s.jsx(Zl,{dataKey:"tasksCreated",fill:"#94a3b8",name:"Created",radius:[2,2,0,0]}),s.jsx(Zl,{dataKey:"tasksCompleted",fill:"var(--color-tasksCompleted)",name:"Completed",radius:[2,2,0,0]})]})})})]})]})]})}function WJe(){const[,e]=Fs(),[t,n]=b.useState(new Set),{data:r=[],isLoading:a}=he({queryKey:["/api/users"]}),{data:i=[],isLoading:o}=he({queryKey:["/api/tasks"]}),l=r.map(m=>({...m,tasks:i.filter(p=>p.assignedToId===m.id)})),c=i.filter(m=>!m.assignedToId),d=m=>{n(p=>{const x=new Set(p);return x.has(m)?x.delete(m):x.add(m),x})},u=m=>{switch(m){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},h=m=>{if(m.completed)return{text:"Completed",color:"text-green-600",icon:s.jsx(Bt,{size:16})};if(m.dueDate){const p=new Date(m.dueDate),x=Hn(new Date);if(pg(x,p))return{text:"Overdue",color:"text-red-600",icon:s.jsx(ur,{size:16})};if(x.getTime()===Hn(p).getTime())return{text:"Due Today",color:"text-orange-600",icon:s.jsx(bt,{size:16})}}return{text:"In Progress",color:"text-blue-600",icon:s.jsx(bt,{size:16})}},f=({task:m})=>{const p=h(m),x=m.notes||m.attachments&&m.attachments.length>0||m.links&&m.links.length>0;return s.jsxs("div",{className:"border rounded-lg p-4 space-y-3 bg-white",children:[s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:`font-medium ${m.completed?"line-through text-gray-500":""}`,children:m.description}),s.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[s.jsx(Z,{className:u(m.priority||"medium"),children:m.priority||"medium"}),s.jsxs("div",{className:`flex items-center space-x-1 ${p.color}`,children:[p.icon,s.jsx("span",{className:"text-sm",children:p.text})]})]})]})}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[m.dueDate&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(en,{size:16}),s.jsxs("span",{children:["Due: ",Me(new Date(m.dueDate),"MMM d, yyyy h:mm a")]})]}),m.projectId&&s.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[s.jsx(nt,{size:16}),s.jsxs("span",{children:["Project ID: ",m.projectId]})]}),x&&s.jsxs("div",{className:"flex items-center space-x-4",children:[m.notes&&s.jsxs("div",{className:"flex items-center space-x-1 text-purple-600",children:[s.jsx(P0e,{size:16}),s.jsx("span",{children:"Has notes"})]}),m.attachments&&m.attachments.length>0&&s.jsxs("div",{className:"flex items-center space-x-1 text-blue-600",children:[s.jsx(Il,{size:16}),s.jsxs("span",{children:[m.attachments.length," file(s)"]})]}),m.links&&m.links.length>0&&s.jsxs("div",{className:"flex items-center space-x-1 text-indigo-600",children:[s.jsx(HE,{size:16}),s.jsxs("span",{children:[m.links.length," link(s)"]})]})]}),m.notes&&s.jsxs("div",{className:"bg-purple-50 p-2 rounded text-purple-800",children:[s.jsx("strong",{children:"Notes:"})," ",m.notes]}),m.attachments&&m.attachments.length>0&&s.jsxs("div",{className:"bg-blue-50 p-2 rounded text-blue-800",children:[s.jsx("strong",{children:"Attachments:"})," ",m.attachments.join(", ")]}),m.links&&m.links.length>0&&s.jsxs("div",{className:"bg-indigo-50 p-2 rounded text-indigo-800",children:[s.jsx("strong",{children:"Links:"}),s.jsx("div",{className:"mt-1 space-y-1",children:m.links.map((v,y)=>s.jsx("a",{href:v,target:"_blank",rel:"noopener noreferrer",className:"block hover:underline",children:v},y))})]})]}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Created: ",m.createdAt?Me(new Date(m.createdAt),"MMM d, yyyy h:mm a"):"Unknown"]})]})},g=({user:m})=>{var j;const p=t.has(m.id),x=m.tasks.filter(N=>N.completed).length,v=m.tasks.filter(N=>!N.completed).length,y=m.tasks.filter(N=>!N.completed&&N.dueDate&&pg(Hn(new Date),new Date(N.dueDate))).length;return s.jsx(B,{className:"mb-4",children:s.jsxs(i0,{open:p,onOpenChange:()=>d(m.id),children:[s.jsx(s$,{asChild:!0,children:s.jsx(ae,{className:"cursor-pointer hover:bg-gray-50 transition-colors",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Fu,{children:s.jsx(Lu,{children:((j=m.name)==null?void 0:j.charAt(0).toUpperCase())||"U"})}),s.jsxs("div",{children:[s.jsx(ie,{className:"text-lg",children:m.name}),s.jsxs("p",{className:"text-sm text-gray-600",children:["@",m.username,"  ",m.email]})]}),s.jsx(Z,{variant:m.role==="admin"?"destructive":"secondary",children:m.role})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"text-right text-sm",children:[s.jsxs("div",{className:"text-gray-600",children:[m.tasks.length," total tasks"]}),s.jsxs("div",{className:"flex space-x-2 text-xs",children:[s.jsxs("span",{className:"text-green-600",children:[x," done"]}),s.jsxs("span",{className:"text-blue-600",children:[v," pending"]}),y>0&&s.jsxs("span",{className:"text-red-600",children:[y," overdue"]})]})]}),s.jsx(D,{variant:"ghost",size:"sm",children:p?s.jsx(mj,{size:16}):s.jsx(Yo,{size:16})})]})]})})}),s.jsx(yk,{children:s.jsx(q,{children:m.tasks.length===0?s.jsx("p",{className:"text-gray-500 text-center py-8",children:"No tasks assigned to this user"}):s.jsx("div",{className:"space-y-3",children:m.tasks.map(N=>s.jsx(f,{task:N},N.id))})})})]})})};return a||o?s.jsx("div",{className:"min-h-screen bg-neutral-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-2 text-gray-600",children:$t.system.loading})]})}):s.jsx("div",{className:"min-h-screen bg-neutral-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(D,{variant:"outline",onClick:()=>e("/"),className:"flex items-center",children:[s.jsx(ln,{size:16,className:"mr-2"}),$t.tasks.backButton]}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center",children:[s.jsx(gn,{className:"mr-3",size:32}),"Admin Dashboard"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Overview of analytics, users and task assignments"})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(D,{variant:"outline",size:"sm",className:"bg-blue-600 text-white border-blue-600 hover:bg-blue-700 hover:border-blue-700",onClick:()=>e("/"),"data-testid":"button-new-task-dashboard",children:[s.jsx(st,{className:"h-4 w-4 mr-1"}),$t.tasks.createButton]}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsxs("div",{children:[s.jsx("strong",{children:r.length})," total users"]}),s.jsxs("div",{children:[s.jsx("strong",{children:i.length})," total tasks"]}),s.jsxs("div",{children:[s.jsx("strong",{children:c.length})," unassigned tasks"]})]})})]})]}),s.jsxs(Kn,{defaultValue:"analytics",className:"space-y-6",children:[s.jsxs(Mn,{className:"grid w-full grid-cols-2",children:[s.jsxs(Re,{value:"analytics",className:"flex items-center space-x-2",children:[s.jsx(Sn,{className:"h-4 w-4"}),s.jsx("span",{children:"Analytics & Insights"})]}),s.jsxs(Re,{value:"users",className:"flex items-center space-x-2",children:[s.jsx(gn,{className:"h-4 w-4"}),s.jsx("span",{children:"User Management"})]})]}),s.jsx(Fe,{value:"analytics",className:"space-y-6",children:s.jsx(rce,{})}),s.jsxs(Fe,{value:"users",className:"space-y-6",children:[l.map(m=>s.jsx(g,{user:m},`dashboard-user-${m.id}`)),c.length>0&&s.jsxs(B,{children:[s.jsx(ae,{children:s.jsxs(ie,{className:"text-lg flex items-center",children:[s.jsx(ur,{className:"mr-2",size:20}),"Unassigned Tasks (",c.length,")"]})}),s.jsx(q,{children:s.jsx("div",{className:"space-y-3",children:c.map(m=>s.jsx(f,{task:m},m.id))})})]})]})]})]})})}var HI="Progress",qI=100,[HJe,s1t]=fs(HI),[qJe,KJe]=HJe(HI),sce=b.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:a,getValueLabel:i=GJe,...o}=e;(a||a===0)&&!WU(a)&&console.error(YJe(`${a}`,"Progress"));const l=WU(a)?a:qI;r!==null&&!HU(r,l)&&console.error(XJe(`${r}`,"Progress"));const c=HU(r,l)?r:null,d=EC(c)?i(c,l):void 0;return s.jsx(qJe,{scope:n,value:c,max:l,children:s.jsx(Qe.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":EC(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":oce(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});sce.displayName=HI;var ace="ProgressIndicator",ice=b.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,a=KJe(ace,n);return s.jsx(Qe.div,{"data-state":oce(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...r,ref:t})});ice.displayName=ace;function GJe(e,t){return`${Math.round(e/t*100)}%`}function oce(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function EC(e){return typeof e=="number"}function WU(e){return EC(e)&&!isNaN(e)&&e>0}function HU(e,t){return EC(e)&&!isNaN(e)&&e<=t&&e>=0}function YJe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${qI}\`.`}function XJe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${qI} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var lce=sce,QJe=ice;const bn=b.forwardRef(({className:e,value:t,...n},r)=>s.jsx(lce,{ref:r,className:Ne("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:s.jsx(QJe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));bn.displayName=lce.displayName;function ZJe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return b.useMemo(()=>r=>{t.forEach(a=>a(r))},t)}const A_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Lv(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function KI(e){return"nodeType"in e}function Xa(e){var t,n;return e?Lv(e)?e:KI(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function GI(e){const{Document:t}=Xa(e);return e instanceof t}function Yj(e){return Lv(e)?!1:e instanceof Xa(e).HTMLElement}function cce(e){return e instanceof Xa(e).SVGElement}function zv(e){return e?Lv(e)?e.document:KI(e)?GI(e)?e:Yj(e)||cce(e)?e.ownerDocument:document:document:document}const dc=A_?b.useLayoutEffect:b.useEffect;function YI(e){const t=b.useRef(e);return dc(()=>{t.current=e}),b.useCallback(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t.current==null?void 0:t.current(...r)},[])}function JJe(){const e=b.useRef(null),t=b.useCallback((r,a)=>{e.current=setInterval(r,a)},[]),n=b.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function ab(e,t){t===void 0&&(t=[e]);const n=b.useRef(e);return dc(()=>{n.current!==e&&(n.current=e)},t),n}function Xj(e,t){const n=b.useRef();return b.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function DC(e){const t=YI(e),n=b.useRef(null),r=b.useCallback(a=>{a!==n.current&&(t==null||t(a,n.current)),n.current=a},[]);return[n,r]}function YO(e){const t=b.useRef();return b.useEffect(()=>{t.current=e},[e]),t.current}let LT={};function Qj(e,t){return b.useMemo(()=>{if(t)return t;const n=LT[e]==null?0:LT[e]+1;return LT[e]=n,e+"-"+n},[e,t])}function dce(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.reduce((i,o)=>{const l=Object.entries(o);for(const[c,d]of l){const u=i[c];u!=null&&(i[c]=u+e*d)}return i},{...t})}}const gp=dce(1),OC=dce(-1);function eet(e){return"clientX"in e&&"clientY"in e}function XI(e){if(!e)return!1;const{KeyboardEvent:t}=Xa(e.target);return t&&e instanceof t}function tet(e){if(!e)return!1;const{TouchEvent:t}=Xa(e.target);return t&&e instanceof t}function XO(e){if(tet(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return eet(e)?{x:e.clientX,y:e.clientY}:null}const ib=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[ib.Translate.toString(e),ib.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),qU="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function net(e){return e.matches(qU)?e:e.querySelector(qU)}const ret={display:"none"};function set(e){let{id:t,value:n}=e;return O.createElement("div",{id:t,style:ret},n)}function aet(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return O.createElement("div",{id:t,style:a,role:"status","aria-live":r,"aria-atomic":!0},n)}function iet(){const[e,t]=b.useState("");return{announce:b.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const uce=b.createContext(null);function oet(e){const t=b.useContext(uce);b.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function cet(){const[e]=b.useState(()=>new Set),t=b.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[b.useCallback(r=>{let{type:a,event:i}=r;e.forEach(o=>{var l;return(l=o[a])==null?void 0:l.call(o,i)})},[e]),t]}const det={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},uet={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function het(e){let{announcements:t=uet,container:n,hiddenTextDescribedById:r,screenReaderInstructions:a=det}=e;const{announce:i,announcement:o}=iet(),l=Qj("DndLiveRegion"),[c,d]=b.useState(!1);if(b.useEffect(()=>{d(!0)},[]),oet(b.useMemo(()=>({onDragStart(h){let{active:f}=h;i(t.onDragStart({active:f}))},onDragMove(h){let{active:f,over:g}=h;t.onDragMove&&i(t.onDragMove({active:f,over:g}))},onDragOver(h){let{active:f,over:g}=h;i(t.onDragOver({active:f,over:g}))},onDragEnd(h){let{active:f,over:g}=h;i(t.onDragEnd({active:f,over:g}))},onDragCancel(h){let{active:f,over:g}=h;i(t.onDragCancel({active:f,over:g}))}}),[i,t])),!c)return null;const u=O.createElement(O.Fragment,null,O.createElement(set,{id:r,value:a.draggable}),O.createElement(aet,{id:l,announcement:o}));return n?Gi.createPortal(u,n):u}var ts;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(ts||(ts={}));function MC(){}function fet(e,t){return b.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function met(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return b.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const tl=Object.freeze({x:0,y:0});function pet(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function get(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function vet(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function xet(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function KU(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const yet=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const a=KU(t,t.left,t.top),i=[];for(const o of r){const{id:l}=o,c=n.get(l);if(c){const d=pet(KU(c),a);i.push({id:l,data:{droppableContainer:o,value:d}})}}return i.sort(get)};function bet(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),a=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),o=a-r,l=i-n;if(r<a&&n<i){const c=t.width*t.height,d=e.width*e.height,u=o*l,h=u/(c+d-u);return Number(h.toFixed(4))}return 0}const jet=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const a=[];for(const i of r){const{id:o}=i,l=n.get(o);if(l){const c=bet(l,t);c>0&&a.push({id:o,data:{droppableContainer:i,value:c}})}}return a.sort(vet)};function wet(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function hce(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:tl}function Net(e){return function(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];return a.reduce((o,l)=>({...o,top:o.top+e*l.y,bottom:o.bottom+e*l.y,left:o.left+e*l.x,right:o.right+e*l.x}),{...n})}}const Cet=Net(1);function ket(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function _et(e,t,n){const r=ket(t);if(!r)return e;const{scaleX:a,scaleY:i,x:o,y:l}=r,c=e.left-o-(1-a)*parseFloat(n),d=e.top-l-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),u=a?e.width/a:e.width,h=i?e.height/i:e.height;return{width:u,height:h,top:d,right:c+u,bottom:d+h,left:c}}const Pet={ignoreTransform:!1};function Bv(e,t){t===void 0&&(t=Pet);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:d,transformOrigin:u}=Xa(e).getComputedStyle(e);d&&(n=_et(n,d,u))}const{top:r,left:a,width:i,height:o,bottom:l,right:c}=n;return{top:r,left:a,width:i,height:o,bottom:l,right:c}}function GU(e){return Bv(e,{ignoreTransform:!0})}function Tet(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function Aet(e,t){return t===void 0&&(t=Xa(e).getComputedStyle(e)),t.position==="fixed"}function Eet(e,t){t===void 0&&(t=Xa(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const i=t[a];return typeof i=="string"?n.test(i):!1})}function QI(e,t){const n=[];function r(a){if(t!=null&&n.length>=t||!a)return n;if(GI(a)&&a.scrollingElement!=null&&!n.includes(a.scrollingElement))return n.push(a.scrollingElement),n;if(!Yj(a)||cce(a)||n.includes(a))return n;const i=Xa(e).getComputedStyle(a);return a!==e&&Eet(a,i)&&n.push(a),Aet(a,i)?n:r(a.parentNode)}return e?r(e):n}function fce(e){const[t]=QI(e,1);return t??null}function zT(e){return!A_||!e?null:Lv(e)?e:KI(e)?GI(e)||e===zv(e).scrollingElement?window:Yj(e)?e:null:null}function mce(e){return Lv(e)?e.scrollX:e.scrollLeft}function pce(e){return Lv(e)?e.scrollY:e.scrollTop}function QO(e){return{x:mce(e),y:pce(e)}}var js;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(js||(js={}));function gce(e){return!A_||!e?!1:e===document.scrollingElement}function vce(e){const t={x:0,y:0},n=gce(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},a=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,o=e.scrollTop>=r.y,l=e.scrollLeft>=r.x;return{isTop:a,isLeft:i,isBottom:o,isRight:l,maxScroll:r,minScroll:t}}const Det={x:.2,y:.2};function Oet(e,t,n,r,a){let{top:i,left:o,right:l,bottom:c}=n;r===void 0&&(r=10),a===void 0&&(a=Det);const{isTop:d,isBottom:u,isLeft:h,isRight:f}=vce(e),g={x:0,y:0},m={x:0,y:0},p={height:t.height*a.y,width:t.width*a.x};return!d&&i<=t.top+p.height?(g.y=js.Backward,m.y=r*Math.abs((t.top+p.height-i)/p.height)):!u&&c>=t.bottom-p.height&&(g.y=js.Forward,m.y=r*Math.abs((t.bottom-p.height-c)/p.height)),!f&&l>=t.right-p.width?(g.x=js.Forward,m.x=r*Math.abs((t.right-p.width-l)/p.width)):!h&&o<=t.left+p.width&&(g.x=js.Backward,m.x=r*Math.abs((t.left+p.width-o)/p.width)),{direction:g,speed:m}}function Met(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:o}=window;return{top:0,left:0,right:i,bottom:o,width:i,height:o}}const{top:t,left:n,right:r,bottom:a}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:a,width:e.clientWidth,height:e.clientHeight}}function xce(e){return e.reduce((t,n)=>gp(t,QO(n)),tl)}function Ret(e){return e.reduce((t,n)=>t+mce(n),0)}function $et(e){return e.reduce((t,n)=>t+pce(n),0)}function Iet(e,t){if(t===void 0&&(t=Bv),!e)return;const{top:n,left:r,bottom:a,right:i}=t(e);fce(e)&&(a<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const Fet=[["x",["left","right"],Ret],["y",["top","bottom"],$et]];class ZI{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=QI(n),a=xce(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,o,l]of Fet)for(const c of o)Object.defineProperty(this,c,{get:()=>{const d=l(r),u=a[i]-d;return this.rect[c]+u},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class jy{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var a;(a=this.target)==null||a.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function Let(e){const{EventTarget:t}=Xa(e);return e instanceof t?e:zv(e)}function BT(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var Li;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Li||(Li={}));function YU(e){e.preventDefault()}function zet(e){e.stopPropagation()}var an;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(an||(an={}));const yce={start:[an.Space,an.Enter],cancel:[an.Esc],end:[an.Space,an.Enter,an.Tab]},Bet=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case an.Right:return{...n,x:n.x+25};case an.Left:return{...n,x:n.x-25};case an.Down:return{...n,y:n.y+25};case an.Up:return{...n,y:n.y-25}}};class bce{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new jy(zv(n)),this.windowListeners=new jy(Xa(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Li.Resize,this.handleCancel),this.windowListeners.add(Li.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Li.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&Iet(r),n(tl)}handleKeyDown(t){if(XI(t)){const{active:n,context:r,options:a}=this.props,{keyboardCodes:i=yce,coordinateGetter:o=Bet,scrollBehavior:l="smooth"}=a,{code:c}=t;if(i.end.includes(c)){this.handleEnd(t);return}if(i.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:d}=r.current,u=d?{x:d.left,y:d.top}:tl;this.referenceCoordinates||(this.referenceCoordinates=u);const h=o(t,{active:n,context:r.current,currentCoordinates:u});if(h){const f=OC(h,u),g={x:0,y:0},{scrollableAncestors:m}=r.current;for(const p of m){const x=t.code,{isTop:v,isRight:y,isLeft:j,isBottom:N,maxScroll:w,minScroll:S}=vce(p),k=Met(p),_={x:Math.min(x===an.Right?k.right-k.width/2:k.right,Math.max(x===an.Right?k.left:k.left+k.width/2,h.x)),y:Math.min(x===an.Down?k.bottom-k.height/2:k.bottom,Math.max(x===an.Down?k.top:k.top+k.height/2,h.y))},T=x===an.Right&&!y||x===an.Left&&!j,P=x===an.Down&&!N||x===an.Up&&!v;if(T&&_.x!==h.x){const C=p.scrollLeft+f.x,A=x===an.Right&&C<=w.x||x===an.Left&&C>=S.x;if(A&&!f.y){p.scrollTo({left:C,behavior:l});return}A?g.x=p.scrollLeft-C:g.x=x===an.Right?p.scrollLeft-w.x:p.scrollLeft-S.x,g.x&&p.scrollBy({left:-g.x,behavior:l});break}else if(P&&_.y!==h.y){const C=p.scrollTop+f.y,A=x===an.Down&&C<=w.y||x===an.Up&&C>=S.y;if(A&&!f.x){p.scrollTo({top:C,behavior:l});return}A?g.y=p.scrollTop-C:g.y=x===an.Down?p.scrollTop-w.y:p.scrollTop-S.y,g.y&&p.scrollBy({top:-g.y,behavior:l});break}}this.handleMove(t,gp(OC(h,this.referenceCoordinates),g))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}bce.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=yce,onActivation:a}=t,{active:i}=n;const{code:o}=e.nativeEvent;if(r.start.includes(o)){const l=i.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),a==null||a({event:e.nativeEvent}),!0)}return!1}}];function XU(e){return!!(e&&"distance"in e)}function QU(e){return!!(e&&"delay"in e)}class JI{constructor(t,n,r){var a;r===void 0&&(r=Let(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:i}=t,{target:o}=i;this.props=t,this.events=n,this.document=zv(o),this.documentListeners=new jy(this.document),this.listeners=new jy(r),this.windowListeners=new jy(Xa(o)),this.initialCoordinates=(a=XO(i))!=null?a:tl,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Li.Resize,this.handleCancel),this.windowListeners.add(Li.DragStart,YU),this.windowListeners.add(Li.VisibilityChange,this.handleCancel),this.windowListeners.add(Li.ContextMenu,YU),this.documentListeners.add(Li.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(QU(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(XU(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:a}=this.props;a(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Li.Click,zet,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Li.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:a,props:i}=this,{onMove:o,options:{activationConstraint:l}}=i;if(!a)return;const c=(n=XO(t))!=null?n:tl,d=OC(a,c);if(!r&&l){if(XU(l)){if(l.tolerance!=null&&BT(d,l.tolerance))return this.handleCancel();if(BT(d,l.distance))return this.handleStart()}if(QU(l)&&BT(d,l.tolerance))return this.handleCancel();this.handlePending(l,d);return}t.cancelable&&t.preventDefault(),o(c)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===an.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const Uet={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class eF extends JI{constructor(t){const{event:n}=t,r=zv(n.target);super(t,Uet,r)}}eF.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const Vet={move:{name:"mousemove"},end:{name:"mouseup"}};var ZO;(function(e){e[e.RightClick=2]="RightClick"})(ZO||(ZO={}));class Wet extends JI{constructor(t){super(t,Vet,zv(t.event.target))}}Wet.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===ZO.RightClick?!1:(r==null||r({event:n}),!0)}}];const UT={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Het extends JI{constructor(t){super(t,UT)}static setup(){return window.addEventListener(UT.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(UT.move.name,t)};function t(){}}}Het.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:a}=n;return a.length>1?!1:(r==null||r({event:n}),!0)}}];var wy;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(wy||(wy={}));var RC;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(RC||(RC={}));function qet(e){let{acceleration:t,activator:n=wy.Pointer,canScroll:r,draggingRect:a,enabled:i,interval:o=5,order:l=RC.TreeOrder,pointerCoordinates:c,scrollableAncestors:d,scrollableAncestorRects:u,delta:h,threshold:f}=e;const g=Get({delta:h,disabled:!i}),[m,p]=JJe(),x=b.useRef({x:0,y:0}),v=b.useRef({x:0,y:0}),y=b.useMemo(()=>{switch(n){case wy.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case wy.DraggableRect:return a}},[n,a,c]),j=b.useRef(null),N=b.useCallback(()=>{const S=j.current;if(!S)return;const k=x.current.x*v.current.x,_=x.current.y*v.current.y;S.scrollBy(k,_)},[]),w=b.useMemo(()=>l===RC.TreeOrder?[...d].reverse():d,[l,d]);b.useEffect(()=>{if(!i||!d.length||!y){p();return}for(const S of w){if((r==null?void 0:r(S))===!1)continue;const k=d.indexOf(S),_=u[k];if(!_)continue;const{direction:T,speed:P}=Oet(S,_,y,t,f);for(const C of["x","y"])g[C][T[C]]||(P[C]=0,T[C]=0);if(P.x>0||P.y>0){p(),j.current=S,m(N,o),x.current=P,v.current=T;return}}x.current={x:0,y:0},v.current={x:0,y:0},p()},[t,N,r,p,i,o,JSON.stringify(y),JSON.stringify(g),m,d,w,u,JSON.stringify(f)])}const Ket={x:{[js.Backward]:!1,[js.Forward]:!1},y:{[js.Backward]:!1,[js.Forward]:!1}};function Get(e){let{delta:t,disabled:n}=e;const r=YO(t);return Xj(a=>{if(n||!r||!a)return Ket;const i={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[js.Backward]:a.x[js.Backward]||i.x===-1,[js.Forward]:a.x[js.Forward]||i.x===1},y:{[js.Backward]:a.y[js.Backward]||i.y===-1,[js.Forward]:a.y[js.Forward]||i.y===1}}},[n,t,r])}function Yet(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return Xj(a=>{var i;return t==null?null:(i=r??a)!=null?i:null},[r,t])}function Xet(e,t){return b.useMemo(()=>e.reduce((n,r)=>{const{sensor:a}=r,i=a.activators.map(o=>({eventName:o.eventName,handler:t(o.handler,r)}));return[...n,...i]},[]),[e,t])}var ob;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(ob||(ob={}));var JO;(function(e){e.Optimized="optimized"})(JO||(JO={}));const ZU=new Map;function Qet(e,t){let{dragging:n,dependencies:r,config:a}=t;const[i,o]=b.useState(null),{frequency:l,measure:c,strategy:d}=a,u=b.useRef(e),h=x(),f=ab(h),g=b.useCallback(function(v){v===void 0&&(v=[]),!f.current&&o(y=>y===null?v:y.concat(v.filter(j=>!y.includes(j))))},[f]),m=b.useRef(null),p=Xj(v=>{if(h&&!n)return ZU;if(!v||v===ZU||u.current!==e||i!=null){const y=new Map;for(let j of e){if(!j)continue;if(i&&i.length>0&&!i.includes(j.id)&&j.rect.current){y.set(j.id,j.rect.current);continue}const N=j.node.current,w=N?new ZI(c(N),N):null;j.rect.current=w,w&&y.set(j.id,w)}return y}return v},[e,i,n,h,c]);return b.useEffect(()=>{u.current=e},[e]),b.useEffect(()=>{h||g()},[n,h]),b.useEffect(()=>{i&&i.length>0&&o(null)},[JSON.stringify(i)]),b.useEffect(()=>{h||typeof l!="number"||m.current!==null||(m.current=setTimeout(()=>{g(),m.current=null},l))},[l,h,g,...r]),{droppableRects:p,measureDroppableContainers:g,measuringScheduled:i!=null};function x(){switch(d){case ob.Always:return!1;case ob.BeforeDragging:return n;default:return!n}}}function jce(e,t){return Xj(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function Zet(e,t){return jce(e,t)}function Jet(e){let{callback:t,disabled:n}=e;const r=YI(t),a=b.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(r)},[r,n]);return b.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function E_(e){let{callback:t,disabled:n}=e;const r=YI(t),a=b.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(r)},[n]);return b.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function ett(e){return new ZI(Bv(e),e)}function JU(e,t,n){t===void 0&&(t=ett);const[r,a]=b.useState(null);function i(){a(c=>{if(!e)return null;if(e.isConnected===!1){var d;return(d=c??n)!=null?d:null}const u=t(e);return JSON.stringify(c)===JSON.stringify(u)?c:u})}const o=Jet({callback(c){if(e)for(const d of c){const{type:u,target:h}=d;if(u==="childList"&&h instanceof HTMLElement&&h.contains(e)){i();break}}}}),l=E_({callback:i});return dc(()=>{i(),e?(l==null||l.observe(e),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),o==null||o.disconnect())},[e]),r}function ttt(e){const t=jce(e);return hce(e,t)}const eV=[];function ntt(e){const t=b.useRef(e),n=Xj(r=>e?r&&r!==eV&&e&&t.current&&e.parentNode===t.current.parentNode?r:QI(e):eV,[e]);return b.useEffect(()=>{t.current=e},[e]),n}function rtt(e){const[t,n]=b.useState(null),r=b.useRef(e),a=b.useCallback(i=>{const o=zT(i.target);o&&n(l=>l?(l.set(o,QO(o)),new Map(l)):null)},[]);return b.useEffect(()=>{const i=r.current;if(e!==i){o(i);const l=e.map(c=>{const d=zT(c);return d?(d.addEventListener("scroll",a,{passive:!0}),[d,QO(d)]):null}).filter(c=>c!=null);n(l.length?new Map(l):null),r.current=e}return()=>{o(e),o(i)};function o(l){l.forEach(c=>{const d=zT(c);d==null||d.removeEventListener("scroll",a)})}},[a,e]),b.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,o)=>gp(i,o),tl):xce(e):tl,[e,t])}function tV(e,t){t===void 0&&(t=[]);const n=b.useRef(null);return b.useEffect(()=>{n.current=null},t),b.useEffect(()=>{const r=e!==tl;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?OC(e,n.current):tl}function stt(e){b.useEffect(()=>{if(!A_)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function att(e,t){return b.useMemo(()=>e.reduce((n,r)=>{let{eventName:a,handler:i}=r;return n[a]=o=>{i(o,t)},n},{}),[e,t])}function wce(e){return b.useMemo(()=>e?Tet(e):null,[e])}const nV=[];function itt(e,t){t===void 0&&(t=Bv);const[n]=e,r=wce(n?Xa(n):null),[a,i]=b.useState(nV);function o(){i(()=>e.length?e.map(c=>gce(c)?r:new ZI(t(c),c)):nV)}const l=E_({callback:o});return dc(()=>{l==null||l.disconnect(),o(),e.forEach(c=>l==null?void 0:l.observe(c))},[e]),a}function ott(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Yj(t)?t:e}function ltt(e){let{measure:t}=e;const[n,r]=b.useState(null),a=b.useCallback(d=>{for(const{target:u}of d)if(Yj(u)){r(h=>{const f=t(u);return h?{...h,width:f.width,height:f.height}:f});break}},[t]),i=E_({callback:a}),o=b.useCallback(d=>{const u=ott(d);i==null||i.disconnect(),u&&(i==null||i.observe(u)),r(u?t(u):null)},[t,i]),[l,c]=DC(o);return b.useMemo(()=>({nodeRef:l,rect:n,setRef:c}),[n,l,c])}const ctt=[{sensor:eF,options:{}},{sensor:bce,options:{}}],dtt={current:{}},c1={draggable:{measure:GU},droppable:{measure:GU,strategy:ob.WhileDragging,frequency:JO.Optimized},dragOverlay:{measure:Bv}};class Ny extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const utt={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Ny,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:MC},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:c1,measureDroppableContainers:MC,windowRect:null,measuringScheduled:!1},htt={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:MC,draggableNodes:new Map,over:null,measureDroppableContainers:MC},D_=b.createContext(htt),Nce=b.createContext(utt);function ftt(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Ny}}}function mtt(e,t){switch(t.type){case ts.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case ts.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case ts.DragEnd:case ts.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case ts.RegisterDroppable:{const{element:n}=t,{id:r}=n,a=new Ny(e.droppable.containers);return a.set(r,n),{...e,droppable:{...e.droppable,containers:a}}}case ts.SetDroppableDisabled:{const{id:n,key:r,disabled:a}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const o=new Ny(e.droppable.containers);return o.set(n,{...i,disabled:a}),{...e,droppable:{...e.droppable,containers:o}}}case ts.UnregisterDroppable:{const{id:n,key:r}=t,a=e.droppable.containers.get(n);if(!a||r!==a.key)return e;const i=new Ny(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function ptt(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:a}=b.useContext(D_),i=YO(r),o=YO(n==null?void 0:n.id);return b.useEffect(()=>{if(!t&&!r&&i&&o!=null){if(!XI(i)||document.activeElement===i.target)return;const l=a.get(o);if(!l)return;const{activatorNode:c,node:d}=l;if(!c.current&&!d.current)return;requestAnimationFrame(()=>{for(const u of[c.current,d.current]){if(!u)continue;const h=net(u);if(h){h.focus();break}}})}},[r,t,a,o,i]),null}function gtt(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((a,i)=>i({transform:a,...r}),n):n}function vtt(e){return b.useMemo(()=>({draggable:{...c1.draggable,...e==null?void 0:e.draggable},droppable:{...c1.droppable,...e==null?void 0:e.droppable},dragOverlay:{...c1.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function xtt(e){let{activeNode:t,measure:n,initialRect:r,config:a=!0}=e;const i=b.useRef(!1),{x:o,y:l}=typeof a=="boolean"?{x:a,y:a}:a;dc(()=>{if(!o&&!l||!t){i.current=!1;return}if(i.current||!r)return;const d=t==null?void 0:t.node.current;if(!d||d.isConnected===!1)return;const u=n(d),h=hce(u,r);if(o||(h.x=0),l||(h.y=0),i.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const f=fce(d);f&&f.scrollBy({top:h.y,left:h.x})}},[t,o,l,r,n])}const Sce=b.createContext({...tl,scaleX:1,scaleY:1});var zd;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(zd||(zd={}));const ytt=b.memo(function(t){var n,r,a,i;let{id:o,accessibility:l,autoScroll:c=!0,children:d,sensors:u=ctt,collisionDetection:h=jet,measuring:f,modifiers:g,...m}=t;const p=b.useReducer(mtt,void 0,ftt),[x,v]=p,[y,j]=cet(),[N,w]=b.useState(zd.Uninitialized),S=N===zd.Initialized,{draggable:{active:k,nodes:_,translate:T},droppable:{containers:P}}=x,C=k!=null?_.get(k):null,A=b.useRef({initial:null,translated:null}),E=b.useMemo(()=>{var Ls;return k!=null?{id:k,data:(Ls=C==null?void 0:C.data)!=null?Ls:dtt,rect:A}:null},[k,C]),I=b.useRef(null),[$,U]=b.useState(null),[M,F]=b.useState(null),V=ab(m,Object.values(m)),Y=Qj("DndDescribedBy",o),K=b.useMemo(()=>P.getEnabled(),[P]),z=vtt(f),{droppableRects:L,measureDroppableContainers:ee,measuringScheduled:le}=Qet(K,{dragging:S,dependencies:[T.x,T.y],config:z.droppable}),ve=Yet(_,k),ne=b.useMemo(()=>M?XO(M):null,[M]),be=wpe(),ge=Zet(ve,z.draggable.measure);xtt({activeNode:k!=null?_.get(k):null,config:be.layoutShiftCompensation,initialRect:ge,measure:z.draggable.measure});const we=JU(ve,z.draggable.measure,ge),Ae=JU(ve?ve.parentElement:null),X=b.useRef({activatorEvent:null,active:null,activeNode:ve,collisionRect:null,collisions:null,droppableRects:L,draggableNodes:_,draggingNode:null,draggingNodeRect:null,droppableContainers:P,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),xe=P.getNodeFor((n=X.current.over)==null?void 0:n.id),Be=ltt({measure:z.dragOverlay.measure}),At=(r=Be.nodeRef.current)!=null?r:ve,Pt=S?(a=Be.rect)!=null?a:we:null,sn=!!(Be.nodeRef.current&&Be.rect),Kr=ttt(sn?null:we),mr=wce(At?Xa(At):null),$n=ntt(S?xe??ve:null),nr=itt($n),J=gtt(g,{transform:{x:T.x-Kr.x,y:T.y-Kr.y,scaleX:1,scaleY:1},activatorEvent:M,active:E,activeNodeRect:we,containerNodeRect:Ae,draggingNodeRect:Pt,over:X.current.over,overlayNodeRect:Be.rect,scrollableAncestors:$n,scrollableAncestorRects:nr,windowRect:mr}),oe=ne?gp(ne,T):null,pe=rtt($n),Le=tV(pe),$e=tV(pe,[we]),_e=gp(J,Le),Ve=Pt?Cet(Pt,J):null,Mt=E&&Ve?h({active:E,collisionRect:Ve,droppableRects:L,droppableContainers:K,pointerCoordinates:oe}):null,Pn=xet(Mt,"id"),[xn,lh]=b.useState(null),ue=sn?J:gp(J,$e),Ie=wet(ue,(i=xn==null?void 0:xn.rect)!=null?i:null,we),Et=b.useRef(null),Gr=b.useCallback((Ls,Qa)=>{let{sensor:Za,options:Nd}=Qa;if(I.current==null)return;const Ti=_.get(I.current);if(!Ti)return;const Ja=Ls.nativeEvent,pl=new Za({active:I.current,activeNode:Ti,event:Ja,options:Nd,context:X,onAbort(As){if(!_.get(As))return;const{onDragAbort:gl}=V.current,vc={id:As};gl==null||gl(vc),y({type:"onDragAbort",event:vc})},onPending(As,Sd,gl,vc){if(!_.get(As))return;const{onDragPending:Qv}=V.current,Cd={id:As,constraint:Sd,initialCoordinates:gl,offset:vc};Qv==null||Qv(Cd),y({type:"onDragPending",event:Cd})},onStart(As){const Sd=I.current;if(Sd==null)return;const gl=_.get(Sd);if(!gl)return;const{onDragStart:vc}=V.current,Xv={activatorEvent:Ja,active:{id:Sd,data:gl.data,rect:A}};Gi.unstable_batchedUpdates(()=>{vc==null||vc(Xv),w(zd.Initializing),v({type:ts.DragStart,initialCoordinates:As,active:Sd}),y({type:"onDragStart",event:Xv}),U(Et.current),F(Ja)})},onMove(As){v({type:ts.DragMove,coordinates:As})},onEnd:lm(ts.DragEnd),onCancel:lm(ts.DragCancel)});Et.current=pl;function lm(As){return async function(){const{active:gl,collisions:vc,over:Xv,scrollAdjustedTranslate:Qv}=X.current;let Cd=null;if(gl&&Qv){const{cancelDrop:Zv}=V.current;Cd={activatorEvent:Ja,active:gl,collisions:vc,delta:Qv,over:Xv},As===ts.DragEnd&&typeof Zv=="function"&&await Promise.resolve(Zv(Cd))&&(As=ts.DragCancel)}I.current=null,Gi.unstable_batchedUpdates(()=>{v({type:As}),w(zd.Uninitialized),lh(null),U(null),F(null),Et.current=null;const Zv=As===ts.DragEnd?"onDragEnd":"onDragCancel";if(Cd){const cP=V.current[Zv];cP==null||cP(Cd),y({type:Zv,event:Cd})}})}}},[_]),rr=b.useCallback((Ls,Qa)=>(Za,Nd)=>{const Ti=Za.nativeEvent,Ja=_.get(Nd);if(I.current!==null||!Ja||Ti.dndKit||Ti.defaultPrevented)return;const pl={active:Ja};Ls(Za,Qa.options,pl)===!0&&(Ti.dndKit={capturedBy:Qa.sensor},I.current=Nd,Gr(Za,Qa))},[_,Gr]),ml=Xet(u,rr);stt(u),dc(()=>{we&&N===zd.Initializing&&w(zd.Initialized)},[we,N]),b.useEffect(()=>{const{onDragMove:Ls}=V.current,{active:Qa,activatorEvent:Za,collisions:Nd,over:Ti}=X.current;if(!Qa||!Za)return;const Ja={active:Qa,activatorEvent:Za,collisions:Nd,delta:{x:_e.x,y:_e.y},over:Ti};Gi.unstable_batchedUpdates(()=>{Ls==null||Ls(Ja),y({type:"onDragMove",event:Ja})})},[_e.x,_e.y]),b.useEffect(()=>{const{active:Ls,activatorEvent:Qa,collisions:Za,droppableContainers:Nd,scrollAdjustedTranslate:Ti}=X.current;if(!Ls||I.current==null||!Qa||!Ti)return;const{onDragOver:Ja}=V.current,pl=Nd.get(Pn),lm=pl&&pl.rect.current?{id:pl.id,rect:pl.rect.current,data:pl.data,disabled:pl.disabled}:null,As={active:Ls,activatorEvent:Qa,collisions:Za,delta:{x:Ti.x,y:Ti.y},over:lm};Gi.unstable_batchedUpdates(()=>{lh(lm),Ja==null||Ja(As),y({type:"onDragOver",event:As})})},[Pn]),dc(()=>{X.current={activatorEvent:M,active:E,activeNode:ve,collisionRect:Ve,collisions:Mt,droppableRects:L,draggableNodes:_,draggingNode:At,draggingNodeRect:Pt,droppableContainers:P,over:xn,scrollableAncestors:$n,scrollAdjustedTranslate:_e},A.current={initial:Pt,translated:Ve}},[E,ve,Mt,Ve,_,At,Pt,L,P,xn,$n,_e]),qet({...be,delta:T,draggingRect:Ve,pointerCoordinates:oe,scrollableAncestors:$n,scrollableAncestorRects:nr});const bpe=b.useMemo(()=>({active:E,activeNode:ve,activeNodeRect:we,activatorEvent:M,collisions:Mt,containerNodeRect:Ae,dragOverlay:Be,draggableNodes:_,droppableContainers:P,droppableRects:L,over:xn,measureDroppableContainers:ee,scrollableAncestors:$n,scrollableAncestorRects:nr,measuringConfiguration:z,measuringScheduled:le,windowRect:mr}),[E,ve,we,M,Mt,Ae,Be,_,P,L,xn,ee,$n,nr,z,le,mr]),jpe=b.useMemo(()=>({activatorEvent:M,activators:ml,active:E,activeNodeRect:we,ariaDescribedById:{draggable:Y},dispatch:v,draggableNodes:_,over:xn,measureDroppableContainers:ee}),[M,ml,E,we,v,Y,_,xn,ee]);return O.createElement(uce.Provider,{value:j},O.createElement(D_.Provider,{value:jpe},O.createElement(Nce.Provider,{value:bpe},O.createElement(Sce.Provider,{value:Ie},d)),O.createElement(ptt,{disabled:(l==null?void 0:l.restoreFocus)===!1})),O.createElement(het,{...l,hiddenTextDescribedById:Y}));function wpe(){const Ls=($==null?void 0:$.autoScrollEnabled)===!1,Qa=typeof c=="object"?c.enabled===!1:c===!1,Za=S&&!Ls&&!Qa;return typeof c=="object"?{...c,enabled:Za}:{enabled:Za}}}),btt=b.createContext(null),rV="button",jtt="Draggable";function wtt(e){let{id:t,data:n,disabled:r=!1,attributes:a}=e;const i=Qj(jtt),{activators:o,activatorEvent:l,active:c,activeNodeRect:d,ariaDescribedById:u,draggableNodes:h,over:f}=b.useContext(D_),{role:g=rV,roleDescription:m="draggable",tabIndex:p=0}=a??{},x=(c==null?void 0:c.id)===t,v=b.useContext(x?Sce:btt),[y,j]=DC(),[N,w]=DC(),S=att(o,t),k=ab(n);dc(()=>(h.set(t,{id:t,key:i,node:y,activatorNode:N,data:k}),()=>{const T=h.get(t);T&&T.key===i&&h.delete(t)}),[h,t]);const _=b.useMemo(()=>({role:g,tabIndex:p,"aria-disabled":r,"aria-pressed":x&&g===rV?!0:void 0,"aria-roledescription":m,"aria-describedby":u.draggable}),[r,g,p,x,m,u.draggable]);return{active:c,activatorEvent:l,activeNodeRect:d,attributes:_,isDragging:x,listeners:r?void 0:S,node:y,over:f,setNodeRef:j,setActivatorNodeRef:w,transform:v}}function Ntt(){return b.useContext(Nce)}const Stt="Droppable",Ctt={timeout:25};function ktt(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:a}=e;const i=Qj(Stt),{active:o,dispatch:l,over:c,measureDroppableContainers:d}=b.useContext(D_),u=b.useRef({disabled:n}),h=b.useRef(!1),f=b.useRef(null),g=b.useRef(null),{disabled:m,updateMeasurementsFor:p,timeout:x}={...Ctt,...a},v=ab(p??r),y=b.useCallback(()=>{if(!h.current){h.current=!0;return}g.current!=null&&clearTimeout(g.current),g.current=setTimeout(()=>{d(Array.isArray(v.current)?v.current:[v.current]),g.current=null},x)},[x]),j=E_({callback:y,disabled:m||!o}),N=b.useCallback((_,T)=>{j&&(T&&(j.unobserve(T),h.current=!1),_&&j.observe(_))},[j]),[w,S]=DC(N),k=ab(t);return b.useEffect(()=>{!j||!w.current||(j.disconnect(),h.current=!1,j.observe(w.current))},[w,j]),b.useEffect(()=>(l({type:ts.RegisterDroppable,element:{id:r,key:i,disabled:n,node:w,rect:f,data:k}}),()=>l({type:ts.UnregisterDroppable,key:i,id:r})),[r]),b.useEffect(()=>{n!==u.current.disabled&&(l({type:ts.SetDroppableDisabled,id:r,key:i,disabled:n}),u.current.disabled=n)},[r,i,n,l]),{active:o,rect:f,isOver:(c==null?void 0:c.id)===r,node:w,over:c,setNodeRef:S}}function Cce(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function _tt(e,t){return e.reduce((n,r,a)=>{const i=t.get(r);return i&&(n[a]=i),n},Array(e.length))}function dN(e){return e!==null&&e>=0}function Ptt(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Ttt(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const kce=e=>{let{rects:t,activeIndex:n,overIndex:r,index:a}=e;const i=Cce(t,r,n),o=t[a],l=i[a];return!l||!o?null:{x:l.left-o.left,y:l.top-o.top,scaleX:l.width/o.width,scaleY:l.height/o.height}},uN={scaleX:1,scaleY:1},_ce=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:a,rects:i,overIndex:o}=e;const l=(t=i[n])!=null?t:r;if(!l)return null;if(a===n){const d=i[o];return d?{x:0,y:n<o?d.top+d.height-(l.top+l.height):d.top-l.top,...uN}:null}const c=Att(i,a,n);return a>n&&a<=o?{x:0,y:-l.height-c,...uN}:a<n&&a>=o?{x:0,y:l.height+c,...uN}:{x:0,y:0,...uN}};function Att(e,t,n){const r=e[t],a=e[t-1],i=e[t+1];return r?n<t?a?r.top-(a.top+a.height):i?i.top-(r.top+r.height):0:i?i.top-(r.top+r.height):a?r.top-(a.top+a.height):0:0}const Pce="Sortable",Tce=O.createContext({activeIndex:-1,containerId:Pce,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:kce,disabled:{draggable:!1,droppable:!1}});function Ace(e){let{children:t,id:n,items:r,strategy:a=kce,disabled:i=!1}=e;const{active:o,dragOverlay:l,droppableRects:c,over:d,measureDroppableContainers:u}=Ntt(),h=Qj(Pce,n),f=l.rect!==null,g=b.useMemo(()=>r.map(S=>typeof S=="object"&&"id"in S?S.id:S),[r]),m=o!=null,p=o?g.indexOf(o.id):-1,x=d?g.indexOf(d.id):-1,v=b.useRef(g),y=!Ptt(g,v.current),j=x!==-1&&p===-1||y,N=Ttt(i);dc(()=>{y&&m&&u(g)},[y,g,m,u]),b.useEffect(()=>{v.current=g},[g]);const w=b.useMemo(()=>({activeIndex:p,containerId:h,disabled:N,disableTransforms:j,items:g,overIndex:x,useDragOverlay:f,sortedRects:_tt(g,c),strategy:a}),[p,h,N.draggable,N.droppable,j,g,x,c,f,a]);return O.createElement(Tce.Provider,{value:w},t)}const Ett=e=>{let{id:t,items:n,activeIndex:r,overIndex:a}=e;return Cce(n,r,a).indexOf(t)},Dtt=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:a,items:i,newIndex:o,previousItems:l,previousContainerId:c,transition:d}=e;return!d||!r||l!==i&&a===o?!1:n?!0:o!==a&&t===c},Ott={duration:200,easing:"ease"},Ece="transform",Mtt=ib.Transition.toString({property:Ece,duration:0,easing:"linear"}),Rtt={roleDescription:"sortable"};function $tt(e){let{disabled:t,index:n,node:r,rect:a}=e;const[i,o]=b.useState(null),l=b.useRef(n);return dc(()=>{if(!t&&n!==l.current&&r.current){const c=a.current;if(c){const d=Bv(r.current,{ignoreTransform:!0}),u={x:c.left-d.left,y:c.top-d.top,scaleX:c.width/d.width,scaleY:c.height/d.height};(u.x||u.y)&&o(u)}}n!==l.current&&(l.current=n)},[t,n,r,a]),b.useEffect(()=>{i&&o(null)},[i]),i}function Itt(e){let{animateLayoutChanges:t=Dtt,attributes:n,disabled:r,data:a,getNewIndex:i=Ett,id:o,strategy:l,resizeObserverConfig:c,transition:d=Ott}=e;const{items:u,containerId:h,activeIndex:f,disabled:g,disableTransforms:m,sortedRects:p,overIndex:x,useDragOverlay:v,strategy:y}=b.useContext(Tce),j=Ftt(r,g),N=u.indexOf(o),w=b.useMemo(()=>({sortable:{containerId:h,index:N,items:u},...a}),[h,a,N,u]),S=b.useMemo(()=>u.slice(u.indexOf(o)),[u,o]),{rect:k,node:_,isOver:T,setNodeRef:P}=ktt({id:o,data:w,disabled:j.droppable,resizeObserverConfig:{updateMeasurementsFor:S,...c}}),{active:C,activatorEvent:A,activeNodeRect:E,attributes:I,setNodeRef:$,listeners:U,isDragging:M,over:F,setActivatorNodeRef:V,transform:Y}=wtt({id:o,data:w,attributes:{...Rtt,...n},disabled:j.draggable}),K=ZJe(P,$),z=!!C,L=z&&!m&&dN(f)&&dN(x),ee=!v&&M,le=ee&&L?Y:null,ne=L?le??(l??y)({rects:p,activeNodeRect:E,activeIndex:f,overIndex:x,index:N}):null,be=dN(f)&&dN(x)?i({id:o,items:u,activeIndex:f,overIndex:x}):N,ge=C==null?void 0:C.id,we=b.useRef({activeId:ge,items:u,newIndex:be,containerId:h}),Ae=u!==we.current.items,X=t({active:C,containerId:h,isDragging:M,isSorting:z,id:o,index:N,items:u,newIndex:we.current.newIndex,previousItems:we.current.items,previousContainerId:we.current.containerId,transition:d,wasDragging:we.current.activeId!=null}),xe=$tt({disabled:!X,index:N,node:_,rect:k});return b.useEffect(()=>{z&&we.current.newIndex!==be&&(we.current.newIndex=be),h!==we.current.containerId&&(we.current.containerId=h),u!==we.current.items&&(we.current.items=u)},[z,be,h,u]),b.useEffect(()=>{if(ge===we.current.activeId)return;if(ge!=null&&we.current.activeId==null){we.current.activeId=ge;return}const At=setTimeout(()=>{we.current.activeId=ge},50);return()=>clearTimeout(At)},[ge]),{active:C,activeIndex:f,attributes:I,data:w,rect:k,index:N,newIndex:be,items:u,isOver:T,isSorting:z,isDragging:M,listeners:U,node:_,overIndex:x,over:F,setNodeRef:K,setActivatorNodeRef:V,setDroppableNodeRef:P,setDraggableNodeRef:$,transform:xe??ne,transition:Be()};function Be(){if(xe||Ae&&we.current.newIndex===N)return Mtt;if(!(ee&&!XI(A)||!d)&&(z||X))return ib.Transition.toString({...d,property:Ece})}}function Ftt(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}an.Down,an.Right,an.Up,an.Left;const d1={pending:{title:"To Do",color:"text-gray-700",bgColor:"bg-gray-50"},critical:{title:"Critical",color:"text-red-700",bgColor:"bg-red-50"},high:{title:"High Priority",color:"text-orange-700",bgColor:"bg-orange-50"},medium:{title:"In Progress",color:"text-blue-700",bgColor:"bg-blue-50"},low:{title:"Low Priority",color:"text-green-700",bgColor:"bg-green-50"},complete:{title:"Completed",color:"text-emerald-700",bgColor:"bg-emerald-50"},overdue:{title:"Overdue",color:"text-red-700",bgColor:"bg-red-100"}};function Ltt({task:e,onClick:t}){const{attributes:n,listeners:r,setNodeRef:a,transform:i,transition:o,isDragging:l}=Itt({id:e.id}),c={transform:ib.Transform.toString(i),transition:o,opacity:l?.5:1},d=e.dueDate&&new Date(e.dueDate)<new Date&&!e.completed,u=e.subtasks&&e.subtasks.length>0,h=u?e.subtasks.filter(f=>f.completed).length:0;return s.jsx(B,{ref:a,style:c,...n,...r,className:`cursor-pointer hover:shadow-md transition-all duration-200 border-l-4 ${e.priority==="high"?"border-l-red-500":e.priority==="medium"?"border-l-yellow-500":"border-l-green-500"} ${l?"shadow-lg scale-105":""}`,onClick:()=>t(e),"data-testid":`task-card-${e.id}`,children:s.jsx(q,{className:"p-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("h4",{className:"font-medium text-sm leading-tight line-clamp-2",children:e.description}),d&&s.jsx(hs,{className:"h-4 w-4 text-red-500 flex-shrink-0 ml-2"})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(Z,{variant:"outline",className:`text-xs ${e.priority==="high"?"bg-red-100 text-red-800 border-red-200":e.priority==="medium"?"bg-yellow-100 text-yellow-800 border-yellow-200":"bg-green-100 text-green-800 border-green-200"}`,children:e.priority}),e.completed&&s.jsx(Z,{className:"bg-emerald-100 text-emerald-800 text-xs",children:"Completed"})]}),u&&s.jsxs("div",{className:"text-xs text-gray-600 bg-gray-100 rounded px-2 py-1",children:["Subtasks: ",h,"/",e.subtasks.length," completed"]}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[s.jsx("div",{className:"flex items-center space-x-3",children:e.assignedTo&&s.jsxs("span",{className:"flex items-center",title:`Assigned to ${e.assignedTo.name}`,children:[s.jsx(gn,{className:"h-3 w-3 mr-1"}),s.jsx("span",{className:"truncate max-w-20",children:e.assignedTo.name})]})}),e.dueDate&&s.jsxs("span",{className:`flex items-center ${d?"text-red-600 font-medium":""}`,children:[s.jsx(bt,{className:"h-3 w-3 mr-1"}),Me(new Date(e.dueDate),"MMM d")]})]})]})})})}function ztt({status:e,tasks:t,onTaskClick:n,onCreateTask:r}){const a=d1[e];return s.jsxs("div",{className:`${a.bgColor} rounded-lg p-4 min-h-96 flex flex-col`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("h3",{className:`font-semibold ${a.color}`,children:a.title}),s.jsx(Z,{variant:"secondary",className:"bg-white/80",children:t.length})]}),s.jsx(D,{variant:"ghost",size:"sm",onClick:()=>r(e),className:"h-8 w-8 p-0 hover:bg-white/50","data-testid":`add-task-${e}`,children:s.jsx(st,{className:"h-4 w-4"})})]}),s.jsx(Ace,{items:t.map(i=>i.id),strategy:_ce,children:s.jsxs("div",{className:"space-y-3 flex-1",children:[t.map(i=>s.jsx(Ltt,{task:i,onClick:n},i.id)),t.length===0&&s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx("div",{className:"text-sm",children:"No tasks"}),s.jsxs(D,{variant:"ghost",size:"sm",onClick:()=>r(e),className:"mt-2 text-xs",children:[s.jsx(st,{className:"h-3 w-3 mr-1"}),"Add task"]})]})]})})]})}function Btt({tasks:e,projectId:t,onTaskClick:n,onCreateTask:r}){const[a,i]=b.useState(null),o=qr(),{toast:l}=mt(),c=met(fet(eF,{activationConstraint:{distance:8}})),d=Se({mutationFn:async({taskId:m,status:p})=>await ke(`/api/tasks/${m}`,"PATCH",{status:p}),onSuccess:()=>{o.invalidateQueries({queryKey:["/api/tasks","project",t]}),l({title:"Task updated",description:"Task status has been updated successfully."})},onError:()=>{l({title:"Error",description:"Failed to update task status.",variant:"destructive"})}}),u=Object.keys(d1).reduce((m,p)=>(m[p]=e.filter(x=>x.status===p),m),{}),h=m=>{i(m.active.id)},f=m=>{const{active:p,over:x}=m;if(!x){i(null);return}const v=p.id,y=x.id;if(Object.keys(d1).includes(y)){const j=e.find(N=>N.id===v);j&&j.status!==y&&d.mutate({taskId:v,status:y})}i(null)},g=m=>{r(m)};return s.jsx(ytt,{sensors:c,collisionDetection:yet,onDragStart:h,onDragEnd:f,children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-7 gap-4 pb-6",children:Object.keys(d1).map(m=>s.jsx(Ace,{items:[m],strategy:_ce,children:s.jsx("div",{"data-testid":`column-${m}`,children:s.jsx(ztt,{status:m,tasks:u[m],onTaskClick:n,onCreateTask:g})})},m))})})}var Zj=e=>e.type==="checkbox",Fh=e=>e instanceof Date,xa=e=>e==null;const Dce=e=>typeof e=="object";var Rr=e=>!xa(e)&&!Array.isArray(e)&&Dce(e)&&!Fh(e),Oce=e=>Rr(e)&&e.target?Zj(e.target)?e.target.checked:e.target.value:e,Utt=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Mce=(e,t)=>e.has(Utt(t)),Vtt=e=>{const t=e.constructor&&e.constructor.prototype;return Rr(t)&&t.hasOwnProperty("isPrototypeOf")},tF=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Es(e){let t;const n=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(tF&&(e instanceof Blob||r))&&(n||Rr(e)))if(t=n?[]:{},!n&&!Vtt(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=Es(e[a]));else return e;return t}var O_=e=>Array.isArray(e)?e.filter(Boolean):[],Ar=e=>e===void 0,Ue=(e,t,n)=>{if(!t||!Rr(e))return n;const r=O_(t.split(/[,[\].]+?/)).reduce((a,i)=>xa(a)?a:a[i],e);return Ar(r)||r===e?Ar(e[t])?n:e[t]:r},ai=e=>typeof e=="boolean",nF=e=>/^\w*$/.test(e),Rce=e=>O_(e.replace(/["|']|\]/g,"").split(/\.|\[/)),dn=(e,t,n)=>{let r=-1;const a=nF(t)?[t]:Rce(t),i=a.length,o=i-1;for(;++r<i;){const l=a[r];let c=n;if(r!==o){const d=e[l];c=Rr(d)||Array.isArray(d)?d:isNaN(+a[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const $C={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},$o={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},bc={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},$ce=O.createContext(null),M_=()=>O.useContext($ce),Wtt=e=>{const{children:t,...n}=e;return O.createElement($ce.Provider,{value:n},t)};var Ice=(e,t,n,r=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==$o.all&&(t._proxyFormState[o]=!r||$o.all),n&&(n[o]=!0),e[o]}});return a};function Htt(e){const t=M_(),{control:n=t.control,disabled:r,name:a,exact:i}=e||{},[o,l]=O.useState(n._formState),c=O.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=O.useRef(a);return d.current=a,O.useEffect(()=>n._subscribe({name:d.current,formState:c.current,exact:i,callback:u=>{!r&&l({...n._formState,...u})}}),[n,r,i]),O.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),O.useMemo(()=>Ice(o,n,c.current,!1),[o,n])}var Ul=e=>typeof e=="string",Fce=(e,t,n,r,a)=>Ul(e)?(r&&t.watch.add(e),Ue(n,e,a)):Array.isArray(e)?e.map(i=>(r&&t.watch.add(i),Ue(n,i))):(r&&(t.watchAll=!0),n);function qtt(e){const t=M_(),{control:n=t.control,name:r,defaultValue:a,disabled:i,exact:o}=e||{},l=O.useRef(r),c=O.useRef(a);l.current=r,O.useEffect(()=>n._subscribe({name:l.current,formState:{values:!0},exact:o,callback:h=>!i&&u(Fce(l.current,n._names,h.values||n._formValues,!1,c.current))}),[n,i,o]);const[d,u]=O.useState(n._getWatch(r,a));return O.useEffect(()=>n._removeUnmounted()),d}function Ktt(e){const t=M_(),{name:n,disabled:r,control:a=t.control,shouldUnregister:i}=e,o=Mce(a._names.array,n),l=qtt({control:a,name:n,defaultValue:Ue(a._formValues,n,Ue(a._defaultValues,n,e.defaultValue)),exact:!0}),c=Htt({control:a,name:n,exact:!0}),d=O.useRef(e),u=O.useRef(a.register(n,{...e.rules,value:l,...ai(e.disabled)?{disabled:e.disabled}:{}})),h=O.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ue(c.errors,n)},isDirty:{enumerable:!0,get:()=>!!Ue(c.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Ue(c.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Ue(c.validatingFields,n)},error:{enumerable:!0,get:()=>Ue(c.errors,n)}}),[c,n]),f=O.useCallback(x=>u.current.onChange({target:{value:Oce(x),name:n},type:$C.CHANGE}),[n]),g=O.useCallback(()=>u.current.onBlur({target:{value:Ue(a._formValues,n),name:n},type:$C.BLUR}),[n,a._formValues]),m=O.useCallback(x=>{const v=Ue(a._fields,n);v&&x&&(v._f.ref={focus:()=>x.focus(),select:()=>x.select(),setCustomValidity:y=>x.setCustomValidity(y),reportValidity:()=>x.reportValidity()})},[a._fields,n]),p=O.useMemo(()=>({name:n,value:l,...ai(r)||c.disabled?{disabled:c.disabled||r}:{},onChange:f,onBlur:g,ref:m}),[n,r,c.disabled,f,g,m,l]);return O.useEffect(()=>{const x=a._options.shouldUnregister||i;a.register(n,{...d.current.rules,...ai(d.current.disabled)?{disabled:d.current.disabled}:{}});const v=(y,j)=>{const N=Ue(a._fields,y);N&&N._f&&(N._f.mount=j)};if(v(n,!0),x){const y=Es(Ue(a._options.defaultValues,n));dn(a._defaultValues,n,y),Ar(Ue(a._formValues,n))&&dn(a._formValues,n,y)}return!o&&a.register(n),()=>{(o?x&&!a._state.action:x)?a.unregister(n):v(n,!1)}},[n,a,o,i]),O.useEffect(()=>{a._setDisabledField({disabled:r,name:n})},[r,n,a]),O.useMemo(()=>({field:p,formState:c,fieldState:h}),[p,c,h])}const Gtt=e=>e.render(Ktt(e));var Lce=(e,t,n,r,a)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:a||!0}}:{},Sy=e=>Array.isArray(e)?e:[e],sV=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},eM=e=>xa(e)||!Dce(e);function Hd(e,t){if(eM(e)||eM(t))return e===t;if(Fh(e)&&Fh(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const a of n){const i=e[a];if(!r.includes(a))return!1;if(a!=="ref"){const o=t[a];if(Fh(i)&&Fh(o)||Rr(i)&&Rr(o)||Array.isArray(i)&&Array.isArray(o)?!Hd(i,o):i!==o)return!1}}return!0}var pa=e=>Rr(e)&&!Object.keys(e).length,rF=e=>e.type==="file",Io=e=>typeof e=="function",IC=e=>{if(!tF)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},zce=e=>e.type==="select-multiple",sF=e=>e.type==="radio",Ytt=e=>sF(e)||Zj(e),VT=e=>IC(e)&&e.isConnected;function Xtt(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=Ar(e)?r++:e[t[r++]];return e}function Qtt(e){for(const t in e)if(e.hasOwnProperty(t)&&!Ar(e[t]))return!1;return!0}function Qr(e,t){const n=Array.isArray(t)?t:nF(t)?[t]:Rce(t),r=n.length===1?e:Xtt(e,n),a=n.length-1,i=n[a];return r&&delete r[i],a!==0&&(Rr(r)&&pa(r)||Array.isArray(r)&&Qtt(r))&&Qr(e,n.slice(0,-1)),e}var Bce=e=>{for(const t in e)if(Io(e[t]))return!0;return!1};function FC(e,t={}){const n=Array.isArray(e);if(Rr(e)||n)for(const r in e)Array.isArray(e[r])||Rr(e[r])&&!Bce(e[r])?(t[r]=Array.isArray(e[r])?[]:{},FC(e[r],t[r])):xa(e[r])||(t[r]=!0);return t}function Uce(e,t,n){const r=Array.isArray(e);if(Rr(e)||r)for(const a in e)Array.isArray(e[a])||Rr(e[a])&&!Bce(e[a])?Ar(t)||eM(n[a])?n[a]=Array.isArray(e[a])?FC(e[a],[]):{...FC(e[a])}:Uce(e[a],xa(t)?{}:t[a],n[a]):n[a]=!Hd(e[a],t[a]);return n}var wx=(e,t)=>Uce(e,t,FC(t));const aV={value:!1,isValid:!1},iV={value:!0,isValid:!0};var Vce=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Ar(e[0].attributes.value)?Ar(e[0].value)||e[0].value===""?iV:{value:e[0].value,isValid:!0}:iV:aV}return aV},Wce=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>Ar(e)?e:t?e===""?NaN:e&&+e:n&&Ul(e)?new Date(e):r?r(e):e;const oV={isValid:!1,value:null};var Hce=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,oV):oV;function lV(e){const t=e.ref;return rF(t)?t.files:sF(t)?Hce(e.refs).value:zce(t)?[...t.selectedOptions].map(({value:n})=>n):Zj(t)?Vce(e.refs).value:Wce(Ar(t.value)?e.ref.value:t.value,e)}var Ztt=(e,t,n,r)=>{const a={};for(const i of e){const o=Ue(t,i);o&&dn(a,i,o._f)}return{criteriaMode:n,names:[...e],fields:a,shouldUseNativeValidation:r}},LC=e=>e instanceof RegExp,Nx=e=>Ar(e)?e:LC(e)?e.source:Rr(e)?LC(e.value)?e.value.source:e.value:e,cV=e=>({isOnSubmit:!e||e===$o.onSubmit,isOnBlur:e===$o.onBlur,isOnChange:e===$o.onChange,isOnAll:e===$o.all,isOnTouch:e===$o.onTouched});const dV="AsyncFunction";var Jtt=e=>!!e&&!!e.validate&&!!(Io(e.validate)&&e.validate.constructor.name===dV||Rr(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===dV)),ent=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),uV=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const Cy=(e,t,n,r)=>{for(const a of n||Object.keys(e)){const i=Ue(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!r)return!0;if(o.ref&&t(o.ref,o.name)&&!r)return!0;if(Cy(l,t))break}else if(Rr(l)&&Cy(l,t))break}}};function hV(e,t,n){const r=Ue(e,n);if(r||nF(n))return{error:r,name:n};const a=n.split(".");for(;a.length;){const i=a.join("."),o=Ue(t,i),l=Ue(e,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(l&&l.type)return{name:i,error:l};a.pop()}return{name:n}}var tnt=(e,t,n,r)=>{n(e);const{name:a,...i}=e;return pa(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!r||$o.all))},nnt=(e,t,n)=>!e||!t||e===t||Sy(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r))),rnt=(e,t,n,r,a)=>a.isOnAll?!1:!n&&a.isOnTouch?!(t||e):(n?r.isOnBlur:a.isOnBlur)?!e:(n?r.isOnChange:a.isOnChange)?e:!0,snt=(e,t)=>!O_(Ue(e,t)).length&&Qr(e,t),ant=(e,t,n)=>{const r=Sy(Ue(e,n));return dn(r,"root",t[n]),dn(e,n,r),e},u1=e=>Ul(e);function fV(e,t,n="validate"){if(u1(e)||Array.isArray(e)&&e.every(u1)||ai(e)&&!e)return{type:n,message:u1(e)?e:"",ref:t}}var xm=e=>Rr(e)&&!LC(e)?e:{value:e,message:""},mV=async(e,t,n,r,a,i)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:u,min:h,max:f,pattern:g,validate:m,name:p,valueAsNumber:x,mount:v}=e._f,y=Ue(n,p);if(!v||t.has(p))return{};const j=l?l[0]:o,N=A=>{a&&j.reportValidity&&(j.setCustomValidity(ai(A)?"":A||""),j.reportValidity())},w={},S=sF(o),k=Zj(o),_=S||k,T=(x||rF(o))&&Ar(o.value)&&Ar(y)||IC(o)&&o.value===""||y===""||Array.isArray(y)&&!y.length,P=Lce.bind(null,p,r,w),C=(A,E,I,$=bc.maxLength,U=bc.minLength)=>{const M=A?E:I;w[p]={type:A?$:U,message:M,ref:o,...P(A?$:U,M)}};if(i?!Array.isArray(y)||!y.length:c&&(!_&&(T||xa(y))||ai(y)&&!y||k&&!Vce(l).isValid||S&&!Hce(l).isValid)){const{value:A,message:E}=u1(c)?{value:!!c,message:c}:xm(c);if(A&&(w[p]={type:bc.required,message:E,ref:j,...P(bc.required,E)},!r))return N(E),w}if(!T&&(!xa(h)||!xa(f))){let A,E;const I=xm(f),$=xm(h);if(!xa(y)&&!isNaN(y)){const U=o.valueAsNumber||y&&+y;xa(I.value)||(A=U>I.value),xa($.value)||(E=U<$.value)}else{const U=o.valueAsDate||new Date(y),M=Y=>new Date(new Date().toDateString()+" "+Y),F=o.type=="time",V=o.type=="week";Ul(I.value)&&y&&(A=F?M(y)>M(I.value):V?y>I.value:U>new Date(I.value)),Ul($.value)&&y&&(E=F?M(y)<M($.value):V?y<$.value:U<new Date($.value))}if((A||E)&&(C(!!A,I.message,$.message,bc.max,bc.min),!r))return N(w[p].message),w}if((d||u)&&!T&&(Ul(y)||i&&Array.isArray(y))){const A=xm(d),E=xm(u),I=!xa(A.value)&&y.length>+A.value,$=!xa(E.value)&&y.length<+E.value;if((I||$)&&(C(I,A.message,E.message),!r))return N(w[p].message),w}if(g&&!T&&Ul(y)){const{value:A,message:E}=xm(g);if(LC(A)&&!y.match(A)&&(w[p]={type:bc.pattern,message:E,ref:o,...P(bc.pattern,E)},!r))return N(E),w}if(m){if(Io(m)){const A=await m(y,n),E=fV(A,j);if(E&&(w[p]={...E,...P(bc.validate,E.message)},!r))return N(E.message),w}else if(Rr(m)){let A={};for(const E in m){if(!pa(A)&&!r)break;const I=fV(await m[E](y,n),j,E);I&&(A={...I,...P(E,I.message)},N(I.message),r&&(w[p]=A))}if(!pa(A)&&(w[p]={ref:j,...A},!r))return w}}return N(!0),w};const int={mode:$o.onSubmit,reValidateMode:$o.onChange,shouldFocusError:!0};function ont(e={}){let t={...int,...e},n={submitCount:0,isDirty:!1,isLoading:Io(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const r={};let a=Rr(t.defaultValues)||Rr(t.values)?Es(t.values||t.defaultValues)||{}:{},i=t.shouldUnregister?{}:Es(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...u};const f={array:sV(),state:sV()},g=cV(t.mode),m=cV(t.reValidateMode),p=t.criteriaMode===$o.all,x=J=>oe=>{clearTimeout(d),d=setTimeout(J,oe)},v=async J=>{if(!t.disabled&&(u.isValid||h.isValid||J)){const oe=t.resolver?pa((await T()).errors):await C(r,!0);oe!==n.isValid&&f.state.next({isValid:oe})}},y=(J,oe)=>{!t.disabled&&(u.isValidating||u.validatingFields||h.isValidating||h.validatingFields)&&((J||Array.from(l.mount)).forEach(pe=>{pe&&(oe?dn(n.validatingFields,pe,oe):Qr(n.validatingFields,pe))}),f.state.next({validatingFields:n.validatingFields,isValidating:!pa(n.validatingFields)}))},j=(J,oe=[],pe,Le,$e=!0,_e=!0)=>{if(Le&&pe&&!t.disabled){if(o.action=!0,_e&&Array.isArray(Ue(r,J))){const Ve=pe(Ue(r,J),Le.argA,Le.argB);$e&&dn(r,J,Ve)}if(_e&&Array.isArray(Ue(n.errors,J))){const Ve=pe(Ue(n.errors,J),Le.argA,Le.argB);$e&&dn(n.errors,J,Ve),snt(n.errors,J)}if((u.touchedFields||h.touchedFields)&&_e&&Array.isArray(Ue(n.touchedFields,J))){const Ve=pe(Ue(n.touchedFields,J),Le.argA,Le.argB);$e&&dn(n.touchedFields,J,Ve)}(u.dirtyFields||h.dirtyFields)&&(n.dirtyFields=wx(a,i)),f.state.next({name:J,isDirty:E(J,oe),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else dn(i,J,oe)},N=(J,oe)=>{dn(n.errors,J,oe),f.state.next({errors:n.errors})},w=J=>{n.errors=J,f.state.next({errors:n.errors,isValid:!1})},S=(J,oe,pe,Le)=>{const $e=Ue(r,J);if($e){const _e=Ue(i,J,Ar(pe)?Ue(a,J):pe);Ar(_e)||Le&&Le.defaultChecked||oe?dn(i,J,oe?_e:lV($e._f)):U(J,_e),o.mount&&v()}},k=(J,oe,pe,Le,$e)=>{let _e=!1,Ve=!1;const Mt={name:J};if(!t.disabled){if(!pe||Le){(u.isDirty||h.isDirty)&&(Ve=n.isDirty,n.isDirty=Mt.isDirty=E(),_e=Ve!==Mt.isDirty);const Pn=Hd(Ue(a,J),oe);Ve=!!Ue(n.dirtyFields,J),Pn?Qr(n.dirtyFields,J):dn(n.dirtyFields,J,!0),Mt.dirtyFields=n.dirtyFields,_e=_e||(u.dirtyFields||h.dirtyFields)&&Ve!==!Pn}if(pe){const Pn=Ue(n.touchedFields,J);Pn||(dn(n.touchedFields,J,pe),Mt.touchedFields=n.touchedFields,_e=_e||(u.touchedFields||h.touchedFields)&&Pn!==pe)}_e&&$e&&f.state.next(Mt)}return _e?Mt:{}},_=(J,oe,pe,Le)=>{const $e=Ue(n.errors,J),_e=(u.isValid||h.isValid)&&ai(oe)&&n.isValid!==oe;if(t.delayError&&pe?(c=x(()=>N(J,pe)),c(t.delayError)):(clearTimeout(d),c=null,pe?dn(n.errors,J,pe):Qr(n.errors,J)),(pe?!Hd($e,pe):$e)||!pa(Le)||_e){const Ve={...Le,..._e&&ai(oe)?{isValid:oe}:{},errors:n.errors,name:J};n={...n,...Ve},f.state.next(Ve)}},T=async J=>{y(J,!0);const oe=await t.resolver(i,t.context,Ztt(J||l.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return y(J),oe},P=async J=>{const{errors:oe}=await T(J);if(J)for(const pe of J){const Le=Ue(oe,pe);Le?dn(n.errors,pe,Le):Qr(n.errors,pe)}else n.errors=oe;return oe},C=async(J,oe,pe={valid:!0})=>{for(const Le in J){const $e=J[Le];if($e){const{_f:_e,...Ve}=$e;if(_e){const Mt=l.array.has(_e.name),Pn=$e._f&&Jtt($e._f);Pn&&u.validatingFields&&y([Le],!0);const xn=await mV($e,l.disabled,i,p,t.shouldUseNativeValidation&&!oe,Mt);if(Pn&&u.validatingFields&&y([Le]),xn[_e.name]&&(pe.valid=!1,oe))break;!oe&&(Ue(xn,_e.name)?Mt?ant(n.errors,xn,_e.name):dn(n.errors,_e.name,xn[_e.name]):Qr(n.errors,_e.name))}!pa(Ve)&&await C(Ve,oe,pe)}}return pe.valid},A=()=>{for(const J of l.unMount){const oe=Ue(r,J);oe&&(oe._f.refs?oe._f.refs.every(pe=>!VT(pe)):!VT(oe._f.ref))&&ge(J)}l.unMount=new Set},E=(J,oe)=>!t.disabled&&(J&&oe&&dn(i,J,oe),!Hd(z(),a)),I=(J,oe,pe)=>Fce(J,l,{...o.mount?i:Ar(oe)?a:Ul(J)?{[J]:oe}:oe},pe,oe),$=J=>O_(Ue(o.mount?i:a,J,t.shouldUnregister?Ue(a,J,[]):[])),U=(J,oe,pe={})=>{const Le=Ue(r,J);let $e=oe;if(Le){const _e=Le._f;_e&&(!_e.disabled&&dn(i,J,Wce(oe,_e)),$e=IC(_e.ref)&&xa(oe)?"":oe,zce(_e.ref)?[..._e.ref.options].forEach(Ve=>Ve.selected=$e.includes(Ve.value)):_e.refs?Zj(_e.ref)?_e.refs.length>1?_e.refs.forEach(Ve=>(!Ve.defaultChecked||!Ve.disabled)&&(Ve.checked=Array.isArray($e)?!!$e.find(Mt=>Mt===Ve.value):$e===Ve.value)):_e.refs[0]&&(_e.refs[0].checked=!!$e):_e.refs.forEach(Ve=>Ve.checked=Ve.value===$e):rF(_e.ref)?_e.ref.value="":(_e.ref.value=$e,_e.ref.type||f.state.next({name:J,values:Es(i)})))}(pe.shouldDirty||pe.shouldTouch)&&k(J,$e,pe.shouldTouch,pe.shouldDirty,!0),pe.shouldValidate&&K(J)},M=(J,oe,pe)=>{for(const Le in oe){const $e=oe[Le],_e=`${J}.${Le}`,Ve=Ue(r,_e);(l.array.has(J)||Rr($e)||Ve&&!Ve._f)&&!Fh($e)?M(_e,$e,pe):U(_e,$e,pe)}},F=(J,oe,pe={})=>{const Le=Ue(r,J),$e=l.array.has(J),_e=Es(oe);dn(i,J,_e),$e?(f.array.next({name:J,values:Es(i)}),(u.isDirty||u.dirtyFields||h.isDirty||h.dirtyFields)&&pe.shouldDirty&&f.state.next({name:J,dirtyFields:wx(a,i),isDirty:E(J,_e)})):Le&&!Le._f&&!xa(_e)?M(J,_e,pe):U(J,_e,pe),uV(J,l)&&f.state.next({...n}),f.state.next({name:o.mount?J:void 0,values:Es(i)})},V=async J=>{o.mount=!0;const oe=J.target;let pe=oe.name,Le=!0;const $e=Ue(r,pe),_e=Ve=>{Le=Number.isNaN(Ve)||Fh(Ve)&&isNaN(Ve.getTime())||Hd(Ve,Ue(i,pe,Ve))};if($e){let Ve,Mt;const Pn=oe.type?lV($e._f):Oce(J),xn=J.type===$C.BLUR||J.type===$C.FOCUS_OUT,lh=!ent($e._f)&&!t.resolver&&!Ue(n.errors,pe)&&!$e._f.deps||rnt(xn,Ue(n.touchedFields,pe),n.isSubmitted,m,g),ue=uV(pe,l,xn);dn(i,pe,Pn),xn?($e._f.onBlur&&$e._f.onBlur(J),c&&c(0)):$e._f.onChange&&$e._f.onChange(J);const Ie=k(pe,Pn,xn),Et=!pa(Ie)||ue;if(!xn&&f.state.next({name:pe,type:J.type,values:Es(i)}),lh)return(u.isValid||h.isValid)&&(t.mode==="onBlur"?xn&&v():xn||v()),Et&&f.state.next({name:pe,...ue?{}:Ie});if(!xn&&ue&&f.state.next({...n}),t.resolver){const{errors:Gr}=await T([pe]);if(_e(Pn),Le){const rr=hV(n.errors,r,pe),ml=hV(Gr,r,rr.name||pe);Ve=ml.error,pe=ml.name,Mt=pa(Gr)}}else y([pe],!0),Ve=(await mV($e,l.disabled,i,p,t.shouldUseNativeValidation))[pe],y([pe]),_e(Pn),Le&&(Ve?Mt=!1:(u.isValid||h.isValid)&&(Mt=await C(r,!0)));Le&&($e._f.deps&&K($e._f.deps),_(pe,Mt,Ve,Ie))}},Y=(J,oe)=>{if(Ue(n.errors,oe)&&J.focus)return J.focus(),1},K=async(J,oe={})=>{let pe,Le;const $e=Sy(J);if(t.resolver){const _e=await P(Ar(J)?J:$e);pe=pa(_e),Le=J?!$e.some(Ve=>Ue(_e,Ve)):pe}else J?(Le=(await Promise.all($e.map(async _e=>{const Ve=Ue(r,_e);return await C(Ve&&Ve._f?{[_e]:Ve}:Ve)}))).every(Boolean),!(!Le&&!n.isValid)&&v()):Le=pe=await C(r);return f.state.next({...!Ul(J)||(u.isValid||h.isValid)&&pe!==n.isValid?{}:{name:J},...t.resolver||!J?{isValid:pe}:{},errors:n.errors}),oe.shouldFocus&&!Le&&Cy(r,Y,J?$e:l.mount),Le},z=J=>{const oe={...o.mount?i:a};return Ar(J)?oe:Ul(J)?Ue(oe,J):J.map(pe=>Ue(oe,pe))},L=(J,oe)=>({invalid:!!Ue((oe||n).errors,J),isDirty:!!Ue((oe||n).dirtyFields,J),error:Ue((oe||n).errors,J),isValidating:!!Ue(n.validatingFields,J),isTouched:!!Ue((oe||n).touchedFields,J)}),ee=J=>{J&&Sy(J).forEach(oe=>Qr(n.errors,oe)),f.state.next({errors:J?n.errors:{}})},le=(J,oe,pe)=>{const Le=(Ue(r,J,{_f:{}})._f||{}).ref,$e=Ue(n.errors,J)||{},{ref:_e,message:Ve,type:Mt,...Pn}=$e;dn(n.errors,J,{...Pn,...oe,ref:Le}),f.state.next({name:J,errors:n.errors,isValid:!1}),pe&&pe.shouldFocus&&Le&&Le.focus&&Le.focus()},ve=(J,oe)=>Io(J)?f.state.subscribe({next:pe=>J(I(void 0,oe),pe)}):I(J,oe,!0),ne=J=>f.state.subscribe({next:oe=>{nnt(J.name,oe.name,J.exact)&&tnt(oe,J.formState||u,mr,J.reRenderRoot)&&J.callback({values:{...i},...n,...oe})}}).unsubscribe,be=J=>(o.mount=!0,h={...h,...J.formState},ne({...J,formState:h})),ge=(J,oe={})=>{for(const pe of J?Sy(J):l.mount)l.mount.delete(pe),l.array.delete(pe),oe.keepValue||(Qr(r,pe),Qr(i,pe)),!oe.keepError&&Qr(n.errors,pe),!oe.keepDirty&&Qr(n.dirtyFields,pe),!oe.keepTouched&&Qr(n.touchedFields,pe),!oe.keepIsValidating&&Qr(n.validatingFields,pe),!t.shouldUnregister&&!oe.keepDefaultValue&&Qr(a,pe);f.state.next({values:Es(i)}),f.state.next({...n,...oe.keepDirty?{isDirty:E()}:{}}),!oe.keepIsValid&&v()},we=({disabled:J,name:oe})=>{(ai(J)&&o.mount||J||l.disabled.has(oe))&&(J?l.disabled.add(oe):l.disabled.delete(oe))},Ae=(J,oe={})=>{let pe=Ue(r,J);const Le=ai(oe.disabled)||ai(t.disabled);return dn(r,J,{...pe||{},_f:{...pe&&pe._f?pe._f:{ref:{name:J}},name:J,mount:!0,...oe}}),l.mount.add(J),pe?we({disabled:ai(oe.disabled)?oe.disabled:t.disabled,name:J}):S(J,!0,oe.value),{...Le?{disabled:oe.disabled||t.disabled}:{},...t.progressive?{required:!!oe.required,min:Nx(oe.min),max:Nx(oe.max),minLength:Nx(oe.minLength),maxLength:Nx(oe.maxLength),pattern:Nx(oe.pattern)}:{},name:J,onChange:V,onBlur:V,ref:$e=>{if($e){Ae(J,oe),pe=Ue(r,J);const _e=Ar($e.value)&&$e.querySelectorAll&&$e.querySelectorAll("input,select,textarea")[0]||$e,Ve=Ytt(_e),Mt=pe._f.refs||[];if(Ve?Mt.find(Pn=>Pn===_e):_e===pe._f.ref)return;dn(r,J,{_f:{...pe._f,...Ve?{refs:[...Mt.filter(VT),_e,...Array.isArray(Ue(a,J))?[{}]:[]],ref:{type:_e.type,name:J}}:{ref:_e}}}),S(J,!1,void 0,_e)}else pe=Ue(r,J,{}),pe._f&&(pe._f.mount=!1),(t.shouldUnregister||oe.shouldUnregister)&&!(Mce(l.array,J)&&o.action)&&l.unMount.add(J)}}},X=()=>t.shouldFocusError&&Cy(r,Y,l.mount),xe=J=>{ai(J)&&(f.state.next({disabled:J}),Cy(r,(oe,pe)=>{const Le=Ue(r,pe);Le&&(oe.disabled=Le._f.disabled||J,Array.isArray(Le._f.refs)&&Le._f.refs.forEach($e=>{$e.disabled=Le._f.disabled||J}))},0,!1))},Be=(J,oe)=>async pe=>{let Le;pe&&(pe.preventDefault&&pe.preventDefault(),pe.persist&&pe.persist());let $e=Es(i);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:_e,values:Ve}=await T();n.errors=_e,$e=Ve}else await C(r);if(l.disabled.size)for(const _e of l.disabled)dn($e,_e,void 0);if(Qr(n.errors,"root"),pa(n.errors)){f.state.next({errors:{}});try{await J($e,pe)}catch(_e){Le=_e}}else oe&&await oe({...n.errors},pe),X(),setTimeout(X);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:pa(n.errors)&&!Le,submitCount:n.submitCount+1,errors:n.errors}),Le)throw Le},At=(J,oe={})=>{Ue(r,J)&&(Ar(oe.defaultValue)?F(J,Es(Ue(a,J))):(F(J,oe.defaultValue),dn(a,J,Es(oe.defaultValue))),oe.keepTouched||Qr(n.touchedFields,J),oe.keepDirty||(Qr(n.dirtyFields,J),n.isDirty=oe.defaultValue?E(J,Es(Ue(a,J))):E()),oe.keepError||(Qr(n.errors,J),u.isValid&&v()),f.state.next({...n}))},Pt=(J,oe={})=>{const pe=J?Es(J):a,Le=Es(pe),$e=pa(J),_e=$e?a:Le;if(oe.keepDefaultValues||(a=pe),!oe.keepValues){if(oe.keepDirtyValues){const Ve=new Set([...l.mount,...Object.keys(wx(a,i))]);for(const Mt of Array.from(Ve))Ue(n.dirtyFields,Mt)?dn(_e,Mt,Ue(i,Mt)):F(Mt,Ue(_e,Mt))}else{if(tF&&Ar(J))for(const Ve of l.mount){const Mt=Ue(r,Ve);if(Mt&&Mt._f){const Pn=Array.isArray(Mt._f.refs)?Mt._f.refs[0]:Mt._f.ref;if(IC(Pn)){const xn=Pn.closest("form");if(xn){xn.reset();break}}}}for(const Ve of l.mount)F(Ve,Ue(_e,Ve))}i=Es(_e),f.array.next({values:{..._e}}),f.state.next({values:{..._e}})}l={mount:oe.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!oe.keepIsValid||!!oe.keepDirtyValues,o.watch=!!t.shouldUnregister,f.state.next({submitCount:oe.keepSubmitCount?n.submitCount:0,isDirty:$e?!1:oe.keepDirty?n.isDirty:!!(oe.keepDefaultValues&&!Hd(J,a)),isSubmitted:oe.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:$e?{}:oe.keepDirtyValues?oe.keepDefaultValues&&i?wx(a,i):n.dirtyFields:oe.keepDefaultValues&&J?wx(a,J):oe.keepDirty?n.dirtyFields:{},touchedFields:oe.keepTouched?n.touchedFields:{},errors:oe.keepErrors?n.errors:{},isSubmitSuccessful:oe.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},sn=(J,oe)=>Pt(Io(J)?J(i):J,oe),Kr=(J,oe={})=>{const pe=Ue(r,J),Le=pe&&pe._f;if(Le){const $e=Le.refs?Le.refs[0]:Le.ref;$e.focus&&($e.focus(),oe.shouldSelect&&Io($e.select)&&$e.select())}},mr=J=>{n={...n,...J}},nr={control:{register:Ae,unregister:ge,getFieldState:L,handleSubmit:Be,setError:le,_subscribe:ne,_runSchema:T,_getWatch:I,_getDirty:E,_setValid:v,_setFieldArray:j,_setDisabledField:we,_setErrors:w,_getFieldArray:$,_reset:Pt,_resetDefaultValues:()=>Io(t.defaultValues)&&t.defaultValues().then(J=>{sn(J,t.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:A,_disableForm:xe,_subjects:f,_proxyFormState:u,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(J){o=J},get _defaultValues(){return a},get _names(){return l},set _names(J){l=J},get _formState(){return n},get _options(){return t},set _options(J){t={...t,...J}}},subscribe:be,trigger:K,register:Ae,handleSubmit:Be,watch:ve,setValue:F,getValues:z,reset:sn,resetField:At,clearErrors:ee,unregister:ge,setError:le,setFocus:Kr,getFieldState:L};return{...nr,formControl:nr}}function zC(e={}){const t=O.useRef(void 0),n=O.useRef(void 0),[r,a]=O.useState({isDirty:!1,isValidating:!1,isLoading:Io(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Io(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:ont(e),formState:r},e.formControl&&e.defaultValues&&!Io(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const i=t.current.control;return i._options=e,O.useLayoutEffect(()=>i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0}),[i]),O.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),O.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),O.useEffect(()=>{e.values&&!Hd(e.values,n.current)?(i._reset(e.values,i._options.resetOptions),n.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[e.values,i]),O.useEffect(()=>{e.errors&&!pa(e.errors)&&i._setErrors(e.errors)},[e.errors,i]),O.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),O.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[e.shouldUnregister,i]),t.current.formState=Ice(r,i),t.current}const pV=(e,t,n)=>{if(e&&"reportValidity"in e){const r=Ue(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},qce=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?pV(r.ref,n,e):r.refs&&r.refs.forEach(a=>pV(a,n,e))}},lnt=(e,t)=>{t.shouldUseNativeValidation&&qce(e,t);const n={};for(const r in e){const a=Ue(t.fields,r),i=Object.assign(e[r]||{},{ref:a&&a.ref});if(cnt(t.names||Object.keys(e),r)){const o=Object.assign({},Ue(n,r));dn(o,"root",i),dn(n,r,o)}else dn(n,r,i)}return n},cnt=(e,t)=>e.some(n=>n.startsWith(t+"."));var dnt=function(e,t){for(var n={};e.length;){var r=e[0],a=r.code,i=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[o]={message:l.message,type:l.code}}else n[o]={message:i,type:a};if("unionErrors"in r&&r.unionErrors.forEach(function(u){return u.errors.forEach(function(h){return e.push(h)})}),t){var c=n[o].types,d=c&&c[r.code];n[o]=Lce(o,t,n,a,d?[].concat(d,r.message):r.message)}e.shift()}return n},BC=function(e,t,n){return n===void 0&&(n={}),function(r,a,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(d){return i.shouldUseNativeValidation&&qce({},i),{errors:{},values:n.raw?r:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:lnt(dnt(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}};const Kce=VR,unt=WR,Gce=b.forwardRef(({className:e,...t},n)=>s.jsx(wj,{className:Ne("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));Gce.displayName=wj.displayName;const hnt=uv("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),aF=b.forwardRef(({side:e="right",className:t,children:n,...r},a)=>s.jsxs(unt,{children:[s.jsx(Gce,{}),s.jsxs(Nj,{ref:a,className:Ne(hnt({side:e}),t),...r,children:[n,s.jsxs(hk,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[s.jsx(Kt,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));aF.displayName=Nj.displayName;const iF=({className:e,...t})=>s.jsx("div",{className:Ne("flex flex-col space-y-2 text-center sm:text-left",e),...t});iF.displayName="SheetHeader";const oF=b.forwardRef(({className:e,...t},n)=>s.jsx(Sj,{ref:n,className:Ne("text-lg font-semibold text-foreground",e),...t}));oF.displayName=Sj.displayName;const fnt=b.forwardRef(({className:e,...t},n)=>s.jsx(Cj,{ref:n,className:Ne("text-sm text-muted-foreground",e),...t}));fnt.displayName=Cj.displayName;const UC=Wtt,Yce=b.createContext({}),xr=({...e})=>s.jsx(Yce.Provider,{value:{name:e.name},children:s.jsx(Gtt,{...e})}),R_=()=>{const e=b.useContext(Yce),t=b.useContext(Xce),{getFieldState:n,formState:r}=M_(),a=n(e.name,r);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},Xce=b.createContext({}),ir=b.forwardRef(({className:e,...t},n)=>{const r=b.useId();return s.jsx(Xce.Provider,{value:{id:r},children:s.jsx("div",{ref:n,className:Ne("space-y-2",e),...t})})});ir.displayName="FormItem";const Un=b.forwardRef(({className:e,...t},n)=>{const{error:r,formItemId:a}=R_();return s.jsx(W,{ref:n,className:Ne(r&&"text-destructive",e),htmlFor:a,...t})});Un.displayName="FormLabel";const or=b.forwardRef(({...e},t)=>{const{error:n,formItemId:r,formDescriptionId:a,formMessageId:i}=R_();return s.jsx(jQ,{ref:t,id:r,"aria-describedby":n?`${a} ${i}`:`${a}`,"aria-invalid":!!n,...e})});or.displayName="FormControl";const mnt=b.forwardRef(({className:e,...t},n)=>{const{formDescriptionId:r}=R_();return s.jsx("p",{ref:n,id:r,className:Ne("text-sm text-muted-foreground",e),...t})});mnt.displayName="FormDescription";const Ur=b.forwardRef(({className:e,children:t,...n},r)=>{const{error:a,formMessageId:i}=R_(),o=a?String((a==null?void 0:a.message)??""):t;return o?s.jsx("p",{ref:r,id:i,className:Ne("text-sm font-medium text-destructive",e),...n,children:o}):null});Ur.displayName="FormMessage";const pnt=j_e.extend({dueDate:re.string().optional(),dueDatetime:re.string().optional()});function gnt({isOpen:e,onClose:t,task:n,projectId:r,initialStatus:a,onTaskUpdated:i}){const[o,l]=b.useState(!1),[c,d]=b.useState(!1),u=qr(),{toast:h}=mt(),{data:f=[]}=he({queryKey:["/api/users"]}),{data:g=[]}=he({queryKey:["/api/projects"]}),{data:m=[]}=he({queryKey:["/api/tasks",n==null?void 0:n.id,"subtasks"],enabled:!!(n!=null&&n.id)}),p=zC({resolver:BC(pnt),defaultValues:{description:"",priority:"medium",status:a||"pending",assignedToId:"",projectId:r||"",notes:"",dueDate:"",dueDatetime:""}}),x=zC({resolver:BC(_k),defaultValues:{description:"",priority:"medium",status:"pending"}});b.useEffect(()=>{n?(p.reset({description:n.description,priority:n.priority,status:n.status,assignedToId:n.assignedToId||"",projectId:n.projectId||r||"",notes:n.notes||"",dueDate:n.dueDate?Me(new Date(n.dueDate),"yyyy-MM-dd"):"",dueDatetime:n.dueDate?Me(new Date(n.dueDate),"HH:mm"):""}),l(!1)):e&&(p.reset({description:"",priority:"medium",status:a||"pending",assignedToId:"",projectId:r||"",notes:"",dueDate:"",dueDatetime:""}),l(!0))},[n,e,a,r,p]);const v=Se({mutationFn:async C=>{const A=C.dueDate&&C.dueDatetime?new Date(`${C.dueDate}T${C.dueDatetime}`):C.dueDate?new Date(C.dueDate):null;return await ke("/api/tasks","POST",{...C,dueDate:A,assignedToId:C.assignedToId||null,projectId:C.projectId||null})},onSuccess:()=>{u.invalidateQueries({queryKey:["/api/tasks"]}),r&&u.invalidateQueries({queryKey:["/api/tasks","project",r]}),h({title:"Task created",description:"Task has been created successfully."}),i==null||i(),t()},onError:()=>{h({title:"Error",description:"Failed to create task.",variant:"destructive"})}}),y=Se({mutationFn:async C=>{if(!(n!=null&&n.id))throw new Error("No task ID");const A=C.dueDate&&C.dueDatetime?new Date(`${C.dueDate}T${C.dueDatetime}`):C.dueDate?new Date(C.dueDate):null;return await ke(`/api/tasks/${n.id}`,"PATCH",{...C,dueDate:A,assignedToId:C.assignedToId||null,projectId:C.projectId||null})},onSuccess:()=>{u.invalidateQueries({queryKey:["/api/tasks"]}),n!=null&&n.id&&u.invalidateQueries({queryKey:["/api/tasks",n.id]}),r&&u.invalidateQueries({queryKey:["/api/tasks","project",r]}),h({title:"Task updated",description:"Task has been updated successfully."}),l(!1),i==null||i()},onError:()=>{h({title:"Error",description:"Failed to update task.",variant:"destructive"})}}),j=Se({mutationFn:async C=>{if(!(n!=null&&n.id))throw new Error("No parent task ID");return await ke(`/api/tasks/${n.id}/subtasks`,"POST",C)},onSuccess:()=>{u.invalidateQueries({queryKey:["/api/tasks",n==null?void 0:n.id,"subtasks"]}),u.invalidateQueries({queryKey:["/api/tasks"]}),r&&u.invalidateQueries({queryKey:["/api/tasks","project",r]}),x.reset(),d(!1),h({title:"Subtask created",description:"Subtask has been created successfully."})},onError:()=>{h({title:"Error",description:"Failed to create subtask.",variant:"destructive"})}}),N=Se({mutationFn:async({subtaskId:C,completed:A})=>await ke(`/api/tasks/${C}`,"PATCH",{completed:A}),onSuccess:()=>{u.invalidateQueries({queryKey:["/api/tasks",n==null?void 0:n.id,"subtasks"]}),u.invalidateQueries({queryKey:["/api/tasks"]}),r&&u.invalidateQueries({queryKey:["/api/tasks","project",r]})}}),w=C=>{n?y.mutate(C):v.mutate(C)},S=C=>{j.mutate(C)},k=()=>{p.reset(),x.reset(),l(!1),d(!1),t()},_=m.filter(C=>C.completed).length,T=m.length>0?_/m.length*100:0,P=(n==null?void 0:n.dueDate)&&new Date(n.dueDate)<new Date&&!(n!=null&&n.completed);return s.jsx(Kce,{open:e,onOpenChange:k,children:s.jsxs(aF,{className:"w-[800px] max-w-[90vw] overflow-y-auto","data-testid":"task-drawer",children:[s.jsxs(iF,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(oF,{children:n?o?"Edit Task":"Task Details":"Create New Task"}),n&&!o&&s.jsx(D,{variant:"outline",size:"sm",onClick:()=>l(!0),"data-testid":"edit-task-button",children:"Edit"})]}),n&&s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs(Z,{className:`${n.priority==="high"?"bg-red-100 text-red-800":n.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:[n.priority," priority"]}),s.jsx(Z,{className:`${n.status==="complete"?"bg-emerald-100 text-emerald-800":n.status==="pending"?"bg-gray-100 text-gray-800":"bg-blue-100 text-blue-800"}`,children:n.status}),n.completed&&s.jsx(Z,{className:"bg-green-100 text-green-800",children:"Completed"}),P&&s.jsxs(Z,{className:"bg-red-100 text-red-800 flex items-center gap-1",children:[s.jsx(hs,{className:"h-3 w-3"}),"Overdue"]})]})]}),s.jsxs("div",{className:"space-y-6 mt-6",children:[s.jsx(UC,{...p,children:s.jsxs("form",{onSubmit:p.handleSubmit(w),className:"space-y-4",children:[s.jsx(xr,{control:p.control,name:"description",render:({field:C})=>s.jsxs(ir,{children:[s.jsx(Un,{children:"Task Description"}),s.jsx(or,{children:s.jsx(it,{...C,placeholder:"Describe the task...",disabled:n&&!o,rows:3,"data-testid":"task-description"})}),s.jsx(Ur,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(xr,{control:p.control,name:"priority",render:({field:C})=>s.jsxs(ir,{children:[s.jsx(Un,{children:"Priority"}),s.jsxs(Ke,{onValueChange:C.onChange,value:C.value,disabled:n&&!o,children:[s.jsx(or,{children:s.jsx(He,{"data-testid":"task-priority",children:s.jsx(Ge,{placeholder:"Select priority"})})}),s.jsxs(qe,{children:[s.jsx(Q,{value:"low",children:"Low"}),s.jsx(Q,{value:"medium",children:"Medium"}),s.jsx(Q,{value:"high",children:"High"})]})]}),s.jsx(Ur,{})]})}),s.jsx(xr,{control:p.control,name:"status",render:({field:C})=>s.jsxs(ir,{children:[s.jsx(Un,{children:"Status"}),s.jsxs(Ke,{onValueChange:C.onChange,value:C.value,disabled:n&&!o,children:[s.jsx(or,{children:s.jsx(He,{"data-testid":"task-status",children:s.jsx(Ge,{placeholder:"Select status"})})}),s.jsxs(qe,{children:[s.jsx(Q,{value:"pending",children:"Pending"}),s.jsx(Q,{value:"critical",children:"Critical"}),s.jsx(Q,{value:"high",children:"High Priority"}),s.jsx(Q,{value:"medium",children:"Medium"}),s.jsx(Q,{value:"low",children:"Low Priority"}),s.jsx(Q,{value:"complete",children:"Complete"}),s.jsx(Q,{value:"overdue",children:"Overdue"})]})]}),s.jsx(Ur,{})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(xr,{control:p.control,name:"assignedToId",render:({field:C})=>s.jsxs(ir,{children:[s.jsx(Un,{children:"Assigned To"}),s.jsxs(Ke,{onValueChange:C.onChange,value:C.value,disabled:n&&!o,children:[s.jsx(or,{children:s.jsx(He,{"data-testid":"task-assignee",children:s.jsx(Ge,{placeholder:"Select assignee"})})}),s.jsxs(qe,{children:[s.jsx(Q,{value:"unassigned",children:"Unassigned"}),f.map(A=>s.jsx(Q,{value:A.id,children:A.name},`task-drawer-assignee-${A.id}`))]})]}),s.jsx(Ur,{})]})}),s.jsx(xr,{control:p.control,name:"projectId",render:({field:C})=>s.jsxs(ir,{children:[s.jsx(Un,{children:"Project"}),s.jsxs(Ke,{onValueChange:C.onChange,value:C.value,disabled:n&&!o,children:[s.jsx(or,{children:s.jsx(He,{"data-testid":"task-project",children:s.jsx(Ge,{placeholder:"Select project"})})}),s.jsxs(qe,{children:[s.jsx(Q,{value:"no-project",children:"No Project"}),g.map(A=>s.jsx(Q,{value:A.id,children:A.name},A.id))]})]}),s.jsx(Ur,{})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(xr,{control:p.control,name:"dueDate",render:({field:C})=>s.jsxs(ir,{children:[s.jsx(Un,{children:"Due Date"}),s.jsx(or,{children:s.jsx(te,{...C,type:"date",disabled:n&&!o,"data-testid":"task-due-date"})}),s.jsx(Ur,{})]})}),s.jsx(xr,{control:p.control,name:"dueDatetime",render:({field:C})=>s.jsxs(ir,{children:[s.jsx(Un,{children:"Due Time"}),s.jsx(or,{children:s.jsx(te,{...C,type:"time",disabled:n&&!o,"data-testid":"task-due-time"})}),s.jsx(Ur,{})]})})]}),s.jsx(xr,{control:p.control,name:"notes",render:({field:C})=>s.jsxs(ir,{children:[s.jsx(Un,{children:"Notes"}),s.jsx(or,{children:s.jsx(it,{...C,placeholder:"Additional notes...",disabled:n&&!o,rows:3,"data-testid":"task-notes"})}),s.jsx(Ur,{})]})}),(o||!n)&&s.jsxs("div",{className:"flex gap-2",children:[s.jsx(D,{type:"submit",disabled:v.isPending||y.isPending,"data-testid":"save-task-button",children:v.isPending||y.isPending?"Saving...":n?"Update Task":"Create Task"}),n&&s.jsx(D,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancel"})]})]})}),n&&s.jsxs(s.Fragment,{children:[s.jsx(_s,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(Bt,{className:"h-5 w-5"}),"Subtasks",m.length>0&&s.jsxs(Z,{variant:"secondary",children:[_,"/",m.length]})]}),s.jsxs(D,{variant:"outline",size:"sm",onClick:()=>d(!c),"data-testid":"add-subtask-button",children:[s.jsx(st,{className:"h-4 w-4 mr-1"}),"Add Subtask"]})]}),m.length>0&&s.jsx(B,{children:s.jsxs(ae,{className:"pb-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Progress"}),s.jsxs("span",{className:"text-sm font-bold",children:[Math.round(T),"%"]})]}),s.jsx(bn,{value:T,className:"h-2"})]})}),c&&s.jsx(B,{children:s.jsx(q,{className:"p-4",children:s.jsx(UC,{...x,children:s.jsxs("form",{onSubmit:x.handleSubmit(S),className:"space-y-4",children:[s.jsx(xr,{control:x.control,name:"description",render:({field:C})=>s.jsxs(ir,{children:[s.jsx(Un,{children:"Subtask Description"}),s.jsx(or,{children:s.jsx(te,{...C,placeholder:"Enter subtask description...","data-testid":"subtask-description"})}),s.jsx(Ur,{})]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(D,{type:"submit",size:"sm",disabled:j.isPending,"data-testid":"create-subtask-button",children:j.isPending?"Creating...":"Create Subtask"}),s.jsx(D,{type:"button",variant:"outline",size:"sm",onClick:()=>d(!1),children:"Cancel"})]})]})})})}),s.jsx("div",{className:"space-y-2",children:m.map(C=>s.jsx(B,{className:"hover:shadow-sm transition-shadow",children:s.jsx(q,{className:"p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(D,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>N.mutate({subtaskId:C.id,completed:!C.completed}),"data-testid":`toggle-subtask-${C.id}`,children:C.completed?s.jsx(Bt,{className:"h-4 w-4 text-green-600"}):s.jsx(tS,{className:"h-4 w-4 text-gray-400"})}),s.jsx("span",{className:`flex-1 ${C.completed?"line-through text-gray-500":""}`,children:C.description}),s.jsx(Z,{variant:"outline",className:`text-xs ${C.priority==="high"?"bg-red-100 text-red-800":C.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:C.priority})]})})},C.id))})]}),s.jsx(_s,{}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.assignedTo&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(gn,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{className:"text-gray-600",children:"Assigned to:"}),s.jsx("span",{className:"font-medium",children:n.assignedTo.name})]}),n.project&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(nt,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{className:"text-gray-600",children:"Project:"}),s.jsx("span",{className:"font-medium",children:n.project.name})]}),n.dueDate&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(en,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{className:"text-gray-600",children:"Due date:"}),s.jsx("span",{className:`font-medium ${P?"text-red-600":""}`,children:Me(new Date(n.dueDate),"MMM d, yyyy 'at' h:mm a")})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(bt,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{className:"text-gray-600",children:"Created:"}),s.jsx("span",{className:"font-medium",children:Me(new Date(n.createdAt),"MMM d, yyyy")})]})]})]})]})]})})}function hd(e){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hd(e)}function vnt(e,t){if(hd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(hd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qce(e){var t=vnt(e,"string");return hd(t)=="symbol"?t:t+""}function kh(e,t,n){return(t=Qce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Nn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gV(Object(n),!0).forEach(function(r){kh(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gV(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uc(e,t){if(e==null)return{};var n,r,a=m_(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function gs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Qce(r.key),r)}}function vs(e,t,n){return t&&vV(e.prototype,t),n&&vV(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function VC(e){return VC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},VC(e)}function Zce(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zce=function(){return!!e})()}function xnt(e,t){if(t&&(hd(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c7e(e)}function ia(e,t,n){return t=VC(t),xnt(e,Zce()?Reflect.construct(t,n||[],VC(e).constructor):t.apply(e,n))}function oa(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cC(e,t)}function Jce(e){if(Array.isArray(e))return e}function ynt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function tM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function lF(e,t){if(e){if(typeof e=="string")return tM(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tM(e,t):void 0}}function ede(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hi(e,t){return Jce(e)||ynt(e,t)||lF(e,t)||ede()}function tde(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=tde(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function kr(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=tde(e))&&(r&&(r+=" "),r+=t);return r}var bnt=function(e,t,n,r,a,i,o,l){if(!e){var c;if(t===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[n,r,a,i,o,l],u=0;c=new Error(t.replace(/%s/g,function(){return d[u++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}},jnt=bnt;const lb=Tt(jnt);var wnt=function(){};function Nnt(e,t){var n={};return Object.keys(e).forEach(function(r){n[h1(r)]=wnt}),n}function xV(e,t){return e[t]!==void 0}function h1(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function Snt(e){return!!e&&(typeof e!="function"||e.prototype&&e.prototype.isReactComponent)}function nde(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function rde(e){function t(n){var r=this.constructor.getDerivedStateFromProps(e,n);return r??null}this.setState(t.bind(this))}function sde(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}nde.__suppressDeprecationWarning=!0;rde.__suppressDeprecationWarning=!0;sde.__suppressDeprecationWarning=!0;function Cnt(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var n=null,r=null,a=null;if(typeof t.componentWillMount=="function"?n="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?a="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(a="UNSAFE_componentWillUpdate"),n!==null||r!==null||a!==null){var i=e.displayName||e.name,o=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+i+" uses "+o+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(a!==null?`
  `+a:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=nde,t.componentWillReceiveProps=rde),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=sde;var l=t.componentDidUpdate;t.componentDidUpdate=function(d,u,h){var f=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:h;l.call(this,d,u,f)}}return e}var knt="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function ade(e,t,n){n===void 0&&(n=[]);var r=e.displayName||e.name||"Component",a=Snt(e),i=Object.keys(t),o=i.map(h1);a||!n.length||lb(!1);var l=function(d){a7e(u,d);function u(){for(var f,g=arguments.length,m=new Array(g),p=0;p<g;p++)m[p]=arguments[p];f=d.call.apply(d,[this].concat(m))||this,f.handlers=Object.create(null),i.forEach(function(v){var y=t[v],j=function(w){if(f.props[y]){var S;f._notifying=!0;for(var k=arguments.length,_=new Array(k>1?k-1:0),T=1;T<k;T++)_[T-1]=arguments[T];(S=f.props)[y].apply(S,[w].concat(_)),f._notifying=!1}f.unmounted||f.setState(function(P){var C,A=P.values;return{values:br(Object.create(null),A,(C={},C[v]=w,C))}})};f.handlers[y]=j}),n.length&&(f.attachRef=function(v){f.inner=v});var x=Object.create(null);return i.forEach(function(v){x[v]=f.props[h1(v)]}),f.state={values:x,prevProps:{}},f}var h=u.prototype;return h.shouldComponentUpdate=function(){return!this._notifying},u.getDerivedStateFromProps=function(g,m){var p=m.values,x=m.prevProps,v={values:br(Object.create(null),p),prevProps:{}};return i.forEach(function(y){v.prevProps[y]=g[y],!xV(g,y)&&xV(x,y)&&(v.values[y]=g[h1(y)])}),v},h.componentWillUnmount=function(){this.unmounted=!0},h.render=function(){var g=this,m=this.props,p=m.innerRef,x=m_(m,["innerRef"]);o.forEach(function(y){delete x[y]});var v={};return i.forEach(function(y){var j=g.props[y];v[y]=j!==void 0?j:g.state.values[y]}),O.createElement(e,br({},x,v,this.handlers,{ref:p||this.attachRef}))},u}(O.Component);Cnt(l),l.displayName="Uncontrolled("+r+")",l.propTypes=br({innerRef:function(){}},Nnt(t)),n.forEach(function(d){l.prototype[d]=function(){var h;return(h=this.inner)[d].apply(h,arguments)}});var c=l;return O.forwardRef&&(c=O.forwardRef(function(d,u){return O.createElement(l,br({},d,{innerRef:u,__source:{fileName:knt,lineNumber:128},__self:this}))}),c.propTypes=l.propTypes),c.ControlledComponent=e,c.deferControlTo=function(d,u,h){return u===void 0&&(u={}),ade(d,br({},t,u),h)},c}var WC="milliseconds",cb="seconds",db="minutes",ub="hours",Ff="day",Kg="week",hb="month",Lf="year",zf="decade",Bf="century",ide={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:60*60*1e3,day:24*60*60*1e3,week:7*24*60*60*1e3},_nt={month:1,year:12,decade:10*12,century:100*12};function Pnt(e){return[31,Tnt(e),31,30,31,30,31,31,30,31,30,31]}function Tnt(e){return e%4===0&&e%100!==0||e%400===0?29:28}function nl(e,t,n){switch(e=new Date(e),n){case WC:case cb:case db:case ub:case Ff:case Kg:return Ant(e,t*ide[n]);case hb:case Lf:case zf:case Bf:return Ent(e,t*_nt[n])}throw new TypeError('Invalid units: "'+n+'"')}function Ant(e,t){var n=new Date(+e+t);return Dnt(e,n)}function Ent(e,t){var n=e.getFullYear(),r=e.getMonth(),a=e.getDate(),i=n*12+r+t,o=Math.trunc(i/12),l=i%12,c=Math.min(a,Pnt(o)[l]),d=new Date(e);return d.setFullYear(o),d.setDate(1),d.setMonth(l),d.setDate(c),d}function Dnt(e,t){var n=e.getTimezoneOffset(),r=t.getTimezoneOffset(),a=r-n;return new Date(+t+a*ide.minutes)}function fb(e,t,n){return nl(e,-t,n)}function Is(e,t,n){switch(e=new Date(e),t){case Bf:case zf:case Lf:e=qC(e,0);case hb:e=ude(e,1);case Kg:case Ff:e=gb(e,0);case ub:e=Gg(e,0);case db:e=pb(e,0);case cb:e=mb(e,0)}return t===zf&&(e=fb(e,Uf(e)%10,"year")),t===Bf&&(e=fb(e,Uf(e)%100,"year")),t===Kg&&(e=hde(e,0,n)),e}function HC(e,t,n){switch(e=new Date(e),e=Is(e,t,n),t){case Bf:case zf:case Lf:case hb:case Kg:e=nl(e,1,t),e=fb(e,1,Ff),e.setHours(23,59,59,999);break;case Ff:e.setHours(23,59,59,999);break;case ub:case db:case cb:e=nl(e,1,t),e=fb(e,1,WC)}return e}var Jj=Vv(function(e,t){return e===t}),cF=Vv(function(e,t){return e!==t}),$_=Vv(function(e,t){return e>t}),ew=Vv(function(e,t){return e>=t}),dF=Vv(function(e,t){return e<t}),Uv=Vv(function(e,t){return e<=t});function ode(){return new Date(Math.min.apply(Math,arguments))}function lde(){return new Date(Math.max.apply(Math,arguments))}function cde(e,t,n,r){return r=r||"day",(!t||ew(e,t,r))&&(!n||Uv(e,n,r))}var mb=ah("Milliseconds"),pb=ah("Seconds"),Gg=ah("Minutes"),gb=ah("Hours"),dde=ah("Day"),ude=ah("Date"),qC=ah("Month"),Uf=ah("FullYear");function Ont(e,t){return t===void 0?Uf(Is(e,zf)):nl(e,t+10,Lf)}function Mnt(e,t){return t===void 0?Uf(Is(e,Bf)):nl(e,t+100,Lf)}function hde(e,t,n){var r=(dde(e)+7-(n||0))%7;return t===void 0?r:nl(e,t-r,Ff)}function Rnt(e,t,n,r){var a,i,o;switch(n){case WC:case cb:case db:case ub:case Ff:case Kg:a=t.getTime()-e.getTime();break;case hb:case Lf:case zf:case Bf:a=(Uf(t)-Uf(e))*12+qC(t)-qC(e);break;default:throw new TypeError('Invalid units: "'+n+'"')}switch(n){case WC:i=1;break;case cb:i=1e3;break;case db:i=1e3*60;break;case ub:i=1e3*60*60;break;case Ff:i=1e3*60*60*24;break;case Kg:i=1e3*60*60*24*7;break;case hb:i=1;break;case Lf:i=12;break;case zf:i=120;break;case Bf:i=1200;break;default:throw new TypeError('Invalid units: "'+n+'"')}return o=a/i,r?o:Math.round(o)}function ah(e){var t=function(n){switch(n){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(e);return function(n,r){if(r===void 0)return n["get"+e]();var a=new Date(n);return a["set"+e](r),t&&a["get"+e]()!=r&&(e==="Hours"||r>=t&&a.getHours()-n.getHours()<Math.floor(r/t))&&a["set"+e](r+t),a}}function Vv(e){return function(t,n,r){return e(+Is(t,r),+Is(n,r))}}const yV=Object.freeze(Object.defineProperty({__proto__:null,add:nl,century:Mnt,date:ude,day:dde,decade:Ont,diff:Rnt,endOf:HC,eq:Jj,gt:$_,gte:ew,hours:gb,inRange:cde,lt:dF,lte:Uv,max:lde,milliseconds:mb,min:ode,minutes:Gg,month:qC,neq:cF,seconds:pb,startOf:Is,subtract:fb,weekday:hde,year:Uf},Symbol.toStringTag,{value:"Module"}));function $nt(e){if(Array.isArray(e))return tM(e)}function fde(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Int(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f1(e){return $nt(e)||fde(e)||lF(e)||Int()}var Fnt=F$,Lnt=Mv,znt=lle,Bnt=Math.ceil,Unt=Math.max;function Vnt(e,t,n){(n?Lnt(e,t,n):t===void 0)?t=1:t=Unt(znt(t),0);var r=e==null?0:e.length;if(!r||t<1)return[];for(var a=0,i=0,o=Array(Bnt(r/t));a<r;)o[i++]=Fnt(e,a,a+=t);return o}var Wnt=Vnt;const Hnt=Tt(Wnt);function tw(e){return e&&e.ownerDocument||document}function qnt(e){var t=tw(e);return t&&t.defaultView||window}function Knt(e,t){return qnt(e).getComputedStyle(e,t)}var Gnt=/([A-Z])/g;function Ynt(e){return e.replace(Gnt,"-$1").toLowerCase()}var Xnt=/^ms-/;function hN(e){return Ynt(e).replace(Xnt,"-ms-")}var Qnt=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function Znt(e){return!!(e&&Qnt.test(e))}function Nm(e,t){var n="",r="";if(typeof t=="string")return e.style.getPropertyValue(hN(t))||Knt(e).getPropertyValue(hN(t));Object.keys(t).forEach(function(a){var i=t[a];!i&&i!==0?e.style.removeProperty(hN(a)):Znt(a)?r+=a+"("+i+") ":n+=hN(a)+": "+i+";"}),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n}function vb(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}function Jnt(e){return"nodeType"in e&&e.nodeType===document.DOCUMENT_NODE}function uF(e){return"window"in e&&e.window===e?e:Jnt(e)&&e.defaultView||!1}function mde(e){var t=e==="pageXOffset"?"scrollLeft":"scrollTop";function n(r,a){var i=uF(r);if(a===void 0)return i?i[e]:r[t];i?i.scrollTo(i[e],a):r[t]=a}return n}const pde=mde("pageXOffset"),gde=mde("pageYOffset");function mf(e){var t=tw(e),n={top:0,left:0,height:0,width:0},r=t&&t.documentElement;return!r||!vb(r,e)||(e.getBoundingClientRect!==void 0&&(n=e.getBoundingClientRect()),n={top:n.top+gde(r)-(r.clientTop||0),left:n.left+pde(r)-(r.clientLeft||0),width:n.width,height:n.height}),n}var ert=function(t){return!!t&&"offsetParent"in t};function trt(e){for(var t=tw(e),n=e&&e.offsetParent;ert(n)&&n.nodeName!=="HTML"&&Nm(n,"position")==="static";)n=n.offsetParent;return n||t.documentElement}var nrt=function(t){return t.nodeName&&t.nodeName.toLowerCase()};function vde(e,t){var n={top:0,left:0},r;if(Nm(e,"position")==="fixed")r=e.getBoundingClientRect();else{var a=t||trt(e);r=mf(e),nrt(a)!=="html"&&(n=mf(a));var i=String(Nm(a,"borderTopWidth")||0);n.top+=parseInt(i,10)-gde(a)||0;var o=String(Nm(a,"borderLeftWidth")||0);n.left+=parseInt(o,10)-pde(a)||0}var l=String(Nm(e,"marginTop")||0),c=String(Nm(e,"marginLeft")||0);return br({},r,{top:r.top-n.top-(parseInt(l,10)||0),left:r.left-n.left-(parseInt(c,10)||0)})}const hF=!!(typeof window<"u"&&window.document&&window.document.createElement);var bV=new Date().getTime();function rrt(e){var t=new Date().getTime(),n=Math.max(0,16-(t-bV)),r=setTimeout(e,n);return bV=t,r}var srt=["","webkit","moz","o","ms"],nM="clearTimeout",rM=rrt,jV=function(t,n){return t+(t?n[0].toUpperCase()+n.substr(1):n)+"AnimationFrame"};hF&&srt.some(function(e){var t=jV(e,"request");return t in window&&(nM=jV(e,"cancel"),rM=function(r){return window[t](r)}),!!rM});var wV=function(t){typeof window[nM]=="function"&&window[nM](t)},xde=rM,WT;function art(e,t){if(!WT){var n=document.body,r=n.matches||n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector;WT=function(i,o){return r.call(i,o)}}return WT(e,t)}var irt=Function.prototype.bind.call(Function.prototype.call,[].slice);function ort(e,t){return irt(e.querySelectorAll(t))}var sM=!1,aM=!1;try{var HT={get passive(){return sM=!0},get once(){return aM=sM=!0}};hF&&(window.addEventListener("test",HT,HT),window.removeEventListener("test",HT,!0))}catch{}function lrt(e,t,n,r){if(r&&typeof r!="boolean"&&!aM){var a=r.once,i=r.capture,o=n;!aM&&a&&(o=n.__once||function l(c){this.removeEventListener(t,l,i),n.call(this,c)},n.__once=o),e.addEventListener(t,o,sM?r:i)}e.addEventListener(t,n,r)}function crt(e){const t=b.useRef(e);return b.useEffect(()=>{t.current=e},[e]),t}function NV(e){const t=crt(e);return b.useCallback(function(...n){return t.current&&t.current(...n)},[t])}function SV(){return b.useState(null)}function drt(){const e=b.useRef(!0),t=b.useRef(()=>e.current);return b.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function urt(e){const t=drt();return[e[0],b.useCallback(n=>{if(t())return e[1](n)},[t,e[1]])]}var Ha="top",so="bottom",ao="right",qa="left",fF="auto",nw=[Ha,so,ao,qa],Yg="start",xb="end",hrt="clippingParents",yde="viewport",Sx="popper",frt="reference",CV=nw.reduce(function(e,t){return e.concat([t+"-"+Yg,t+"-"+xb])},[]),mF=[].concat(nw,[fF]).reduce(function(e,t){return e.concat([t,t+"-"+Yg,t+"-"+xb])},[]),mrt="beforeRead",prt="read",grt="afterRead",vrt="beforeMain",xrt="main",yrt="afterMain",brt="beforeWrite",jrt="write",wrt="afterWrite",Nrt=[mrt,prt,grt,vrt,xrt,yrt,brt,jrt,wrt];function Jl(e){return e.split("-")[0]}function wi(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Vf(e){var t=wi(e).Element;return e instanceof t||e instanceof Element}function ec(e){var t=wi(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function pF(e){if(typeof ShadowRoot>"u")return!1;var t=wi(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var pf=Math.max,KC=Math.min,Xg=Math.round;function iM(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function bde(){return!/^((?!chrome|android).)*safari/i.test(iM())}function Qg(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),a=1,i=1;t&&ec(e)&&(a=e.offsetWidth>0&&Xg(r.width)/e.offsetWidth||1,i=e.offsetHeight>0&&Xg(r.height)/e.offsetHeight||1);var o=Vf(e)?wi(e):window,l=o.visualViewport,c=!bde()&&n,d=(r.left+(c&&l?l.offsetLeft:0))/a,u=(r.top+(c&&l?l.offsetTop:0))/i,h=r.width/a,f=r.height/i;return{width:h,height:f,top:u,right:d+h,bottom:u+f,left:d,x:d,y:u}}function gF(e){var t=Qg(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function jde(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&pF(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Bu(e){return e?(e.nodeName||"").toLowerCase():null}function fd(e){return wi(e).getComputedStyle(e)}function Srt(e){return["table","td","th"].indexOf(Bu(e))>=0}function ih(e){return((Vf(e)?e.ownerDocument:e.document)||window.document).documentElement}function I_(e){return Bu(e)==="html"?e:e.assignedSlot||e.parentNode||(pF(e)?e.host:null)||ih(e)}function kV(e){return!ec(e)||fd(e).position==="fixed"?null:e.offsetParent}function Crt(e){var t=/firefox/i.test(iM()),n=/Trident/i.test(iM());if(n&&ec(e)){var r=fd(e);if(r.position==="fixed")return null}var a=I_(e);for(pF(a)&&(a=a.host);ec(a)&&["html","body"].indexOf(Bu(a))<0;){var i=fd(a);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return a;a=a.parentNode}return null}function rw(e){for(var t=wi(e),n=kV(e);n&&Srt(n)&&fd(n).position==="static";)n=kV(n);return n&&(Bu(n)==="html"||Bu(n)==="body"&&fd(n).position==="static")?t:n||Crt(e)||t}function vF(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function ky(e,t,n){return pf(e,KC(t,n))}function krt(e,t,n){var r=ky(e,t,n);return r>n?n:r}function wde(){return{top:0,right:0,bottom:0,left:0}}function Nde(e){return Object.assign({},wde(),e)}function Sde(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var _rt=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,Nde(typeof t!="number"?t:Sde(t,nw))};function Prt(e){var t,n=e.state,r=e.name,a=e.options,i=n.elements.arrow,o=n.modifiersData.popperOffsets,l=Jl(n.placement),c=vF(l),d=[qa,ao].indexOf(l)>=0,u=d?"height":"width";if(!(!i||!o)){var h=_rt(a.padding,n),f=gF(i),g=c==="y"?Ha:qa,m=c==="y"?so:ao,p=n.rects.reference[u]+n.rects.reference[c]-o[c]-n.rects.popper[u],x=o[c]-n.rects.reference[c],v=rw(i),y=v?c==="y"?v.clientHeight||0:v.clientWidth||0:0,j=p/2-x/2,N=h[g],w=y-f[u]-h[m],S=y/2-f[u]/2+j,k=ky(N,S,w),_=c;n.modifiersData[r]=(t={},t[_]=k,t.centerOffset=k-S,t)}}function Trt(e){var t=e.state,n=e.options,r=n.element,a=r===void 0?"[data-popper-arrow]":r;a!=null&&(typeof a=="string"&&(a=t.elements.popper.querySelector(a),!a)||jde(t.elements.popper,a)&&(t.elements.arrow=a))}const Art={name:"arrow",enabled:!0,phase:"main",fn:Prt,effect:Trt,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Zg(e){return e.split("-")[1]}var Ert={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Drt(e,t){var n=e.x,r=e.y,a=t.devicePixelRatio||1;return{x:Xg(n*a)/a||0,y:Xg(r*a)/a||0}}function _V(e){var t,n=e.popper,r=e.popperRect,a=e.placement,i=e.variation,o=e.offsets,l=e.position,c=e.gpuAcceleration,d=e.adaptive,u=e.roundOffsets,h=e.isFixed,f=o.x,g=f===void 0?0:f,m=o.y,p=m===void 0?0:m,x=typeof u=="function"?u({x:g,y:p}):{x:g,y:p};g=x.x,p=x.y;var v=o.hasOwnProperty("x"),y=o.hasOwnProperty("y"),j=qa,N=Ha,w=window;if(d){var S=rw(n),k="clientHeight",_="clientWidth";if(S===wi(n)&&(S=ih(n),fd(S).position!=="static"&&l==="absolute"&&(k="scrollHeight",_="scrollWidth")),S=S,a===Ha||(a===qa||a===ao)&&i===xb){N=so;var T=h&&S===w&&w.visualViewport?w.visualViewport.height:S[k];p-=T-r.height,p*=c?1:-1}if(a===qa||(a===Ha||a===so)&&i===xb){j=ao;var P=h&&S===w&&w.visualViewport?w.visualViewport.width:S[_];g-=P-r.width,g*=c?1:-1}}var C=Object.assign({position:l},d&&Ert),A=u===!0?Drt({x:g,y:p},wi(n)):{x:g,y:p};if(g=A.x,p=A.y,c){var E;return Object.assign({},C,(E={},E[N]=y?"0":"",E[j]=v?"0":"",E.transform=(w.devicePixelRatio||1)<=1?"translate("+g+"px, "+p+"px)":"translate3d("+g+"px, "+p+"px, 0)",E))}return Object.assign({},C,(t={},t[N]=y?p+"px":"",t[j]=v?g+"px":"",t.transform="",t))}function Ort(e){var t=e.state,n=e.options,r=n.gpuAcceleration,a=r===void 0?!0:r,i=n.adaptive,o=i===void 0?!0:i,l=n.roundOffsets,c=l===void 0?!0:l,d={placement:Jl(t.placement),variation:Zg(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,_V(Object.assign({},d,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:c})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,_V(Object.assign({},d,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const Mrt={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Ort,data:{}};var fN={passive:!0};function Rrt(e){var t=e.state,n=e.instance,r=e.options,a=r.scroll,i=a===void 0?!0:a,o=r.resize,l=o===void 0?!0:o,c=wi(t.elements.popper),d=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&d.forEach(function(u){u.addEventListener("scroll",n.update,fN)}),l&&c.addEventListener("resize",n.update,fN),function(){i&&d.forEach(function(u){u.removeEventListener("scroll",n.update,fN)}),l&&c.removeEventListener("resize",n.update,fN)}}const $rt={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Rrt,data:{}};var Irt={left:"right",right:"left",bottom:"top",top:"bottom"};function m1(e){return e.replace(/left|right|bottom|top/g,function(t){return Irt[t]})}var Frt={start:"end",end:"start"};function PV(e){return e.replace(/start|end/g,function(t){return Frt[t]})}function xF(e){var t=wi(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function yF(e){return Qg(ih(e)).left+xF(e).scrollLeft}function Lrt(e,t){var n=wi(e),r=ih(e),a=n.visualViewport,i=r.clientWidth,o=r.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;var d=bde();(d||!d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l+yF(e),y:c}}function zrt(e){var t,n=ih(e),r=xF(e),a=(t=e.ownerDocument)==null?void 0:t.body,i=pf(n.scrollWidth,n.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),o=pf(n.scrollHeight,n.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),l=-r.scrollLeft+yF(e),c=-r.scrollTop;return fd(a||n).direction==="rtl"&&(l+=pf(n.clientWidth,a?a.clientWidth:0)-i),{width:i,height:o,x:l,y:c}}function bF(e){var t=fd(e),n=t.overflow,r=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+a+r)}function Cde(e){return["html","body","#document"].indexOf(Bu(e))>=0?e.ownerDocument.body:ec(e)&&bF(e)?e:Cde(I_(e))}function _y(e,t){var n;t===void 0&&(t=[]);var r=Cde(e),a=r===((n=e.ownerDocument)==null?void 0:n.body),i=wi(r),o=a?[i].concat(i.visualViewport||[],bF(r)?r:[]):r,l=t.concat(o);return a?l:l.concat(_y(I_(o)))}function oM(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Brt(e,t){var n=Qg(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function TV(e,t,n){return t===yde?oM(Lrt(e,n)):Vf(t)?Brt(t,n):oM(zrt(ih(e)))}function Urt(e){var t=_y(I_(e)),n=["absolute","fixed"].indexOf(fd(e).position)>=0,r=n&&ec(e)?rw(e):e;return Vf(r)?t.filter(function(a){return Vf(a)&&jde(a,r)&&Bu(a)!=="body"}):[]}function Vrt(e,t,n,r){var a=t==="clippingParents"?Urt(e):[].concat(t),i=[].concat(a,[n]),o=i[0],l=i.reduce(function(c,d){var u=TV(e,d,r);return c.top=pf(u.top,c.top),c.right=KC(u.right,c.right),c.bottom=KC(u.bottom,c.bottom),c.left=pf(u.left,c.left),c},TV(e,o,r));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function kde(e){var t=e.reference,n=e.element,r=e.placement,a=r?Jl(r):null,i=r?Zg(r):null,o=t.x+t.width/2-n.width/2,l=t.y+t.height/2-n.height/2,c;switch(a){case Ha:c={x:o,y:t.y-n.height};break;case so:c={x:o,y:t.y+t.height};break;case ao:c={x:t.x+t.width,y:l};break;case qa:c={x:t.x-n.width,y:l};break;default:c={x:t.x,y:t.y}}var d=a?vF(a):null;if(d!=null){var u=d==="y"?"height":"width";switch(i){case Yg:c[d]=c[d]-(t[u]/2-n[u]/2);break;case xb:c[d]=c[d]+(t[u]/2-n[u]/2);break}}return c}function yb(e,t){t===void 0&&(t={});var n=t,r=n.placement,a=r===void 0?e.placement:r,i=n.strategy,o=i===void 0?e.strategy:i,l=n.boundary,c=l===void 0?hrt:l,d=n.rootBoundary,u=d===void 0?yde:d,h=n.elementContext,f=h===void 0?Sx:h,g=n.altBoundary,m=g===void 0?!1:g,p=n.padding,x=p===void 0?0:p,v=Nde(typeof x!="number"?x:Sde(x,nw)),y=f===Sx?frt:Sx,j=e.rects.popper,N=e.elements[m?y:f],w=Vrt(Vf(N)?N:N.contextElement||ih(e.elements.popper),c,u,o),S=Qg(e.elements.reference),k=kde({reference:S,element:j,strategy:"absolute",placement:a}),_=oM(Object.assign({},j,k)),T=f===Sx?_:S,P={top:w.top-T.top+v.top,bottom:T.bottom-w.bottom+v.bottom,left:w.left-T.left+v.left,right:T.right-w.right+v.right},C=e.modifiersData.offset;if(f===Sx&&C){var A=C[a];Object.keys(P).forEach(function(E){var I=[ao,so].indexOf(E)>=0?1:-1,$=[Ha,so].indexOf(E)>=0?"y":"x";P[E]+=A[$]*I})}return P}function Wrt(e,t){t===void 0&&(t={});var n=t,r=n.placement,a=n.boundary,i=n.rootBoundary,o=n.padding,l=n.flipVariations,c=n.allowedAutoPlacements,d=c===void 0?mF:c,u=Zg(r),h=u?l?CV:CV.filter(function(m){return Zg(m)===u}):nw,f=h.filter(function(m){return d.indexOf(m)>=0});f.length===0&&(f=h);var g=f.reduce(function(m,p){return m[p]=yb(e,{placement:p,boundary:a,rootBoundary:i,padding:o})[Jl(p)],m},{});return Object.keys(g).sort(function(m,p){return g[m]-g[p]})}function Hrt(e){if(Jl(e)===fF)return[];var t=m1(e);return[PV(e),t,PV(t)]}function qrt(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var a=n.mainAxis,i=a===void 0?!0:a,o=n.altAxis,l=o===void 0?!0:o,c=n.fallbackPlacements,d=n.padding,u=n.boundary,h=n.rootBoundary,f=n.altBoundary,g=n.flipVariations,m=g===void 0?!0:g,p=n.allowedAutoPlacements,x=t.options.placement,v=Jl(x),y=v===x,j=c||(y||!m?[m1(x)]:Hrt(x)),N=[x].concat(j).reduce(function(ee,le){return ee.concat(Jl(le)===fF?Wrt(t,{placement:le,boundary:u,rootBoundary:h,padding:d,flipVariations:m,allowedAutoPlacements:p}):le)},[]),w=t.rects.reference,S=t.rects.popper,k=new Map,_=!0,T=N[0],P=0;P<N.length;P++){var C=N[P],A=Jl(C),E=Zg(C)===Yg,I=[Ha,so].indexOf(A)>=0,$=I?"width":"height",U=yb(t,{placement:C,boundary:u,rootBoundary:h,altBoundary:f,padding:d}),M=I?E?ao:qa:E?so:Ha;w[$]>S[$]&&(M=m1(M));var F=m1(M),V=[];if(i&&V.push(U[A]<=0),l&&V.push(U[M]<=0,U[F]<=0),V.every(function(ee){return ee})){T=C,_=!1;break}k.set(C,V)}if(_)for(var Y=m?3:1,K=function(le){var ve=N.find(function(ne){var be=k.get(ne);if(be)return be.slice(0,le).every(function(ge){return ge})});if(ve)return T=ve,"break"},z=Y;z>0;z--){var L=K(z);if(L==="break")break}t.placement!==T&&(t.modifiersData[r]._skip=!0,t.placement=T,t.reset=!0)}}const Krt={name:"flip",enabled:!0,phase:"main",fn:qrt,requiresIfExists:["offset"],data:{_skip:!1}};function AV(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function EV(e){return[Ha,ao,so,qa].some(function(t){return e[t]>=0})}function Grt(e){var t=e.state,n=e.name,r=t.rects.reference,a=t.rects.popper,i=t.modifiersData.preventOverflow,o=yb(t,{elementContext:"reference"}),l=yb(t,{altBoundary:!0}),c=AV(o,r),d=AV(l,a,i),u=EV(c),h=EV(d);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:d,isReferenceHidden:u,hasPopperEscaped:h},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":h})}const Yrt={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Grt};function Xrt(e,t,n){var r=Jl(e),a=[qa,Ha].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,o=i[0],l=i[1];return o=o||0,l=(l||0)*a,[qa,ao].indexOf(r)>=0?{x:l,y:o}:{x:o,y:l}}function Qrt(e){var t=e.state,n=e.options,r=e.name,a=n.offset,i=a===void 0?[0,0]:a,o=mF.reduce(function(u,h){return u[h]=Xrt(h,t.rects,i),u},{}),l=o[t.placement],c=l.x,d=l.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=d),t.modifiersData[r]=o}const Zrt={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Qrt};function Jrt(e){var t=e.state,n=e.name;t.modifiersData[n]=kde({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const est={name:"popperOffsets",enabled:!0,phase:"read",fn:Jrt,data:{}};function tst(e){return e==="x"?"y":"x"}function nst(e){var t=e.state,n=e.options,r=e.name,a=n.mainAxis,i=a===void 0?!0:a,o=n.altAxis,l=o===void 0?!1:o,c=n.boundary,d=n.rootBoundary,u=n.altBoundary,h=n.padding,f=n.tether,g=f===void 0?!0:f,m=n.tetherOffset,p=m===void 0?0:m,x=yb(t,{boundary:c,rootBoundary:d,padding:h,altBoundary:u}),v=Jl(t.placement),y=Zg(t.placement),j=!y,N=vF(v),w=tst(N),S=t.modifiersData.popperOffsets,k=t.rects.reference,_=t.rects.popper,T=typeof p=="function"?p(Object.assign({},t.rects,{placement:t.placement})):p,P=typeof T=="number"?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),C=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,A={x:0,y:0};if(S){if(i){var E,I=N==="y"?Ha:qa,$=N==="y"?so:ao,U=N==="y"?"height":"width",M=S[N],F=M+x[I],V=M-x[$],Y=g?-_[U]/2:0,K=y===Yg?k[U]:_[U],z=y===Yg?-_[U]:-k[U],L=t.elements.arrow,ee=g&&L?gF(L):{width:0,height:0},le=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:wde(),ve=le[I],ne=le[$],be=ky(0,k[U],ee[U]),ge=j?k[U]/2-Y-be-ve-P.mainAxis:K-be-ve-P.mainAxis,we=j?-k[U]/2+Y+be+ne+P.mainAxis:z+be+ne+P.mainAxis,Ae=t.elements.arrow&&rw(t.elements.arrow),X=Ae?N==="y"?Ae.clientTop||0:Ae.clientLeft||0:0,xe=(E=C==null?void 0:C[N])!=null?E:0,Be=M+ge-xe-X,At=M+we-xe,Pt=ky(g?KC(F,Be):F,M,g?pf(V,At):V);S[N]=Pt,A[N]=Pt-M}if(l){var sn,Kr=N==="x"?Ha:qa,mr=N==="x"?so:ao,$n=S[w],nr=w==="y"?"height":"width",J=$n+x[Kr],oe=$n-x[mr],pe=[Ha,qa].indexOf(v)!==-1,Le=(sn=C==null?void 0:C[w])!=null?sn:0,$e=pe?J:$n-k[nr]-_[nr]-Le+P.altAxis,_e=pe?$n+k[nr]+_[nr]-Le-P.altAxis:oe,Ve=g&&pe?krt($e,$n,_e):ky(g?$e:J,$n,g?_e:oe);S[w]=Ve,A[w]=Ve-$n}t.modifiersData[r]=A}}const rst={name:"preventOverflow",enabled:!0,phase:"main",fn:nst,requiresIfExists:["offset"]};function sst(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function ast(e){return e===wi(e)||!ec(e)?xF(e):sst(e)}function ist(e){var t=e.getBoundingClientRect(),n=Xg(t.width)/e.offsetWidth||1,r=Xg(t.height)/e.offsetHeight||1;return n!==1||r!==1}function ost(e,t,n){n===void 0&&(n=!1);var r=ec(t),a=ec(t)&&ist(t),i=ih(t),o=Qg(e,a,n),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&((Bu(t)!=="body"||bF(i))&&(l=ast(t)),ec(t)?(c=Qg(t,!0),c.x+=t.clientLeft,c.y+=t.clientTop):i&&(c.x=yF(i))),{x:o.left+l.scrollLeft-c.x,y:o.top+l.scrollTop-c.y,width:o.width,height:o.height}}function lst(e){var t=new Map,n=new Set,r=[];e.forEach(function(i){t.set(i.name,i)});function a(i){n.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(l){if(!n.has(l)){var c=t.get(l);c&&a(c)}}),r.push(i)}return e.forEach(function(i){n.has(i.name)||a(i)}),r}function cst(e){var t=lst(e);return Nrt.reduce(function(n,r){return n.concat(t.filter(function(a){return a.phase===r}))},[])}function dst(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function ust(e){var t=e.reduce(function(n,r){var a=n[r.name];return n[r.name]=a?Object.assign({},a,r,{options:Object.assign({},a.options,r.options),data:Object.assign({},a.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var DV={placement:"bottom",modifiers:[],strategy:"absolute"};function OV(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function hst(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,a=t.defaultOptions,i=a===void 0?DV:a;return function(l,c,d){d===void 0&&(d=i);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},DV,i),modifiersData:{},elements:{reference:l,popper:c},attributes:{},styles:{}},h=[],f=!1,g={state:u,setOptions:function(v){var y=typeof v=="function"?v(u.options):v;p(),u.options=Object.assign({},i,u.options,y),u.scrollParents={reference:Vf(l)?_y(l):l.contextElement?_y(l.contextElement):[],popper:_y(c)};var j=cst(ust([].concat(r,u.options.modifiers)));return u.orderedModifiers=j.filter(function(N){return N.enabled}),m(),g.update()},forceUpdate:function(){if(!f){var v=u.elements,y=v.reference,j=v.popper;if(OV(y,j)){u.rects={reference:ost(y,rw(j),u.options.strategy==="fixed"),popper:gF(j)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(P){return u.modifiersData[P.name]=Object.assign({},P.data)});for(var N=0;N<u.orderedModifiers.length;N++){if(u.reset===!0){u.reset=!1,N=-1;continue}var w=u.orderedModifiers[N],S=w.fn,k=w.options,_=k===void 0?{}:k,T=w.name;typeof S=="function"&&(u=S({state:u,options:_,name:T,instance:g})||u)}}}},update:dst(function(){return new Promise(function(x){g.forceUpdate(),x(u)})}),destroy:function(){p(),f=!0}};if(!OV(l,c))return g;g.setOptions(d).then(function(x){!f&&d.onFirstUpdate&&d.onFirstUpdate(x)});function m(){u.orderedModifiers.forEach(function(x){var v=x.name,y=x.options,j=y===void 0?{}:y,N=x.effect;if(typeof N=="function"){var w=N({state:u,name:v,instance:g,options:j}),S=function(){};h.push(w||S)}})}function p(){h.forEach(function(x){return x()}),h=[]}return g}}var fst=hst({defaultModifiers:[Yrt,est,Mrt,$rt,Zrt,Krt,rst,Art]}),MV=function(t){return{position:t,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},mst={name:"applyStyles",enabled:!1},pst={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(t){var n=t.state;return function(){var r=n.elements,a=r.reference,i=r.popper;if("removeAttribute"in a){var o=(a.getAttribute("aria-describedby")||"").split(",").filter(function(l){return l.trim()!==i.id});o.length?a.setAttribute("aria-describedby",o.join(",")):a.removeAttribute("aria-describedby")}}},fn:function(t){var n,r=t.state,a=r.elements,i=a.popper,o=a.reference,l=(n=i.getAttribute("role"))==null?void 0:n.toLowerCase();if(i.id&&l==="tooltip"&&"setAttribute"in o){var c=o.getAttribute("aria-describedby");if(c&&c.split(",").indexOf(i.id)!==-1)return;o.setAttribute("aria-describedby",c?c+","+i.id:i.id)}}},gst=[];function vst(e,t,n){var r=n===void 0?{}:n,a=r.enabled,i=a===void 0?!0:a,o=r.placement,l=o===void 0?"bottom":o,c=r.strategy,d=c===void 0?"absolute":c,u=r.modifiers,h=u===void 0?gst:u,f=m_(r,["enabled","placement","strategy","modifiers"]),g=b.useRef(),m=b.useCallback(function(){var N;(N=g.current)==null||N.update()},[]),p=b.useCallback(function(){var N;(N=g.current)==null||N.forceUpdate()},[]),x=urt(b.useState({placement:l,update:m,forceUpdate:p,attributes:{},styles:{popper:MV(d),arrow:{}}})),v=x[0],y=x[1],j=b.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(w){var S=w.state,k={},_={};Object.keys(S.elements).forEach(function(T){k[T]=S.styles[T],_[T]=S.attributes[T]}),y({state:S,styles:k,attributes:_,update:m,forceUpdate:p,placement:S.placement})}}},[m,p,y]);return b.useEffect(function(){!g.current||!i||g.current.setOptions({placement:l,strategy:d,modifiers:[].concat(h,[j,mst])})},[d,l,j,i]),b.useEffect(function(){if(!(!i||e==null||t==null))return g.current=fst(e,t,br({},f,{placement:l,strategy:d,modifiers:[].concat(h,[pst,j])})),function(){g.current!=null&&(g.current.destroy(),g.current=void 0,y(function(N){return br({},N,{attributes:{},styles:{popper:MV(d)}})}))}},[i,e,t]),v}function xst(e,t,n,r){var a=r&&typeof r!="boolean"?r.capture:r;e.removeEventListener(t,n,a),n.__once&&e.removeEventListener(t,n.__once,a)}function Kx(e,t,n,r){return lrt(e,t,n,r),function(){xst(e,t,n,r)}}var yst=function(){},bst=yst;const jst=Tt(bst);function wst(e){return e&&"setState"in e?hR.findDOMNode(e):e??null}const Nst=function(e){return tw(wst(e))};var Sst=27,RV=function(){};function Cst(e){return e.button===0}function kst(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var $V=function(t){return t&&("current"in t?t.current:t)};function _st(e,t,n){var r=n===void 0?{}:n,a=r.disabled,i=r.clickTrigger,o=i===void 0?"click":i,l=b.useRef(!1),c=t||RV,d=b.useCallback(function(f){var g,m=$V(e);jst(!!m,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),l.current=!m||kst(f)||!Cst(f)||!!vb(m,(g=f.composedPath==null?void 0:f.composedPath()[0])!=null?g:f.target)},[e]),u=NV(function(f){l.current||c(f)}),h=NV(function(f){f.keyCode===Sst&&c(f)});b.useEffect(function(){if(!(a||e==null)){var f=window.event,g=Nst($V(e)),m=Kx(g,o,d,!0),p=Kx(g,o,function(y){if(y===f){f=void 0;return}u(y)}),x=Kx(g,"keyup",function(y){if(y===f){f=void 0;return}h(y)}),v=[];return"ontouchstart"in g.documentElement&&(v=[].slice.call(g.body.children).map(function(y){return Kx(y,"mousemove",RV)})),function(){m(),p(),x(),v.forEach(function(y){return y()})}}},[e,a,o,d,u,h])}function Pst(e){var t={};return Array.isArray(e)?(e==null||e.forEach(function(n){t[n.name]=n}),t):e||t}function Tst(e){return e===void 0&&(e={}),Array.isArray(e)?e:Object.keys(e).map(function(t){return e[t].name=t,e[t]})}function Ast(e){var t,n,r,a,i=e.enabled,o=e.enableEvents,l=e.placement,c=e.flip,d=e.offset,u=e.fixed,h=e.containerPadding,f=e.arrowElement,g=e.popperConfig,m=g===void 0?{}:g,p=Pst(m.modifiers);return br({},m,{placement:l,enabled:i,strategy:u?"fixed":m.strategy,modifiers:Tst(br({},p,{eventListeners:{enabled:o},preventOverflow:br({},p.preventOverflow,{options:h?br({padding:h},(t=p.preventOverflow)==null?void 0:t.options):(n=p.preventOverflow)==null?void 0:n.options}),offset:{options:br({offset:d},(r=p.offset)==null?void 0:r.options)},arrow:br({},p.arrow,{enabled:!!f,options:br({},(a=p.arrow)==null?void 0:a.options,{element:f})}),flip:br({enabled:!!c},p.flip)}))})}var mN;function jF(e){if((!mN&&mN!==0||e)&&hF){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),mN=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return mN}var qT=function(t){var n;return typeof document>"u"?null:t==null?tw().body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),(n=t)!=null&&n.nodeType&&t||null)};function IV(e,t){var n=b.useState(function(){return qT(e)}),r=n[0],a=n[1];if(!r){var i=qT(e);i&&a(i)}return b.useEffect(function(){},[t,r]),b.useEffect(function(){var o=qT(e);o!==r&&a(o)},[e,r]),r}const FV=e=>!e||typeof e=="function"?e:t=>{e.current=t};function Est(e,t){const n=FV(e),r=FV(t);return a=>{n&&n(a),r&&r(a)}}function Dst(e,t){return b.useMemo(()=>Est(e,t),[e,t])}var wF=O.forwardRef(function(e,t){var n=e.flip,r=e.offset,a=e.placement,i=e.containerPadding,o=i===void 0?5:i,l=e.popperConfig,c=l===void 0?{}:l,d=e.transition,u=SV(),h=u[0],f=u[1],g=SV(),m=g[0],p=g[1],x=Dst(f,t),v=IV(e.container),y=IV(e.target),j=b.useState(!e.show),N=j[0],w=j[1],S=vst(y,h,Ast({placement:a,enableEvents:!!e.show,containerPadding:o||5,flip:n,offset:r,arrowElement:m,popperConfig:c})),k=S.styles,_=S.attributes,T=m_(S,["styles","attributes"]);e.show?N&&w(!1):!e.transition&&!N&&w(!0);var P=function(){w(!0),e.onExited&&e.onExited.apply(e,arguments)},C=e.show||d&&!N;if(_st(h,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!C)return null;var A=e.children(br({},T,{show:!!e.show,props:br({},_.popper,{style:k.popper,ref:x}),arrowProps:br({},_.arrow,{style:k.arrow,ref:p})}));if(d){var E=e.onExit,I=e.onExiting,$=e.onEnter,U=e.onEntering,M=e.onEntered;A=O.createElement(d,{in:e.show,appear:!0,onExit:E,onExiting:I,onExited:P,onEnter:$,onEntering:U,onEntered:M},A)}return v?hR.createPortal(A,v):null});wF.displayName="Overlay";wF.propTypes={show:ce.bool,placement:ce.oneOf(mF),target:ce.any,container:ce.any,flip:ce.bool,children:ce.func.isRequired,containerPadding:ce.number,popperConfig:ce.object,rootClose:ce.bool,rootCloseEvent:ce.oneOf(["click","mousedown"]),rootCloseDisabled:ce.bool,onHide:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];if(t.rootClose){var i;return(i=ce.func).isRequired.apply(i,[t].concat(r))}return ce.func.apply(ce,[t].concat(r))},transition:ce.elementType,onEnter:ce.func,onEntering:ce.func,onEntered:ce.func,onExit:ce.func,onExiting:ce.func,onExited:ce.func};function KT(e,t){var n=uF(e);return n?n.innerHeight:mf(e).height}function _de(e,t,n){e.closest&&!n&&e.closest(t);var r=e;do{if(art(r,t))return r;r=r.parentElement}while(r&&r!==n&&r.nodeType===document.ELEMENT_NODE);return null}var LV=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function Ost(e,t){return!!(e===t||LV(e)&&LV(t))}function Mst(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!Ost(e[n],t[n]))return!1;return!0}function Pde(e,t){t===void 0&&(t=Mst);var n=null;function r(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];if(n&&n.lastThis===this&&t(a,n.lastArgs))return n.lastResult;var o=e.apply(this,a);return n={lastResult:o,lastArgs:a,lastThis:this},o}return r.clear=function(){n=null},r}function lM(e,t){var n=uF(e);return n?n.innerWidth:mf(e).width}function Tde(e){return Jce(e)||fde(e)||lF(e)||ede()}var Rst=oie,$st=zj,Ist=Mv,Fst=T_,Ade=Object.prototype,Lst=Ade.hasOwnProperty,zst=Rst(function(e,t){e=Object(e);var n=-1,r=t.length,a=r>2?t[2]:void 0;for(a&&Ist(t[0],t[1],a)&&(r=1);++n<r;)for(var i=t[n],o=Fst(i),l=-1,c=o.length;++l<c;){var d=o[l],u=e[d];(u===void 0||$st(u,Ade[d])&&!Lst.call(e,d))&&(e[d]=i[d])}return e}),Bst=zst;const Ust=Tt(Bst);var Vst=Kle,Wst=Qle,Hst=nI,qst=hl,Kst=y_,Gst=aa,Yst=Zk,Xst=Ak,Qst=lo,Zst=Z$;function Jst(e,t,n){var r=Gst(e),a=r||Yst(e)||Zst(e);if(t=qst(t),n==null){var i=e&&e.constructor;a?n=r?new i:[]:Qst(e)?n=Xst(i)?Wst(Kst(e)):{}:n={}}return(a?Vst:Hst)(e,function(o,l,c){return t(n,o,l,c)}),n}var eat=Jst;const tat=Tt(eat);var nat={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(qi,function(){return function(n,r,a){r.prototype.isBetween=function(i,o,l,c){var d=a(i),u=a(o),h=(c=c||"()")[0]==="(",f=c[1]===")";return(h?this.isAfter(d,l):!this.isBefore(d,l))&&(f?this.isBefore(u,l):!this.isAfter(u,l))||(h?this.isBefore(d,l):!this.isAfter(d,l))&&(f?this.isAfter(u,l):!this.isBefore(u,l))}}})})(nat);var rat={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(qi,function(){return function(n,r){r.prototype.isSameOrAfter=function(a,i){return this.isSame(a,i)||this.isAfter(a,i)}}})})(rat);var sat={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(qi,function(){return function(n,r){r.prototype.isSameOrBefore=function(a,i){return this.isSame(a,i)||this.isBefore(a,i)}}})})(sat);var aat={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(qi,function(){return function(n,r,a){var i=r.prototype,o=function(h){return h&&(h.indexOf?h:h.s)},l=function(h,f,g,m,p){var x=h.name?h:h.$locale(),v=o(x[f]),y=o(x[g]),j=v||y.map(function(w){return w.slice(0,m)});if(!p)return j;var N=x.weekStart;return j.map(function(w,S){return j[(S+(N||0))%7]})},c=function(){return a.Ls[a.locale()]},d=function(h,f){return h.formats[f]||function(g){return g.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(m,p,x){return p||x.slice(1)})}(h.formats[f.toUpperCase()])},u=function(){var h=this;return{months:function(f){return f?f.format("MMMM"):l(h,"months")},monthsShort:function(f){return f?f.format("MMM"):l(h,"monthsShort","months",3)},firstDayOfWeek:function(){return h.$locale().weekStart||0},weekdays:function(f){return f?f.format("dddd"):l(h,"weekdays")},weekdaysMin:function(f){return f?f.format("dd"):l(h,"weekdaysMin","weekdays",2)},weekdaysShort:function(f){return f?f.format("ddd"):l(h,"weekdaysShort","weekdays",3)},longDateFormat:function(f){return d(h.$locale(),f)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};i.localeData=function(){return u.bind(this)()},a.localeData=function(){var h=c();return{firstDayOfWeek:function(){return h.weekStart||0},weekdays:function(){return a.weekdays()},weekdaysShort:function(){return a.weekdaysShort()},weekdaysMin:function(){return a.weekdaysMin()},months:function(){return a.months()},monthsShort:function(){return a.monthsShort()},longDateFormat:function(f){return d(h,f)},meridiem:h.meridiem,ordinal:h.ordinal}},a.months=function(){return l(c(),"months")},a.monthsShort=function(){return l(c(),"monthsShort","months",3)},a.weekdays=function(h){return l(c(),"weekdays",null,null,h)},a.weekdaysShort=function(h){return l(c(),"weekdaysShort","weekdays",3,h)},a.weekdaysMin=function(h){return l(c(),"weekdaysMin","weekdays",2,h)}}})})(aat);var iat={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(qi,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(r,a,i){var o=a.prototype,l=o.format;i.en.formats=n,o.format=function(c){c===void 0&&(c="YYYY-MM-DDTHH:mm:ssZ");var d=this.$locale().formats,u=function(h,f){return h.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(g,m,p){var x=p&&p.toUpperCase();return m||f[p]||n[p]||f[x].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(v,y,j){return y||j.slice(1)})})}(c,d===void 0?{}:d);return l.call(this,u)}}})})(iat);var oat={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(qi,function(){return function(n,r,a){var i=function(o,l){if(!l||!l.length||l.length===1&&!l[0]||l.length===1&&Array.isArray(l[0])&&!l[0].length)return null;var c;l.length===1&&l[0].length>0&&(l=l[0]),c=(l=l.filter(function(u){return u}))[0];for(var d=1;d<l.length;d+=1)l[d].isValid()&&!l[d][o](c)||(c=l[d]);return c};a.max=function(){var o=[].slice.call(arguments,0);return i("isAfter",o)},a.min=function(){var o=[].slice.call(arguments,0);return i("isBefore",o)}}})})(oat);var lat={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(qi,function(){var n="minute",r=/[+-]\d\d(?::?\d\d)?/g,a=/([+-]|\d\d)/g;return function(i,o,l){var c=o.prototype;l.utc=function(p){var x={date:p,utc:!0,args:arguments};return new o(x)},c.utc=function(p){var x=l(this.toDate(),{locale:this.$L,utc:!0});return p?x.add(this.utcOffset(),n):x},c.local=function(){return l(this.toDate(),{locale:this.$L,utc:!1})};var d=c.parse;c.parse=function(p){p.utc&&(this.$u=!0),this.$utils().u(p.$offset)||(this.$offset=p.$offset),d.call(this,p)};var u=c.init;c.init=function(){if(this.$u){var p=this.$d;this.$y=p.getUTCFullYear(),this.$M=p.getUTCMonth(),this.$D=p.getUTCDate(),this.$W=p.getUTCDay(),this.$H=p.getUTCHours(),this.$m=p.getUTCMinutes(),this.$s=p.getUTCSeconds(),this.$ms=p.getUTCMilliseconds()}else u.call(this)};var h=c.utcOffset;c.utcOffset=function(p,x){var v=this.$utils().u;if(v(p))return this.$u?0:v(this.$offset)?h.call(this):this.$offset;if(typeof p=="string"&&(p=function(w){w===void 0&&(w="");var S=w.match(r);if(!S)return null;var k=(""+S[0]).match(a)||["-",0,0],_=k[0],T=60*+k[1]+ +k[2];return T===0?0:_==="+"?T:-T}(p),p===null))return this;var y=Math.abs(p)<=16?60*p:p,j=this;if(x)return j.$offset=y,j.$u=p===0,j;if(p!==0){var N=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(j=this.local().add(y+N,n)).$offset=y,j.$x.$localOffset=N}else j=this.utc();return j};var f=c.format;c.format=function(p){var x=p||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return f.call(this,x)},c.valueOf=function(){var p=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*p},c.isUTC=function(){return!!this.$u},c.toISOString=function(){return this.toDate().toISOString()},c.toString=function(){return this.toDate().toUTCString()};var g=c.toDate;c.toDate=function(p){return p==="s"&&this.$offset?l(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():g.call(this)};var m=c.diff;c.diff=function(p,x,v){if(p&&this.$u===p.$u)return m.call(this,p,x,v);var y=this.local(),j=l(p).local();return m.call(y,j,x,v)}}})})(lat);var cat={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(qi,function(){return function(n,r){r.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}})})(cat);function jl(e){return e.children}var Ka={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},zn={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},zV=Object.keys(zn).map(function(e){return zn[e]});ce.oneOfType([ce.string,ce.func]);ce.any;ce.func;ce.oneOfType([ce.arrayOf(ce.oneOf(zV)),ce.objectOf(function(e,t){var n=zV.indexOf(t)!==-1&&typeof e[t]=="boolean";if(n)return null;for(var r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i];return ce.elementType.apply(ce,[e,t].concat(a))})]);ce.oneOfType([ce.oneOf(["overlap","no-overlap"]),ce.func]);var BV={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function Ede(e,t){var n=Is(e,"month");return Is(n,"week",t.startOfWeek())}function Dde(e,t){var n=HC(e,"month");return HC(n,"week",t.startOfWeek())}function dat(e,t){for(var n=Ede(e,t),r=Dde(e,t),a=[];Uv(n,r,"day");)a.push(n),n=nl(n,1,"day");return a}function uat(e,t){var n=Is(e,t);return Jj(n,e)?n:nl(n,1,t)}function hat(e,t){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",r=e,a=[];Uv(r,t,n);)a.push(r),r=nl(r,1,n);return a}function fat(e,t){return t==null&&e==null?null:(t==null&&(t=new Date),e==null&&(e=new Date),e=Is(e,"day"),e=gb(e,gb(t)),e=Gg(e,Gg(t)),e=pb(e,pb(t)),mb(e,mb(t)))}function UV(e){return gb(e)===0&&Gg(e)===0&&pb(e)===0&&mb(e)===0}function mat(e,t,n,r){return n==="day"&&(n="date"),Math.abs(yV[n](e,void 0,r)-yV[n](t,void 0,r))}function NF(e,t,n){return!n||n==="milliseconds"?Math.abs(+e-+t):Math.round(Math.abs(+Is(e,n)/BV[n]-+Is(t,n)/BV[n]))}var pat=ce.oneOfType([ce.string,ce.func]);function gat(e,t,n,r,a){var i=typeof r=="function"?r(n,a,e):t.call(e,n,r,a);return lb(i==null||typeof i=="string","`localizer format(..)` must return a string, null, or undefined"),i}function vat(e,t,n){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,t+n,0,0)}function SF(e,t){return e.getTimezoneOffset()-t.getTimezoneOffset()}function xat(e,t){return NF(e,t,"minutes")+SF(e,t)}function yat(e){var t=Is(e,"day");return NF(t,e,"minutes")+SF(t,e)}function bat(e,t){return dF(e,t,"day")}function jat(e,t,n){var r=Jj(e,t,"minutes");return r?ew(t,n,"minutes"):$_(t,n,"minutes")}function cM(e,t){return mat(e,t,"day")}function wat(e){var t=e.evtA,n=t.start,r=t.end,a=t.allDay,i=e.evtB,o=i.start,l=i.end,c=i.allDay,d=+Is(n,"day")-+Is(o,"day"),u=cM(n,r),h=cM(o,l);return d||h-u||!!c-!!a||+n-+o||+r-+l}function Nat(e){var t=e.event,n=t.start,r=t.end,a=e.range,i=a.start,o=a.end,l=Is(n,"day"),c=Uv(l,o,"day"),d=cF(l,r,"minutes"),u=d?$_(r,i,"minutes"):ew(r,i,"minutes");return c&&u}function Sat(e,t){return Jj(e,t,"day")}function Cat(e,t){return UV(e)&&UV(t)}var kat=vs(function e(t){var n=this;gs(this,e),lb(typeof t.format=="function","date localizer `format(..)` must be a function"),lb(typeof t.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=t.propType||pat,this.formats=t.formats,this.format=function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return gat.apply(void 0,[n,t.format].concat(a))},this.startOfWeek=t.firstOfWeek,this.merge=t.merge||fat,this.inRange=t.inRange||cde,this.lt=t.lt||dF,this.lte=t.lte||Uv,this.gt=t.gt||$_,this.gte=t.gte||ew,this.eq=t.eq||Jj,this.neq=t.neq||cF,this.startOf=t.startOf||Is,this.endOf=t.endOf||HC,this.add=t.add||nl,this.range=t.range||hat,this.diff=t.diff||NF,this.ceil=t.ceil||uat,this.min=t.min||ode,this.max=t.max||lde,this.minutes=t.minutes||Gg,this.daySpan=t.daySpan||cM,this.firstVisibleDay=t.firstVisibleDay||Ede,this.lastVisibleDay=t.lastVisibleDay||Dde,this.visibleDays=t.visibleDays||dat,this.getSlotDate=t.getSlotDate||vat,this.getTimezoneOffset=t.getTimezoneOffset||function(r){return r.getTimezoneOffset()},this.getDstOffset=t.getDstOffset||SF,this.getTotalMin=t.getTotalMin||xat,this.getMinutesFromMidnight=t.getMinutesFromMidnight||yat,this.continuesPrior=t.continuesPrior||bat,this.continuesAfter=t.continuesAfter||jat,this.sortEvents=t.sortEvents||wat,this.inEventRange=t.inEventRange||Nat,this.isSameDate=t.isSameDate||Sat,this.startAndEndAreDateOnly=t.startAndEndAreDateOnly||Cat,this.segmentOffset=t.browserTZOffset?t.browserTZOffset():0});function _at(e,t,n,r){var a=Nn(Nn({},e.formats),n);return Nn(Nn({},e),{},{messages:r,startOfWeek:function(){return e.startOfWeek(t)},format:function(o,l){return e.format(o,a[l]||l,t)}})}var Pat=function(e){function t(){var n;gs(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=ia(this,t,[].concat(a)),n.navigate=function(o){n.props.onNavigate(o)},n.view=function(o){n.props.onView(o)},n}return oa(t,e),vs(t,[{key:"render",value:function(){var r=this.props,a=r.localizer.messages,i=r.label;return O.createElement("div",{className:"rbc-toolbar"},O.createElement("span",{className:"rbc-btn-group"},O.createElement("button",{type:"button",onClick:this.navigate.bind(null,Ka.TODAY)},a.today),O.createElement("button",{type:"button",onClick:this.navigate.bind(null,Ka.PREVIOUS)},a.previous),O.createElement("button",{type:"button",onClick:this.navigate.bind(null,Ka.NEXT)},a.next)),O.createElement("span",{className:"rbc-toolbar-label"},i),O.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(a)))}},{key:"viewNamesGroup",value:function(r){var a=this,i=this.props.views,o=this.props.view;if(i.length>1)return i.map(function(l){return O.createElement("button",{type:"button",key:l,className:kr({"rbc-active":o===l}),onClick:a.view.bind(null,l)},r[l])})}}])}(O.Component);function Vn(e,t){e&&e.apply(null,[].concat(t))}var Tat={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(t){return"+".concat(t," more")}};function Aat(e){return Nn(Nn({},Tat),e)}function Eat(e){var t=e.ref,n=e.callback;b.useEffect(function(){var r=function(i){t.current&&!t.current.contains(i.target)&&n()};return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}},[t,n])}var Dat=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],Ode=function(e){function t(){return gs(this,t),ia(this,t,arguments)}return oa(t,e),vs(t,[{key:"render",value:function(){var r=this.props,a=r.style,i=r.className,o=r.event,l=r.selected,c=r.isAllDay,d=r.onSelect,u=r.onDoubleClick,h=r.onKeyPress,f=r.localizer,g=r.continuesPrior,m=r.continuesAfter,p=r.accessors,x=r.getters,v=r.children,y=r.components,j=y.event,N=y.eventWrapper,w=r.slotStart,S=r.slotEnd,k=uc(r,Dat);delete k.resizable;var _=p.title(o),T=p.tooltip(o),P=p.end(o),C=p.start(o),A=p.allDay(o),E=c||A||f.diff(C,f.ceil(P,"day"),"day")>1,I=x.eventProp(o,C,P,l),$=O.createElement("div",{className:"rbc-event-content",title:T||void 0},j?O.createElement(j,{event:o,continuesPrior:g,continuesAfter:m,title:_,isAllDay:A,localizer:f,slotStart:w,slotEnd:S}):_);return O.createElement(N,Object.assign({},this.props,{type:"date"}),O.createElement("div",Object.assign({},k,{style:Nn(Nn({},I.style),a),className:kr("rbc-event",i,I.className,{"rbc-selected":l,"rbc-event-allday":E,"rbc-event-continues-prior":g,"rbc-event-continues-after":m}),onClick:function(M){return d&&d(o,M)},onDoubleClick:function(M){return u&&u(o,M)},onKeyDown:function(M){return h&&h(o,M)}}),typeof v=="function"?v($):$))}}])}(O.Component);function F_(e,t){return!e||t==null?!1:zu(e,t)}function Mde(e,t){var n=e.right-e.left,r=n/t;return r}function Rde(e,t,n,r){var a=Mde(e,r);return n?r-1-Math.floor((t-e.left)/a):Math.floor((t-e.left)/a)}function Oat(e,t){var n=t.x,r=t.y;return r>=e.top&&r<=e.bottom&&n>=e.left&&n<=e.right}function Mat(e,t,n,r,a){var i=-1,o=-1,l=r-1,c=Mde(t,r),d=Rde(t,n.x,a,r),u=t.top<n.y&&t.bottom>n.y,h=t.top<e.y&&t.bottom>e.y,f=e.y>t.bottom,g=t.top>e.y,m=n.top<t.top&&n.bottom>t.bottom;return m&&(i=0,o=l),u&&(g?(i=0,o=d):f&&(i=d,o=l)),h&&(i=o=a?l-Math.floor((e.x-t.left)/c):Math.floor((e.x-t.left)/c),u?d<i?i=d:o=d:e.y<n.y?o=l:i=0),{startIdx:i,endIdx:o}}function Rat(e){var t=e.target,n=e.offset,r=e.container,a=e.box,i=mf(t),o=i.top,l=i.left,c=i.width,d=i.height,u=mf(r),h=u.top,f=u.left,g=u.width,m=u.height,p=mf(a),x=p.width,v=p.height,y=h+m,j=f+g,N=o+v,w=l+x,S=n.x,k=n.y,_=N>y?o-v-k:o+k+d,T=w>j?l+S-x+c:l+S;return{topOffset:_,leftOffset:T}}function $at(e){var t=e.containerRef,n=e.accessors,r=e.getters,a=e.selected,i=e.components,o=e.localizer,l=e.position,c=e.show,d=e.events,u=e.slotStart,h=e.slotEnd,f=e.onSelect,g=e.onDoubleClick,m=e.onKeyPress,p=e.handleDragStart,x=e.popperRef,v=e.target,y=e.offset;Eat({ref:x,callback:c}),b.useLayoutEffect(function(){var w=Rat({target:v,offset:y,container:t.current,box:x.current}),S=w.topOffset,k=w.leftOffset;x.current.style.top="".concat(S,"px"),x.current.style.left="".concat(k,"px")},[y.x,y.y,v]);var j=l.width,N={minWidth:j+j/2};return O.createElement("div",{style:N,className:"rbc-overlay",ref:x},O.createElement("div",{className:"rbc-overlay-header"},o.format(u,"dayHeaderFormat")),d.map(function(w,S){return O.createElement(Ode,{key:S,type:"popup",localizer:o,event:w,getters:r,onSelect:f,accessors:n,components:i,onDoubleClick:g,onKeyPress:m,continuesPrior:o.lt(n.end(w),u,"day"),continuesAfter:o.gte(n.start(w),h,"day"),slotStart:u,slotEnd:h,selected:F_(w,a),draggable:!0,onDragStart:function(){return p(w)},onDragEnd:function(){return c()}})}))}var $de=O.forwardRef(function(e,t){return O.createElement($at,Object.assign({},e,{popperRef:t}))});$de.propTypes={accessors:ce.object.isRequired,getters:ce.object.isRequired,selected:ce.object,components:ce.object.isRequired,localizer:ce.object.isRequired,position:ce.object.isRequired,show:ce.func.isRequired,events:ce.array.isRequired,slotStart:ce.instanceOf(Date).isRequired,slotEnd:ce.instanceOf(Date),onSelect:ce.func,onDoubleClick:ce.func,onKeyPress:ce.func,handleDragStart:ce.func,style:ce.object,offset:ce.shape({x:ce.number,y:ce.number})};function Iat(e){var t=e.containerRef,n=e.popupOffset,r=n===void 0?5:n,a=e.overlay,i=e.accessors,o=e.localizer,l=e.components,c=e.getters,d=e.selected,u=e.handleSelectEvent,h=e.handleDoubleClickEvent,f=e.handleKeyPressEvent,g=e.handleDragStart,m=e.onHide,p=e.overlayDisplay,x=b.useRef(null);if(!a.position)return null;var v=r;isNaN(r)||(v={x:r,y:r});var y=a.position,j=a.events,N=a.date,w=a.end;return O.createElement(wF,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:m,target:a.target},function(S){var k=S.props;return O.createElement($de,Object.assign({},k,{containerRef:t,ref:x,target:a.target,offset:v,accessors:i,getters:c,selected:d,components:l,localizer:o,position:y,show:p,events:j,slotStart:N,slotEnd:w,onSelect:u,onDoubleClick:h,onKeyPress:f,handleDragStart:g}))})}var CF=O.forwardRef(function(e,t){return O.createElement(Iat,Object.assign({},e,{containerRef:t}))});CF.propTypes={popupOffset:ce.oneOfType([ce.number,ce.shape({x:ce.number,y:ce.number})]),overlay:ce.shape({position:ce.object,events:ce.array,date:ce.instanceOf(Date),end:ce.instanceOf(Date)}),accessors:ce.object.isRequired,localizer:ce.object.isRequired,components:ce.object.isRequired,getters:ce.object.isRequired,selected:ce.object,handleSelectEvent:ce.func,handleDoubleClickEvent:ce.func,handleKeyPressEvent:ce.func,handleDragStart:ce.func,onHide:ce.func,overlayDisplay:ce.func};function Us(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return Kx(n,e,t,{passive:!1})}function Fat(e,t,n){return!e||vb(e,document.elementFromPoint(t,n))}function Lat(e,t){var n=t.clientX,r=t.clientY,a=document.elementFromPoint(n,r);return _de(a,".rbc-event",e)}function zat(e,t){var n=t.clientX,r=t.clientY,a=document.elementFromPoint(n,r);return _de(a,".rbc-show-more",e)}function GC(e,t){return!!Lat(e,t)}function Bat(e,t){return!!zat(e,t)}function Cx(e){var t=e;return e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}var VV=5,Uat=250,Ide=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.global,a=r===void 0?!1:r,i=n.longPressThreshold,o=i===void 0?250:i,l=n.validContainers,c=l===void 0?[]:l;gs(this,e),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=t,this.globalMouse=!t||a,this.longPressThreshold=o,this.validContainers=c,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=Us("touchmove",function(){},window),this._removeKeyDownListener=Us("keydown",this._keyListener),this._removeKeyUpListener=Us("keyup",this._keyListener),this._removeDropFromOutsideListener=Us("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=Us("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return vs(e,[{key:"on",value:function(n,r){var a=this._listeners[n]||(this._listeners[n]=[]);return a.push(r),{remove:function(){var o=a.indexOf(r);o!==-1&&a.splice(o,1)}}}},{key:"emit",value:function(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];var o,l=this._listeners[n]||[];return l.forEach(function(c){o===void 0&&(o=c.apply(void 0,a))}),o}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(n){var r=this._selectRect;return!r||!this.selecting?!1:WV(r,Wf(n))}},{key:"filter",value:function(n){var r=this._selectRect;return!r||!this.selecting?[]:n.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(n,r){var a=this,i=null,o=null,l=null,c=function(f){i=setTimeout(function(){u(),n(f)},a.longPressThreshold),o=Us("touchmove",function(){return u()}),l=Us("touchend",function(){return u()})},d=Us("touchstart",c),u=function(){i&&clearTimeout(i),o&&o(),l&&l(),i=null,o=null,l=null};return r&&c(r),function(){u(),d()}}},{key:"_addInitialEventListener",value:function(){var n=this,r=Us("mousedown",function(i){n._removeInitialEventListener(),n._handleInitialEvent(i),n._removeInitialEventListener=Us("mousedown",n._handleInitialEvent)}),a=Us("touchstart",function(i){n._removeInitialEventListener(),n._removeInitialEventListener=n._addLongPressListener(n._handleInitialEvent,i)});this._removeInitialEventListener=function(){r(),a()}}},{key:"_dropFromOutsideListener",value:function(n){var r=Cx(n),a=r.pageX,i=r.pageY,o=r.clientX,l=r.clientY;this.emit("dropFromOutside",{x:a,y:i,clientX:o,clientY:l}),n.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(n){var r=Cx(n),a=r.pageX,i=r.pageY,o=r.clientX,l=r.clientY;this.emit("dragOverFromOutside",{x:a,y:i,clientX:o,clientY:l}),n.preventDefault()}},{key:"_handleInitialEvent",value:function(n){if(this._initialEvent=n,!this.isDetached){var r=Cx(n),a=r.clientX,i=r.clientY,o=r.pageX,l=r.pageY,c=this.container(),d,u;if(!(n.which===3||n.button===2||!Fat(c,a,i))){if(!this.globalMouse&&c&&!vb(c,n.target)){var h=Vat(0),f=h.top,g=h.left,m=h.bottom,p=h.right;if(u=Wf(c),d=WV({top:u.top-f,left:u.left-g,bottom:u.bottom+m,right:u.right+p},{top:l,left:o}),!d)return}var x=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(n.type),x:o,y:l,clientX:a,clientY:i});if(x!==!1)switch(n.type){case"mousedown":this._removeEndListener=Us("mouseup",this._handleTerminatingEvent),this._onEscListener=Us("keydown",this._handleTerminatingEvent),this._removeMoveListener=Us("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(n),this._removeEndListener=Us("touchend",this._handleTerminatingEvent),this._removeMoveListener=Us("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(n){var r=n.target,a=this.validContainers;return!a||!a.length||!r?!0:a.some(function(i){return!!r.closest(i)})}},{key:"_handleTerminatingEvent",value:function(n){var r=this.selecting,a=this._selectRect;if(!r&&n.type.includes("key")&&(n=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!n){var i=!this.container||vb(this.container(),n.target),o=this._isWithinValidContainer(n);return n.key==="Escape"||!o?this.emit("reset"):!r&&i?this._handleClickEvent(n):r?this.emit("select",a):this.emit("reset")}}},{key:"_handleClickEvent",value:function(n){var r=Cx(n),a=r.pageX,i=r.pageY,o=r.clientX,l=r.clientY,c=new Date().getTime();return this._lastClickData&&c-this._lastClickData.timestamp<Uat?(this._lastClickData=null,this.emit("doubleClick",{x:a,y:i,clientX:o,clientY:l})):(this._lastClickData={timestamp:c},this.emit("click",{x:a,y:i,clientX:o,clientY:l}))}},{key:"_handleMoveEvent",value:function(n){if(!(this._initialEventData===null||this.isDetached)){var r=this._initialEventData,a=r.x,i=r.y,o=Cx(n),l=o.pageX,c=o.pageY,d=Math.abs(a-l),u=Math.abs(i-c),h=Math.min(l,a),f=Math.min(c,i),g=this.selecting,m=this.isClick(l,c);m&&!g&&!(d||u)||(!g&&!m&&this.emit("selectStart",this._initialEventData),m||(this.selecting=!0,this._selectRect={top:f,left:h,x:l,y:c,right:h+d,bottom:f+u},this.emit("selecting",this._selectRect)),n.preventDefault())}}},{key:"_keyListener",value:function(n){this.ctrl=n.metaKey||n.ctrlKey}},{key:"isClick",value:function(n,r){var a=this._initialEventData,i=a.x,o=a.y,l=a.isTouch;return!l&&Math.abs(n-i)<=VV&&Math.abs(r-o)<=VV}}])}();function Vat(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return hd(e)!=="object"&&(e={top:e,left:e,right:e,bottom:e}),e}function WV(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=Wf(e),a=r.top,i=r.left,o=r.right,l=o===void 0?i:o,c=r.bottom,d=c===void 0?a:c,u=Wf(t),h=u.top,f=u.left,g=u.right,m=g===void 0?f:g,p=u.bottom,x=p===void 0?h:p;return!(d-n<h||a+n>x||l-n<f||i+n>m)}function Wf(e){if(!e.getBoundingClientRect)return e;var t=e.getBoundingClientRect(),n=t.left+HV("left"),r=t.top+HV("top");return{top:r,left:n,right:(e.offsetWidth||0)+n,bottom:(e.offsetHeight||0)+r}}function HV(e){if(e==="left")return window.pageXOffset||document.body.scrollLeft||0;if(e==="top")return window.pageYOffset||document.body.scrollTop||0}var Wat=function(e){function t(n,r){var a;return gs(this,t),a=ia(this,t,[n,r]),a.state={selecting:!1},a.containerRef=b.createRef(),a}return oa(t,e),vs(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(r){!r.selectable&&this.props.selectable&&this._selectable(),r.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var r=this.props,a=r.range,i=r.getNow,o=r.getters,l=r.date,c=r.components.dateCellWrapper,d=r.localizer,u=this.state,h=u.selecting,f=u.startIdx,g=u.endIdx,m=i();return O.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},a.map(function(p,x){var v=h&&x>=f&&x<=g,y=o.dayProp(p),j=y.className,N=y.style;return O.createElement(c,{key:x,value:p,range:a},O.createElement("div",{style:N,className:kr("rbc-day-bg",j,v&&"rbc-selected-cell",d.isSameDate(p,m)&&"rbc-today",l&&d.neq(l,p,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var r=this,a=this.containerRef.current,i=this._selector=new Ide(this.props.container,{longPressThreshold:this.props.longPressThreshold}),o=function(c,d){if(!GC(a,c)&&!Bat(a,c)){var u=Wf(a),h=r.props,f=h.range,g=h.rtl;if(Oat(u,c)){var m=Rde(u,c.x,g,f.length);r._selectSlot({startIdx:m,endIdx:m,action:d,box:c})}}r._initial={},r.setState({selecting:!1})};i.on("selecting",function(l){var c=r.props,d=c.range,u=c.rtl,h=-1,f=-1;if(r.state.selecting||(Vn(r.props.onSelectStart,[l]),r._initial={x:l.x,y:l.y}),i.isSelected(a)){var g=Wf(a),m=Mat(r._initial,g,l,d.length,u);h=m.startIdx,f=m.endIdx}r.setState({selecting:!0,startIdx:h,endIdx:f})}),i.on("beforeSelect",function(l){if(r.props.selectable==="ignoreEvents")return!GC(r.containerRef.current,l)}),i.on("click",function(l){return o(l,"click")}),i.on("doubleClick",function(l){return o(l,"doubleClick")}),i.on("select",function(l){r._selectSlot(Nn(Nn({},r.state),{},{action:"select",bounds:l})),r._initial={},r.setState({selecting:!1}),Vn(r.props.onSelectEnd,[r.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(r){var a=r.endIdx,i=r.startIdx,o=r.action,l=r.bounds,c=r.box;a!==-1&&i!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:i,end:a,action:o,bounds:l,box:c,resourceId:this.props.resourceId})}}])}(O.Component),zi={propTypes:{slotMetrics:ce.object.isRequired,selected:ce.object,isAllDay:ce.bool,accessors:ce.object.isRequired,localizer:ce.object.isRequired,components:ce.object.isRequired,getters:ce.object.isRequired,onSelect:ce.func,onDoubleClick:ce.func,onKeyPress:ce.func},defaultProps:{segments:[],selected:{}},renderEvent:function(t,n){var r=t.selected;t.isAllDay;var a=t.accessors,i=t.getters,o=t.onSelect,l=t.onDoubleClick,c=t.onKeyPress,d=t.localizer,u=t.slotMetrics,h=t.components,f=t.resizable,g=u.continuesPrior(n),m=u.continuesAfter(n);return O.createElement(Ode,{event:n,getters:i,localizer:d,accessors:a,components:h,onSelect:o,onDoubleClick:l,onKeyPress:c,continuesPrior:g,continuesAfter:m,slotStart:u.first,slotEnd:u.last,selected:F_(n,r),resizable:f})},renderSpan:function(t,n,r){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",i=Math.abs(n)/t*100+"%";return O.createElement("div",{key:r,className:"rbc-row-segment",style:{WebkitFlexBasis:i,flexBasis:i,maxWidth:i}},a)}},Fde=function(e){function t(){return gs(this,t),ia(this,t,arguments)}return oa(t,e),vs(t,[{key:"render",value:function(){var r=this,a=this.props,i=a.segments,o=a.slotMetrics.slots,l=a.className,c=1;return O.createElement("div",{className:kr(l,"rbc-row")},i.reduce(function(d,u,h){var f=u.event,g=u.left,m=u.right,p=u.span,x="_lvl_"+h,v=g-c,y=zi.renderEvent(r.props,f);return v&&d.push(zi.renderSpan(o,v,"".concat(x,"_gap"))),d.push(zi.renderSpan(o,p,x,y)),c=m+1,d},[]))}}])}(O.Component);Fde.defaultProps=Nn({},zi.defaultProps);function Lde(e){var t=e.dateRange,n=e.unit,r=n===void 0?"day":n,a=e.localizer;return{first:t[0],last:a.add(t[t.length-1],1,r)}}function Hat(e,t,n,r){var a=Lde({dateRange:t,localizer:r}),i=a.first,o=a.last,l=r.diff(i,o,"day"),c=r.max(r.startOf(n.start(e),"day"),i),d=r.min(r.ceil(n.end(e),"day"),o),u=Yqe(t,function(f){return r.isSameDate(f,c)}),h=r.diff(c,d,"day");return h=Math.min(h,l),h=Math.max(h-r.segmentOffset,1),{event:e,span:h,left:u+1,right:Math.max(u+h,1)}}function dM(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,n,r,a,i=[],o=[];for(n=0;n<e.length;n++){for(a=e[n],r=0;r<i.length&&qat(a,i[r]);r++);r>=t?o.push(a):(i[r]||(i[r]=[])).push(a)}for(n=0;n<i.length;n++)i[n].sort(function(l,c){return l.left-c.left});return{levels:i,extra:o}}function bb(e,t,n,r,a){var i={start:r.start(e),end:r.end(e)},o={start:t,end:n};return a.inEventRange({event:i,range:o})}function qat(e,t){return t.some(function(n){return n.left<=e.right&&n.right>=e.left})}function Kat(e,t,n){var r=f1(e),a=[],i=[];r.forEach(function(c){var d=t.start(c),u=t.end(c);n.daySpan(d,u)>1?a.push(c):i.push(c)});var o=a.sort(function(c,d){return uM(c,d,t,n)}),l=i.sort(function(c,d){return uM(c,d,t,n)});return[].concat(f1(o),f1(l))}function uM(e,t,n,r){var a={start:n.start(e),end:n.end(e),allDay:n.allDay(e)},i={start:n.start(t),end:n.end(t),allDay:n.allDay(t)};return r.sortEvents({evtA:a,evtB:i})}var hM=function(t,n){return t.left<=n&&t.right>=n},GT=function(t,n){return t.filter(function(r){return hM(r,n)}).map(function(r){return r.event})},zde=function(e){function t(){return gs(this,t),ia(this,t,arguments)}return oa(t,e),vs(t,[{key:"render",value:function(){for(var r=this.props,a=r.segments,i=r.slotMetrics.slots,o=dM(a).levels[0],l=1,c=1,d=[];l<=i;){var u="_lvl_"+l,h=o.filter(function(N){return hM(N,l)})[0]||{},f=h.event,g=h.left,m=h.right,p=h.span;if(!f){var x=this.getHiddenEventsForSlot(a,l);if(x.length>0){var v=l-c;v&&d.push(zi.renderSpan(i,v,u+"_gap")),d.push(zi.renderSpan(i,1,u,this.renderShowMore(a,l))),c=l=l+1;continue}l++;continue}var y=Math.max(0,g-c);if(this.canRenderSlotEvent(g,p)){var j=zi.renderEvent(this.props,f);y&&d.push(zi.renderSpan(i,y,u+"_gap")),d.push(zi.renderSpan(i,p,u,j)),c=l=m+1}else y&&d.push(zi.renderSpan(i,y,u+"_gap")),d.push(zi.renderSpan(i,1,u,this.renderShowMore(a,l))),c=l=l+1}return O.createElement("div",{className:"rbc-row"},d)}},{key:"getHiddenEventsForSlot",value:function(r,a){var i=GT(r,a),o=dM(r).levels[0],l=o.filter(function(c){return hM(c,a)}).map(function(c){return c.event});return i.filter(function(c){return!l.some(function(d){return d===c})})}},{key:"canRenderSlotEvent",value:function(r,a){var i=this.props.segments;return Z0(r,r+a).every(function(o){var l=GT(i,o).length;return l===1})}},{key:"renderShowMore",value:function(r,a){var i=this,o=this.props,l=o.localizer,c=o.slotMetrics,d=o.components,u=c.getEventsForSlot(a),h=GT(r,a),f=h.length;if(d!=null&&d.showMore){var g=d.showMore,m=c.getDateForSlot(a-1);return f?O.createElement(g,{localizer:l,slotDate:m,slot:a,count:f,events:u,remainingEvents:h}):!1}return f?O.createElement("button",{type:"button",key:"sm_"+a,className:kr("rbc-button-link","rbc-show-more"),onClick:function(x){return i.showMore(a,x)}},l.messages.showMore(f,h,u)):!1}},{key:"showMore",value:function(r,a){a.preventDefault(),a.stopPropagation(),this.props.onShowMore(r,a.target)}}])}(O.Component);zde.defaultProps=Nn({},zi.defaultProps);var Gat=function(t){var n=t.children;return O.createElement("div",{className:"rbc-row-content-scroll-container"},n)},Yat=function(t,n){return t.left<=n&&t.right>=n},Xat=function(t,n){return t[0].range===n[0].range&&t[0].events===n[0].events};function Bde(){return Pde(function(e){for(var t=e.range,n=e.events,r=e.maxRows,a=e.minRows,i=e.accessors,o=e.localizer,l=Lde({dateRange:t,localizer:o}),c=l.first,d=l.last,u=n.map(function(p){return Hat(p,t,i,o)}),h=dM(u,Math.max(r-1,1)),f=h.levels,g=h.extra,m=g.length>0?a-1:a;f.length<m;)f.push([]);return{first:c,last:d,levels:f,extra:g,range:t,slots:t.length,clone:function(x){var v=Bde();return v(Nn(Nn({},e),x))},getDateForSlot:function(x){return t[x]},getSlotForDate:function(x){return t.find(function(v){return o.isSameDate(v,x)})},getEventsForSlot:function(x){return u.filter(function(v){return Yat(v,x)}).map(function(v){return v.event})},continuesPrior:function(x){return o.continuesPrior(i.start(x),c)},continuesAfter:function(x){var v=i.start(x),y=i.end(x);return o.continuesAfter(v,y,d)}}},Xat)}var jb=function(e){function t(){var n;gs(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=ia(this,t,[].concat(a)),n.handleSelectSlot=function(o){var l=n.props,c=l.range,d=l.onSelectSlot;d(c.slice(o.start,o.end+1),o)},n.handleShowMore=function(o,l){var c=n.props,d=c.range,u=c.onShowMore,h=n.slotMetrics(n.props),f=ort(n.containerRef.current,".rbc-row-bg")[0],g;f&&(g=f.children[o-1]);var m=h.getEventsForSlot(o);u(m,d[o-1],g,o,l)},n.getContainer=function(){var o=n.props.container;return o?o():n.containerRef.current},n.renderHeadingCell=function(o,l){var c=n.props,d=c.renderHeader,u=c.getNow,h=c.localizer;return d({date:o,key:"header_".concat(l),className:kr("rbc-date-cell",h.isSameDate(o,u())&&"rbc-now")})},n.renderDummy=function(){var o=n.props,l=o.className,c=o.range,d=o.renderHeader,u=o.showAllEvents;return O.createElement("div",{className:l,ref:n.containerRef},O.createElement("div",{className:kr("rbc-row-content",u&&"rbc-row-content-scrollable")},d&&O.createElement("div",{className:"rbc-row",ref:n.headingRowRef},c.map(n.renderHeadingCell)),O.createElement("div",{className:"rbc-row",ref:n.eventRowRef},O.createElement("div",{className:"rbc-row-segment"},O.createElement("div",{className:"rbc-event"},O.createElement("div",{className:"rbc-event-content"},""))))))},n.containerRef=b.createRef(),n.headingRowRef=b.createRef(),n.eventRowRef=b.createRef(),n.slotMetrics=Bde(),n}return oa(t,e),vs(t,[{key:"getRowLimit",value:function(){var r,a=KT(this.eventRowRef.current),i=(r=this.headingRowRef)!==null&&r!==void 0&&r.current?KT(this.headingRowRef.current):0,o=KT(this.containerRef.current)-i;return Math.max(Math.floor(o/a),1)}},{key:"render",value:function(){var r=this.props,a=r.date,i=r.rtl,o=r.range,l=r.className,c=r.selected,d=r.selectable,u=r.renderForMeasure,h=r.accessors,f=r.getters,g=r.components,m=r.getNow,p=r.renderHeader,x=r.onSelect,v=r.localizer,y=r.onSelectStart,j=r.onSelectEnd,N=r.onDoubleClick,w=r.onKeyPress,S=r.resourceId,k=r.longPressThreshold,_=r.isAllDay,T=r.resizable,P=r.showAllEvents;if(u)return this.renderDummy();var C=this.slotMetrics(this.props),A=C.levels,E=C.extra,I=P?Gat:jl,$=g.weekWrapper,U={selected:c,accessors:h,getters:f,localizer:v,components:g,onSelect:x,onDoubleClick:N,onKeyPress:w,resourceId:S,slotMetrics:C,resizable:T};return O.createElement("div",{className:l,role:"rowgroup",ref:this.containerRef},O.createElement(Wat,{localizer:v,date:a,getNow:m,rtl:i,range:o,selectable:d,container:this.getContainer,getters:f,onSelectStart:y,onSelectEnd:j,onSelectSlot:this.handleSelectSlot,components:g,longPressThreshold:k,resourceId:S}),O.createElement("div",{className:kr("rbc-row-content",P&&"rbc-row-content-scrollable"),role:"row"},p&&O.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},o.map(this.renderHeadingCell)),O.createElement(I,null,O.createElement($,Object.assign({isAllDay:_},U,{rtl:this.props.rtl}),A.map(function(M,F){return O.createElement(Fde,Object.assign({key:F,segments:M},U))}),!!E.length&&O.createElement(zde,Object.assign({segments:E,onShowMore:this.handleShowMore},U))))))}}])}(O.Component);jb.defaultProps={minRows:0,maxRows:1/0};var kF=function(t){var n=t.label;return O.createElement("span",{role:"columnheader","aria-sort":"none"},n)},Qat=function(t){var n=t.label,r=t.drilldownView,a=t.onDrillDown;return r?O.createElement("button",{type:"button",className:"rbc-button-link",onClick:a},n):O.createElement("span",null,n)},Zat=["date","className"],Jat=function(t,n,r,a,i){return t.filter(function(o){return bb(o,n,r,a,i)})},L_=function(e){function t(){var n;gs(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=ia(this,t,[].concat(a)),n.getContainer=function(){return n.containerRef.current},n.renderWeek=function(o,l){var c=n.props,d=c.events,u=c.components,h=c.selectable,f=c.getNow,g=c.selected,m=c.date,p=c.localizer,x=c.longPressThreshold,v=c.accessors,y=c.getters,j=c.showAllEvents,N=n.state,w=N.needLimitMeasure,S=N.rowLimit,k=Jat(f1(d),o[0],o[o.length-1],v,p),_=Kat(k,v,p);return O.createElement(jb,{key:l,ref:l===0?n.slotRowRef:void 0,container:n.getContainer,className:"rbc-month-row",getNow:f,date:m,range:o,events:_,maxRows:j?1/0:S,selected:g,selectable:h,components:u,accessors:v,getters:y,localizer:p,renderHeader:n.readerDateHeading,renderForMeasure:w,onShowMore:n.handleShowMore,onSelect:n.handleSelectEvent,onDoubleClick:n.handleDoubleClickEvent,onKeyPress:n.handleKeyPressEvent,onSelectSlot:n.handleSelectSlot,longPressThreshold:x,rtl:n.props.rtl,resizable:n.props.resizable,showAllEvents:j})},n.readerDateHeading=function(o){var l=o.date,c=o.className,d=uc(o,Zat),u=n.props,h=u.date,f=u.getDrilldownView,g=u.localizer,m=g.neq(h,l,"month"),p=g.isSameDate(l,h),x=f(l),v=g.format(l,"dateFormat"),y=n.props.components.dateHeader||Qat;return O.createElement("div",Object.assign({},d,{className:kr(c,m&&"rbc-off-range",p&&"rbc-current"),role:"cell"}),O.createElement(y,{label:v,date:l,drilldownView:x,isOffRange:m,onDrillDown:function(N){return n.handleHeadingClick(l,x,N)}}))},n.handleSelectSlot=function(o,l){n._pendingSelection=n._pendingSelection.concat(o),clearTimeout(n._selectTimer),n._selectTimer=setTimeout(function(){return n.selectDates(l)})},n.handleHeadingClick=function(o,l,c){c.preventDefault(),n.clearSelection(),Vn(n.props.onDrillDown,[o,l])},n.handleSelectEvent=function(){n.clearSelection();for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];Vn(n.props.onSelectEvent,l)},n.handleDoubleClickEvent=function(){n.clearSelection();for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];Vn(n.props.onDoubleClickEvent,l)},n.handleKeyPressEvent=function(){n.clearSelection();for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];Vn(n.props.onKeyPressEvent,l)},n.handleShowMore=function(o,l,c,d,u){var h=n.props,f=h.popup,g=h.onDrillDown,m=h.onShowMore,p=h.getDrilldownView,x=h.doShowMoreDrillDown;if(n.clearSelection(),f){var v=vde(c,n.containerRef.current);n.setState({overlay:{date:l,events:o,position:v,target:u}})}else x&&Vn(g,[l,p(l)||zn.DAY]);Vn(m,[o,l,d])},n.overlayDisplay=function(){n.setState({overlay:null})},n.state={rowLimit:5,needLimitMeasure:!0,date:null},n.containerRef=b.createRef(),n.slotRowRef=b.createRef(),n._bgRows=[],n._pendingSelection=[],n}return oa(t,e),vs(t,[{key:"componentDidMount",value:function(){var r=this,a;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){a||xde(function(){a=!1,r.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var r=this.props,a=r.date,i=r.localizer,o=r.className,l=i.visibleDays(a,i),c=Hnt(l,7);return this._weekCount=c.length,O.createElement("div",{className:kr("rbc-month-view",o),role:"table","aria-label":"Month View",ref:this.containerRef},O.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(c[0])),c.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(r){var a=this.props,i=a.localizer,o=a.components,l=r[0],c=r[r.length-1],d=o.header||kF;return i.range(l,c,"day").map(function(u,h){return O.createElement("div",{key:"header_"+h,className:"rbc-header"},O.createElement(d,{date:u,localizer:i,label:i.format(u,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var r,a,i=this,o=(r=(a=this.state)===null||a===void 0?void 0:a.overlay)!==null&&r!==void 0?r:{},l=this.props,c=l.accessors,d=l.localizer,u=l.components,h=l.getters,f=l.selected,g=l.popupOffset,m=l.handleDragStart,p=function(){return i.setState({overlay:null})};return O.createElement(CF,{overlay:o,accessors:c,localizer:d,components:u,getters:h,selected:f,popupOffset:g,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:m,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:p})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(r){var a=this._pendingSelection.slice();this._pendingSelection=[],a.sort(function(l,c){return+l-+c});var i=new Date(a[0]),o=new Date(a[a.length-1]);o.setDate(a[a.length-1].getDate()+1),Vn(this.props.onSelectSlot,{slots:a,start:i,end:o,action:r.action,bounds:r.bounds,box:r.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(r,a){var i=r.date,o=r.localizer;return{date:i,needLimitMeasure:o.neq(i,a.date,"month")}}}])}(O.Component);L_.range=function(e,t){var n=t.localizer,r=n.firstVisibleDay(e,n),a=n.lastVisibleDay(e,n);return{start:r,end:a}};L_.navigate=function(e,t,n){var r=n.localizer;switch(t){case Ka.PREVIOUS:return r.add(e,-1,"month");case Ka.NEXT:return r.add(e,1,"month");default:return e}};L_.title=function(e,t){var n=t.localizer;return n.format(e,"monthHeaderFormat")};var qV=function(t){var n=t.min,r=t.max,a=t.step,i=t.slots,o=t.localizer;return"".concat(+o.startOf(n,"minutes"))+"".concat(+o.startOf(r,"minutes"))+"".concat(a,"-").concat(i)};function _F(e){for(var t=e.min,n=e.max,r=e.step,a=e.timeslots,i=e.localizer,o=qV({start:t,end:n,step:r,timeslots:a,localizer:i}),l=1+i.getTotalMin(t,n),c=i.getMinutesFromMidnight(t),d=Math.ceil((l-1)/(r*a)),u=d*a,h=new Array(d),f=new Array(u),g=0;g<d;g++){h[g]=new Array(a);for(var m=0;m<a;m++){var p=g*a+m,x=p*r;f[p]=h[g][m]=i.getSlotDate(t,c,x)}}var v=f.length*r;f.push(i.getSlotDate(t,c,v));function y(j){var N=i.diff(t,j,"minutes")+i.getDstOffset(t,j);return Math.min(N,l)}return{groups:h,update:function(N){return qV(N)!==o?_F(N):this},dateIsInGroup:function(N,w){var S=h[w+1];return i.inRange(N,h[w][0],S?S[0]:n,"minutes")},nextSlot:function(N){var w=f[Math.min(f.findIndex(function(S){return S===N||i.eq(S,N)})+1,f.length-1)];return i.eq(w,N)&&(w=i.add(N,r,"minutes")),w},closestSlotToPosition:function(N){var w=Math.min(f.length-1,Math.max(0,Math.floor(N*u)));return f[w]},closestSlotFromPoint:function(N,w){var S=Math.abs(w.top-w.bottom);return this.closestSlotToPosition((N.y-w.top)/S)},closestSlotFromDate:function(N){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(i.lt(N,t,"minutes"))return f[0];if(i.gt(N,n,"minutes"))return f[f.length-1];var S=i.diff(t,N,"minutes");return f[(S-S%r)/r+w]},startsBeforeDay:function(N){return i.lt(N,t,"day")},startsAfterDay:function(N){return i.gt(N,n,"day")},startsBefore:function(N){return i.lt(i.merge(t,N),t,"minutes")},startsAfter:function(N){return i.gt(i.merge(n,N),n,"minutes")},getRange:function(N,w,S,k){S||(N=i.min(n,i.max(t,N))),k||(w=i.min(n,i.max(t,w)));var _=y(N),T=y(w),P=T>r*u&&!i.eq(n,w)?(_-r)/(r*u)*100:_/(r*u)*100;return{top:P,height:T/(r*u)*100-P,start:y(N),startDate:N,end:y(w),endDate:w}},getCurrentTimePosition:function(N){var w=y(N),S=w/(r*u)*100;return S}}}var eit=function(){function e(t,n){var r=n.accessors,a=n.slotMetrics;gs(this,e);var i=a.getRange(r.start(t),r.end(t)),o=i.start,l=i.startDate,c=i.end,d=i.endDate,u=i.top,h=i.height;this.start=o,this.end=c,this.startMs=+l,this.endMs=+d,this.top=u,this.height=h,this.data=t}return vs(e,[{key:"_width",get:function(){if(this.rows){var n=this.rows.reduce(function(a,i){return Math.max(a,i.leaves.length+1)},0)+1;return 100/n}if(this.leaves){var r=100-this.container._width;return r/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var n=this._width,r=Math.min(100,this._width*1.7);if(this.rows)return r;if(this.leaves)return this.leaves.length>0?r:n;var a=this.row.leaves,i=a.indexOf(this);return i===a.length-1?n:r}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var n=this.row,r=n.leaves,a=n.xOffset,i=n._width,o=r.indexOf(this)+1;return a+o*i}}])}();function tit(e,t,n){return Math.abs(t.start-e.start)<n||t.start>e.start&&t.start<e.end}function nit(e){for(var t=n_(e,["startMs",function(l){return-l.endMs}]),n=[];t.length>0;){var r=t.shift();n.push(r);for(var a=0;a<t.length;a++){var i=t[a];if(!(r.endMs>i.startMs)){if(a>0){var o=t.splice(a,1)[0];n.push(o)}break}}}return n}function Ude(e){for(var t=e.events,n=e.minimumStartDifference,r=e.slotMetrics,a=e.accessors,i=t.map(function(u){return new eit(u,{slotMetrics:r,accessors:a})}),o=nit(i),l=[],c=function(){var h=o[d],f=l.find(function(p){return p.end>h.start||Math.abs(h.start-p.start)<n});if(!f)return h.rows=[],l.push(h),1;h.container=f;for(var g=null,m=f.rows.length-1;!g&&m>=0;m--)tit(f.rows[m],h,n)&&(g=f.rows[m]);g?(g.leaves.push(h),h.row=g):(h.leaves=[],f.rows.push(h))},d=0;d<o.length;d++)c();return o.map(function(u){return{event:u.data,style:{top:u.top,height:u.height,width:u.width,xOffset:Math.max(0,u.xOffset)}}})}function Vde(e,t,n){for(var r=0;r<e.friends.length;++r)if(!(n.indexOf(e.friends[r])>-1)){t=t>e.friends[r].idx?t:e.friends[r].idx,n.push(e.friends[r]);var a=Vde(e.friends[r],t,n);t=t>a?t:a}return t}function rit(e){var t=e.events,n=e.minimumStartDifference,r=e.slotMetrics,a=e.accessors,i=Ude({events:t,minimumStartDifference:n,slotMetrics:r,accessors:a});i.sort(function($,U){return $=$.style,U=U.style,$.top!==U.top?$.top>U.top?1:-1:$.height!==U.height?$.top+$.height<U.top+U.height?1:-1:0});for(var o=0;o<i.length;++o)i[o].friends=[],delete i[o].style.left,delete i[o].style.left,delete i[o].idx,delete i[o].size;for(var l=0;l<i.length-1;++l)for(var c=i[l],d=c.style.top,u=c.style.top+c.style.height,h=l+1;h<i.length;++h){var f=i[h],g=f.style.top,m=f.style.top+f.style.height;(g>=d&&m<=u||m>d&&m<=u||g>=d&&g<u)&&(c.friends.push(f),f.friends.push(c))}for(var p=0;p<i.length;++p){for(var x=i[p],v=[],y=0;y<100;++y)v.push(1);for(var j=0;j<x.friends.length;++j)x.friends[j].idx!==void 0&&(v[x.friends[j].idx]=0);x.idx=v.indexOf(1)}for(var N=0;N<i.length;++N){var w=0;if(!i[N].size){var S=[],k=Vde(i[N],0,S);w=100/(k+1),i[N].size=w;for(var _=0;_<S.length;++_)S[_].size=w}}for(var T=0;T<i.length;++T){var P=i[T];P.style.left=P.idx*P.size;for(var C=0,A=0;A<P.friends.length;++A){var E=P.friends[A].idx;C=C>E?C:E}C<=P.idx&&(P.size=100-P.idx*P.size);var I=P.idx===0?0:3;P.style.width="calc(".concat(P.size,"% - ").concat(I,"px)"),P.style.height="calc(".concat(P.style.height,"% - 2px)"),P.style.xOffset="calc(".concat(P.style.left,"% + ").concat(I,"px)")}return i}var KV={overlap:Ude,"no-overlap":rit};function sit(e){return!!(e&&e.constructor&&e.call&&e.apply)}function ait(e){e.events,e.minimumStartDifference,e.slotMetrics,e.accessors;var t=e.dayLayoutAlgorithm,n=t;return t in KV&&(n=KV[t]),sit(n)?n.apply(this,arguments):[]}var Wde=function(e){function t(){return gs(this,t),ia(this,t,arguments)}return oa(t,e),vs(t,[{key:"render",value:function(){var r=this.props,a=r.renderSlot,i=r.resource,o=r.group,l=r.getters,c=r.components,d=c===void 0?{}:c,u=d.timeSlotWrapper,h=u===void 0?jl:u,f=l?l.slotGroupProp(o):{};return O.createElement("div",Object.assign({className:"rbc-timeslot-group"},f),o.map(function(g,m){var p=l?l.slotProp(g,i):{};return O.createElement(h,{key:m,value:g,resource:i},O.createElement("div",Object.assign({},p,{className:kr("rbc-time-slot",p.className)}),a&&a(g,m)))}))}}])}(b.Component);function pN(e){return typeof e=="string"?e:e+"%"}function iit(e){var t=e.style,n=e.className,r=e.event,a=e.accessors,i=e.rtl,o=e.selected,l=e.label,c=e.continuesPrior,d=e.continuesAfter,u=e.getters,h=e.onClick,f=e.onDoubleClick,g=e.isBackgroundEvent,m=e.onKeyPress,p=e.components,x=p.event,v=p.eventWrapper,y=a.title(r),j=a.tooltip(r),N=a.end(r),w=a.start(r),S=u.eventProp(r,w,N,o),k=[O.createElement("div",{key:"1",className:"rbc-event-label"},l),O.createElement("div",{key:"2",className:"rbc-event-content"},x?O.createElement(x,{event:r,title:y}):y)],_=t.height,T=t.top,P=t.width,C=t.xOffset,A=Nn(Nn({},S.style),{},kh({top:pN(T),height:pN(_),width:pN(P)},i?"right":"left",pN(C)));return O.createElement(v,Object.assign({type:"time"},e),O.createElement("div",{role:"button",tabIndex:0,onClick:h,onDoubleClick:f,style:A,onKeyDown:m,title:j?(typeof l=="string"?l+": ":"")+j:void 0,className:kr(g?"rbc-background-event":"rbc-event",n,S.className,{"rbc-selected":o,"rbc-event-continues-earlier":c,"rbc-event-continues-later":d})},k))}var oit=function(t){var n=t.children,r=t.className,a=t.style,i=t.innerRef;return O.createElement("div",{className:r,style:a,ref:i},n)},lit=O.forwardRef(function(e,t){return O.createElement(oit,Object.assign({},e,{innerRef:t}))}),cit=["dayProp"],dit=["eventContainerWrapper","timeIndicatorWrapper"],Hde=function(e){function t(){var n;gs(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=ia(this,t,[].concat(a)),n.state={selecting:!1,timeIndicatorPosition:null},n.intervalTriggered=!1,n.renderEvents=function(o){var l=o.events,c=o.isBackgroundEvent,d=n.props,u=d.rtl,h=d.selected,f=d.accessors,g=d.localizer,m=d.getters,p=d.components,x=d.step,v=d.timeslots,y=d.dayLayoutAlgorithm,j=d.resizable,N=n,w=N.slotMetrics,S=g.messages,k=ait({events:l,accessors:f,slotMetrics:w,minimumStartDifference:Math.ceil(x*v/2),dayLayoutAlgorithm:y});return k.map(function(_,T){var P,C=_.event,A=_.style,E=f.end(C),I=f.start(C),$=(P=f.eventId(C))!==null&&P!==void 0?P:"evt_"+T,U="eventTimeRangeFormat",M,F=w.startsBeforeDay(I),V=w.startsAfterDay(E);F?U="eventTimeRangeEndFormat":V&&(U="eventTimeRangeStartFormat"),F&&V?M=S.allDay:M=g.format({start:I,end:E},U);var Y=F||w.startsBefore(I),K=V||w.startsAfter(E);return O.createElement(iit,{style:A,event:C,label:M,key:$,getters:m,rtl:u,components:p,continuesPrior:Y,continuesAfter:K,accessors:f,resource:n.props.resource,selected:F_(C,h),onClick:function(L){return n._select(Nn(Nn(Nn({},C),n.props.resource&&{sourceResource:n.props.resource}),c&&{isBackgroundEvent:!0}),L)},onDoubleClick:function(L){return n._doubleClick(C,L)},isBackgroundEvent:c,onKeyPress:function(L){return n._keyPress(C,L)},resizable:j})})},n._selectable=function(){var o=n.containerRef.current,l=n.props,c=l.longPressThreshold,d=l.localizer,u=n._selector=new Ide(function(){return o},{longPressThreshold:c}),h=function(p){var x=n.props.onSelecting,v=n.state||{},y=f(p),j=y.startDate,N=y.endDate;x&&(d.eq(v.startDate,j,"minutes")&&d.eq(v.endDate,N,"minutes")||x({start:j,end:N,resourceId:n.props.resource})===!1)||(n.state.start!==y.start||n.state.end!==y.end||n.state.selecting!==y.selecting)&&n.setState(y)},f=function(p){var x=n.slotMetrics.closestSlotFromPoint(p,Wf(o));n.state.selecting||(n._initialSlot=x);var v=n._initialSlot;d.lte(v,x)?x=n.slotMetrics.nextSlot(x):d.gt(v,x)&&(v=n.slotMetrics.nextSlot(v));var y=n.slotMetrics.getRange(d.min(v,x),d.max(v,x));return Nn(Nn({},y),{},{selecting:!0,top:"".concat(y.top,"%"),height:"".concat(y.height,"%")})},g=function(p,x){if(!GC(n.containerRef.current,p)){var v=f(p),y=v.startDate,j=v.endDate;n._selectSlot({startDate:y,endDate:j,action:x,box:p})}n.setState({selecting:!1})};u.on("selecting",h),u.on("selectStart",h),u.on("beforeSelect",function(m){if(n.props.selectable==="ignoreEvents")return!GC(n.containerRef.current,m)}),u.on("click",function(m){return g(m,"click")}),u.on("doubleClick",function(m){return g(m,"doubleClick")}),u.on("select",function(m){n.state.selecting&&(n._selectSlot(Nn(Nn({},n.state),{},{action:"select",bounds:m})),n.setState({selecting:!1}))}),u.on("reset",function(){n.state.selecting&&n.setState({selecting:!1})})},n._teardownSelectable=function(){n._selector&&(n._selector.teardown(),n._selector=null)},n._selectSlot=function(o){for(var l=o.startDate,c=o.endDate,d=o.action,u=o.bounds,h=o.box,f=l,g=[];n.props.localizer.lte(f,c);)g.push(f),f=new Date(+f+n.props.step*60*1e3);Vn(n.props.onSelectSlot,{slots:g,start:l,end:c,resourceId:n.props.resource,action:d,bounds:u,box:h})},n._select=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];Vn(n.props.onSelectEvent,l)},n._doubleClick=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];Vn(n.props.onDoubleClickEvent,l)},n._keyPress=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];Vn(n.props.onKeyPressEvent,l)},n.slotMetrics=_F(n.props),n.containerRef=b.createRef(),n}return oa(t,e),vs(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(r,a){this.props.selectable&&!r.selectable&&this._selectable(),!this.props.selectable&&r.selectable&&this._teardownSelectable();var i=this.props,o=i.getNow,l=i.isNow,c=i.localizer,d=i.date,u=i.min,h=i.max,f=c.neq(r.getNow(),o(),"minutes");if(r.isNow!==l||f){if(this.clearTimeIndicatorInterval(),l){var g=!f&&c.eq(r.date,d,"minutes")&&a.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(g)}}else l&&(c.neq(r.min,u,"minutes")||c.neq(r.max,h,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var r=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!a&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){r.intervalTriggered=!0,r.positionTimeIndicator(),r.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var r=this.props,a=r.min,i=r.max,o=r.getNow,l=o();if(l>=a&&l<=i){var c=this.slotMetrics.getCurrentTimePosition(l);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:c})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var r=this.props,a=r.date,i=r.max,o=r.rtl,l=r.isNow,c=r.resource,d=r.accessors,u=r.localizer,h=r.getters,f=h.dayProp,g=uc(h,cit),m=r.components,p=m.eventContainerWrapper,x=m.timeIndicatorWrapper,v=uc(m,dit);this.slotMetrics=this.slotMetrics.update(this.props);var y=this.slotMetrics,j=this.state,N=j.selecting,w=j.top,S=j.height,k=j.startDate,_=j.endDate,T={start:k,end:_},P=f(i,c),C=P.className,A=P.style,E={className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}},I=v.dayColumnWrapper||lit;return O.createElement(I,{ref:this.containerRef,date:a,style:A,className:kr(C,"rbc-day-slot","rbc-time-column",l&&"rbc-now",l&&"rbc-today",N&&"rbc-slot-selecting"),slotMetrics:y,resource:c},y.groups.map(function($,U){return O.createElement(Wde,{key:U,group:$,resource:c,getters:g,components:v})}),O.createElement(p,{localizer:u,resource:c,accessors:d,getters:g,components:v,slotMetrics:y},O.createElement("div",{className:kr("rbc-events-container",o&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),N&&O.createElement("div",{className:"rbc-slot-selection",style:{top:w,height:S}},O.createElement("span",null,u.format(T,"selectRangeFormat"))),l&&this.intervalTriggered&&O.createElement(x,E,O.createElement("div",E)))}}])}(O.Component);Hde.defaultProps={dragThroughEvents:!0,timeslots:2};var qde=function(t){var n=t.label;return O.createElement(O.Fragment,null,n)},uit=function(e){function t(){var n;gs(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=ia(this,t,[].concat(a)),n.handleHeaderClick=function(o,l,c){c.preventDefault(),Vn(n.props.onDrillDown,[o,l])},n.renderRow=function(o){var l=n.props,c=l.events,d=l.rtl,u=l.selectable,h=l.getNow,f=l.range,g=l.getters,m=l.localizer,p=l.accessors,x=l.components,v=l.resizable,y=p.resourceId(o),j=o?c.filter(function(N){return p.resource(N)===y}):c;return O.createElement(jb,{isAllDay:!0,rtl:d,getNow:h,minRows:2,maxRows:n.props.allDayMaxRows+1,range:f,events:j,resourceId:y,className:"rbc-allday-cell",selectable:u,selected:n.props.selected,components:x,accessors:p,getters:g,localizer:m,onSelect:n.props.onSelectEvent,onShowMore:n.props.onShowMore,onDoubleClick:n.props.onDoubleClickEvent,onKeyPress:n.props.onKeyPressEvent,onSelectSlot:n.props.onSelectSlot,longPressThreshold:n.props.longPressThreshold,resizable:v})},n}return oa(t,e),vs(t,[{key:"renderHeaderCells",value:function(r){var a=this,i=this.props,o=i.localizer,l=i.getDrilldownView,c=i.getNow,d=i.getters.dayProp,u=i.components.header,h=u===void 0?kF:u,f=c();return r.map(function(g,m){var p=l(g),x=o.format(g,"dayFormat"),v=d(g),y=v.className,j=v.style,N=O.createElement(h,{date:g,label:x,localizer:o});return O.createElement("div",{key:m,style:j,className:kr("rbc-header",y,o.isSameDate(g,f)&&"rbc-today")},p?O.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(S){return a.handleHeaderClick(g,p,S)}},N):O.createElement("span",null,N))})}},{key:"render",value:function(){var r=this,a=this.props,i=a.width,o=a.rtl,l=a.resources,c=a.range,d=a.events,u=a.getNow,h=a.accessors,f=a.selectable,g=a.components,m=a.getters,p=a.scrollRef,x=a.localizer,v=a.isOverflowing,y=a.components,j=y.timeGutterHeader,N=y.resourceHeader,w=N===void 0?qde:N,S=a.resizable,k={};v&&(k[o?"marginLeft":"marginRight"]="".concat(jF()-1,"px"));var _=l.groupEvents(d);return O.createElement("div",{style:k,ref:p,className:kr("rbc-time-header",v&&"rbc-overflowing")},O.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:i,minWidth:i,maxWidth:i}},j&&O.createElement(j,null)),l.map(function(T,P){var C=Hi(T,2),A=C[0],E=C[1];return O.createElement("div",{className:"rbc-time-header-content",key:A||P},E&&O.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(P)},O.createElement("div",{className:"rbc-header"},O.createElement(w,{index:P,label:h.resourceTitle(E),resource:E}))),O.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(c.length<=1?" rbc-time-header-cell-single-day":"")},r.renderHeaderCells(c)),O.createElement(jb,{isAllDay:!0,rtl:o,getNow:u,minRows:2,maxRows:r.props.allDayMaxRows+1,range:c,events:_.get(A)||[],resourceId:E&&A,className:"rbc-allday-cell",selectable:f,selected:r.props.selected,components:g,accessors:h,getters:m,localizer:x,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyDown:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:S}))}))}}])}(O.Component),hit=function(e){function t(){var n;gs(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=ia(this,t,[].concat(a)),n.handleHeaderClick=function(o,l,c){c.preventDefault(),Vn(n.props.onDrillDown,[o,l])},n}return oa(t,e),vs(t,[{key:"renderHeaderCells",value:function(r){var a=this,i=this.props,o=i.localizer,l=i.getDrilldownView,c=i.getNow,d=i.getters.dayProp,u=i.components,h=u.header,f=h===void 0?kF:h,g=u.resourceHeader,m=g===void 0?qde:g,p=i.resources,x=i.accessors,v=i.events,y=i.rtl,j=i.selectable,N=i.components,w=i.getters,S=i.resizable,k=c(),_=p.groupEvents(v);return r.map(function(T,P){var C=l(T),A=o.format(T,"dayFormat"),E=d(T),I=E.className,$=E.style,U=O.createElement(f,{date:T,label:A,localizer:o});return O.createElement("div",{key:P,className:"rbc-time-header-content rbc-resource-grouping"},O.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(r.length<=1?" rbc-time-header-cell-single-day":"")},O.createElement("div",{style:$,className:kr("rbc-header",I,o.isSameDate(T,k)&&"rbc-today")},C?O.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(F){return a.handleHeaderClick(T,C,F)}},U):O.createElement("span",null,U))),O.createElement("div",{className:"rbc-row"},p.map(function(M,F){var V=Hi(M,2),Y=V[0],K=V[1];return O.createElement("div",{key:"resource_".concat(Y,"_").concat(F),className:kr("rbc-header",I,o.isSameDate(T,k)&&"rbc-today")},O.createElement(m,{index:F,label:x.resourceTitle(K),resource:K}))})),O.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},p.map(function(M,F){var V=Hi(M,2),Y=V[0],K=V[1],z=(_.get(Y)||[]).filter(function(L){return o.isSameDate(L.start,T)||o.isSameDate(L.end,T)});return O.createElement(jb,{key:"resource_".concat(Y,"_").concat(F),isAllDay:!0,rtl:y,getNow:c,minRows:2,maxRows:a.props.allDayMaxRows+1,range:[T],events:z,resourceId:K&&Y,className:"rbc-allday-cell",selectable:j,selected:a.props.selected,components:N,accessors:x,getters:w,localizer:o,onSelect:a.props.onSelectEvent,onShowMore:a.props.onShowMore,onDoubleClick:a.props.onDoubleClickEvent,onKeyDown:a.props.onKeyPressEvent,onSelectSlot:a.props.onSelectSlot,longPressThreshold:a.props.longPressThreshold,resizable:S})})))})}},{key:"render",value:function(){var r=this.props,a=r.width,i=r.rtl,o=r.range,l=r.scrollRef,c=r.isOverflowing,d=r.components.timeGutterHeader,u={};return c&&(u[i?"marginLeft":"marginRight"]="".concat(jF()-1,"px")),O.createElement("div",{style:u,ref:l,className:kr("rbc-time-header",c&&"rbc-overflowing")},O.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:a,minWidth:a,maxWidth:a}},d&&O.createElement(d,null)),this.renderHeaderCells(o))}}])}(O.Component);function fit(e){var t=e.min,n=e.max,r=e.localizer;return r.getTimezoneOffset(t)!==r.getTimezoneOffset(n)?{start:r.add(t,-1,"day"),end:r.add(n,-1,"day")}:{start:t,end:n}}var mit=function(t){var n=t.min,r=t.max,a=t.timeslots,i=t.step,o=t.localizer,l=t.getNow,c=t.resource,d=t.components,u=t.getters,h=t.gutterRef,f=d.timeGutterWrapper,g=b.useMemo(function(){return fit({min:n,max:r,localizer:o})},[n==null?void 0:n.toISOString(),r==null?void 0:r.toISOString(),o]),m=g.start,p=g.end,x=b.useState(_F({min:m,max:p,timeslots:a,step:i,localizer:o})),v=Hi(x,2),y=v[0],j=v[1];b.useEffect(function(){y&&j(y.update({min:m,max:p,timeslots:a,step:i,localizer:o}))},[m==null?void 0:m.toISOString(),p==null?void 0:p.toISOString(),a,i]);var N=b.useCallback(function(w,S){if(S)return null;var k=y.dateIsInGroup(l(),S);return O.createElement("span",{className:kr("rbc-label",k&&"rbc-now")},o.format(w,"timeGutterFormat"))},[y,o,l]);return O.createElement(f,{slotMetrics:y},O.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:h},y.groups.map(function(w,S){return O.createElement(Wde,{key:S,group:w,resource:c,components:d,renderSlot:N,getters:u})})))},pit=O.forwardRef(function(e,t){return O.createElement(mit,Object.assign({gutterRef:t},e))}),YT={};function git(e,t){return{map:function(r){return e?e.map(function(a,i){return r([t.resourceId(a),a],i)}):[r([YT,null],0)]},groupEvents:function(r){var a=new Map;return e?(r.forEach(function(i){var o=t.resource(i)||YT;if(Array.isArray(o))o.forEach(function(c){var d=a.get(c)||[];d.push(i),a.set(c,d)});else{var l=a.get(o)||[];l.push(i),a.set(o,l)}}),a):(a.set(YT,r),a)}}}var Wv=function(e){function t(n){var r;return gs(this,t),r=ia(this,t,[n]),r.handleScroll=function(a){r.scrollRef.current&&(r.scrollRef.current.scrollLeft=a.target.scrollLeft)},r.handleResize=function(){wV(r.rafHandle),r.rafHandle=xde(r.checkOverflow)},r.handleKeyPressEvent=function(){r.clearSelection();for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];Vn(r.props.onKeyPressEvent,i)},r.handleSelectEvent=function(){r.clearSelection();for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];Vn(r.props.onSelectEvent,i)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];Vn(r.props.onDoubleClickEvent,i)},r.handleShowMore=function(a,i,o,l,c){var d=r.props,u=d.popup,h=d.onDrillDown,f=d.onShowMore,g=d.getDrilldownView,m=d.doShowMoreDrillDown;if(r.clearSelection(),u){var p=vde(o,r.containerRef.current);r.setState({overlay:{date:i,events:a,position:Nn(Nn({},p),{},{width:"200px"}),target:c}})}else m&&Vn(h,[i,g(i)||zn.DAY]);Vn(f,[a,i,l])},r.handleSelectAllDaySlot=function(a,i){var o=r.props.onSelectSlot,l=new Date(a[0]),c=new Date(a[a.length-1]);c.setDate(a[a.length-1].getDate()+1),Vn(o,{slots:a,start:l,end:c,action:i.action,resourceId:i.resourceId})},r.overlayDisplay=function(){r.setState({overlay:null})},r.checkOverflow=function(){if(!r._updatingOverflow){var a=r.contentRef.current;if(a!=null&&a.scrollHeight){var i=a.scrollHeight>a.clientHeight;r.state.isOverflowing!==i&&(r._updatingOverflow=!0,r.setState({isOverflowing:i},function(){r._updatingOverflow=!1}))}}},r.memoizedResources=Pde(function(a,i){return git(a,i)}),r.state={gutterWidth:void 0,isOverflowing:null},r.scrollRef=O.createRef(),r.contentRef=O.createRef(),r.containerRef=O.createRef(),r._scrollRatio=null,r.gutterRef=b.createRef(),r}return oa(t,e),vs(t,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),wV(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(r,a,i,o,l,c,d,u,h,f){var g=this.props,m=g.min,p=g.max,x=(o.get(a)||[]).filter(function(y){return c.inRange(r,d.start(y),d.end(y),"day")}),v=(l.get(a)||[]).filter(function(y){return c.inRange(r,d.start(y),d.end(y),"day")});return O.createElement(Hde,Object.assign({},this.props,{localizer:c,min:c.merge(r,m),max:c.merge(r,p),resource:i&&a,components:u,isNow:c.isSameDate(r,f),key:"".concat(a,"-").concat(r),date:r,events:x,backgroundEvents:v,dayLayoutAlgorithm:h}))}},{key:"renderResourcesFirst",value:function(r,a,i,o,l,c,d,u,h){var f=this;return a.map(function(g){var m=Hi(g,2),p=m[0],x=m[1];return r.map(function(v){return f.renderDayColumn(v,p,x,i,o,l,c,u,h,d)})})}},{key:"renderRangeFirst",value:function(r,a,i,o,l,c,d,u,h){var f=this;return r.map(function(g){return O.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:g},a.map(function(m){var p=Hi(m,2),x=p[0],v=p[1];return O.createElement("div",{style:{flex:1},key:c.resourceId(v)},f.renderDayColumn(g,x,v,i,o,l,c,u,h,d))}))})}},{key:"renderEvents",value:function(r,a,i,o){var l=this.props,c=l.accessors,d=l.localizer,u=l.resourceGroupingLayout,h=l.components,f=l.dayLayoutAlgorithm,g=this.memoizedResources(this.props.resources,c),m=g.groupEvents(a),p=g.groupEvents(i);return u?this.renderRangeFirst(r,g,m,p,d,c,o,h,f):this.renderResourcesFirst(r,g,m,p,d,c,o,h,f)}},{key:"render",value:function(){var r,a=this.props,i=a.events,o=a.backgroundEvents,l=a.range,c=a.width,d=a.rtl,u=a.selected,h=a.getNow,f=a.resources,g=a.components,m=a.accessors,p=a.getters,x=a.localizer,v=a.min,y=a.max,j=a.showMultiDayTimes,N=a.longPressThreshold,w=a.resizable,S=a.resourceGroupingLayout;c=c||this.state.gutterWidth;var k=l[0],_=l[l.length-1];this.slots=l.length;var T=[],P=[],C=[];i.forEach(function(E){if(bb(E,k,_,m,x)){var I=m.start(E),$=m.end(E);m.allDay(E)||x.startAndEndAreDateOnly(I,$)||!j&&!x.isSameDate(I,$)?T.push(E):P.push(E)}}),o.forEach(function(E){bb(E,k,_,m,x)&&C.push(E)}),T.sort(function(E,I){return uM(E,I,m,x)});var A={range:l,events:T,width:c,rtl:d,getNow:h,localizer:x,selected:u,allDayMaxRows:this.props.showAllEvents?1/0:(r=this.props.allDayMaxRows)!==null&&r!==void 0?r:1/0,resources:this.memoizedResources(f,m),selectable:this.props.selectable,accessors:m,getters:p,components:g,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:N,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:w};return O.createElement("div",{className:kr("rbc-time-view",f&&"rbc-time-view-resources"),ref:this.containerRef},f&&f.length>1&&S?O.createElement(hit,A):O.createElement(uit,A),this.props.popup&&this.renderOverlay(),O.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},O.createElement(pit,{date:k,ref:this.gutterRef,localizer:x,min:x.merge(k,v),max:x.merge(k,y),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:g,className:"rbc-time-gutter",getters:p}),this.renderEvents(l,P,C,h())))}},{key:"renderOverlay",value:function(){var r,a,i=this,o=(r=(a=this.state)===null||a===void 0?void 0:a.overlay)!==null&&r!==void 0?r:{},l=this.props,c=l.accessors,d=l.localizer,u=l.components,h=l.getters,f=l.selected,g=l.popupOffset,m=l.handleDragStart,p=function(){return i.setState({overlay:null})};return O.createElement(CF,{overlay:o,accessors:c,localizer:d,components:u,getters:h,selected:f,popupOffset:g,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:m,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:p})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var r=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var a,i=(a=r.gutterRef)!==null&&a!==void 0&&a.current?lM(r.gutterRef.current):void 0;i&&r.state.gutterWidth!==i&&r.setState({gutterWidth:i})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var r=this.contentRef.current;r.scrollTop=r.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,a=r.min,i=r.max,o=r.scrollToTime,l=r.localizer,c=l.diff(l.merge(o,a),o,"milliseconds"),d=l.diff(a,i,"milliseconds");this._scrollRatio=c/d}}])}(b.Component);Wv.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var vit=["date","localizer","min","max","scrollToTime","enableAutoScroll"],z_=function(e){function t(){return gs(this,t),ia(this,t,arguments)}return oa(t,e),vs(t,[{key:"render",value:function(){var r=this.props,a=r.date,i=r.localizer,o=r.min,l=o===void 0?i.startOf(new Date,"day"):o,c=r.max,d=c===void 0?i.endOf(new Date,"day"):c,u=r.scrollToTime,h=u===void 0?i.startOf(new Date,"day"):u,f=r.enableAutoScroll,g=f===void 0?!0:f,m=uc(r,vit),p=t.range(a,{localizer:i});return O.createElement(Wv,Object.assign({},m,{range:p,eventOffset:10,localizer:i,min:l,max:d,scrollToTime:h,enableAutoScroll:g}))}}])}(O.Component);z_.range=function(e,t){var n=t.localizer;return[n.startOf(e,"day")]};z_.navigate=function(e,t,n){var r=n.localizer;switch(t){case Ka.PREVIOUS:return r.add(e,-1,"day");case Ka.NEXT:return r.add(e,1,"day");default:return e}};z_.title=function(e,t){var n=t.localizer;return n.format(e,"dayHeaderFormat")};var xit=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Uu=function(e){function t(){return gs(this,t),ia(this,t,arguments)}return oa(t,e),vs(t,[{key:"render",value:function(){var r=this.props,a=r.date,i=r.localizer,o=r.min,l=o===void 0?i.startOf(new Date,"day"):o,c=r.max,d=c===void 0?i.endOf(new Date,"day"):c,u=r.scrollToTime,h=u===void 0?i.startOf(new Date,"day"):u,f=r.enableAutoScroll,g=f===void 0?!0:f,m=uc(r,xit),p=t.range(a,this.props);return O.createElement(Wv,Object.assign({},m,{range:p,eventOffset:15,localizer:i,min:l,max:d,scrollToTime:h,enableAutoScroll:g}))}}])}(O.Component);Uu.defaultProps=Wv.defaultProps;Uu.navigate=function(e,t,n){var r=n.localizer;switch(t){case Ka.PREVIOUS:return r.add(e,-1,"week");case Ka.NEXT:return r.add(e,1,"week");default:return e}};Uu.range=function(e,t){var n=t.localizer,r=n.startOfWeek(),a=n.startOf(e,"week",r),i=n.endOf(e,"week",r);return n.range(a,i)};Uu.title=function(e,t){var n=t.localizer,r=Uu.range(e,{localizer:n}),a=Tde(r),i=a[0],o=a.slice(1);return n.format({start:i,end:o.pop()},"dayRangeHeaderFormat")};var yit=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function PF(e,t){return Uu.range(e,t).filter(function(n){return[6,0].indexOf(n.getDay())===-1})}var sw=function(e){function t(){return gs(this,t),ia(this,t,arguments)}return oa(t,e),vs(t,[{key:"render",value:function(){var r=this.props,a=r.date,i=r.localizer,o=r.min,l=o===void 0?i.startOf(new Date,"day"):o,c=r.max,d=c===void 0?i.endOf(new Date,"day"):c,u=r.scrollToTime,h=u===void 0?i.startOf(new Date,"day"):u,f=r.enableAutoScroll,g=f===void 0?!0:f,m=uc(r,yit),p=PF(a,this.props);return O.createElement(Wv,Object.assign({},m,{range:p,eventOffset:15,localizer:i,min:l,max:d,scrollToTime:h,enableAutoScroll:g}))}}])}(O.Component);sw.defaultProps=Wv.defaultProps;sw.range=PF;sw.navigate=Uu.navigate;sw.title=function(e,t){var n=t.localizer,r=PF(e,{localizer:n}),a=Tde(r),i=a[0],o=a.slice(1);return n.format({start:i,end:o.pop()},"dayRangeHeaderFormat")};var B_=30;function U_(e){var t=e.accessors,n=e.components,r=e.date,a=e.events,i=e.getters,o=e.length,l=o===void 0?B_:o,c=e.localizer,d=e.onDoubleClickEvent,u=e.onSelectEvent,h=e.selected,f=b.useRef(null),g=b.useRef(null),m=b.useRef(null),p=b.useRef(null),x=b.useRef(null);b.useEffect(function(){j()});var v=function(_,T,P){var C=n.event,A=n.date;return T=T.filter(function(E){return bb(E,c.startOf(_,"day"),c.endOf(_,"day"),t,c)}),T.map(function(E,I){var $=t.title(E),U=t.end(E),M=t.start(E),F=i.eventProp(E,M,U,F_(E,h)),V=I===0&&c.format(_,"agendaDateFormat"),Y=I===0?O.createElement("td",{rowSpan:T.length,className:"rbc-agenda-date-cell"},A?O.createElement(A,{day:_,label:V}):V):!1;return O.createElement("tr",{key:P+"_"+I,className:F.className,style:F.style},Y,O.createElement("td",{className:"rbc-agenda-time-cell"},y(_,E)),O.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(z){return u&&u(E,z)},onDoubleClick:function(z){return d&&d(E,z)}},C?O.createElement(C,{event:E,title:$}):$))},[])},y=function(_,T){var P="",C=n.time,A=c.messages.allDay,E=t.end(T),I=t.start(T);return t.allDay(T)||(c.eq(I,E)?A=c.format(I,"agendaTimeFormat"):c.isSameDate(I,E)?A=c.format({start:I,end:E},"agendaTimeRangeFormat"):c.isSameDate(_,I)?A=c.format(I,"agendaTimeFormat"):c.isSameDate(_,E)&&(A=c.format(E,"agendaTimeFormat"))),c.gt(_,I,"day")&&(P="rbc-continues-prior"),c.lt(_,E,"day")&&(P+=" rbc-continues-after"),O.createElement("span",{className:P.trim()},C?O.createElement(C,{event:T,day:_,label:A}):A)},j=function(){if(x.current){var _=f.current,T=x.current.firstChild;if(T){var P=p.current.scrollHeight>p.current.clientHeight,C=[],A=C;C=[lM(T.children[0]),lM(T.children[1])],(A[0]!==C[0]||A[1]!==C[1])&&(g.current.style.width=C[0]+"px",m.current.style.width=C[1]+"px"),P?(o7e(_,"rbc-header-overflowing"),_.style.marginRight=jF()+"px"):l7e(_,"rbc-header-overflowing")}}},N=c.messages,w=c.add(r,l,"day"),S=c.range(r,w,"day");return a=a.filter(function(k){return bb(k,c.startOf(r,"day"),c.endOf(w,"day"),t,c)}),a.sort(function(k,_){return+t.start(k)-+t.start(_)}),O.createElement("div",{className:"rbc-agenda-view"},a.length!==0?O.createElement(O.Fragment,null,O.createElement("table",{ref:f,className:"rbc-agenda-table"},O.createElement("thead",null,O.createElement("tr",null,O.createElement("th",{className:"rbc-header",ref:g},N.date),O.createElement("th",{className:"rbc-header",ref:m},N.time),O.createElement("th",{className:"rbc-header"},N.event)))),O.createElement("div",{className:"rbc-agenda-content",ref:p},O.createElement("table",{className:"rbc-agenda-table"},O.createElement("tbody",{ref:x},S.map(function(k,_){return v(k,a,_)}))))):O.createElement("span",{className:"rbc-agenda-empty"},N.noEventsInRange))}U_.range=function(e,t){var n=t.length,r=n===void 0?B_:n,a=t.localizer,i=a.add(e,r,"day");return{start:e,end:i}};U_.navigate=function(e,t,n){var r=n.length,a=r===void 0?B_:r,i=n.localizer;switch(t){case Ka.PREVIOUS:return i.add(e,-a,"day");case Ka.NEXT:return i.add(e,a,"day");default:return e}};U_.title=function(e,t){var n=t.length,r=n===void 0?B_:n,a=t.localizer,i=a.add(e,r,"day");return a.format({start:e,end:i},"agendaHeaderFormat")};var p1=kh(kh(kh(kh(kh({},zn.MONTH,L_),zn.WEEK,Uu),zn.WORK_WEEK,sw),zn.DAY,z_),zn.AGENDA,U_),bit=["action","date","today"];function jit(e,t){var n=t.action,r=t.date,a=t.today,i=uc(t,bit);switch(e=typeof e=="string"?p1[e]:e,n){case Ka.TODAY:r=a||new Date;break;case Ka.DATE:break;default:lb(e&&typeof e.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),r=e.navigate(r,n,i)}return r}function wit(e,t){var n=null;return typeof t=="function"?n=t(e):typeof t=="string"&&hd(e)==="object"&&e!=null&&t in e&&(n=e[t]),n}var jc=function(t){return function(n){return wit(n,t)}},Nit=["view","date","getNow","onNavigate"],Sit=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function Kde(e){if(Array.isArray(e))return e;for(var t=[],n=0,r=Object.entries(e);n<r.length;n++){var a=Hi(r[n],2),i=a[0],o=a[1];o&&t.push(i)}return t}function Cit(e,t){var n=t.views,r=Kde(n);return r.indexOf(e)!==-1}var Gde=function(e){function t(){var n;gs(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=ia(this,t,[].concat(a)),n.getViews=function(){var o=n.props.views;return Array.isArray(o)?tat(o,function(l,c){return l[c]=p1[c]},{}):hd(o)==="object"?ele(o,function(l,c){return l===!0?p1[c]:l}):p1},n.getView=function(){var o=n.getViews();return o[n.props.view]},n.getDrilldownView=function(o){var l=n.props,c=l.view,d=l.drilldownView,u=l.getDrilldownView;return u?u(o,c,Object.keys(n.getViews())):d},n.handleRangeChange=function(o,l,c){var d=n.props,u=d.onRangeChange,h=d.localizer;u&&l.range&&u(l.range(o,{localizer:h}),c)},n.handleNavigate=function(o,l){var c=n.props,d=c.view,u=c.date,h=c.getNow,f=c.onNavigate,g=uc(c,Nit),m=n.getView(),p=h();u=jit(m,Nn(Nn({},g),{},{action:o,date:l||u||p,today:p})),f(u,d,o),n.handleRangeChange(u,m)},n.handleViewChange=function(o){o!==n.props.view&&Cit(o,n.props)&&n.props.onView(o);var l=n.getViews();n.handleRangeChange(n.props.date||n.props.getNow(),l[o],o)},n.handleSelectEvent=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];Vn(n.props.onSelectEvent,l)},n.handleDoubleClickEvent=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];Vn(n.props.onDoubleClickEvent,l)},n.handleKeyPressEvent=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];Vn(n.props.onKeyPressEvent,l)},n.handleSelectSlot=function(o){Vn(n.props.onSelectSlot,o)},n.handleDrillDown=function(o,l){var c=n.props.onDrillDown;if(c){c(o,l,n.drilldownView);return}l&&n.handleViewChange(l),n.handleNavigate(Ka.DATE,o)},n.state={context:t.getContext(n.props)},n}return oa(t,e),vs(t,[{key:"render",value:function(){var r=this.props,a=r.view,i=r.toolbar,o=r.events,l=r.backgroundEvents,c=r.resourceGroupingLayout,d=r.style,u=r.className,h=r.elementProps,f=r.date,g=r.getNow,m=r.length,p=r.showMultiDayTimes,x=r.onShowMore,v=r.doShowMoreDrillDown;r.components,r.formats,r.messages,r.culture;var y=uc(r,Sit);f=f||g();var j=this.getView(),N=this.state.context,w=N.accessors,S=N.components,k=N.getters,_=N.localizer,T=N.viewNames,P=S.toolbar||Pat,C=j.title(f,{localizer:_,length:m});return O.createElement("div",Object.assign({},h,{className:kr(u,"rbc-calendar",y.rtl&&"rbc-rtl"),style:d}),i&&O.createElement(P,{date:f,view:a,views:T,label:C,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:_}),O.createElement(j,Object.assign({},y,{events:o,backgroundEvents:l,date:f,getNow:g,length:m,localizer:_,getters:k,components:S,accessors:w,showMultiDayTimes:p,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:x,doShowMoreDrillDown:v,resourceGroupingLayout:c})))}}],[{key:"getDerivedStateFromProps",value:function(r){return{context:t.getContext(r)}}},{key:"getContext",value:function(r){var a=r.startAccessor,i=r.endAccessor,o=r.allDayAccessor,l=r.tooltipAccessor,c=r.titleAccessor,d=r.resourceAccessor,u=r.resourceIdAccessor,h=r.resourceTitleAccessor,f=r.eventIdAccessor,g=r.eventPropGetter,m=r.backgroundEventPropGetter,p=r.slotPropGetter,x=r.slotGroupPropGetter,v=r.dayPropGetter,y=r.view,j=r.views,N=r.localizer,w=r.culture,S=r.messages,k=S===void 0?{}:S,_=r.components,T=_===void 0?{}:_,P=r.formats,C=P===void 0?{}:P,A=Kde(j),E=Aat(k);return{viewNames:A,localizer:_at(N,w,C,E),getters:{eventProp:function(){return g&&g.apply(void 0,arguments)||{}},backgroundEventProp:function(){return m&&m.apply(void 0,arguments)||{}},slotProp:function(){return p&&p.apply(void 0,arguments)||{}},slotGroupProp:function(){return x&&x.apply(void 0,arguments)||{}},dayProp:function(){return v&&v.apply(void 0,arguments)||{}}},components:Ust(T[y]||{},zJe(T,A),{eventWrapper:jl,backgroundEventWrapper:jl,eventContainerWrapper:jl,dateCellWrapper:jl,weekWrapper:jl,timeSlotWrapper:jl,timeGutterWrapper:jl,timeIndicatorWrapper:jl}),accessors:{start:jc(a),end:jc(i),allDay:jc(o),tooltip:jc(l),title:jc(c),resource:jc(d),resourceId:jc(u),resourceTitle:jc(h),eventId:jc(f)}}}}])}(O.Component);Gde.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:zn.MONTH,views:[zn.MONTH,zn.WEEK,zn.DAY,zn.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:zn.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var kit=ade(Gde,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),_it=function(t,n,r){var a=t.start,i=t.end;return r.format(a,"MMMM DD",n)+"  "+r.format(i,r.eq(a,i,"month")?"DD":"MMMM DD",n)},Pit=function(t,n,r){var a=t.start,i=t.end;return r.format(a,"L",n)+"  "+r.format(i,"L",n)},XT=function(t,n,r){var a=t.start,i=t.end;return r.format(a,"LT",n)+"  "+r.format(i,"LT",n)},Tit=function(t,n,r){var a=t.start;return r.format(a,"LT",n)+"  "},Ait=function(t,n,r){var a=t.end;return"  "+r.format(a,"LT",n)},Eit={dateFormat:"DD",dayFormat:"DD ddd",weekdayFormat:"ddd",selectRangeFormat:XT,eventTimeRangeFormat:XT,eventTimeRangeStartFormat:Tit,eventTimeRangeEndFormat:Ait,timeGutterFormat:"LT",monthHeaderFormat:"MMMM YYYY",dayHeaderFormat:"dddd MMM DD",dayRangeHeaderFormat:_it,agendaHeaderFormat:Pit,agendaDateFormat:"ddd MMM DD",agendaTimeFormat:"LT",agendaTimeRangeFormat:XT};function Ad(e){var t=e&&e.toLowerCase();return t==="FullYear"?t="year":t||(t=void 0),t}function Dit(e){var t=function(z,L){return L?z.locale(L):z};function n(K){return e(K).toDate().getTimezoneOffset()}function r(K,z){var L,ee,le=e(K).local(),ve=e(z).local();if(!e.tz)return le.toDate().getTimezoneOffset()-ve.toDate().getTimezoneOffset();var ne=(L=le==null||(ee=le._z)===null||ee===void 0?void 0:ee.name)!==null&&L!==void 0?L:e.tz.guess(),be=e.tz.zone(ne).utcOffset(+le),ge=e.tz.zone(ne).utcOffset(+ve);return be-ge}function a(K){var z=e(K).startOf("day");return r(z,K)}function i(K,z,L){var ee=Ad(L),le=ee?e(K).startOf(ee):e(K),ve=ee?e(z).startOf(ee):e(z);return[le,ve,ee]}function o(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,z=arguments.length>1?arguments[1]:void 0,L=Ad(z);return L?e(K).startOf(L).toDate():e(K).toDate()}function l(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,z=arguments.length>1?arguments[1]:void 0,L=Ad(z);return L?e(K).endOf(L).toDate():e(K).toDate()}function c(K,z,L){var ee=i(K,z,L),le=Hi(ee,3),ve=le[0],ne=le[1],be=le[2];return ve.isSame(ne,be)}function d(K,z,L){return!c(K,z,L)}function u(K,z,L){var ee=i(K,z,L),le=Hi(ee,3),ve=le[0],ne=le[1],be=le[2];return ve.isAfter(ne,be)}function h(K,z,L){var ee=i(K,z,L),le=Hi(ee,3),ve=le[0],ne=le[1],be=le[2];return ve.isBefore(ne,be)}function f(K,z,L){var ee=i(K,z,L),le=Hi(ee,3),ve=le[0],ne=le[1],be=le[2];return ve.isSameOrBefore(ne,be)}function g(K,z,L){var ee=i(K,z,L),le=Hi(ee,3),ve=le[0],ne=le[1],be=le[2];return ve.isSameOrBefore(ne,be)}function m(K,z,L){var ee=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"day",le=Ad(ee),ve=e(K),ne=e(z),be=e(L);return ve.isBetween(ne,be,le,"[]")}function p(K,z){var L=e(K),ee=e(z),le=e.min(L,ee);return le.toDate()}function x(K,z){var L=e(K),ee=e(z),le=e.max(L,ee);return le.toDate()}function v(K,z){if(!K&&!z)return null;var L=e(z).format("HH:mm:ss"),ee=e(K).startOf("day").format("MM/DD/YYYY");return e("".concat(ee," ").concat(L),"MM/DD/YYYY HH:mm:ss").toDate()}function y(K,z,L){var ee=Ad(L);return e(K).add(z,ee).toDate()}function j(K,z){for(var L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",ee=Ad(L),le=e(K).toDate(),ve=[];g(le,z);)ve.push(le),le=y(le,1,ee);return ve}function N(K,z){var L=Ad(z),ee=o(K,L);return c(ee,K)?ee:y(ee,1,L)}function w(K,z){var L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",ee=Ad(L),le=e(K),ve=e(z);return ve.diff(le,ee)}function S(K){var z=e(K);return z.minutes()}function k(K){var z=K?e.localeData(K):e.localeData();return z?z.firstDayOfWeek():0}function _(K){return e(K).startOf("month").startOf("week").toDate()}function T(K){return e(K).endOf("month").endOf("week").toDate()}function P(K){for(var z=_(K),L=T(K),ee=[];g(z,L);)ee.push(z),z=y(z,1,"d");return ee}function C(K,z,L){return e(K).startOf("day").minute(z+L).toDate()}function A(K,z){return w(K,z,"minutes")}function E(K){var z=e(K).startOf("day"),L=e(K);return L.diff(z,"minutes")+a(K)}function I(K,z){var L=e(K),ee=e(z);return L.isBefore(ee,"day")}function $(K,z,L){var ee=e(z),le=e(L);return ee.isSameOrAfter(le,"minutes")}function U(K,z){var L=e(K),ee=e(z),le=e.duration(ee.diff(L));return le.days()}function M(K){var z=K.evtA,L=z.start,ee=z.end,le=z.allDay,ve=K.evtB,ne=ve.start,be=ve.end,ge=ve.allDay,we=+o(L,"day")-+o(ne,"day"),Ae=U(L,ee),X=U(ne,be);return we||X-Ae||!!ge-!!le||+L-+ne||+ee-+be}function F(K){var z=K.event,L=z.start,ee=z.end,le=K.range,ve=le.start,ne=le.end,be=e(L).startOf("day"),ge=e(ee),we=e(ve),Ae=e(ne),X=be.isSameOrBefore(Ae,"day"),xe=!be.isSame(ge,"minutes"),Be=xe?ge.isAfter(we,"minutes"):ge.isSameOrAfter(we,"minutes");return X&&Be}function V(K,z){var L=e(K),ee=e(z);return L.isSame(ee,"day")}function Y(){var K=new Date,z=/-/.test(K.toString())?"-":"",L=K.getTimezoneOffset(),ee=Number("".concat(z).concat(Math.abs(L))),le=e().utcOffset();return le>ee?1:0}return new kat({formats:Eit,firstOfWeek:k,firstVisibleDay:_,lastVisibleDay:T,visibleDays:P,format:function(z,L,ee){return t(e(z),ee).format(L)},lt:h,lte:g,gt:u,gte:f,eq:c,neq:d,merge:v,inRange:m,startOf:o,endOf:l,range:j,add:y,diff:w,ceil:N,min:p,max:x,minutes:S,getSlotDate:C,getTimezoneOffset:n,getDstOffset:r,getTotalMin:A,getMinutesFromMidnight:E,continuesPrior:I,continuesAfter:$,sortEvents:M,inEventRange:F,isSameDate:V,daySpan:U,browserTZOffset:Y})}//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var Yde;function Ye(){return Yde.apply(null,arguments)}function Oit(e){Yde=e}function rl(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function gf(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function tn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function TF(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(tn(e,t))return!1;return!0}function Da(e){return e===void 0}function md(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function aw(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function Xde(e,t){var n=[],r,a=e.length;for(r=0;r<a;++r)n.push(t(e[r],r));return n}function lu(e,t){for(var n in t)tn(t,n)&&(e[n]=t[n]);return tn(t,"toString")&&(e.toString=t.toString),tn(t,"valueOf")&&(e.valueOf=t.valueOf),e}function pc(e,t,n,r){return yue(e,t,n,r,!0).utc()}function Mit(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function It(e){return e._pf==null&&(e._pf=Mit()),e._pf}var fM;Array.prototype.some?fM=Array.prototype.some:fM=function(e){var t=Object(this),n=t.length>>>0,r;for(r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};function AF(e){var t=null,n=!1,r=e._d&&!isNaN(e._d.getTime());if(r&&(t=It(e),n=fM.call(t.parsedDateParts,function(a){return a!=null}),r=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n),e._strict&&(r=r&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=r;else return r;return e._isValid}function V_(e){var t=pc(NaN);return e!=null?lu(It(t),e):It(t).userInvalidated=!0,t}var GV=Ye.momentProperties=[],QT=!1;function EF(e,t){var n,r,a,i=GV.length;if(Da(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),Da(t._i)||(e._i=t._i),Da(t._f)||(e._f=t._f),Da(t._l)||(e._l=t._l),Da(t._strict)||(e._strict=t._strict),Da(t._tzm)||(e._tzm=t._tzm),Da(t._isUTC)||(e._isUTC=t._isUTC),Da(t._offset)||(e._offset=t._offset),Da(t._pf)||(e._pf=It(t)),Da(t._locale)||(e._locale=t._locale),i>0)for(n=0;n<i;n++)r=GV[n],a=t[r],Da(a)||(e[r]=a);return e}function iw(e){EF(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),QT===!1&&(QT=!0,Ye.updateOffset(this),QT=!1)}function sl(e){return e instanceof iw||e!=null&&e._isAMomentObject!=null}function Qde(e){Ye.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function ho(e,t){var n=!0;return lu(function(){if(Ye.deprecationHandler!=null&&Ye.deprecationHandler(null,e),n){var r=[],a,i,o,l=arguments.length;for(i=0;i<l;i++){if(a="",typeof arguments[i]=="object"){a+=`
[`+i+"] ";for(o in arguments[0])tn(arguments[0],o)&&(a+=o+": "+arguments[0][o]+", ");a=a.slice(0,-2)}else a=arguments[i];r.push(a)}Qde(e+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return t.apply(this,arguments)},t)}var YV={};function Zde(e,t){Ye.deprecationHandler!=null&&Ye.deprecationHandler(e,t),YV[e]||(Qde(t),YV[e]=!0)}Ye.suppressDeprecationWarnings=!1;Ye.deprecationHandler=null;function gc(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function Rit(e){var t,n;for(n in e)tn(e,n)&&(t=e[n],gc(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function mM(e,t){var n=lu({},e),r;for(r in t)tn(t,r)&&(gf(e[r])&&gf(t[r])?(n[r]={},lu(n[r],e[r]),lu(n[r],t[r])):t[r]!=null?n[r]=t[r]:delete n[r]);for(r in e)tn(e,r)&&!tn(t,r)&&gf(e[r])&&(n[r]=lu({},n[r]));return n}function DF(e){e!=null&&this.set(e)}var pM;Object.keys?pM=Object.keys:pM=function(e){var t,n=[];for(t in e)tn(e,t)&&n.push(t);return n};var $it={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Iit(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return gc(r)?r.call(t,n):r}function hc(e,t,n){var r=""+Math.abs(e),a=t-r.length,i=e>=0;return(i?n?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+r}var OF=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,gN=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ZT={},vp={};function ht(e,t,n,r){var a=r;typeof r=="string"&&(a=function(){return this[r]()}),e&&(vp[e]=a),t&&(vp[t[0]]=function(){return hc(a.apply(this,arguments),t[1],t[2])}),n&&(vp[n]=function(){return this.localeData().ordinal(a.apply(this,arguments),e)})}function Fit(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function Lit(e){var t=e.match(OF),n,r;for(n=0,r=t.length;n<r;n++)vp[t[n]]?t[n]=vp[t[n]]:t[n]=Fit(t[n]);return function(a){var i="",o;for(o=0;o<r;o++)i+=gc(t[o])?t[o].call(a,e):t[o];return i}}function g1(e,t){return e.isValid()?(t=Jde(t,e.localeData()),ZT[t]=ZT[t]||Lit(t),ZT[t](e)):e.localeData().invalidDate()}function Jde(e,t){var n=5;function r(a){return t.longDateFormat(a)||a}for(gN.lastIndex=0;n>=0&&gN.test(e);)e=e.replace(gN,r),gN.lastIndex=0,n-=1;return e}var zit={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Bit(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(OF).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[e])}var Uit="Invalid date";function Vit(){return this._invalidDate}var Wit="%d",Hit=/\d{1,2}/;function qit(e){return this._ordinal.replace("%d",e)}var Kit={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Git(e,t,n,r){var a=this._relativeTime[n];return gc(a)?a(e,t,n,r):a.replace(/%d/i,e)}function Yit(e,t){var n=this._relativeTime[e>0?"future":"past"];return gc(n)?n(t):n.replace(/%s/i,t)}var XV={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function fo(e){return typeof e=="string"?XV[e]||XV[e.toLowerCase()]:void 0}function MF(e){var t={},n,r;for(r in e)tn(e,r)&&(n=fo(r),n&&(t[n]=e[r]));return t}var Xit={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function Qit(e){var t=[],n;for(n in e)tn(e,n)&&t.push({unit:n,priority:Xit[n]});return t.sort(function(r,a){return r.priority-a.priority}),t}var eue=/\d/,Pi=/\d\d/,tue=/\d{3}/,RF=/\d{4}/,W_=/[+-]?\d{6}/,Gn=/\d\d?/,nue=/\d\d\d\d?/,rue=/\d\d\d\d\d\d?/,H_=/\d{1,3}/,$F=/\d{1,4}/,q_=/[+-]?\d{1,6}/,Hv=/\d+/,K_=/[+-]?\d+/,Zit=/Z|[+-]\d\d:?\d\d/gi,G_=/Z|[+-]\d\d(?::?\d\d)?/gi,Jit=/[+-]?\d+(\.\d{1,3})?/,ow=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,qv=/^[1-9]\d?/,IF=/^([1-9]\d|\d)/,YC;YC={};function Ze(e,t,n){YC[e]=gc(t)?t:function(r,a){return r&&n?n:t}}function eot(e,t){return tn(YC,e)?YC[e](t._strict,t._locale):new RegExp(tot(e))}function tot(e){return Xc(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,n,r,a,i){return n||r||a||i}))}function Xc(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Vi(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Ht(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(n=Vi(t)),n}var gM={};function wn(e,t){var n,r=t,a;for(typeof e=="string"&&(e=[e]),md(t)&&(r=function(i,o){o[t]=Ht(i)}),a=e.length,n=0;n<a;n++)gM[e[n]]=r}function lw(e,t){wn(e,function(n,r,a,i){a._w=a._w||{},t(n,a._w,a,i)})}function not(e,t,n){t!=null&&tn(gM,e)&&gM[e](t,n._a,n,e)}function Y_(e){return e%4===0&&e%100!==0||e%400===0}var ea=0,Wc=1,$l=2,ds=3,zo=4,Hc=5,Lh=6,rot=7,sot=8;ht("Y",0,0,function(){var e=this.year();return e<=9999?hc(e,4):"+"+e});ht(0,["YY",2],0,function(){return this.year()%100});ht(0,["YYYY",4],0,"year");ht(0,["YYYYY",5],0,"year");ht(0,["YYYYYY",6,!0],0,"year");Ze("Y",K_);Ze("YY",Gn,Pi);Ze("YYYY",$F,RF);Ze("YYYYY",q_,W_);Ze("YYYYYY",q_,W_);wn(["YYYYY","YYYYYY"],ea);wn("YYYY",function(e,t){t[ea]=e.length===2?Ye.parseTwoDigitYear(e):Ht(e)});wn("YY",function(e,t){t[ea]=Ye.parseTwoDigitYear(e)});wn("Y",function(e,t){t[ea]=parseInt(e,10)});function Py(e){return Y_(e)?366:365}Ye.parseTwoDigitYear=function(e){return Ht(e)+(Ht(e)>68?1900:2e3)};var sue=Kv("FullYear",!0);function aot(){return Y_(this.year())}function Kv(e,t){return function(n){return n!=null?(aue(this,e,n),Ye.updateOffset(this,t),this):wb(this,e)}}function wb(e,t){if(!e.isValid())return NaN;var n=e._d,r=e._isUTC;switch(t){case"Milliseconds":return r?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return r?n.getUTCSeconds():n.getSeconds();case"Minutes":return r?n.getUTCMinutes():n.getMinutes();case"Hours":return r?n.getUTCHours():n.getHours();case"Date":return r?n.getUTCDate():n.getDate();case"Day":return r?n.getUTCDay():n.getDay();case"Month":return r?n.getUTCMonth():n.getMonth();case"FullYear":return r?n.getUTCFullYear():n.getFullYear();default:return NaN}}function aue(e,t,n){var r,a,i,o,l;if(!(!e.isValid()||isNaN(n))){switch(r=e._d,a=e._isUTC,t){case"Milliseconds":return void(a?r.setUTCMilliseconds(n):r.setMilliseconds(n));case"Seconds":return void(a?r.setUTCSeconds(n):r.setSeconds(n));case"Minutes":return void(a?r.setUTCMinutes(n):r.setMinutes(n));case"Hours":return void(a?r.setUTCHours(n):r.setHours(n));case"Date":return void(a?r.setUTCDate(n):r.setDate(n));case"FullYear":break;default:return}i=n,o=e.month(),l=e.date(),l=l===29&&o===1&&!Y_(i)?28:l,a?r.setUTCFullYear(i,o,l):r.setFullYear(i,o,l)}}function iot(e){return e=fo(e),gc(this[e])?this[e]():this}function oot(e,t){if(typeof e=="object"){e=MF(e);var n=Qit(e),r,a=n.length;for(r=0;r<a;r++)this[n[r].unit](e[n[r].unit])}else if(e=fo(e),gc(this[e]))return this[e](t);return this}function lot(e,t){return(e%t+t)%t}var Pr;Array.prototype.indexOf?Pr=Array.prototype.indexOf:Pr=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function FF(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=lot(t,12);return e+=(t-n)/12,n===1?Y_(e)?29:28:31-n%7%2}ht("M",["MM",2],"Mo",function(){return this.month()+1});ht("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});ht("MMMM",0,0,function(e){return this.localeData().months(this,e)});Ze("M",Gn,qv);Ze("MM",Gn,Pi);Ze("MMM",function(e,t){return t.monthsShortRegex(e)});Ze("MMMM",function(e,t){return t.monthsRegex(e)});wn(["M","MM"],function(e,t){t[Wc]=Ht(e)-1});wn(["MMM","MMMM"],function(e,t,n,r){var a=n._locale.monthsParse(e,r,n._strict);a!=null?t[Wc]=a:It(n).invalidMonth=e});var cot="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),iue="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),oue=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,dot=ow,uot=ow;function hot(e,t){return e?rl(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||oue).test(t)?"format":"standalone"][e.month()]:rl(this._months)?this._months:this._months.standalone}function fot(e,t){return e?rl(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[oue.test(t)?"format":"standalone"][e.month()]:rl(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function mot(e,t,n){var r,a,i,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)i=pc([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(i,"").toLocaleLowerCase();return n?t==="MMM"?(a=Pr.call(this._shortMonthsParse,o),a!==-1?a:null):(a=Pr.call(this._longMonthsParse,o),a!==-1?a:null):t==="MMM"?(a=Pr.call(this._shortMonthsParse,o),a!==-1?a:(a=Pr.call(this._longMonthsParse,o),a!==-1?a:null)):(a=Pr.call(this._longMonthsParse,o),a!==-1?a:(a=Pr.call(this._shortMonthsParse,o),a!==-1?a:null))}function pot(e,t,n){var r,a,i;if(this._monthsParseExact)return mot.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(a=pc([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(i="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),n&&t==="MMMM"&&this._longMonthsParse[r].test(e))return r;if(n&&t==="MMM"&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function lue(e,t){if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=Ht(t);else if(t=e.localeData().monthsParse(t),!md(t))return e}var n=t,r=e.date();return r=r<29?r:Math.min(r,FF(e.year(),n)),e._isUTC?e._d.setUTCMonth(n,r):e._d.setMonth(n,r),e}function cue(e){return e!=null?(lue(this,e),Ye.updateOffset(this,!0),this):wb(this,"Month")}function got(){return FF(this.year(),this.month())}function vot(e){return this._monthsParseExact?(tn(this,"_monthsRegex")||due.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(tn(this,"_monthsShortRegex")||(this._monthsShortRegex=dot),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function xot(e){return this._monthsParseExact?(tn(this,"_monthsRegex")||due.call(this),e?this._monthsStrictRegex:this._monthsRegex):(tn(this,"_monthsRegex")||(this._monthsRegex=uot),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function due(){function e(c,d){return d.length-c.length}var t=[],n=[],r=[],a,i,o,l;for(a=0;a<12;a++)i=pc([2e3,a]),o=Xc(this.monthsShort(i,"")),l=Xc(this.months(i,"")),t.push(o),n.push(l),r.push(l),r.push(o);t.sort(e),n.sort(e),r.sort(e),this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function yot(e,t,n,r,a,i,o){var l;return e<100&&e>=0?(l=new Date(e+400,t,n,r,a,i,o),isFinite(l.getFullYear())&&l.setFullYear(e)):l=new Date(e,t,n,r,a,i,o),l}function Nb(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function XC(e,t,n){var r=7+t-n,a=(7+Nb(e,0,r).getUTCDay()-t)%7;return-a+r-1}function uue(e,t,n,r,a){var i=(7+n-r)%7,o=XC(e,r,a),l=1+7*(t-1)+i+o,c,d;return l<=0?(c=e-1,d=Py(c)+l):l>Py(e)?(c=e+1,d=l-Py(e)):(c=e,d=l),{year:c,dayOfYear:d}}function Sb(e,t,n){var r=XC(e.year(),t,n),a=Math.floor((e.dayOfYear()-r-1)/7)+1,i,o;return a<1?(o=e.year()-1,i=a+Qc(o,t,n)):a>Qc(e.year(),t,n)?(i=a-Qc(e.year(),t,n),o=e.year()+1):(o=e.year(),i=a),{week:i,year:o}}function Qc(e,t,n){var r=XC(e,t,n),a=XC(e+1,t,n);return(Py(e)-r+a)/7}ht("w",["ww",2],"wo","week");ht("W",["WW",2],"Wo","isoWeek");Ze("w",Gn,qv);Ze("ww",Gn,Pi);Ze("W",Gn,qv);Ze("WW",Gn,Pi);lw(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=Ht(e)});function bot(e){return Sb(e,this._week.dow,this._week.doy).week}var jot={dow:0,doy:6};function wot(){return this._week.dow}function Not(){return this._week.doy}function Sot(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function Cot(e){var t=Sb(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}ht("d",0,"do","day");ht("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});ht("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});ht("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});ht("e",0,0,"weekday");ht("E",0,0,"isoWeekday");Ze("d",Gn);Ze("e",Gn);Ze("E",Gn);Ze("dd",function(e,t){return t.weekdaysMinRegex(e)});Ze("ddd",function(e,t){return t.weekdaysShortRegex(e)});Ze("dddd",function(e,t){return t.weekdaysRegex(e)});lw(["dd","ddd","dddd"],function(e,t,n,r){var a=n._locale.weekdaysParse(e,r,n._strict);a!=null?t.d=a:It(n).invalidWeekday=e});lw(["d","e","E"],function(e,t,n,r){t[r]=Ht(e)});function kot(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function _ot(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function LF(e,t){return e.slice(t,7).concat(e.slice(0,t))}var Pot="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),hue="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Tot="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Aot=ow,Eot=ow,Dot=ow;function Oot(e,t){var n=rl(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?LF(n,this._week.dow):e?n[e.day()]:n}function Mot(e){return e===!0?LF(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Rot(e){return e===!0?LF(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function $ot(e,t,n){var r,a,i,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)i=pc([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(i,"").toLocaleLowerCase();return n?t==="dddd"?(a=Pr.call(this._weekdaysParse,o),a!==-1?a:null):t==="ddd"?(a=Pr.call(this._shortWeekdaysParse,o),a!==-1?a:null):(a=Pr.call(this._minWeekdaysParse,o),a!==-1?a:null):t==="dddd"?(a=Pr.call(this._weekdaysParse,o),a!==-1||(a=Pr.call(this._shortWeekdaysParse,o),a!==-1)?a:(a=Pr.call(this._minWeekdaysParse,o),a!==-1?a:null)):t==="ddd"?(a=Pr.call(this._shortWeekdaysParse,o),a!==-1||(a=Pr.call(this._weekdaysParse,o),a!==-1)?a:(a=Pr.call(this._minWeekdaysParse,o),a!==-1?a:null)):(a=Pr.call(this._minWeekdaysParse,o),a!==-1||(a=Pr.call(this._weekdaysParse,o),a!==-1)?a:(a=Pr.call(this._shortWeekdaysParse,o),a!==-1?a:null))}function Iot(e,t,n){var r,a,i;if(this._weekdaysParseExact)return $ot.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(a=pc([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(a,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(a,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(a,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(i="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[r]=new RegExp(i.replace(".",""),"i")),n&&t==="dddd"&&this._fullWeekdaysParse[r].test(e))return r;if(n&&t==="ddd"&&this._shortWeekdaysParse[r].test(e))return r;if(n&&t==="dd"&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Fot(e){if(!this.isValid())return e!=null?this:NaN;var t=wb(this,"Day");return e!=null?(e=kot(e,this.localeData()),this.add(e-t,"d")):t}function Lot(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function zot(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=_ot(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function Bot(e){return this._weekdaysParseExact?(tn(this,"_weekdaysRegex")||zF.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(tn(this,"_weekdaysRegex")||(this._weekdaysRegex=Aot),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Uot(e){return this._weekdaysParseExact?(tn(this,"_weekdaysRegex")||zF.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(tn(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Eot),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Vot(e){return this._weekdaysParseExact?(tn(this,"_weekdaysRegex")||zF.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(tn(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Dot),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function zF(){function e(u,h){return h.length-u.length}var t=[],n=[],r=[],a=[],i,o,l,c,d;for(i=0;i<7;i++)o=pc([2e3,1]).day(i),l=Xc(this.weekdaysMin(o,"")),c=Xc(this.weekdaysShort(o,"")),d=Xc(this.weekdays(o,"")),t.push(l),n.push(c),r.push(d),a.push(l),a.push(c),a.push(d);t.sort(e),n.sort(e),r.sort(e),a.sort(e),this._weekdaysRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function BF(){return this.hours()%12||12}function Wot(){return this.hours()||24}ht("H",["HH",2],0,"hour");ht("h",["hh",2],0,BF);ht("k",["kk",2],0,Wot);ht("hmm",0,0,function(){return""+BF.apply(this)+hc(this.minutes(),2)});ht("hmmss",0,0,function(){return""+BF.apply(this)+hc(this.minutes(),2)+hc(this.seconds(),2)});ht("Hmm",0,0,function(){return""+this.hours()+hc(this.minutes(),2)});ht("Hmmss",0,0,function(){return""+this.hours()+hc(this.minutes(),2)+hc(this.seconds(),2)});function fue(e,t){ht(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}fue("a",!0);fue("A",!1);function mue(e,t){return t._meridiemParse}Ze("a",mue);Ze("A",mue);Ze("H",Gn,IF);Ze("h",Gn,qv);Ze("k",Gn,qv);Ze("HH",Gn,Pi);Ze("hh",Gn,Pi);Ze("kk",Gn,Pi);Ze("hmm",nue);Ze("hmmss",rue);Ze("Hmm",nue);Ze("Hmmss",rue);wn(["H","HH"],ds);wn(["k","kk"],function(e,t,n){var r=Ht(e);t[ds]=r===24?0:r});wn(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e});wn(["h","hh"],function(e,t,n){t[ds]=Ht(e),It(n).bigHour=!0});wn("hmm",function(e,t,n){var r=e.length-2;t[ds]=Ht(e.substr(0,r)),t[zo]=Ht(e.substr(r)),It(n).bigHour=!0});wn("hmmss",function(e,t,n){var r=e.length-4,a=e.length-2;t[ds]=Ht(e.substr(0,r)),t[zo]=Ht(e.substr(r,2)),t[Hc]=Ht(e.substr(a)),It(n).bigHour=!0});wn("Hmm",function(e,t,n){var r=e.length-2;t[ds]=Ht(e.substr(0,r)),t[zo]=Ht(e.substr(r))});wn("Hmmss",function(e,t,n){var r=e.length-4,a=e.length-2;t[ds]=Ht(e.substr(0,r)),t[zo]=Ht(e.substr(r,2)),t[Hc]=Ht(e.substr(a))});function Hot(e){return(e+"").toLowerCase().charAt(0)==="p"}var qot=/[ap]\.?m?\.?/i,Kot=Kv("Hours",!0);function Got(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var pue={calendar:$it,longDateFormat:zit,invalidDate:Uit,ordinal:Wit,dayOfMonthOrdinalParse:Hit,relativeTime:Kit,months:cot,monthsShort:iue,week:jot,weekdays:Pot,weekdaysMin:Tot,weekdaysShort:hue,meridiemParse:qot},Yn={},kx={},Cb;function Yot(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function QV(e){return e&&e.toLowerCase().replace("_","-")}function Xot(e){for(var t=0,n,r,a,i;t<e.length;){for(i=QV(e[t]).split("-"),n=i.length,r=QV(e[t+1]),r=r?r.split("-"):null;n>0;){if(a=X_(i.slice(0,n).join("-")),a)return a;if(r&&r.length>=n&&Yot(i,r)>=n-1)break;n--}t++}return Cb}function Qot(e){return!!(e&&e.match("^[^/\\\\]*$"))}function X_(e){var t=null,n;if(Yn[e]===void 0&&typeof P1<"u"&&P1&&P1.exports&&Qot(e))try{t=Cb._abbr,n=require,n("./locale/"+e),ju(t)}catch{Yn[e]=null}return Yn[e]}function ju(e,t){var n;return e&&(Da(t)?n=jd(e):n=UF(e,t),n?Cb=n:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Cb._abbr}function UF(e,t){if(t!==null){var n,r=pue;if(t.abbr=e,Yn[e]!=null)Zde("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Yn[e]._config;else if(t.parentLocale!=null)if(Yn[t.parentLocale]!=null)r=Yn[t.parentLocale]._config;else if(n=X_(t.parentLocale),n!=null)r=n._config;else return kx[t.parentLocale]||(kx[t.parentLocale]=[]),kx[t.parentLocale].push({name:e,config:t}),null;return Yn[e]=new DF(mM(r,t)),kx[e]&&kx[e].forEach(function(a){UF(a.name,a.config)}),ju(e),Yn[e]}else return delete Yn[e],null}function Zot(e,t){if(t!=null){var n,r,a=pue;Yn[e]!=null&&Yn[e].parentLocale!=null?Yn[e].set(mM(Yn[e]._config,t)):(r=X_(e),r!=null&&(a=r._config),t=mM(a,t),r==null&&(t.abbr=e),n=new DF(t),n.parentLocale=Yn[e],Yn[e]=n),ju(e)}else Yn[e]!=null&&(Yn[e].parentLocale!=null?(Yn[e]=Yn[e].parentLocale,e===ju()&&ju(e)):Yn[e]!=null&&delete Yn[e]);return Yn[e]}function jd(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Cb;if(!rl(e)){if(t=X_(e),t)return t;e=[e]}return Xot(e)}function Jot(){return pM(Yn)}function VF(e){var t,n=e._a;return n&&It(e).overflow===-2&&(t=n[Wc]<0||n[Wc]>11?Wc:n[$l]<1||n[$l]>FF(n[ea],n[Wc])?$l:n[ds]<0||n[ds]>24||n[ds]===24&&(n[zo]!==0||n[Hc]!==0||n[Lh]!==0)?ds:n[zo]<0||n[zo]>59?zo:n[Hc]<0||n[Hc]>59?Hc:n[Lh]<0||n[Lh]>999?Lh:-1,It(e)._overflowDayOfYear&&(t<ea||t>$l)&&(t=$l),It(e)._overflowWeeks&&t===-1&&(t=rot),It(e)._overflowWeekday&&t===-1&&(t=sot),It(e).overflow=t),e}var elt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,tlt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,nlt=/Z|[+-]\d\d(?::?\d\d)?/,vN=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],JT=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],rlt=/^\/?Date\((-?\d+)/i,slt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,alt={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function gue(e){var t,n,r=e._i,a=elt.exec(r)||tlt.exec(r),i,o,l,c,d=vN.length,u=JT.length;if(a){for(It(e).iso=!0,t=0,n=d;t<n;t++)if(vN[t][1].exec(a[1])){o=vN[t][0],i=vN[t][2]!==!1;break}if(o==null){e._isValid=!1;return}if(a[3]){for(t=0,n=u;t<n;t++)if(JT[t][1].exec(a[3])){l=(a[2]||" ")+JT[t][0];break}if(l==null){e._isValid=!1;return}}if(!i&&l!=null){e._isValid=!1;return}if(a[4])if(nlt.exec(a[4]))c="Z";else{e._isValid=!1;return}e._f=o+(l||"")+(c||""),HF(e)}else e._isValid=!1}function ilt(e,t,n,r,a,i){var o=[olt(e),iue.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(a,10)];return i&&o.push(parseInt(i,10)),o}function olt(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function llt(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function clt(e,t,n){if(e){var r=hue.indexOf(e),a=new Date(t[0],t[1],t[2]).getDay();if(r!==a)return It(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function dlt(e,t,n){if(e)return alt[e];if(t)return 0;var r=parseInt(n,10),a=r%100,i=(r-a)/100;return i*60+a}function vue(e){var t=slt.exec(llt(e._i)),n;if(t){if(n=ilt(t[4],t[3],t[2],t[5],t[6],t[7]),!clt(t[1],n,e))return;e._a=n,e._tzm=dlt(t[8],t[9],t[10]),e._d=Nb.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),It(e).rfc2822=!0}else e._isValid=!1}function ult(e){var t=rlt.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(gue(e),e._isValid===!1)delete e._isValid;else return;if(vue(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:Ye.createFromInputFallback(e)}Ye.createFromInputFallback=ho("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function Sm(e,t,n){return e??t??n}function hlt(e){var t=new Date(Ye.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function WF(e){var t,n,r=[],a,i,o;if(!e._d){for(a=hlt(e),e._w&&e._a[$l]==null&&e._a[Wc]==null&&flt(e),e._dayOfYear!=null&&(o=Sm(e._a[ea],a[ea]),(e._dayOfYear>Py(o)||e._dayOfYear===0)&&(It(e)._overflowDayOfYear=!0),n=Nb(o,0,e._dayOfYear),e._a[Wc]=n.getUTCMonth(),e._a[$l]=n.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=r[t]=a[t];for(;t<7;t++)e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[ds]===24&&e._a[zo]===0&&e._a[Hc]===0&&e._a[Lh]===0&&(e._nextDay=!0,e._a[ds]=0),e._d=(e._useUTC?Nb:yot).apply(null,r),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ds]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==i&&(It(e).weekdayMismatch=!0)}}function flt(e){var t,n,r,a,i,o,l,c,d;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(i=1,o=4,n=Sm(t.GG,e._a[ea],Sb(qn(),1,4).year),r=Sm(t.W,1),a=Sm(t.E,1),(a<1||a>7)&&(c=!0)):(i=e._locale._week.dow,o=e._locale._week.doy,d=Sb(qn(),i,o),n=Sm(t.gg,e._a[ea],d.year),r=Sm(t.w,d.week),t.d!=null?(a=t.d,(a<0||a>6)&&(c=!0)):t.e!=null?(a=t.e+i,(t.e<0||t.e>6)&&(c=!0)):a=i),r<1||r>Qc(n,i,o)?It(e)._overflowWeeks=!0:c!=null?It(e)._overflowWeekday=!0:(l=uue(n,r,a,i,o),e._a[ea]=l.year,e._dayOfYear=l.dayOfYear)}Ye.ISO_8601=function(){};Ye.RFC_2822=function(){};function HF(e){if(e._f===Ye.ISO_8601){gue(e);return}if(e._f===Ye.RFC_2822){vue(e);return}e._a=[],It(e).empty=!0;var t=""+e._i,n,r,a,i,o,l=t.length,c=0,d,u;for(a=Jde(e._f,e._locale).match(OF)||[],u=a.length,n=0;n<u;n++)i=a[n],r=(t.match(eot(i,e))||[])[0],r&&(o=t.substr(0,t.indexOf(r)),o.length>0&&It(e).unusedInput.push(o),t=t.slice(t.indexOf(r)+r.length),c+=r.length),vp[i]?(r?It(e).empty=!1:It(e).unusedTokens.push(i),not(i,r,e)):e._strict&&!r&&It(e).unusedTokens.push(i);It(e).charsLeftOver=l-c,t.length>0&&It(e).unusedInput.push(t),e._a[ds]<=12&&It(e).bigHour===!0&&e._a[ds]>0&&(It(e).bigHour=void 0),It(e).parsedDateParts=e._a.slice(0),It(e).meridiem=e._meridiem,e._a[ds]=mlt(e._locale,e._a[ds],e._meridiem),d=It(e).era,d!==null&&(e._a[ea]=e._locale.erasConvertYear(d,e._a[ea])),WF(e),VF(e)}function mlt(e,t,n){var r;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):(e.isPM!=null&&(r=e.isPM(n),r&&t<12&&(t+=12),!r&&t===12&&(t=0)),t)}function plt(e){var t,n,r,a,i,o,l=!1,c=e._f.length;if(c===0){It(e).invalidFormat=!0,e._d=new Date(NaN);return}for(a=0;a<c;a++)i=0,o=!1,t=EF({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[a],HF(t),AF(t)&&(o=!0),i+=It(t).charsLeftOver,i+=It(t).unusedTokens.length*10,It(t).score=i,l?i<r&&(r=i,n=t):(r==null||i<r||o)&&(r=i,n=t,o&&(l=!0));lu(e,n||t)}function glt(e){if(!e._d){var t=MF(e._i),n=t.day===void 0?t.date:t.day;e._a=Xde([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(r){return r&&parseInt(r,10)}),WF(e)}}function vlt(e){var t=new iw(VF(xue(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function xue(e){var t=e._i,n=e._f;return e._locale=e._locale||jd(e._l),t===null||n===void 0&&t===""?V_({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),sl(t)?new iw(VF(t)):(aw(t)?e._d=t:rl(n)?plt(e):n?HF(e):xlt(e),AF(e)||(e._d=null),e))}function xlt(e){var t=e._i;Da(t)?e._d=new Date(Ye.now()):aw(t)?e._d=new Date(t.valueOf()):typeof t=="string"?ult(e):rl(t)?(e._a=Xde(t.slice(0),function(n){return parseInt(n,10)}),WF(e)):gf(t)?glt(e):md(t)?e._d=new Date(t):Ye.createFromInputFallback(e)}function yue(e,t,n,r,a){var i={};return(t===!0||t===!1)&&(r=t,t=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(gf(e)&&TF(e)||rl(e)&&e.length===0)&&(e=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=a,i._l=n,i._i=e,i._f=t,i._strict=r,vlt(i)}function qn(e,t,n,r){return yue(e,t,n,r,!1)}var ylt=ho("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=qn.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:V_()}),blt=ho("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=qn.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:V_()});function bue(e,t){var n,r;if(t.length===1&&rl(t[0])&&(t=t[0]),!t.length)return qn();for(n=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](n))&&(n=t[r]);return n}function jlt(){var e=[].slice.call(arguments,0);return bue("isBefore",e)}function wlt(){var e=[].slice.call(arguments,0);return bue("isAfter",e)}var Nlt=function(){return Date.now?Date.now():+new Date},_x=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Slt(e){var t,n=!1,r,a=_x.length;for(t in e)if(tn(e,t)&&!(Pr.call(_x,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(r=0;r<a;++r)if(e[_x[r]]){if(n)return!1;parseFloat(e[_x[r]])!==Ht(e[_x[r]])&&(n=!0)}return!0}function Clt(){return this._isValid}function klt(){return fl(NaN)}function Q_(e){var t=MF(e),n=t.year||0,r=t.quarter||0,a=t.month||0,i=t.week||t.isoWeek||0,o=t.day||0,l=t.hour||0,c=t.minute||0,d=t.second||0,u=t.millisecond||0;this._isValid=Slt(t),this._milliseconds=+u+d*1e3+c*6e4+l*1e3*60*60,this._days=+o+i*7,this._months=+a+r*3+n*12,this._data={},this._locale=jd(),this._bubble()}function v1(e){return e instanceof Q_}function vM(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function _lt(e,t,n){var r=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),i=0,o;for(o=0;o<r;o++)Ht(e[o])!==Ht(t[o])&&i++;return i+a}function jue(e,t){ht(e,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+hc(~~(n/60),2)+t+hc(~~n%60,2)})}jue("Z",":");jue("ZZ","");Ze("Z",G_);Ze("ZZ",G_);wn(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=qF(G_,e)});var Plt=/([\+\-]|\d\d)/gi;function qF(e,t){var n=(t||"").match(e),r,a,i;return n===null?null:(r=n[n.length-1]||[],a=(r+"").match(Plt)||["-",0,0],i=+(a[1]*60)+Ht(a[2]),i===0?0:a[0]==="+"?i:-i)}function KF(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(sl(e)||aw(e)?e.valueOf():qn(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),Ye.updateOffset(n,!1),n):qn(e).local()}function xM(e){return-Math.round(e._d.getTimezoneOffset())}Ye.updateOffset=function(){};function Tlt(e,t,n){var r=this._offset||0,a;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=qF(G_,e),e===null)return this}else Math.abs(e)<16&&!n&&(e=e*60);return!this._isUTC&&t&&(a=xM(this)),this._offset=e,this._isUTC=!0,a!=null&&this.add(a,"m"),r!==e&&(!t||this._changeInProgress?Sue(this,fl(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Ye.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:xM(this)}function Alt(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Elt(e){return this.utcOffset(0,e)}function Dlt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(xM(this),"m")),this}function Olt(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=qF(Zit,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function Mlt(e){return this.isValid()?(e=e?qn(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function Rlt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function $lt(){if(!Da(this._isDSTShifted))return this._isDSTShifted;var e={},t;return EF(e,this),e=xue(e),e._a?(t=e._isUTC?pc(e._a):qn(e._a),this._isDSTShifted=this.isValid()&&_lt(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Ilt(){return this.isValid()?!this._isUTC:!1}function Flt(){return this.isValid()?this._isUTC:!1}function wue(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Llt=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,zlt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function fl(e,t){var n=e,r=null,a,i,o;return v1(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:md(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(r=Llt.exec(e))?(a=r[1]==="-"?-1:1,n={y:0,d:Ht(r[$l])*a,h:Ht(r[ds])*a,m:Ht(r[zo])*a,s:Ht(r[Hc])*a,ms:Ht(vM(r[Lh]*1e3))*a}):(r=zlt.exec(e))?(a=r[1]==="-"?-1:1,n={y:fh(r[2],a),M:fh(r[3],a),w:fh(r[4],a),d:fh(r[5],a),h:fh(r[6],a),m:fh(r[7],a),s:fh(r[8],a)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(o=Blt(qn(n.from),qn(n.to)),n={},n.ms=o.milliseconds,n.M=o.months),i=new Q_(n),v1(e)&&tn(e,"_locale")&&(i._locale=e._locale),v1(e)&&tn(e,"_isValid")&&(i._isValid=e._isValid),i}fl.fn=Q_.prototype;fl.invalid=klt;function fh(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function ZV(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Blt(e,t){var n;return e.isValid()&&t.isValid()?(t=KF(t,e),e.isBefore(t)?n=ZV(e,t):(n=ZV(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Nue(e,t){return function(n,r){var a,i;return r!==null&&!isNaN(+r)&&(Zde(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),a=fl(n,r),Sue(this,a,e),this}}function Sue(e,t,n,r){var a=t._milliseconds,i=vM(t._days),o=vM(t._months);e.isValid()&&(r=r??!0,o&&lue(e,wb(e,"Month")+o*n),i&&aue(e,"Date",wb(e,"Date")+i*n),a&&e._d.setTime(e._d.valueOf()+a*n),r&&Ye.updateOffset(e,i||o))}var Ult=Nue(1,"add"),Vlt=Nue(-1,"subtract");function Cue(e){return typeof e=="string"||e instanceof String}function Wlt(e){return sl(e)||aw(e)||Cue(e)||md(e)||qlt(e)||Hlt(e)||e===null||e===void 0}function Hlt(e){var t=gf(e)&&!TF(e),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],a,i,o=r.length;for(a=0;a<o;a+=1)i=r[a],n=n||tn(e,i);return t&&n}function qlt(e){var t=rl(e),n=!1;return t&&(n=e.filter(function(r){return!md(r)&&Cue(e)}).length===0),t&&n}function Klt(e){var t=gf(e)&&!TF(e),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],a,i;for(a=0;a<r.length;a+=1)i=r[a],n=n||tn(e,i);return t&&n}function Glt(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Ylt(e,t){arguments.length===1&&(arguments[0]?Wlt(arguments[0])?(e=arguments[0],t=void 0):Klt(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||qn(),r=KF(n,this).startOf("day"),a=Ye.calendarFormat(this,r)||"sameElse",i=t&&(gc(t[a])?t[a].call(this,n):t[a]);return this.format(i||this.localeData().calendar(a,this,qn(n)))}function Xlt(){return new iw(this)}function Qlt(e,t){var n=sl(e)?e:qn(e);return this.isValid()&&n.isValid()?(t=fo(t)||"millisecond",t==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function Zlt(e,t){var n=sl(e)?e:qn(e);return this.isValid()&&n.isValid()?(t=fo(t)||"millisecond",t==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function Jlt(e,t,n,r){var a=sl(e)?e:qn(e),i=sl(t)?t:qn(t);return this.isValid()&&a.isValid()&&i.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(a,n):!this.isBefore(a,n))&&(r[1]===")"?this.isBefore(i,n):!this.isAfter(i,n))):!1}function ect(e,t){var n=sl(e)?e:qn(e),r;return this.isValid()&&n.isValid()?(t=fo(t)||"millisecond",t==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf())):!1}function tct(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function nct(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function rct(e,t,n){var r,a,i;if(!this.isValid())return NaN;if(r=KF(e,this),!r.isValid())return NaN;switch(a=(r.utcOffset()-this.utcOffset())*6e4,t=fo(t),t){case"year":i=x1(this,r)/12;break;case"month":i=x1(this,r);break;case"quarter":i=x1(this,r)/3;break;case"second":i=(this-r)/1e3;break;case"minute":i=(this-r)/6e4;break;case"hour":i=(this-r)/36e5;break;case"day":i=(this-r-a)/864e5;break;case"week":i=(this-r-a)/6048e5;break;default:i=this-r}return n?i:Vi(i)}function x1(e,t){if(e.date()<t.date())return-x1(t,e);var n=(t.year()-e.year())*12+(t.month()-e.month()),r=e.clone().add(n,"months"),a,i;return t-r<0?(a=e.clone().add(n-1,"months"),i=(t-r)/(r-a)):(a=e.clone().add(n+1,"months"),i=(t-r)/(a-r)),-(n+i)||0}Ye.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";Ye.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function sct(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function act(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?g1(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):gc(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",g1(n,"Z")):g1(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function ict(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",n,r,a,i;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",a="-MM-DD[T]HH:mm:ss.SSS",i=t+'[")]',this.format(n+r+a+i)}function oct(e){e||(e=this.isUtc()?Ye.defaultFormatUtc:Ye.defaultFormat);var t=g1(this,e);return this.localeData().postformat(t)}function lct(e,t){return this.isValid()&&(sl(e)&&e.isValid()||qn(e).isValid())?fl({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function cct(e){return this.from(qn(),e)}function dct(e,t){return this.isValid()&&(sl(e)&&e.isValid()||qn(e).isValid())?fl({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function uct(e){return this.to(qn(),e)}function kue(e){var t;return e===void 0?this._locale._abbr:(t=jd(e),t!=null&&(this._locale=t),this)}var _ue=ho("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function Pue(){return this._locale}var QC=1e3,xp=60*QC,ZC=60*xp,Tue=(365*400+97)*24*ZC;function yp(e,t){return(e%t+t)%t}function Aue(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-Tue:new Date(e,t,n).valueOf()}function Eue(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-Tue:Date.UTC(e,t,n)}function hct(e){var t,n;if(e=fo(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?Eue:Aue,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=yp(t+(this._isUTC?0:this.utcOffset()*xp),ZC);break;case"minute":t=this._d.valueOf(),t-=yp(t,xp);break;case"second":t=this._d.valueOf(),t-=yp(t,QC);break}return this._d.setTime(t),Ye.updateOffset(this,!0),this}function fct(e){var t,n;if(e=fo(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?Eue:Aue,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=ZC-yp(t+(this._isUTC?0:this.utcOffset()*xp),ZC)-1;break;case"minute":t=this._d.valueOf(),t+=xp-yp(t,xp)-1;break;case"second":t=this._d.valueOf(),t+=QC-yp(t,QC)-1;break}return this._d.setTime(t),Ye.updateOffset(this,!0),this}function mct(){return this._d.valueOf()-(this._offset||0)*6e4}function pct(){return Math.floor(this.valueOf()/1e3)}function gct(){return new Date(this.valueOf())}function vct(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function xct(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function yct(){return this.isValid()?this.toISOString():null}function bct(){return AF(this)}function jct(){return lu({},It(this))}function wct(){return It(this).overflow}function Nct(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}ht("N",0,0,"eraAbbr");ht("NN",0,0,"eraAbbr");ht("NNN",0,0,"eraAbbr");ht("NNNN",0,0,"eraName");ht("NNNNN",0,0,"eraNarrow");ht("y",["y",1],"yo","eraYear");ht("y",["yy",2],0,"eraYear");ht("y",["yyy",3],0,"eraYear");ht("y",["yyyy",4],0,"eraYear");Ze("N",GF);Ze("NN",GF);Ze("NNN",GF);Ze("NNNN",Mct);Ze("NNNNN",Rct);wn(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,r){var a=n._locale.erasParse(e,r,n._strict);a?It(n).era=a:It(n).invalidEra=e});Ze("y",Hv);Ze("yy",Hv);Ze("yyy",Hv);Ze("yyyy",Hv);Ze("yo",$ct);wn(["y","yy","yyy","yyyy"],ea);wn(["yo"],function(e,t,n,r){var a;n._locale._eraYearOrdinalRegex&&(a=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[ea]=n._locale.eraYearOrdinalParse(e,a):t[ea]=parseInt(e,10)});function Sct(e,t){var n,r,a,i=this._eras||jd("en")._eras;for(n=0,r=i.length;n<r;++n){switch(typeof i[n].since){case"string":a=Ye(i[n].since).startOf("day"),i[n].since=a.valueOf();break}switch(typeof i[n].until){case"undefined":i[n].until=1/0;break;case"string":a=Ye(i[n].until).startOf("day").valueOf(),i[n].until=a.valueOf();break}}return i}function Cct(e,t,n){var r,a,i=this.eras(),o,l,c;for(e=e.toUpperCase(),r=0,a=i.length;r<a;++r)if(o=i[r].name.toUpperCase(),l=i[r].abbr.toUpperCase(),c=i[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(l===e)return i[r];break;case"NNNN":if(o===e)return i[r];break;case"NNNNN":if(c===e)return i[r];break}else if([o,l,c].indexOf(e)>=0)return i[r]}function kct(e,t){var n=e.since<=e.until?1:-1;return t===void 0?Ye(e.since).year():Ye(e.since).year()+(t-e.offset)*n}function _ct(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].name;return""}function Pct(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].narrow;return""}function Tct(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].abbr;return""}function Act(){var e,t,n,r,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(n=a[e].since<=a[e].until?1:-1,r=this.clone().startOf("day").valueOf(),a[e].since<=r&&r<=a[e].until||a[e].until<=r&&r<=a[e].since)return(this.year()-Ye(a[e].since).year())*n+a[e].offset;return this.year()}function Ect(e){return tn(this,"_erasNameRegex")||YF.call(this),e?this._erasNameRegex:this._erasRegex}function Dct(e){return tn(this,"_erasAbbrRegex")||YF.call(this),e?this._erasAbbrRegex:this._erasRegex}function Oct(e){return tn(this,"_erasNarrowRegex")||YF.call(this),e?this._erasNarrowRegex:this._erasRegex}function GF(e,t){return t.erasAbbrRegex(e)}function Mct(e,t){return t.erasNameRegex(e)}function Rct(e,t){return t.erasNarrowRegex(e)}function $ct(e,t){return t._eraYearOrdinalRegex||Hv}function YF(){var e=[],t=[],n=[],r=[],a,i,o,l,c,d=this.eras();for(a=0,i=d.length;a<i;++a)o=Xc(d[a].name),l=Xc(d[a].abbr),c=Xc(d[a].narrow),t.push(o),e.push(l),n.push(c),r.push(o),r.push(l),r.push(c);this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}ht(0,["gg",2],0,function(){return this.weekYear()%100});ht(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Z_(e,t){ht(0,[e,e.length],0,t)}Z_("gggg","weekYear");Z_("ggggg","weekYear");Z_("GGGG","isoWeekYear");Z_("GGGGG","isoWeekYear");Ze("G",K_);Ze("g",K_);Ze("GG",Gn,Pi);Ze("gg",Gn,Pi);Ze("GGGG",$F,RF);Ze("gggg",$F,RF);Ze("GGGGG",q_,W_);Ze("ggggg",q_,W_);lw(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=Ht(e)});lw(["gg","GG"],function(e,t,n,r){t[r]=Ye.parseTwoDigitYear(e)});function Ict(e){return Due.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function Fct(e){return Due.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Lct(){return Qc(this.year(),1,4)}function zct(){return Qc(this.isoWeekYear(),1,4)}function Bct(){var e=this.localeData()._week;return Qc(this.year(),e.dow,e.doy)}function Uct(){var e=this.localeData()._week;return Qc(this.weekYear(),e.dow,e.doy)}function Due(e,t,n,r,a){var i;return e==null?Sb(this,r,a).year:(i=Qc(e,r,a),t>i&&(t=i),Vct.call(this,e,t,n,r,a))}function Vct(e,t,n,r,a){var i=uue(e,t,n,r,a),o=Nb(i.year,0,i.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}ht("Q",0,"Qo","quarter");Ze("Q",eue);wn("Q",function(e,t){t[Wc]=(Ht(e)-1)*3});function Wct(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}ht("D",["DD",2],"Do","date");Ze("D",Gn,qv);Ze("DD",Gn,Pi);Ze("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});wn(["D","DD"],$l);wn("Do",function(e,t){t[$l]=Ht(e.match(Gn)[0])});var Oue=Kv("Date",!0);ht("DDD",["DDDD",3],"DDDo","dayOfYear");Ze("DDD",H_);Ze("DDDD",tue);wn(["DDD","DDDD"],function(e,t,n){n._dayOfYear=Ht(e)});function Hct(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}ht("m",["mm",2],0,"minute");Ze("m",Gn,IF);Ze("mm",Gn,Pi);wn(["m","mm"],zo);var qct=Kv("Minutes",!1);ht("s",["ss",2],0,"second");Ze("s",Gn,IF);Ze("ss",Gn,Pi);wn(["s","ss"],Hc);var Kct=Kv("Seconds",!1);ht("S",0,0,function(){return~~(this.millisecond()/100)});ht(0,["SS",2],0,function(){return~~(this.millisecond()/10)});ht(0,["SSS",3],0,"millisecond");ht(0,["SSSS",4],0,function(){return this.millisecond()*10});ht(0,["SSSSS",5],0,function(){return this.millisecond()*100});ht(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});ht(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});ht(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});ht(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Ze("S",H_,eue);Ze("SS",H_,Pi);Ze("SSS",H_,tue);var cu,Mue;for(cu="SSSS";cu.length<=9;cu+="S")Ze(cu,Hv);function Gct(e,t){t[Lh]=Ht(("0."+e)*1e3)}for(cu="S";cu.length<=9;cu+="S")wn(cu,Gct);Mue=Kv("Milliseconds",!1);ht("z",0,0,"zoneAbbr");ht("zz",0,0,"zoneName");function Yct(){return this._isUTC?"UTC":""}function Xct(){return this._isUTC?"Coordinated Universal Time":""}var Oe=iw.prototype;Oe.add=Ult;Oe.calendar=Ylt;Oe.clone=Xlt;Oe.diff=rct;Oe.endOf=fct;Oe.format=oct;Oe.from=lct;Oe.fromNow=cct;Oe.to=dct;Oe.toNow=uct;Oe.get=iot;Oe.invalidAt=wct;Oe.isAfter=Qlt;Oe.isBefore=Zlt;Oe.isBetween=Jlt;Oe.isSame=ect;Oe.isSameOrAfter=tct;Oe.isSameOrBefore=nct;Oe.isValid=bct;Oe.lang=_ue;Oe.locale=kue;Oe.localeData=Pue;Oe.max=blt;Oe.min=ylt;Oe.parsingFlags=jct;Oe.set=oot;Oe.startOf=hct;Oe.subtract=Vlt;Oe.toArray=vct;Oe.toObject=xct;Oe.toDate=gct;Oe.toISOString=act;Oe.inspect=ict;typeof Symbol<"u"&&Symbol.for!=null&&(Oe[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});Oe.toJSON=yct;Oe.toString=sct;Oe.unix=pct;Oe.valueOf=mct;Oe.creationData=Nct;Oe.eraName=_ct;Oe.eraNarrow=Pct;Oe.eraAbbr=Tct;Oe.eraYear=Act;Oe.year=sue;Oe.isLeapYear=aot;Oe.weekYear=Ict;Oe.isoWeekYear=Fct;Oe.quarter=Oe.quarters=Wct;Oe.month=cue;Oe.daysInMonth=got;Oe.week=Oe.weeks=Sot;Oe.isoWeek=Oe.isoWeeks=Cot;Oe.weeksInYear=Bct;Oe.weeksInWeekYear=Uct;Oe.isoWeeksInYear=Lct;Oe.isoWeeksInISOWeekYear=zct;Oe.date=Oue;Oe.day=Oe.days=Fot;Oe.weekday=Lot;Oe.isoWeekday=zot;Oe.dayOfYear=Hct;Oe.hour=Oe.hours=Kot;Oe.minute=Oe.minutes=qct;Oe.second=Oe.seconds=Kct;Oe.millisecond=Oe.milliseconds=Mue;Oe.utcOffset=Tlt;Oe.utc=Elt;Oe.local=Dlt;Oe.parseZone=Olt;Oe.hasAlignedHourOffset=Mlt;Oe.isDST=Rlt;Oe.isLocal=Ilt;Oe.isUtcOffset=Flt;Oe.isUtc=wue;Oe.isUTC=wue;Oe.zoneAbbr=Yct;Oe.zoneName=Xct;Oe.dates=ho("dates accessor is deprecated. Use date instead.",Oue);Oe.months=ho("months accessor is deprecated. Use month instead",cue);Oe.years=ho("years accessor is deprecated. Use year instead",sue);Oe.zone=ho("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Alt);Oe.isDSTShifted=ho("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",$lt);function Qct(e){return qn(e*1e3)}function Zct(){return qn.apply(null,arguments).parseZone()}function Rue(e){return e}var rn=DF.prototype;rn.calendar=Iit;rn.longDateFormat=Bit;rn.invalidDate=Vit;rn.ordinal=qit;rn.preparse=Rue;rn.postformat=Rue;rn.relativeTime=Git;rn.pastFuture=Yit;rn.set=Rit;rn.eras=Sct;rn.erasParse=Cct;rn.erasConvertYear=kct;rn.erasAbbrRegex=Dct;rn.erasNameRegex=Ect;rn.erasNarrowRegex=Oct;rn.months=hot;rn.monthsShort=fot;rn.monthsParse=pot;rn.monthsRegex=xot;rn.monthsShortRegex=vot;rn.week=bot;rn.firstDayOfYear=Not;rn.firstDayOfWeek=wot;rn.weekdays=Oot;rn.weekdaysMin=Rot;rn.weekdaysShort=Mot;rn.weekdaysParse=Iot;rn.weekdaysRegex=Bot;rn.weekdaysShortRegex=Uot;rn.weekdaysMinRegex=Vot;rn.isPM=Hot;rn.meridiem=Got;function JC(e,t,n,r){var a=jd(),i=pc().set(r,t);return a[n](i,e)}function $ue(e,t,n){if(md(e)&&(t=e,e=void 0),e=e||"",t!=null)return JC(e,t,n,"month");var r,a=[];for(r=0;r<12;r++)a[r]=JC(e,r,n,"month");return a}function XF(e,t,n,r){typeof e=="boolean"?(md(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,md(t)&&(n=t,t=void 0),t=t||"");var a=jd(),i=e?a._week.dow:0,o,l=[];if(n!=null)return JC(t,(n+i)%7,r,"day");for(o=0;o<7;o++)l[o]=JC(t,(o+i)%7,r,"day");return l}function Jct(e,t){return $ue(e,t,"months")}function edt(e,t){return $ue(e,t,"monthsShort")}function tdt(e,t,n){return XF(e,t,n,"weekdays")}function ndt(e,t,n){return XF(e,t,n,"weekdaysShort")}function rdt(e,t,n){return XF(e,t,n,"weekdaysMin")}ju("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=Ht(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});Ye.lang=ho("moment.lang is deprecated. Use moment.locale instead.",ju);Ye.langData=ho("moment.langData is deprecated. Use moment.localeData instead.",jd);var wc=Math.abs;function sdt(){var e=this._data;return this._milliseconds=wc(this._milliseconds),this._days=wc(this._days),this._months=wc(this._months),e.milliseconds=wc(e.milliseconds),e.seconds=wc(e.seconds),e.minutes=wc(e.minutes),e.hours=wc(e.hours),e.months=wc(e.months),e.years=wc(e.years),this}function Iue(e,t,n,r){var a=fl(t,n);return e._milliseconds+=r*a._milliseconds,e._days+=r*a._days,e._months+=r*a._months,e._bubble()}function adt(e,t){return Iue(this,e,t,1)}function idt(e,t){return Iue(this,e,t,-1)}function JV(e){return e<0?Math.floor(e):Math.ceil(e)}function odt(){var e=this._milliseconds,t=this._days,n=this._months,r=this._data,a,i,o,l,c;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=JV(yM(n)+t)*864e5,t=0,n=0),r.milliseconds=e%1e3,a=Vi(e/1e3),r.seconds=a%60,i=Vi(a/60),r.minutes=i%60,o=Vi(i/60),r.hours=o%24,t+=Vi(o/24),c=Vi(Fue(t)),n+=c,t-=JV(yM(c)),l=Vi(n/12),n%=12,r.days=t,r.months=n,r.years=l,this}function Fue(e){return e*4800/146097}function yM(e){return e*146097/4800}function ldt(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if(e=fo(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+r/864e5,n=this._months+Fue(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(yM(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return t*24+r/36e5;case"minute":return t*1440+r/6e4;case"second":return t*86400+r/1e3;case"millisecond":return Math.floor(t*864e5)+r;default:throw new Error("Unknown unit "+e)}}function wd(e){return function(){return this.as(e)}}var Lue=wd("ms"),cdt=wd("s"),ddt=wd("m"),udt=wd("h"),hdt=wd("d"),fdt=wd("w"),mdt=wd("M"),pdt=wd("Q"),gdt=wd("y"),vdt=Lue;function xdt(){return fl(this)}function ydt(e){return e=fo(e),this.isValid()?this[e+"s"]():NaN}function im(e){return function(){return this.isValid()?this._data[e]:NaN}}var bdt=im("milliseconds"),jdt=im("seconds"),wdt=im("minutes"),Ndt=im("hours"),Sdt=im("days"),Cdt=im("months"),kdt=im("years");function _dt(){return Vi(this.days()/7)}var Pc=Math.round,Vm={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Pdt(e,t,n,r,a){return a.relativeTime(t||1,!!n,e,r)}function Tdt(e,t,n,r){var a=fl(e).abs(),i=Pc(a.as("s")),o=Pc(a.as("m")),l=Pc(a.as("h")),c=Pc(a.as("d")),d=Pc(a.as("M")),u=Pc(a.as("w")),h=Pc(a.as("y")),f=i<=n.ss&&["s",i]||i<n.s&&["ss",i]||o<=1&&["m"]||o<n.m&&["mm",o]||l<=1&&["h"]||l<n.h&&["hh",l]||c<=1&&["d"]||c<n.d&&["dd",c];return n.w!=null&&(f=f||u<=1&&["w"]||u<n.w&&["ww",u]),f=f||d<=1&&["M"]||d<n.M&&["MM",d]||h<=1&&["y"]||["yy",h],f[2]=t,f[3]=+e>0,f[4]=r,Pdt.apply(null,f)}function Adt(e){return e===void 0?Pc:typeof e=="function"?(Pc=e,!0):!1}function Edt(e,t){return Vm[e]===void 0?!1:t===void 0?Vm[e]:(Vm[e]=t,e==="s"&&(Vm.ss=t-1),!0)}function Ddt(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=Vm,a,i;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(n=e),typeof t=="object"&&(r=Object.assign({},Vm,t),t.s!=null&&t.ss==null&&(r.ss=t.s-1)),a=this.localeData(),i=Tdt(this,!n,r,a),n&&(i=a.pastFuture(+this,i)),a.postformat(i)}var eA=Math.abs;function ym(e){return(e>0)-(e<0)||+e}function J_(){if(!this.isValid())return this.localeData().invalidDate();var e=eA(this._milliseconds)/1e3,t=eA(this._days),n=eA(this._months),r,a,i,o,l=this.asSeconds(),c,d,u,h;return l?(r=Vi(e/60),a=Vi(r/60),e%=60,r%=60,i=Vi(n/12),n%=12,o=e?e.toFixed(3).replace(/\.?0+$/,""):"",c=l<0?"-":"",d=ym(this._months)!==ym(l)?"-":"",u=ym(this._days)!==ym(l)?"-":"",h=ym(this._milliseconds)!==ym(l)?"-":"",c+"P"+(i?d+i+"Y":"")+(n?d+n+"M":"")+(t?u+t+"D":"")+(a||r||e?"T":"")+(a?h+a+"H":"")+(r?h+r+"M":"")+(e?h+o+"S":"")):"P0D"}var Qt=Q_.prototype;Qt.isValid=Clt;Qt.abs=sdt;Qt.add=adt;Qt.subtract=idt;Qt.as=ldt;Qt.asMilliseconds=Lue;Qt.asSeconds=cdt;Qt.asMinutes=ddt;Qt.asHours=udt;Qt.asDays=hdt;Qt.asWeeks=fdt;Qt.asMonths=mdt;Qt.asQuarters=pdt;Qt.asYears=gdt;Qt.valueOf=vdt;Qt._bubble=odt;Qt.clone=xdt;Qt.get=ydt;Qt.milliseconds=bdt;Qt.seconds=jdt;Qt.minutes=wdt;Qt.hours=Ndt;Qt.days=Sdt;Qt.weeks=_dt;Qt.months=Cdt;Qt.years=kdt;Qt.humanize=Ddt;Qt.toISOString=J_;Qt.toString=J_;Qt.toJSON=J_;Qt.locale=kue;Qt.localeData=Pue;Qt.toIsoString=ho("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",J_);Qt.lang=_ue;ht("X",0,0,"unix");ht("x",0,0,"valueOf");Ze("x",K_);Ze("X",Jit);wn("X",function(e,t,n){n._d=new Date(parseFloat(e)*1e3)});wn("x",function(e,t,n){n._d=new Date(Ht(e))});//! moment.js
Ye.version="2.30.1";Oit(qn);Ye.fn=Oe;Ye.min=jlt;Ye.max=wlt;Ye.now=Nlt;Ye.utc=pc;Ye.unix=Qct;Ye.months=Jct;Ye.isDate=aw;Ye.locale=ju;Ye.invalid=V_;Ye.duration=fl;Ye.isMoment=sl;Ye.weekdays=tdt;Ye.parseZone=Zct;Ye.localeData=jd;Ye.isDuration=v1;Ye.monthsShort=edt;Ye.weekdaysMin=rdt;Ye.defineLocale=UF;Ye.updateLocale=Zot;Ye.locales=Jot;Ye.weekdaysShort=ndt;Ye.normalizeUnits=fo;Ye.relativeTimeRounding=Adt;Ye.relativeTimeThreshold=Edt;Ye.calendarFormat=Glt;Ye.prototype=Oe;Ye.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const Odt=Dit(Ye);function Mdt({tasks:e,onTaskClick:t,onSlotSelect:n}){const{toast:r}=mt(),a=b.useMemo(()=>e.filter(d=>d.dueDate).map(d=>{const u=new Date(d.dueDate);return{id:d.id,title:d.description||d.title||"Untitled Task",start:u,end:u,resource:d,allDay:!d.dueDate.toString().includes("T")}}),[e]),i=async()=>{try{const d=await fetch("/api/calendar/export",{credentials:"include"});if(d.ok){const u=await d.blob(),h=window.URL.createObjectURL(u),f=document.createElement("a");f.href=h,f.download="gigster-garage-tasks.ics",document.body.appendChild(f),f.click(),document.body.removeChild(f),window.URL.revokeObjectURL(h),r({title:"Calendar Export Successful",description:"Your tasks have been exported as a calendar file. Import it into your preferred calendar app."})}else throw new Error("Failed to export calendar")}catch{r({title:"Export Failed",description:"Failed to export calendar. Please try again.",variant:"destructive"})}},o=d=>{const u=d.resource,h=new Date(u.dueDate)<new Date&&!u.completed;let f="#3174ad",g="#3174ad";return u.completed?(f="#10b981",g="#10b981"):h?(f="#ef4444",g="#ef4444"):u.priority==="high"?(f="#f59e0b",g="#f59e0b"):u.priority==="low"&&(f="#6b7280",g="#6b7280"),{style:{backgroundColor:f,borderColor:g,color:"white",border:"none",borderRadius:"4px",fontSize:"12px",padding:"2px 4px"}}},l=({event:d})=>{const u=d.resource,h=new Date(u.dueDate)<new Date&&!u.completed;return s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsxs("div",{className:"flex items-center space-x-1 min-w-0 flex-1",children:[h&&s.jsx(hs,{className:"h-3 w-3 flex-shrink-0"}),s.jsx("span",{className:"truncate text-xs",children:u.description||u.title})]}),u.assignedToId&&s.jsx(gn,{className:"h-3 w-3 flex-shrink-0 ml-1"})]})},c=({label:d,onNavigate:u,onView:h,view:f})=>s.jsxs("div",{className:"flex items-center justify-between mb-4 p-4 bg-white rounded-lg border",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(D,{variant:"outline",size:"sm",onClick:()=>u("PREV"),"data-testid":"calendar-prev",children:"Previous"}),s.jsx(D,{variant:"outline",size:"sm",onClick:()=>u("TODAY"),"data-testid":"calendar-today",children:"Today"}),s.jsx(D,{variant:"outline",size:"sm",onClick:()=>u("NEXT"),"data-testid":"calendar-next",children:"Next"})]}),s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:d}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(D,{variant:"outline",size:"sm",onClick:i,"data-testid":"calendar-export",className:"bg-blue-600 text-white hover:bg-blue-700",children:[s.jsx(kn,{className:"h-4 w-4 mr-1"}),"Export"]}),s.jsx(D,{variant:f===zn.MONTH?"default":"outline",size:"sm",onClick:()=>h(zn.MONTH),"data-testid":"calendar-month-view",children:"Month"}),s.jsx(D,{variant:f===zn.WEEK?"default":"outline",size:"sm",onClick:()=>h(zn.WEEK),"data-testid":"calendar-week-view",children:"Week"}),s.jsx(D,{variant:f===zn.DAY?"default":"outline",size:"sm",onClick:()=>h(zn.DAY),"data-testid":"calendar-day-view",children:"Day"})]})]});return s.jsxs("div",{className:"space-y-4",children:[s.jsxs(B,{children:[s.jsx(ae,{className:"pb-3",children:s.jsx(ie,{className:"text-sm font-medium",children:"Legend"})}),s.jsx(q,{className:"pt-0",children:s.jsxs("div",{className:"flex flex-wrap gap-4 text-xs",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded"}),s.jsx("span",{children:"Medium Priority"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded"}),s.jsx("span",{children:"High Priority"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 bg-gray-500 rounded"}),s.jsx("span",{children:"Low Priority"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded"}),s.jsx("span",{children:"Completed"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 bg-red-500 rounded"}),s.jsx("span",{children:"Overdue"})]})]})})]}),s.jsx(B,{children:s.jsx(q,{className:"p-0",children:s.jsx("div",{className:"h-[600px] p-4","data-testid":"calendar-container",children:s.jsx(kit,{localizer:Odt,events:a,startAccessor:"start",endAccessor:"end",titleAccessor:"title",onSelectEvent:d=>t(d.resource),onSelectSlot:d=>n({start:d.start,end:d.end}),selectable:!0,popup:!0,components:{event:l,toolbar:c},eventPropGetter:o,step:60,showMultiDayTimes:!0,views:[zn.MONTH,zn.WEEK,zn.DAY],defaultView:zn.MONTH,style:{height:"100%"},messages:{next:"Next",previous:"Previous",today:"Today",month:"Month",week:"Week",day:"Day",agenda:"Agenda",date:"Date",time:"Time",event:"Event",noEventsInRange:"No tasks in this date range.",showMore:d=>`+${d} more tasks`}})})})}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(B,{children:s.jsx(q,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Tasks with Dates"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.length})]}),s.jsx(bt,{className:"h-6 w-6 text-blue-500"})]})})}),s.jsx(B,{children:s.jsx(q,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-green-600",children:"Completed"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:a.filter(d=>d.resource.completed).length})]}),s.jsx("div",{className:"w-6 h-6 bg-green-500 rounded"})]})})}),s.jsx(B,{children:s.jsx(q,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-red-600",children:"Overdue"}),s.jsx("p",{className:"text-2xl font-bold text-red-600",children:a.filter(d=>new Date(d.resource.dueDate)<new Date&&!d.resource.completed).length})]}),s.jsx(hs,{className:"h-6 w-6 text-red-500"})]})})}),s.jsx(B,{children:s.jsx(q,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-yellow-600",children:"This Week"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:a.filter(d=>{const u=new Date(d.resource.dueDate),h=new Date,f=new Date(h.getTime()+7*24*60*60*1e3);return u>=h&&u<=f&&!d.resource.completed}).length})]}),s.jsx("div",{className:"w-6 h-6 bg-yellow-500 rounded"})]})})})]})]})}function Rdt(){const{projectId:e}=W2();er();const[t,n]=b.useState("list"),[r,a]=b.useState("all"),[i,o]=b.useState(null),[l,c]=b.useState(!1),[d,u]=b.useState(""),{data:h}=he({queryKey:["/api/projects",e]}),{data:f=[]}=he({queryKey:["/api/tasks","project",e]}),g=S=>{o(S),c(!0)},m=S=>{o(null),u(S||"pending"),c(!0)},p=S=>{o(null),u("pending"),c(!0)},x=()=>{c(!1),o(null),u("")};if(!h)return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Project not found"}),s.jsx(ze,{href:"/",children:s.jsx(D,{className:"mt-4",children:"Back to Home"})})]})});const v=f.filter(S=>S.completed),y=f.length>0?v.length/f.length*100:0,j=f.filter(S=>S.dueDate&&new Date(S.dueDate)<new Date&&!S.completed),N=f.filter(S=>S.priority==="high"&&!S.completed);f.filter(S=>!S.completed),f.filter(S=>!S.completed&&S.progressNotes&&Array.isArray(S.progressNotes)&&S.progressNotes.length>0);const w=()=>{switch(r){case"completed":return v;case"high-priority":return N;case"overdue":return j;default:return f}};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(pt,{}),s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-6",children:[s.jsx("div",{className:"mb-4",children:s.jsx(ze,{href:"/",children:s.jsxs(D,{variant:"ghost",size:"sm",children:[s.jsx(ln,{className:"h-4 w-4 mr-2"}),"Back to My Dashboard"]})})}),s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:h.name}),h.description&&s.jsx("p",{className:"text-gray-600 mt-1",children:h.description})]}),s.jsxs(D,{onClick:()=>m(),className:"bg-blue-600 text-white border-blue-600 hover:bg-blue-700 hover:border-blue-700","data-testid":"new-task-button",children:[s.jsx(st,{className:"h-4 w-4 mr-1"}),$t.tasks.createButton]})]}),s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[s.jsx(B,{className:`cursor-pointer transition-all hover:shadow-md ${r==="all"?"ring-2 ring-blue-500":""}`,onClick:()=>a("all"),children:s.jsx(q,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Total Tasks"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.length})]}),s.jsx(Sn,{className:"h-6 w-6 text-blue-500"})]})})}),s.jsx(B,{className:`cursor-pointer transition-all hover:shadow-md ${r==="completed"?"ring-2 ring-green-500":""}`,onClick:()=>a("completed"),children:s.jsx(q,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-green-600",children:"Completed"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:v.length})]}),s.jsx(Bt,{className:"h-6 w-6 text-green-500"})]})})}),s.jsx(B,{className:`cursor-pointer transition-all hover:shadow-md ${r==="high-priority"?"ring-2 ring-red-500":""}`,onClick:()=>a("high-priority"),children:s.jsx(q,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-red-600",children:"High Priority"}),s.jsx("p",{className:"text-2xl font-bold text-red-600",children:N.length})]}),s.jsx(hs,{className:"h-6 w-6 text-red-500"})]})})}),s.jsx(B,{className:`cursor-pointer transition-all hover:shadow-md ${r==="overdue"?"ring-2 ring-orange-500":""}`,onClick:()=>a("overdue"),children:s.jsx(q,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-orange-600",children:"Overdue"}),s.jsx("p",{className:"text-2xl font-bold text-orange-600",children:j.length})]}),s.jsx(bt,{className:"h-6 w-6 text-orange-500"})]})})})]}),s.jsx(B,{className:"mb-6",children:s.jsxs(q,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("span",{className:"text-sm font-medium flex items-center",children:[s.jsx(Sn,{className:"h-4 w-4 mr-2"}),"Project Progress"]}),s.jsxs("span",{className:"text-sm font-bold",children:[Math.round(y),"%"]})]}),s.jsx(bn,{value:y,className:"h-2"}),s.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[v.length," of ",f.length," tasks completed"]})]})}),s.jsxs(Kn,{value:t,onValueChange:S=>n(S),children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs(Mn,{children:[s.jsx(Re,{value:"list",children:"List View"}),s.jsx(Re,{value:"kanban",children:"Kanban Board"}),s.jsx(Re,{value:"calendar",children:"Calendar"})]}),s.jsxs(D,{onClick:()=>m(),children:[s.jsx(st,{className:"h-4 w-4 mr-2"}),"Add Task"]})]}),s.jsx(Fe,{value:"list",children:s.jsx("div",{className:"space-y-4",children:w().map(S=>s.jsx(B,{className:"hover:shadow-md transition-shadow cursor-pointer",onClick:()=>g(S),"data-testid":`task-list-item-${S.id}`,children:s.jsx(q,{className:"p-6",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("h3",{className:"font-semibold",children:S.description}),s.jsx(Z,{className:`text-xs ${S.priority==="high"?"bg-red-100 text-red-800":S.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:S.priority}),S.completed&&s.jsx(Z,{className:"bg-green-100 text-green-800",children:"Completed"})]}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[S.assignedToId&&s.jsxs("span",{className:"flex items-center",children:[s.jsx(gn,{className:"h-4 w-4 mr-1"}),S.assignedToId]}),S.dueDate&&s.jsxs("span",{className:"flex items-center",children:[s.jsx(en,{className:"h-4 w-4 mr-1"}),Me(new Date(S.dueDate),"MMM d, yyyy")]})]})]})})})},S.id))})}),s.jsx(Fe,{value:"kanban",children:s.jsx(Btt,{tasks:w(),projectId:e,onTaskClick:g,onCreateTask:m})}),s.jsx(Fe,{value:"calendar",children:s.jsx(Mdt,{tasks:w(),onTaskClick:g,onSlotSelect:p})})]}),s.jsx(gnt,{isOpen:l,onClose:x,task:i,projectId:e,initialStatus:d,onTaskUpdated:()=>{}})]})]})}function $dt(){const[e,t]=Fs(),r=new URLSearchParams(window.location.search).get("filter")||"all",{data:a=[],isLoading:i}=he({queryKey:["/api/tasks"]}),l=(()=>{const u=new Date;switch(r){case"overdue":return a.filter(h=>h.completed||!h.dueDate?!1:new Date(h.dueDate)<u);case"due-soon":return a.filter(h=>{if(h.completed||!h.dueDate)return!1;const f=new Date(h.dueDate),g=f.getTime()-u.getTime(),m=Hn(f).getTime()===Hn(u).getTime(),p=g<=24*60*60*1e3&&g>0;return m||p});case"high-priority":return a.filter(h=>!h.completed&&h.priority==="high");case"completed-today":return a.filter(h=>{if(!h.completed)return!1;const f=h.createdAt?new Date(h.createdAt):new Date;return Hn(f).getTime()===Hn(u).getTime()});case"all":default:return a}})(),d=(()=>{switch(r){case"overdue":return{title:$t.dashboard.overdue.title,icon:s.jsx(ur,{className:"h-6 w-6 text-red-600"}),description:$t.dashboard.overdue.sub,color:"text-red-600",bgColor:"bg-red-50",borderColor:"border-red-200"};case"due-soon":return{title:$t.dashboard.dueSoon.title,icon:s.jsx(bt,{className:"h-6 w-6 text-yellow-600"}),description:$t.dashboard.dueSoon.sub,color:"text-yellow-600",bgColor:"bg-yellow-50",borderColor:"border-yellow-200"};case"high-priority":return{title:$t.dashboard.highPriority.title,icon:s.jsx(sc,{className:"h-6 w-6 text-orange-600"}),description:$t.dashboard.highPriority.sub,color:"text-orange-600",bgColor:"bg-orange-50",borderColor:"border-orange-200"};case"completed-today":return{title:$t.dashboard.completed.title,icon:s.jsx(ji,{className:"h-6 w-6 text-green-600"}),description:$t.dashboard.completed.sub,color:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-200"};default:return{title:$t.tasks.title,icon:s.jsx(en,{className:"h-6 w-6 text-blue-600"}),description:$t.dashboard.greeting,color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200"}}})();return i?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(pt,{}),s.jsx("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded mb-4"}),s.jsx("div",{className:"space-y-4",children:[1,2,3].map(u=>s.jsx("div",{className:"h-24 bg-gray-200 rounded"},u))})]})})]}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(pt,{}),s.jsxs("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs(D,{variant:"ghost",onClick:()=>t("/"),className:"mb-4 text-gray-600 hover:text-gray-900",children:[s.jsx(ln,{className:"h-4 w-4 mr-2"}),$t.tasks.backButton]}),s.jsxs(B,{className:`${d.bgColor} ${d.borderColor} border-2`,children:[s.jsx(ae,{children:s.jsxs("div",{className:"flex items-center space-x-3",children:[d.icon,s.jsxs("div",{children:[s.jsx(ie,{className:`text-2xl ${d.color}`,children:d.title}),s.jsx("p",{className:"text-gray-600 mt-1",children:d.description})]})]})}),s.jsx(q,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Z,{variant:"secondary",className:"text-lg px-3 py-1",children:[l.length," task",l.length!==1?"s":""]}),l.length>0&&s.jsxs("p",{className:"text-sm text-gray-500",children:["Last updated: ",Me(new Date,"MMM d, yyyy h:mm a")]})]})})]})]}),l.length===0?s.jsx(B,{className:"text-center py-12",children:s.jsxs(q,{children:[s.jsx("div",{className:"text-gray-400 mb-4",children:d.icon}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:$t.tasks.empty.title}),s.jsx("p",{className:"text-gray-500 mb-6",children:r==="completed-today"?$t.dashboard.completed.sub:r==="overdue"?$t.dashboard.overdue.sub:r==="due-soon"?$t.dashboard.dueSoon.sub:r==="high-priority"?$t.dashboard.highPriority.sub:$t.tasks.empty.sub}),s.jsx(D,{onClick:()=>t("/"),children:r==="all"?$t.tasks.empty.cta:$t.tasks.backButton})]})}):s.jsx("div",{className:"space-y-4",children:l.map(u=>s.jsx(qse,{task:u},u.id))})]})]})}const Idt=e=>{const t=Math.floor(e/3600),n=Math.floor(e%3600/60),r=e%60;return t>0?`${t}:${n.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`:`${n}:${r.toString().padStart(2,"0")}`};function Fdt(){const[e,t]=b.useState(""),[n,r]=b.useState(""),[a,i]=b.useState(""),[o,l]=b.useState(0),[c,d]=b.useState(!1),u=qr(),{data:h,isLoading:f}=he({queryKey:["/api/timelogs/active"],refetchInterval:j=>j?5e3:3e4,staleTime:1e3*2,refetchOnWindowFocus:!1,refetchOnReconnect:!1}),{data:g=[]}=he({queryKey:["/api/projects"],staleTime:1e3*60*5,refetchOnWindowFocus:!1}),{data:m=[]}=he({queryKey:["/api/tasks"],staleTime:1e3*60*5,refetchOnWindowFocus:!1});b.useEffect(()=>{if(h&&h.isActive){const j=setInterval(()=>{const N=Date.now(),w=new Date(h.startTime).getTime();l(Math.floor((N-w)/1e3))},1e3);return()=>clearInterval(j)}},[h]);const p=Se({mutationFn:async j=>ke("POST","/api/timelogs/start",j),onSuccess:()=>{u.invalidateQueries({queryKey:["/api/timelogs/active"]}),u.invalidateQueries({queryKey:["/api/timelogs"]}),d(!1),t(""),r(""),i("")}}),x=Se({mutationFn:async j=>ke("POST","/api/timelogs/stop",{timeLogId:j}),onSuccess:()=>{u.invalidateQueries({queryKey:["/api/timelogs/active"]}),u.invalidateQueries({queryKey:["/api/timelogs"]}),u.invalidateQueries({queryKey:["/api/productivity/stats"]}),u.invalidateQueries({queryKey:["/api/streaks"]}),l(0)}}),v=()=>{p.mutate({taskId:e==="no-task"?void 0:e||void 0,projectId:n==="no-project"?void 0:n||void 0,description:a.trim()||"Working"})},y=()=>{h&&x.mutate(h.id)};return s.jsx(B,{className:"w-full max-w-md bg-orange-50 border-orange-200","data-testid":"timer-widget",children:s.jsx(q,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(bt,{className:"h-5 w-5 text-orange-600"}),s.jsx("div",{children:f?s.jsxs("div",{children:[s.jsx("div",{className:"text-lg font-semibold text-orange-900",children:"Loading..."}),s.jsx("div",{className:"text-xs text-orange-700",children:"Checking timer status"})]}):h&&h.isActive?s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-orange-900","data-testid":"timer-display",children:Idt(o)}),s.jsx("div",{className:"text-xs text-orange-700","data-testid":"timer-description",children:h.description||"Working on task"})]}):s.jsxs("div",{children:[s.jsx("div",{className:"text-lg font-semibold text-orange-900",children:"Timer Ready"}),s.jsx("div",{className:"text-xs text-orange-700",children:"Click start to begin tracking"})]})})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[!f&&h&&h.isActive?s.jsxs(D,{size:"sm",variant:"outline",onClick:y,disabled:x.isPending,className:"border-red-300 text-red-700 hover:bg-red-50","data-testid":"button-stop-timer",children:[s.jsx(Q2,{className:"h-4 w-4"}),"Stop"]}):f?null:s.jsxs(ut,{open:c,onOpenChange:d,children:[s.jsx(Ns,{asChild:!0,children:s.jsxs(D,{size:"sm",className:"bg-orange-600 hover:bg-orange-700 text-white","data-testid":"button-start-timer",children:[s.jsx(Tu,{className:"h-4 w-4"}),"Start"]})}),s.jsxs(lt,{"data-testid":"dialog-start-timer",children:[s.jsx(ct,{children:s.jsx(dt,{className:"text-orange-900",children:"Start Timer"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"timer-project",className:"text-sm font-medium",children:"Project (Optional)"}),s.jsxs(Ke,{value:n,onValueChange:r,children:[s.jsx(He,{"data-testid":"select-timer-project",children:s.jsx(Ge,{placeholder:"Select a project"})}),s.jsxs(qe,{children:[s.jsx(Q,{value:"no-project",children:"No project"}),g.map(j=>s.jsx(Q,{value:j.id,children:j.name},j.id))]})]})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"timer-task",className:"text-sm font-medium",children:"Task (Optional)"}),s.jsxs(Ke,{value:e,onValueChange:t,children:[s.jsx(He,{"data-testid":"select-timer-task",children:s.jsx(Ge,{placeholder:"Select a task"})}),s.jsxs(qe,{children:[s.jsx(Q,{value:"no-task",children:"No task"}),m.map(j=>s.jsx(Q,{value:j.id,children:j.description},j.id))]})]})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"timer-description",className:"text-sm font-medium",children:"What are you working on?"}),s.jsx(te,{id:"timer-description",value:a,onChange:j=>i(j.target.value),placeholder:"Enter description (optional)","data-testid":"input-timer-description"})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(D,{variant:"outline",onClick:()=>d(!1),"data-testid":"button-cancel-timer",children:"Cancel"}),s.jsx(D,{onClick:v,disabled:p.isPending,className:"bg-orange-600 hover:bg-orange-700","data-testid":"button-confirm-start-timer",children:p.isPending?"Starting...":"Get to Work"})]})]})]})]}),s.jsx(D,{size:"sm",variant:"ghost",className:"text-orange-600 hover:bg-orange-100","data-testid":"button-timer-settings",children:s.jsx(dr,{className:"h-4 w-4"})})]})]})})})}function Ldt(){const{data:e,isLoading:t}=he({queryKey:["/api/streaks"],refetchInterval:3e4});return t?s.jsxs(B,{className:"w-full max-w-md bg-gradient-to-br from-amber-50 to-orange-50 border-amber-200","data-testid":"streak-card-loading",children:[s.jsx(ae,{className:"pb-3",children:s.jsxs(ie,{className:"text-amber-900 flex items-center space-x-2",children:[s.jsx(Sh,{className:"h-5 w-5"}),s.jsx("span",{children:"Productivity Streaks"})]})}),s.jsx(q,{children:s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-amber-600 border-t-transparent rounded-full"})})})]}):e?s.jsxs(B,{className:"w-full max-w-md bg-gradient-to-br from-amber-50 to-orange-50 border-amber-200","data-testid":"streak-card",children:[s.jsx(ae,{className:"pb-3",children:s.jsxs(ie,{className:"text-amber-900 flex items-center space-x-2",children:[s.jsx(Sh,{className:"h-5 w-5"}),s.jsx("span",{children:"Productivity Streaks"})]})}),s.jsxs(q,{children:[s.jsxs(Kn,{defaultValue:"14days",className:"w-full",children:[s.jsxs(Mn,{className:"grid w-full grid-cols-2 bg-amber-100",children:[s.jsx(Re,{value:"14days",className:"text-amber-800 data-[state=active]:bg-amber-200","data-testid":"tab-14days",children:"14 Days"}),s.jsx(Re,{value:"30days",className:"text-amber-800 data-[state=active]:bg-amber-200","data-testid":"tab-30days",children:"30 Days"})]}),s.jsx(Fe,{value:"14days",className:"mt-4 space-y-4","data-testid":"tab-content-14days",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Sh,{className:"h-4 w-4 text-orange-600"}),s.jsx("span",{className:"text-sm font-medium text-amber-900",children:"Current Streak"})]}),s.jsxs(Z,{variant:"secondary",className:"bg-orange-100 text-orange-800 border-orange-200","data-testid":"streak-days-14",children:[e.last14Days.streakDays," days"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(bt,{className:"h-4 w-4 text-amber-600"}),s.jsx("span",{className:"text-sm font-medium text-amber-900",children:"Total Hours"})]}),s.jsxs("span",{className:"text-sm font-semibold text-amber-800","data-testid":"total-hours-14",children:[e.last14Days.totalHours,"h"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ra,{className:"h-4 w-4 text-amber-600"}),s.jsx("span",{className:"text-sm font-medium text-amber-900",children:"Daily Average"})]}),s.jsxs("span",{className:"text-sm font-semibold text-amber-800","data-testid":"daily-average-14",children:[e.last14Days.averageDailyHours,"h"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(sc,{className:"h-4 w-4 text-amber-600"}),s.jsx("span",{className:"text-sm font-medium text-amber-900",children:"Utilization"})]}),s.jsxs("span",{className:"text-sm font-semibold text-amber-800","data-testid":"utilization-percent-14",children:[e.last14Days.utilizationPercent,"%"]})]}),s.jsx(bn,{value:Math.min(e.last14Days.utilizationPercent,100),className:"h-2 bg-amber-200","data-testid":"utilization-progress-14"})]})]})}),s.jsx(Fe,{value:"30days",className:"mt-4 space-y-4","data-testid":"tab-content-30days",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Sh,{className:"h-4 w-4 text-orange-600"}),s.jsx("span",{className:"text-sm font-medium text-amber-900",children:"Current Streak"})]}),s.jsxs(Z,{variant:"secondary",className:"bg-orange-100 text-orange-800 border-orange-200","data-testid":"streak-days-30",children:[e.last30Days.streakDays," days"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(bt,{className:"h-4 w-4 text-amber-600"}),s.jsx("span",{className:"text-sm font-medium text-amber-900",children:"Total Hours"})]}),s.jsxs("span",{className:"text-sm font-semibold text-amber-800","data-testid":"total-hours-30",children:[e.last30Days.totalHours,"h"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ra,{className:"h-4 w-4 text-amber-600"}),s.jsx("span",{className:"text-sm font-medium text-amber-900",children:"Daily Average"})]}),s.jsxs("span",{className:"text-sm font-semibold text-amber-800","data-testid":"daily-average-30",children:[e.last30Days.averageDailyHours,"h"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(sc,{className:"h-4 w-4 text-amber-600"}),s.jsx("span",{className:"text-sm font-medium text-amber-900",children:"Utilization"})]}),s.jsxs("span",{className:"text-sm font-semibold text-amber-800","data-testid":"utilization-percent-30",children:[e.last30Days.utilizationPercent,"%"]})]}),s.jsx(bn,{value:Math.min(e.last30Days.utilizationPercent,100),className:"h-2 bg-amber-200","data-testid":"utilization-progress-30"})]})]})})]}),s.jsx("div",{className:"mt-4 p-3 bg-amber-100 rounded-md border border-amber-200",children:s.jsx("div",{className:"text-xs text-amber-800 text-center","data-testid":"motivational-message",children:e.last14Days.streakDays>0?` Amazing! You're on a ${e.last14Days.streakDays}-day streak!`:" Start your productivity streak today!"})})]})]}):s.jsxs(B,{className:"w-full max-w-md bg-gradient-to-br from-amber-50 to-orange-50 border-amber-200","data-testid":"streak-card-error",children:[s.jsx(ae,{className:"pb-3",children:s.jsxs(ie,{className:"text-amber-900 flex items-center space-x-2",children:[s.jsx(Sh,{className:"h-5 w-5"}),s.jsx("span",{children:"Productivity Streaks"})]})}),s.jsx(q,{children:s.jsx("div",{className:"text-center py-8 text-amber-700",children:"No streak data available"})})]})}var QF="Switch",[zdt,a1t]=fs(QF),[Bdt,Udt]=zdt(QF),zue=b.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...h}=e,[f,g]=b.useState(null),m=wt(t,j=>g(j)),p=b.useRef(!1),x=f?u||!!f.closest("form"):!0,[v=!1,y]=bi({prop:a,defaultProp:i,onChange:d});return s.jsxs(Bdt,{scope:n,checked:v,disabled:l,children:[s.jsx(Qe.button,{type:"button",role:"switch","aria-checked":v,"aria-required":o,"data-state":Vue(v),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:m,onClick:Pe(e.onClick,j=>{y(N=>!N),x&&(p.current=j.isPropagationStopped(),p.current||j.stopPropagation())})}),x&&s.jsx(Vdt,{control:f,bubbles:!p.current,name:r,value:c,checked:v,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});zue.displayName=QF;var Bue="SwitchThumb",Uue=b.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,a=Udt(Bue,n);return s.jsx(Qe.span,{"data-state":Vue(a.checked),"data-disabled":a.disabled?"":void 0,...r,ref:t})});Uue.displayName=Bue;var Vdt=e=>{const{control:t,checked:n,bubbles:r=!0,...a}=e,i=b.useRef(null),o=bk(n),l=tk(t);return b.useEffect(()=>{const c=i.current,d=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==n&&h){const f=new Event("click",{bubbles:r});h.call(c,n),c.dispatchEvent(f)}},[o,n,r]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Vue(e){return e?"checked":"unchecked"}var Wue=zue,Wdt=Uue;const jr=b.forwardRef(({className:e,...t},n)=>s.jsx(Wue,{className:Ne("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:s.jsx(Wdt,{className:Ne("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));jr.displayName=Wue.displayName;function Hdt(){const[e,t]=b.useState(!1),[n,r]=b.useState("09:00"),[a,i]=b.useState(!1),{toast:o}=mt(),{data:l}=he({queryKey:["/api/productivity/stats",{days:1}],refetchInterval:3e5});b.useEffect(()=>{l&&l.totalHours>0&&i(!0)},[l]),b.useEffect(()=>{const h=localStorage.getItem("dailyRemindersEnabled"),f=localStorage.getItem("dailyReminderTime");h!==null&&t(JSON.parse(h)),f&&r(f)},[]),b.useEffect(()=>{if(!e)return;const f=setInterval(()=>{const g=new Date,[m,p]=n.split(":").map(Number);new Date().setHours(m,p,0,0),g.getHours()===m&&g.getMinutes()===p&&!a&&(typeof Notification<"u"&&Notification.permission==="granted"?new Notification("Gigster Garage - Time to Work! ",{body:"Don't break your productivity streak! Start your timer and get to work.",icon:"/favicon.ico",tag:"daily-reminder"}):typeof Notification<"u"&&Notification.permission!=="denied"&&Notification.requestPermission().then(v=>{v==="granted"&&new Notification("Gigster Garage - Time to Work! ",{body:"Don't break your productivity streak! Start your timer and get to work.",icon:"/favicon.ico",tag:"daily-reminder"})}),o({title:" Time to Work!",description:"Don't break your productivity streak! Start your timer and get to work.",duration:1e4}))},6e4);return()=>clearInterval(f)},[e,n,a,o]);const c=h=>{t(h),localStorage.setItem("dailyRemindersEnabled",JSON.stringify(h)),h?typeof Notification<"u"&&Notification.permission==="default"?Notification.requestPermission().then(f=>{o(f==="granted"?{title:"Reminders Enabled",description:"You'll receive daily productivity reminders at the scheduled time."}:{title:"Notifications Blocked",description:"Please enable notifications in your browser settings for reminders to work.",variant:"destructive"})}):typeof Notification<"u"&&Notification.permission==="granted"?o({title:"Reminders Enabled",description:"You'll receive daily productivity reminders at the scheduled time."}):typeof Notification>"u"&&o({title:"Reminders Enabled",description:"Notifications aren't supported in this browser, but you'll still get in-app reminders."}):o({title:"Reminders Disabled",description:"Daily productivity reminders have been turned off."})},d=h=>{r(h),localStorage.setItem("dailyReminderTime",h)},u=()=>{typeof Notification<"u"&&Notification.permission==="granted"?(new Notification("Gigster Garage - Test Reminder",{body:"This is a test of your daily productivity reminder!",icon:"/favicon.ico",tag:"test-reminder"}),o({title:"Test Notification Sent",description:"Check if you received the browser notification."})):o(typeof Notification>"u"?{title:"Notifications Not Supported",description:"Your browser doesn't support notifications, but in-app reminders will still work.",variant:"destructive"}:{title:"Notifications Not Enabled",description:"Please enable notifications to receive reminders.",variant:"destructive"})};return s.jsxs(B,{className:"w-full max-w-md bg-gradient-to-br from-purple-50 to-blue-50 border-purple-200","data-testid":"daily-reminder-card",children:[s.jsx(ae,{className:"pb-3",children:s.jsxs(ie,{className:"text-purple-900 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Yf,{className:"h-5 w-5"}),s.jsx("span",{children:"Daily Reminders"})]}),a&&s.jsx(Bt,{className:"h-5 w-5 text-green-600","data-testid":"icon-logged-today"})]})}),s.jsxs(q,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(W,{htmlFor:"enable-reminders",className:"text-sm font-medium text-purple-900",children:"Enable Daily Reminders"}),s.jsx(jr,{id:"enable-reminders",checked:e,onCheckedChange:c,"data-testid":"switch-enable-reminders"})]}),e&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{className:"text-sm font-medium text-purple-900",children:"Reminder Time"}),s.jsxs(Ke,{value:n,onValueChange:d,children:[s.jsx(He,{"data-testid":"select-reminder-time",children:s.jsx(Ge,{})}),s.jsxs(qe,{children:[s.jsx(Q,{value:"08:00",children:"8:00 AM"}),s.jsx(Q,{value:"09:00",children:"9:00 AM"}),s.jsx(Q,{value:"10:00",children:"10:00 AM"}),s.jsx(Q,{value:"11:00",children:"11:00 AM"}),s.jsx(Q,{value:"12:00",children:"12:00 PM"}),s.jsx(Q,{value:"13:00",children:"1:00 PM"}),s.jsx(Q,{value:"14:00",children:"2:00 PM"}),s.jsx(Q,{value:"15:00",children:"3:00 PM"}),s.jsx(Q,{value:"16:00",children:"4:00 PM"}),s.jsx(Q,{value:"17:00",children:"5:00 PM"}),s.jsx(Q,{value:"18:00",children:"6:00 PM"}),s.jsx(Q,{value:"19:00",children:"7:00 PM"}),s.jsx(Q,{value:"20:00",children:"8:00 PM"})]})]})]}),s.jsxs(D,{variant:"outline",size:"sm",onClick:u,className:"w-full border-purple-300 text-purple-700 hover:bg-purple-50","data-testid":"button-test-notification",children:[s.jsx(s0e,{className:"h-4 w-4 mr-2"}),"Send Test Notification"]})]}),s.jsxs("div",{className:"p-3 bg-purple-100 rounded-md border border-purple-200",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(bt,{className:"h-4 w-4 text-purple-600"}),s.jsx("span",{className:"text-sm font-medium text-purple-900",children:"Today's Progress"})]}),s.jsx("div",{className:"text-sm font-semibold text-purple-800","data-testid":"today-progress",children:l?`${l.totalHours}h logged`:"No time logged"})]}),a?s.jsxs("div",{className:"mt-2 text-xs text-green-700 flex items-center space-x-1","data-testid":"status-logged",children:[s.jsx(Bt,{className:"h-3 w-3"}),s.jsx("span",{children:"Great job! You've logged time today."})]}):s.jsx("div",{className:"mt-2 text-xs text-purple-700","data-testid":"status-not-logged",children:" Start your timer to begin tracking your productivity!"})]}),s.jsx("div",{className:"text-xs text-purple-600 text-center","data-testid":"notification-status",children:typeof Notification>"u"?" Browser notifications not supported":Notification.permission==="granted"?" Browser notifications enabled":Notification.permission==="denied"?" Browser notifications blocked":" Browser notifications not configured"})]})]})}const qdt=e=>{const t=Math.floor(e/3600),n=Math.floor(e%3600/60);return t>0?`${t}h ${n}m`:`${n}m`};function Kdt(){const[,e]=Fs(),[t,n]=b.useState(new Set),[r,a]=b.useState("all"),[i,o]=b.useState(null),[l,c]=b.useState(""),[d,u]=b.useState(""),h=qr(),{toast:f}=mt();b.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const{data:g=[],isLoading:m,isError:p}=he({queryKey:["/api/timelogs"],staleTime:1e3*60*2,refetchInterval:1e3*30}),{data:x,isLoading:v}=he({queryKey:["/api/productivity/stats",{days:7}],staleTime:1e3*60*5,refetchInterval:1e3*60}),{data:y,isLoading:j}=he({queryKey:["/api/productivity/stats",{days:30}],staleTime:1e3*60*5,refetchInterval:1e3*60}),N=g.reduce((M,F)=>F.duration?M+parseInt(F.duration):M,0),w=M=>{const F=Math.floor(M/3600),V=Math.floor(M%3600/60);return`${F}h ${V}m`},S=g.filter(M=>r==="all"?!0:M.approvalStatus===r),k=Se({mutationFn:async({timeLogId:M,status:F})=>ke("POST",`/api/timelogs/${M}/approve`,{approvalStatus:F}),onSuccess:()=>{h.invalidateQueries({queryKey:["/api/timelogs"]})}}),_=Se({mutationFn:async({timeLogIds:M,selected:F})=>ke("POST","/api/timelogs/invoice-selection",{timeLogIds:M,isSelectedForInvoice:F}),onSuccess:()=>{h.invalidateQueries({queryKey:["/api/timelogs"]}),n(new Set)}}),T=(M,F)=>{k.mutate({timeLogId:M,status:F})},P=(M,F)=>{const V=new Set(t);F?V.add(M):V.delete(M),n(V)},C=()=>{t.size>0&&_.mutate({timeLogIds:Array.from(t),selected:!0})},A=Se({mutationFn:async M=>ke("DELETE",`/api/timelogs/${M}`),onSuccess:()=>{h.invalidateQueries({queryKey:["/api/timelogs"]}),f({title:"Success",description:"Time log deleted successfully"})},onError:()=>{f({title:"Error",description:"Failed to delete time log",variant:"destructive"})}}),E=Se({mutationFn:async({timeLogId:M,description:F,notes:V})=>ke("PUT",`/api/timelogs/${M}`,{description:F,notes:V}),onSuccess:()=>{h.invalidateQueries({queryKey:["/api/timelogs"]}),f({title:"Success",description:"Time log updated successfully"}),o(null),c(""),u("")},onError:()=>{f({title:"Error",description:"Failed to update time log",variant:"destructive"})}}),I=M=>{confirm("Are you sure you want to delete this time log entry?")&&A.mutate(M)},$=M=>{o(M),u(M.description||""),c(M.notes||"")},U=()=>{i&&E.mutate({timeLogId:i.id,description:d,notes:l})};return s.jsxs("div",{className:"min-h-screen",style:{background:"var(--cream-card)"},"data-testid":"productivity-page",children:[s.jsx(pt,{}),s.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-8",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(D,{variant:"outline",onClick:()=>e("/"),className:"flex items-center space-x-2","data-testid":"button-back-to-dashboard",children:[s.jsx(ln,{size:16}),s.jsx("span",{children:"Back to Dashboard"})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold brand-heading","data-testid":"page-title",children:"Time & Productivity Tools"}),s.jsx("p",{className:"text-gray-700 text-sm",children:"Track your time, maintain productivity streaks, and stay focused on your goals."})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsx(Fdt,{})}),s.jsx("div",{className:"lg:col-span-1",children:s.jsx(Ldt,{})}),s.jsx("div",{className:"lg:col-span-1",children:s.jsx(Hdt,{})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[s.jsxs(B,{className:"gigster-card","data-testid":"stat-card-running-total",children:[s.jsx(ae,{className:"pb-3",children:s.jsxs(ie,{className:"brand-heading text-sm font-medium flex items-center space-x-2",children:[s.jsx(bt,{className:"h-4 w-4"}),s.jsx("span",{children:"Running Total"})]})}),s.jsx(q,{children:m?s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-20"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-2xl font-bold brand-heading text-blue-600","data-testid":"stat-running-total",children:w(N)}),s.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"All time entries"})]})})]}),s.jsxs(B,{className:"gigster-card","data-testid":"stat-card-7days",children:[s.jsx(ae,{className:"pb-3",children:s.jsxs(ie,{className:"brand-heading text-sm font-medium flex items-center space-x-2",children:[s.jsx(en,{className:"h-4 w-4"}),s.jsx("span",{children:"Last 7 Days"})]})}),s.jsx(q,{children:v?s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-24"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-2xl font-bold brand-heading","data-testid":"stat-hours-7days",children:x?`${x.totalHours}h`:"0h"}),s.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:["Avg: ",x?`${x.averageDailyHours}h/day`:"0h/day"]})]})})]}),s.jsxs(B,{className:"gigster-card","data-testid":"stat-card-30days",children:[s.jsx(ae,{className:"pb-3",children:s.jsxs(ie,{className:"brand-heading text-sm font-medium flex items-center space-x-2",children:[s.jsx(ra,{className:"h-4 w-4"}),s.jsx("span",{children:"Last 30 Days"})]})}),s.jsx(q,{children:j?s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-28"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-2xl font-bold brand-heading","data-testid":"stat-hours-30days",children:y?`${y.totalHours}h`:"0h"}),s.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:["Utilization: ",y?`${y.utilizationPercent}%`:"0%"]})]})})]}),s.jsxs(B,{className:"gigster-card","data-testid":"stat-card-streak",children:[s.jsx(ae,{className:"pb-3",children:s.jsxs(ie,{className:"brand-heading text-sm font-medium flex items-center space-x-2",children:[s.jsx(Sn,{className:"h-4 w-4"}),s.jsx("span",{children:"Streak Days"})]})}),s.jsxs(q,{children:[s.jsx("div",{className:"text-2xl font-bold brand-heading","data-testid":"stat-streak-days",children:x?x.streakDays:0}),s.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Current streak"})]})]}),s.jsxs(B,{className:"gigster-card","data-testid":"stat-card-total-logs",children:[s.jsx(ae,{className:"pb-3",children:s.jsxs(ie,{className:"brand-heading text-sm font-medium flex items-center space-x-2",children:[s.jsx(bt,{className:"h-4 w-4"}),s.jsx("span",{children:"Total Sessions"})]})}),s.jsxs(q,{children:[s.jsx("div",{className:"text-2xl font-bold brand-heading","data-testid":"stat-total-sessions",children:g.length}),s.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Time entries"})]})]})]}),s.jsxs(B,{className:"gigster-card","data-testid":"enhanced-timelogs-card",children:[s.jsxs(ae,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ie,{className:"brand-heading flex items-center space-x-2",children:[s.jsx(bt,{className:"h-5 w-5"}),s.jsx("span",{children:"Time Logs Management"})]}),t.size>0&&s.jsxs(D,{onClick:C,disabled:_.isPending,className:"bg-green-600 hover:bg-green-700 text-white","data-testid":"button-add-to-invoice",children:[s.jsx(is,{className:"h-4 w-4 mr-2"}),"Add ",t.size," to Invoice"]})]}),s.jsx(Kn,{value:r,onValueChange:a,className:"mt-4",children:s.jsxs(Mn,{className:"grid w-full grid-cols-4",children:[s.jsxs(Re,{value:"all","data-testid":"tab-all",children:["All (",g.length,")"]}),s.jsxs(Re,{value:"pending","data-testid":"tab-pending",children:["Pending (",g.filter(M=>M.approvalStatus==="pending").length,")"]}),s.jsxs(Re,{value:"approved","data-testid":"tab-approved",children:["Approved (",g.filter(M=>M.approvalStatus==="approved").length,")"]}),s.jsxs(Re,{value:"rejected","data-testid":"tab-rejected",children:["Rejected (",g.filter(M=>M.approvalStatus==="rejected").length,")"]})]})})]}),s.jsx(q,{children:m?s.jsx("div",{className:"flex items-center justify-center py-8","data-testid":"timelogs-loading",children:s.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-orange-600 border-t-transparent rounded-full"})}):S.length===0?s.jsxs("div",{className:"text-center py-8 text-orange-700","data-testid":"no-timelogs",children:[s.jsx(bt,{className:"h-12 w-12 mx-auto mb-4 text-orange-400"}),s.jsx("p",{className:"text-lg font-medium mb-2",children:"No time logs found"}),s.jsx("p",{className:"text-sm",children:r==="all"?"Start your first timer to begin tracking your productivity!":`No ${r} time logs available.`})]}):s.jsxs("div",{className:"space-y-3","data-testid":"timelogs-list",children:[S.slice(0,20).map(M=>s.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border ${M.approvalStatus==="approved"?"bg-green-50 border-green-200":M.approvalStatus==="rejected"?"bg-red-50 border-red-200":"bg-orange-50 border-orange-100"}`,"data-testid":`timelog-${M.id}`,children:[s.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[M.approvalStatus==="approved"&&s.jsx(es,{checked:t.has(M.id)||!!M.isSelectedForInvoice,onCheckedChange:F=>P(M.id,!!F),disabled:!!M.isSelectedForInvoice,"data-testid":`checkbox-invoice-${M.id}`}),s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium brand-heading",children:M.description||"Untitled session"}),s.jsxs("div",{className:"text-sm text-orange-700 mt-1",children:[Me(new Date(M.startTime),"MMM dd, yyyy 'at' h:mm a"),M.endTime&&` - ${Me(new Date(M.endTime),"h:mm a")}`]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Z,{className:M.approvalStatus==="approved"?"bg-green-100 text-green-800 border-green-200":M.approvalStatus==="rejected"?"bg-red-100 text-red-800 border-red-200":"bg-yellow-100 text-yellow-800 border-yellow-200",children:M.approvalStatus}),M.projectId&&s.jsxs(Z,{variant:"secondary",className:"bg-blue-100 text-blue-800 border-blue-200",children:["Project ID: ",M.projectId]}),M.isActive?s.jsx(Z,{className:"bg-green-100 text-green-800 border-green-200",children:"Running"}):s.jsx(Z,{variant:"outline",className:"border-orange-300 text-orange-700",children:M.duration?qdt(parseInt(M.duration)):"0m"}),M.isSelectedForInvoice&&s.jsxs(Z,{className:"bg-purple-100 text-purple-800 border-purple-200",children:[s.jsx(nt,{className:"h-3 w-3 mr-1"}),"In Invoice"]})]})]})})]}),s.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[M.approvalStatus==="pending"&&s.jsxs(s.Fragment,{children:[s.jsx(D,{size:"sm",variant:"ghost",onClick:()=>T(M.id,"approved"),disabled:k.isPending,className:"text-green-600 hover:bg-green-100","data-testid":`button-approve-${M.id}`,children:s.jsx(Bt,{className:"h-4 w-4"})}),s.jsx(D,{size:"sm",variant:"ghost",onClick:()=>T(M.id,"rejected"),disabled:k.isPending,className:"text-red-600 hover:bg-red-100","data-testid":`button-reject-${M.id}`,children:s.jsx(QQ,{className:"h-4 w-4"})})]}),s.jsx(D,{size:"sm",variant:"ghost",onClick:()=>$(M),className:"text-gray-600 hover:bg-orange-100","data-testid":`button-edit-${M.id}`,children:s.jsx(Or,{className:"h-4 w-4"})}),s.jsx(D,{size:"sm",variant:"ghost",onClick:()=>I(M.id),disabled:A.isPending,className:"text-red-600 hover:bg-red-100","data-testid":`button-delete-${M.id}`,children:s.jsx(Jn,{className:"h-4 w-4"})})]})]},M.id)),S.length>20&&s.jsx("div",{className:"text-center pt-4",children:s.jsxs(D,{variant:"outline",className:"border-orange-300 text-orange-700 hover:bg-orange-50",children:["View All ",r," Time Logs (",S.length,")"]})})]})})]}),i&&s.jsx(ut,{open:!!i,onOpenChange:()=>o(null),children:s.jsxs(lt,{className:"max-w-md",children:[s.jsx(ct,{children:s.jsx(dt,{children:"Edit Time Log"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"edit-description",children:"Description"}),s.jsx(it,{id:"edit-description",value:d,onChange:M=>u(M.target.value),placeholder:"Enter description...",className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"edit-notes",children:"Notes"}),s.jsx(it,{id:"edit-notes",value:l,onChange:M=>c(M.target.value),placeholder:"Add notes...",rows:3,className:"mt-1"})]}),s.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[s.jsx(D,{variant:"outline",onClick:()=>o(null),children:"Cancel"}),s.jsx(D,{onClick:U,disabled:E.isPending,className:"bg-orange-600 hover:bg-orange-700",children:E.isPending?"Saving...":"Save Changes"})]})]})]})})]})]})}function Gdt(){const{toast:e}=mt(),[t,n]=b.useState(!1),[r,a]=b.useState({title:"",projectId:"",clientName:"",clientEmail:"",projectDescription:"",totalBudget:0,timeline:"",deliverables:"",terms:"",expiresInDays:30}),[i,o]=b.useState([{id:1,description:"",quantity:1,rate:0,amount:0}]),[l,c]=b.useState(0),[d,u]=b.useState(0),[h,f]=b.useState(0),[g,m]=b.useState(!1),[p,x]=b.useState(!1),[v,y]=b.useState(!1),[j,N]=b.useState(!1),[w,S]=b.useState(!1),[k,_]=b.useState(!1),[T,P]=b.useState({projectType:"",industry:"",targetAudience:"",primaryGoals:"",keyFeatures:"",timeline:"",budget:""}),[C,A]=b.useState({outputFormats:"",qualityStandards:"",reviewProcess:"",revisionRounds:"",deliveryMethod:"",milestones:"",acceptanceCriteria:""}),[E,I]=b.useState({paymentSchedule:"",intellectualProperty:"",liabilityLimits:"",cancellationPolicy:"",disputeResolution:"",dataOwnership:"",confidentiality:""}),{data:$=[]}=he({queryKey:["/api/projects"]}),U=()=>{const X=Math.max(...i.map(xe=>xe.id))+1;o([...i,{id:X,description:"",quantity:1,rate:0,amount:0}])},M=X=>{i.length>1&&o(i.filter(xe=>xe.id!==X))},F=(X,xe,Be)=>{o(i.map(At=>{if(At.id===X){const Pt={...At,[xe]:Be};return(xe==="quantity"||xe==="rate")&&(Pt.amount=Number(Pt.quantity)*Number(Pt.rate)),Pt}return At}))},V=()=>i.reduce((X,xe)=>X+(xe.amount||0),0),[Y,K]=b.useState(null),z=Se({mutationFn:async X=>await(await ke("POST","/api/proposals",X)).json(),onSuccess:X=>{console.log("Save response:",X),X&&X.id?(K(X.id),e({title:"Proposal saved",description:"Your proposal has been saved successfully."})):e({title:"Error",description:"Proposal save failed - invalid response format",variant:"destructive"})},onError:()=>{e({title:"Error",description:"Failed to save proposal.",variant:"destructive"})}}),L=Se({mutationFn:async X=>await(await ke("POST",`/api/proposals/${X}/save-to-filing-cabinet`)).json(),onSuccess:X=>{e({title:"Saved to Filing Cabinet!",description:X.message||"Proposal PDF saved to Filing Cabinet successfully"})},onError:()=>{e({title:"Error",description:"Failed to save proposal to Filing Cabinet.",variant:"destructive"})}}),ee=()=>{const X={title:r.title,projectId:r.projectId||void 0,clientName:r.clientName,clientEmail:r.clientEmail,projectDescription:r.projectDescription||void 0,totalBudget:r.totalBudget||0,timeline:r.timeline||void 0,deliverables:r.deliverables||void 0,terms:r.terms||void 0,lineItems:i,calculatedTotal:V(),expiresInDays:30};z.mutate(X)},le=(X,xe)=>{a(Be=>({...Be,[X]:xe}))},ve=async()=>{if(!r.title.trim()){e({title:"Project Title Required",description:"Please enter a project title before generating description.",variant:"destructive"});return}N(!0)},ne=async()=>{m(!0);try{const X=`Generate a professional project description for "${r.title}" ${r.clientName?`for client ${r.clientName}`:""}. 
      
      Project Details:
      - Type: ${T.projectType}
      - Industry: ${T.industry}
      - Target Audience: ${T.targetAudience}
      - Primary Goals: ${T.primaryGoals}
      - Key Features: ${T.keyFeatures}
      - Timeline: ${T.timeline}
      - Budget Range: ${T.budget}`,xe=await fetch("/api/ai/generate-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"project_description",projectTitle:r.title,clientName:r.clientName,context:X})});if(!xe.ok)throw new Error("Failed to generate description");const Be=await xe.json();le("projectDescription",Be.content),c(Be.content.length),N(!1),e({title:"Description Generated!",description:"AI has created a customized project description based on your answers."})}catch{e({title:"Generation Failed",description:"Failed to generate project description. Please try again.",variant:"destructive"})}finally{m(!1)}},be=async()=>{if(!r.title.trim()){e({title:"Project Title Required",description:"Please enter a project title before generating deliverables.",variant:"destructive"});return}S(!0)},ge=async()=>{x(!0);try{const X=`Generate detailed deliverables list for project "${r.title}".
      
      Deliverable Specifications:
      - Output Formats: ${C.outputFormats}
      - Quality Standards: ${C.qualityStandards}
      - Review Process: ${C.reviewProcess}
      - Revision Rounds: ${C.revisionRounds}
      - Delivery Method: ${C.deliveryMethod}
      - Milestones: ${C.milestones}
      - Acceptance Criteria: ${C.acceptanceCriteria}`,xe=await fetch("/api/ai/generate-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"deliverables",projectTitle:r.title,projectDescription:r.projectDescription,context:X})});if(!xe.ok)throw new Error("Failed to generate deliverables");const Be=await xe.json();le("deliverables",Be.content),u(Be.content.length),S(!1),e({title:"Deliverables Generated!",description:"AI has created a customized deliverables list based on your specifications."})}catch{e({title:"Generation Failed",description:"Failed to generate deliverables. Please try again.",variant:"destructive"})}finally{x(!1)}},we=async()=>{_(!0)},Ae=async()=>{y(!0);try{const X=`Generate professional terms and conditions for project "${r.title}" with budget $${r.totalBudget} and timeline ${r.timeline}.
      
      Terms & Conditions Specifications:
      - Payment Schedule: ${E.paymentSchedule}
      - Intellectual Property: ${E.intellectualProperty}
      - Liability Limits: ${E.liabilityLimits}
      - Cancellation Policy: ${E.cancellationPolicy}
      - Dispute Resolution: ${E.disputeResolution}
      - Data Ownership: ${E.dataOwnership}
      - Confidentiality: ${E.confidentiality}`,xe=await fetch("/api/ai/generate-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"terms_conditions",projectTitle:r.title,totalBudget:r.totalBudget,timeline:r.timeline,context:X})});if(!xe.ok)throw new Error("Failed to generate terms");const Be=await xe.json();le("terms",Be.content),f(Be.content.length),_(!1),e({title:"Terms Generated!",description:"AI has created customized terms and conditions based on your requirements."})}catch{e({title:"Generation Failed",description:"Failed to generate terms and conditions. Please try again.",variant:"destructive"})}finally{y(!1)}};return t?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(pt,{}),s.jsxs("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs(D,{variant:"outline",onClick:()=>n(!1),className:"bg-white border-2 border-blue-500 text-blue-600 hover:bg-blue-50 font-medium",children:[s.jsx(ln,{className:"h-4 w-4 mr-2"}),"Back to Editor"]}),s.jsxs("div",{className:"space-x-2",children:[s.jsxs(Zf,{children:[s.jsx(Jf,{asChild:!0,children:s.jsxs(D,{variant:"outline","data-testid":"button-export-options",children:[s.jsx(kn,{className:"h-4 w-4 mr-2"}),"Export PDF",s.jsx(Yo,{className:"h-4 w-4 ml-2"})]})}),s.jsxs(Qu,{align:"end",children:[s.jsxs(Ca,{onClick:()=>{Y?window.open(`/api/proposals/${Y}/pdf`,"_blank"):e({title:"Error",description:"Please save the proposal first to export PDF.",variant:"destructive"})},disabled:!Y,"data-testid":"menu-download-pdf",children:[s.jsx(kn,{className:"h-4 w-4 mr-2"}),"Save to Device"]}),s.jsxs(Ca,{onClick:()=>{Y?L.mutate(Y):e({title:"Error",description:"Please save the proposal first to save to Filing Cabinet.",variant:"destructive"})},disabled:!Y||L.isPending,"data-testid":"menu-save-filing-cabinet",children:[s.jsx(ls,{className:"h-4 w-4 mr-2"}),"Save to Filing Cabinet"]})]})]}),s.jsxs(D,{onClick:ee,children:[s.jsx(Hr,{className:"h-4 w-4 mr-2"}),"Send Proposal"]})]})]}),s.jsx(B,{className:"mb-8",children:s.jsx(q,{className:"p-8",children:s.jsxs("div",{className:"space-y-8",children:[s.jsx("div",{className:"text-center border-b-2 border-[var(--signal)] pb-6 mb-8",children:s.jsxs("div",{className:"flex items-center justify-center gap-4 mb-4",children:[s.jsx("div",{className:"w-16 h-16 bg-[var(--signal)] rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-2xl",children:"GG"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Gigster Garage"}),s.jsx("p",{className:"text-[var(--signal)] font-semibold",children:"Smarter tools for bolder dreams"})]})]})}),s.jsxs("div",{className:"text-center border-b pb-6",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:r.title||"Untitled Proposal"}),s.jsxs("p",{className:"text-gray-600",children:["Prepared for ",r.clientName||"Client Name"]}),s.jsx("p",{className:"text-sm text-gray-500",children:r.clientEmail})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Project Overview"}),s.jsx("div",{className:"text-gray-700 whitespace-pre-wrap leading-relaxed",children:r.projectDescription||"No description provided"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Timeline"}),s.jsx("p",{className:"text-gray-700",children:r.timeline||"Timeline not specified"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Services & Pricing"}),s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Service"}),s.jsx("th",{className:"text-center py-3 px-4 font-medium w-20",children:"Qty"}),s.jsx("th",{className:"text-right py-3 px-4 font-medium w-24",children:"Rate"}),s.jsx("th",{className:"text-right py-3 px-4 font-medium w-24",children:"Amount"})]})}),s.jsx("tbody",{children:i.map(X=>s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"py-3 px-4",children:X.description||"Service description"}),s.jsx("td",{className:"py-3 px-4 text-center",children:X.quantity}),s.jsxs("td",{className:"py-3 px-4 text-right",children:["$",X.rate.toFixed(2)]}),s.jsxs("td",{className:"py-3 px-4 text-right font-medium",children:["$",X.amount.toFixed(2)]})]},X.id))}),s.jsx("tfoot",{className:"bg-gray-50 border-t-2",children:s.jsxs("tr",{children:[s.jsx("td",{colSpan:3,className:"py-3 px-4 text-right font-bold",children:"Total:"}),s.jsxs("td",{className:"py-3 px-4 text-right font-bold text-lg",children:["$",V().toFixed(2)]})]})})]})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Deliverables"}),s.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:r.deliverables||"Deliverables not specified"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Terms & Conditions"}),s.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:r.terms||"Terms not specified"})]})]})})})]})]}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(pt,{}),s.jsxs("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("div",{className:"flex items-center justify-between mb-8",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(ze,{href:"/",children:s.jsxs(D,{variant:"ghost",size:"sm",children:[s.jsx(ln,{className:"h-4 w-4 mr-2"}),"Back"]})}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[s.jsx(nt,{className:"h-8 w-8 text-blue-600"}),"Create Proposal"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Generate professional proposals with enhanced field types"})]})]})}),s.jsxs("div",{className:"space-y-8",children:[s.jsxs(B,{children:[s.jsxs(ae,{children:[s.jsx(ie,{children:"Proposal Details"}),s.jsx(Lt,{children:"Basic information about your proposal"})]}),s.jsxs(q,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"title",children:"Proposal Title *"}),s.jsx(te,{id:"title",placeholder:"Enter proposal title",value:r.title,onChange:X=>le("title",X.target.value),className:"border-blue-200 focus:border-blue-500"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{children:"Project"}),s.jsxs(Ke,{value:r.projectId,onValueChange:X=>le("projectId",X),children:[s.jsx(He,{children:s.jsx(Ge,{placeholder:"Select project (optional)"})}),s.jsxs(qe,{children:[s.jsx(Q,{value:"no-project",children:"No project"}),$.map(X=>s.jsx(Q,{value:X.id,children:X.name},X.id))]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"clientName",children:"Client Name"}),s.jsx(te,{id:"clientName",placeholder:"Enter client name",value:r.clientName,onChange:X=>le("clientName",X.target.value),className:"border-blue-200 focus:border-blue-500"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"clientEmail",children:"Client Email"}),s.jsx(te,{id:"clientEmail",type:"email",placeholder:"client@company.com",value:r.clientEmail,onChange:X=>le("clientEmail",X.target.value),className:"border-blue-200 focus:border-blue-500"})]})]})]})]}),s.jsxs(B,{children:[s.jsx(ae,{children:s.jsxs(ie,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:["Project Description",s.jsx(Z,{variant:"outline",className:"text-xs",children:"textarea"})]}),s.jsxs(D,{variant:"outline",size:"sm",onClick:ve,disabled:g,className:"flex items-center gap-2","data-testid":"button-generate-description",children:[g?s.jsx(wr,{className:"w-4 h-4 animate-spin"}):s.jsx(ss,{className:"w-4 h-4"}),g?"Writing...":"Write"]})]})}),s.jsxs(q,{children:[s.jsx(it,{placeholder:"Enter detailed project description...",rows:6,className:"min-h-[120px] resize-y bg-orange-50 border-orange-200 focus:border-orange-500",maxLength:1e3,value:r.projectDescription,onChange:X=>{le("projectDescription",X.target.value),c(X.target.value.length)}}),s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-2",children:[s.jsx("span",{children:" For detailed descriptions and multi-line content"}),s.jsxs("span",{className:"font-medium",children:[l," / 1,000 characters"]})]})]})]}),s.jsxs(B,{children:[s.jsx(ae,{children:s.jsxs(ie,{className:"flex items-center gap-2",children:["Services & Pricing",s.jsx(Z,{variant:"outline",className:"text-xs",children:"line items"})]})}),s.jsx(q,{children:s.jsx("div",{className:"border-2 border-indigo-200 rounded-lg p-4 bg-indigo-50",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h4",{className:"font-medium text-indigo-900",children:"Itemized Services"}),s.jsxs(D,{size:"sm",variant:"outline",className:"text-xs",onClick:U,children:[s.jsx(st,{className:"h-3 w-3 mr-1"}),"Add Item"]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-indigo-300",children:[s.jsx("th",{className:"text-left py-2 px-2 font-medium text-indigo-800",children:"Description"}),s.jsx("th",{className:"text-center py-2 px-2 font-medium text-indigo-800 w-20",children:"Qty"}),s.jsx("th",{className:"text-right py-2 px-2 font-medium text-indigo-800 w-24",children:"Rate"}),s.jsx("th",{className:"text-right py-2 px-2 font-medium text-indigo-800 w-20",children:"Amount"}),s.jsx("th",{className:"w-8"})]})}),s.jsx("tbody",{children:i.map(X=>s.jsxs("tr",{className:"border-b border-indigo-100",children:[s.jsx("td",{className:"py-2 px-2",children:s.jsx(te,{placeholder:"Service description...",className:"text-xs border-indigo-300",value:X.description,onChange:xe=>F(X.id,"description",xe.target.value)})}),s.jsx("td",{className:"py-2 px-2",children:s.jsx(te,{type:"number",placeholder:"1",className:"text-xs text-center border-indigo-300",value:X.quantity,onChange:xe=>F(X.id,"quantity",Number(xe.target.value)),min:"0",step:"1"})}),s.jsx("td",{className:"py-2 px-2",children:s.jsxs("div",{className:"relative",children:[s.jsx(te,{type:"number",placeholder:"100.00",className:"text-xs text-right border-indigo-300 pl-4",value:X.rate,onChange:xe=>F(X.id,"rate",Number(xe.target.value)),min:"0",step:"0.01"}),s.jsx("span",{className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-xs text-gray-500",children:"$"})]})}),s.jsx("td",{className:"py-2 px-2",children:s.jsxs("div",{className:"text-xs font-medium text-right px-2 py-1.5 bg-indigo-100 rounded border border-indigo-300",children:["$",X.amount.toFixed(2)]})}),s.jsx("td",{className:"py-2 px-1",children:s.jsx(D,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-red-500",onClick:()=>M(X.id),disabled:i.length===1,children:s.jsx(Kt,{className:"h-3 w-3"})})})]},X.id))}),s.jsx("tfoot",{children:s.jsxs("tr",{children:[s.jsx("td",{colSpan:3,className:"text-right py-2 px-2 font-medium text-indigo-900",children:"Total:"}),s.jsx("td",{className:"py-2 px-2",children:s.jsxs("div",{className:"text-sm font-bold text-right px-2 py-1.5 bg-indigo-200 rounded border-2 border-indigo-400",children:["$",V().toFixed(2)]})}),s.jsx("td",{})]})})]})})]})})})]}),s.jsxs(B,{children:[s.jsx(ae,{children:s.jsx(ie,{children:"Timeline & Budget"})}),s.jsx(q,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"timeline",children:"Project Timeline"}),s.jsx(te,{id:"timeline",placeholder:"e.g., 4-6 weeks",value:r.timeline,onChange:X=>le("timeline",X.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(W,{className:"flex items-center gap-2",children:["Total Budget",s.jsx(Z,{variant:"outline",className:"text-xs",children:"currency"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground font-medium",children:"$"}),s.jsx(te,{type:"number",placeholder:"0.00",className:"pl-8 text-right bg-green-50 border-green-200 focus:border-green-500",min:"0",step:"0.01",value:r.totalBudget,onChange:X=>le("totalBudget",Number(X.target.value))})]})]})]})})]}),s.jsxs(B,{children:[s.jsx(ae,{children:s.jsxs(ie,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:["Deliverables",s.jsx(Z,{variant:"outline",className:"text-xs",children:"textarea"})]}),s.jsxs(D,{variant:"outline",size:"sm",onClick:be,disabled:p,className:"flex items-center gap-2","data-testid":"button-generate-deliverables",children:[p?s.jsx(wr,{className:"w-4 h-4 animate-spin"}):s.jsx(ss,{className:"w-4 h-4"}),p?"Writing...":"Write"]})]})}),s.jsxs(q,{children:[s.jsx(it,{placeholder:"List project deliverables...",rows:4,className:"min-h-[100px] resize-y bg-orange-50 border-orange-200 focus:border-orange-500",maxLength:1e3,value:r.deliverables,onChange:X=>{le("deliverables",X.target.value),u(X.target.value.length)}}),s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-2",children:[s.jsx("span",{children:" What will be delivered to the client"}),s.jsxs("span",{className:"font-medium",children:[d," / 1,000 characters"]})]})]})]}),s.jsxs(B,{children:[s.jsx(ae,{children:s.jsxs(ie,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:["Terms & Conditions",s.jsx(Z,{variant:"outline",className:"text-xs",children:"textarea"})]}),s.jsxs(D,{variant:"outline",size:"sm",onClick:we,disabled:v,className:"flex items-center gap-2","data-testid":"button-generate-terms",children:[v?s.jsx(wr,{className:"w-4 h-4 animate-spin"}):s.jsx(ss,{className:"w-4 h-4"}),v?"Writing...":"Write"]})]})}),s.jsxs(q,{children:[s.jsx(it,{placeholder:"Enter terms and conditions...",rows:6,className:"min-h-[120px] resize-y bg-orange-50 border-orange-200 focus:border-orange-500",maxLength:2e3,value:r.terms,onChange:X=>{le("terms",X.target.value),f(X.target.value.length)}}),s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-2",children:[s.jsx("span",{children:" Payment terms, project scope, etc."}),s.jsxs("span",{className:"font-medium",children:[h," / 2,000 characters"]})]})]})]}),s.jsx(B,{children:s.jsx(q,{className:"pt-6",children:s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsxs(D,{variant:"outline",onClick:()=>n(!0),children:[s.jsx(fn,{className:"h-4 w-4 mr-2"}),"Preview"]}),s.jsxs(D,{onClick:ee,disabled:z.isPending,children:[s.jsx(nt,{className:"h-4 w-4 mr-2"}),"Save Proposal"]}),s.jsxs(D,{variant:"default",className:"bg-green-600 hover:bg-green-700",children:[s.jsx(Hr,{className:"h-4 w-4 mr-2"}),"Send Proposal"]})]})})})]})]}),s.jsx(ut,{open:j,onOpenChange:N,children:s.jsxs(lt,{className:"sm:max-w-[600px] max-h-[80vh] flex flex-col",children:[s.jsx(ct,{children:s.jsx(dt,{children:"Project Description Questions"})}),s.jsx("div",{className:"flex-1 overflow-y-auto space-y-4 py-4",children:s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"projectType",children:"What type of project is this?"}),s.jsx(te,{id:"projectType",placeholder:"e.g., Website, Mobile App, Marketing Campaign",value:T.projectType,onChange:X=>P(xe=>({...xe,projectType:X.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"industry",children:"What industry or sector?"}),s.jsx(te,{id:"industry",placeholder:"e.g., Healthcare, Finance, E-commerce, Education",value:T.industry,onChange:X=>P(xe=>({...xe,industry:X.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"targetAudience",children:"Who is the target audience?"}),s.jsx(te,{id:"targetAudience",placeholder:"e.g., Small businesses, Young professionals, Families",value:T.targetAudience,onChange:X=>P(xe=>({...xe,targetAudience:X.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"primaryGoals",children:"What are the primary goals?"}),s.jsx(it,{id:"primaryGoals",placeholder:"e.g., Increase sales, Improve user experience, Automate processes",value:T.primaryGoals,onChange:X=>P(xe=>({...xe,primaryGoals:X.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"keyFeatures",children:"What are the key features or requirements?"}),s.jsx(it,{id:"keyFeatures",placeholder:"e.g., User registration, Payment processing, Real-time messaging",value:T.keyFeatures,onChange:X=>P(xe=>({...xe,keyFeatures:X.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"descTimeline",children:"What is the expected timeline?"}),s.jsx(te,{id:"descTimeline",placeholder:"e.g., 8 weeks, 3 months, 6 months",value:T.timeline,onChange:X=>P(xe=>({...xe,timeline:X.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"budget",children:"What is the budget range?"}),s.jsx(te,{id:"budget",placeholder:"e.g., $5,000-$10,000, $20,000-$50,000",value:T.budget,onChange:X=>P(xe=>({...xe,budget:X.target.value}))})]})]})}),s.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t",children:[s.jsx(D,{variant:"outline",onClick:()=>N(!1),children:"Cancel"}),s.jsx(D,{onClick:ne,disabled:g,children:g?s.jsxs(s.Fragment,{children:[s.jsx(wr,{className:"w-4 h-4 animate-spin mr-2"}),"Generating..."]}):"Generate Description"})]})]})}),s.jsx(ut,{open:w,onOpenChange:S,children:s.jsxs(lt,{className:"sm:max-w-[600px] max-h-[80vh] flex flex-col",children:[s.jsx(ct,{children:s.jsx(dt,{children:"Deliverables Specification"})}),s.jsx("div",{className:"flex-1 overflow-y-auto space-y-4 py-4",children:s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"outputFormats",children:"What output formats are required?"}),s.jsx(te,{id:"outputFormats",placeholder:"e.g., PDF documents, Web application, Mobile app, Source code",value:C.outputFormats,onChange:X=>A(xe=>({...xe,outputFormats:X.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"qualityStandards",children:"What quality standards must be met?"}),s.jsx(te,{id:"qualityStandards",placeholder:"e.g., Industry standards, Accessibility compliance, Performance benchmarks",value:C.qualityStandards,onChange:X=>A(xe=>({...xe,qualityStandards:X.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"reviewProcess",children:"What is the review and approval process?"}),s.jsx(it,{id:"reviewProcess",placeholder:"e.g., Weekly reviews, Client approval at each milestone, Testing phases",value:C.reviewProcess,onChange:X=>A(xe=>({...xe,reviewProcess:X.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"revisionRounds",children:"How many revision rounds are included?"}),s.jsx(te,{id:"revisionRounds",placeholder:"e.g., 2 rounds of revisions, Unlimited minor changes, 3 major revisions",value:C.revisionRounds,onChange:X=>A(xe=>({...xe,revisionRounds:X.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"deliveryMethod",children:"How will deliverables be delivered?"}),s.jsx(te,{id:"deliveryMethod",placeholder:"e.g., Cloud platform, Email, Client portal, Physical media",value:C.deliveryMethod,onChange:X=>A(xe=>({...xe,deliveryMethod:X.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"milestones",children:"What are the key milestones?"}),s.jsx(it,{id:"milestones",placeholder:"e.g., Design completion, Development phases, Testing milestones",value:C.milestones,onChange:X=>A(xe=>({...xe,milestones:X.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"acceptanceCriteria",children:"What are the acceptance criteria?"}),s.jsx(it,{id:"acceptanceCriteria",placeholder:"e.g., Functional requirements, Performance metrics, Client sign-off requirements",value:C.acceptanceCriteria,onChange:X=>A(xe=>({...xe,acceptanceCriteria:X.target.value}))})]})]})}),s.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t",children:[s.jsx(D,{variant:"outline",onClick:()=>S(!1),children:"Cancel"}),s.jsx(D,{onClick:ge,disabled:p,children:p?s.jsxs(s.Fragment,{children:[s.jsx(wr,{className:"w-4 h-4 animate-spin mr-2"}),"Generating..."]}):"Generate Deliverables"})]})]})}),s.jsx(ut,{open:k,onOpenChange:_,children:s.jsxs(lt,{className:"sm:max-w-[600px] max-h-[80vh] flex flex-col",children:[s.jsx(ct,{children:s.jsx(dt,{children:"Terms & Conditions Specification"})}),s.jsx("div",{className:"flex-1 overflow-y-auto space-y-4 py-4",children:s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"paymentSchedule",children:"What is the payment schedule?"}),s.jsx(te,{id:"paymentSchedule",placeholder:"e.g., 50% upfront, 50% on completion, Monthly payments",value:E.paymentSchedule,onChange:X=>I(xe=>({...xe,paymentSchedule:X.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"intellectualProperty",children:"Who owns the intellectual property?"}),s.jsx(te,{id:"intellectualProperty",placeholder:"e.g., Client owns all rights, Joint ownership, Agency retains templates",value:E.intellectualProperty,onChange:X=>I(xe=>({...xe,intellectualProperty:X.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"liabilityLimits",children:"What are the liability limits?"}),s.jsx(it,{id:"liabilityLimits",placeholder:"e.g., Limited to project value, No liability for consequential damages",value:E.liabilityLimits,onChange:X=>I(xe=>({...xe,liabilityLimits:X.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"cancellationPolicy",children:"What is the cancellation policy?"}),s.jsx(it,{id:"cancellationPolicy",placeholder:"e.g., 30-day notice required, Work completed to date is billable",value:E.cancellationPolicy,onChange:X=>I(xe=>({...xe,cancellationPolicy:X.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"disputeResolution",children:"How are disputes resolved?"}),s.jsx(te,{id:"disputeResolution",placeholder:"e.g., Mediation first, Arbitration, Court jurisdiction",value:E.disputeResolution,onChange:X=>I(xe=>({...xe,disputeResolution:X.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"dataOwnership",children:"Who owns the data and content?"}),s.jsx(te,{id:"dataOwnership",placeholder:"e.g., Client retains all data ownership, Data backup procedures",value:E.dataOwnership,onChange:X=>I(xe=>({...xe,dataOwnership:X.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"confidentiality",children:"What confidentiality terms apply?"}),s.jsx(it,{id:"confidentiality",placeholder:"e.g., Non-disclosure agreement, Confidentiality period, Exceptions",value:E.confidentiality,onChange:X=>I(xe=>({...xe,confidentiality:X.target.value}))})]})]})}),s.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t",children:[s.jsx(D,{variant:"outline",onClick:()=>_(!1),children:"Cancel"}),s.jsx(D,{onClick:Ae,disabled:v,children:v?s.jsxs(s.Fragment,{children:[s.jsx(wr,{className:"w-4 h-4 animate-spin mr-2"}),"Generating..."]}):"Generate Terms"})]})]})})]})}function Ydt(){const{toast:e}=mt(),[t,n]=b.useState(!1),[r,a]=b.useState({invoiceNumber:`INV-${Date.now()}`,projectId:"",companyName:"",companyAddress:"",clientName:"",clientEmail:"",clientAddress:"",invoiceDate:new Date().toISOString().split("T")[0],dueDate:"",notes:"",taxRate:0,discountAmount:0}),[i,o]=b.useState([{id:1,description:"",quantity:1,rate:0,amount:0}]),[l,c]=b.useState(0),[d,u]=b.useState(0),[h,f]=b.useState(!1),{data:g=[]}=he({queryKey:["/api/projects"]}),m=()=>{const $=Math.max(...i.map(U=>U.id))+1;o([...i,{id:$,description:"",quantity:1,rate:0,amount:0}])},p=$=>{i.length>1&&o(i.filter(U=>U.id!==$))},x=($,U,M)=>{o(i.map(F=>{if(F.id===$){const V={...F,[U]:M};return(U==="quantity"||U==="rate")&&(V.amount=Number(V.quantity)*Number(V.rate)),V}return F}))},v=()=>i.reduce(($,U)=>$+(U.amount||0),0),y=()=>v()*r.taxRate/100,j=()=>v()+y()-r.discountAmount,N=Se({mutationFn:async $=>await(await ke("POST","/api/invoices",$)).json(),onSuccess:$=>{if(console.log("Save response:",$),$&&$.id){const U=$.id;_(U),P($),e({title:"Invoice saved",description:"Invoice saved successfully! Payment link generated."})}else console.error("Invalid response format:",$),e({title:"Error",description:"Invoice save failed - invalid response format",variant:"destructive"})},onError:()=>{e({title:"Error",description:"Failed to save invoice.",variant:"destructive"})}}),w=Se({mutationFn:async $=>await(await ke("POST",`/api/invoices/${$}/send`,{includePDF:!0})).json(),onSuccess:$=>{e({title:"Invoice sent!",description:$.message||"Invoice has been sent successfully"}),window.location.href="/invoices"},onError:()=>{e({title:"Error",description:"Failed to send invoice email.",variant:"destructive"})}}),S=Se({mutationFn:async $=>await(await ke("POST",`/api/invoices/${$}/save-to-filing-cabinet`)).json(),onSuccess:$=>{e({title:"Saved to Filing Cabinet!",description:$.message||"Invoice PDF saved to Filing Cabinet successfully"})},onError:()=>{e({title:"Error",description:"Failed to save invoice to Filing Cabinet.",variant:"destructive"})}}),[k,_]=b.useState(null),[T,P]=b.useState(null),C=()=>{const $={...r,invoiceDate:r.invoiceDate||void 0,dueDate:r.dueDate||void 0,clientName:r.clientName||void 0,clientEmail:r.clientEmail||void 0,clientAddress:r.clientAddress||void 0,notes:r.notes||void 0,taxRate:r.taxRate,discountAmount:r.discountAmount,lineItems:i,subtotal:v(),taxAmount:y(),totalAmount:j(),status:"draft"};console.log("Saving invoice data:",$),N.mutate($)},A=()=>{k?w.mutate(k):e({title:"Error",description:"Please save the invoice first.",variant:"destructive"})},E=($,U)=>{a(M=>({...M,[$]:U}))},I=async()=>{if(!r.clientName.trim()&&!i.some($=>$.description.trim())){e({title:"Client or Service Required",description:"Please enter a client name or add line items before generating notes.",variant:"destructive"});return}f(!0);try{const $=await fetch("/api/ai/generate-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"invoice_notes",clientName:r.clientName,totalAmount:j(),lineItems:i.filter(M=>M.description.trim()),context:`Generate professional invoice notes and payment terms for client "${r.clientName}" with total amount $${j().toFixed(2)}.`})});if(!$.ok)throw new Error("Failed to generate notes");const U=await $.json();E("notes",U.content),c(U.content.length),e({title:"Notes Generated!",description:"AI has created professional payment terms and notes."})}catch{e({title:"Generation Failed",description:"Failed to generate notes and terms. Please try again.",variant:"destructive"})}finally{f(!1)}};return t?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(pt,{}),s.jsxs("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs(D,{variant:"outline",onClick:()=>n(!1),className:"bg-white border-2 border-blue-500 text-blue-600 hover:bg-blue-50 font-medium",children:[s.jsx(ln,{className:"h-4 w-4 mr-2"}),"Back to Editor"]}),s.jsxs("div",{className:"space-x-2",children:[s.jsxs(Zf,{children:[s.jsx(Jf,{asChild:!0,children:s.jsxs(D,{variant:"outline","data-testid":"button-export-options",children:[s.jsx(kn,{className:"h-4 w-4 mr-2"}),"Export PDF",s.jsx(Yo,{className:"h-4 w-4 ml-2"})]})}),s.jsxs(Qu,{align:"end",children:[s.jsxs(Ca,{onClick:()=>{k?window.open(`/api/invoices/${k}/pdf`,"_blank"):e({title:"Error",description:"Please save the invoice first to export PDF.",variant:"destructive"})},"data-testid":"option-save-to-device",children:[s.jsx(kn,{className:"h-4 w-4 mr-2"}),"Save to Device"]}),s.jsxs(Ca,{onClick:()=>{k?S.mutate(k):e({title:"Error",description:"Please save the invoice first to save to Filing Cabinet.",variant:"destructive"})},disabled:S.isPending,"data-testid":"option-save-to-filing-cabinet",children:[s.jsx(ls,{className:"h-4 w-4 mr-2"}),S.isPending?"Saving...":"Save to Filing Cabinet"]})]})]}),k?s.jsxs("div",{className:"flex gap-3 items-center",children:[s.jsxs(D,{onClick:A,disabled:w.isPending,children:[w.isPending?s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):s.jsx(Hr,{className:"h-4 w-4 mr-2"}),"Send Invoice"]}),(T==null?void 0:T.paymentUrl)&&s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-green-50 border border-green-200 rounded",children:[s.jsx(Wo,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"text-sm text-green-700",children:"Payment link generated!"}),s.jsx(D,{onClick:()=>navigator.clipboard.writeText(T.paymentUrl),variant:"ghost",size:"sm",className:"text-green-600 hover:text-green-700",children:"Copy Link"})]})]}):s.jsxs(D,{onClick:C,disabled:N.isPending,children:[N.isPending?s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):s.jsx(Au,{className:"h-4 w-4 mr-2"}),"Save Invoice"]})]})]}),s.jsx(B,{className:"mb-8",children:s.jsx(q,{className:"p-8",children:s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"INVOICE"}),s.jsxs("p",{className:"text-lg font-medium",children:["#",r.invoiceNumber]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("h2",{className:"text-xl font-bold mb-2",children:r.companyName||"Your Company Name"}),s.jsx("div",{className:"text-gray-600 whitespace-pre-wrap",children:r.companyAddress||`Your Company Address
City, State 12345`})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Bill To:"}),s.jsx("p",{className:"font-medium",children:r.clientName||"Client Name"}),s.jsx("p",{className:"text-gray-600",children:r.clientEmail}),s.jsx("div",{className:"text-gray-600 whitespace-pre-wrap",children:r.clientAddress||"Client Address"})]}),s.jsx("div",{className:"text-right",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Invoice Date: "}),s.jsx("span",{children:r.invoiceDate})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Due Date: "}),s.jsx("span",{children:r.dueDate||"Not specified"})]})]})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left py-3 px-4 font-medium",children:"Description"}),s.jsx("th",{className:"text-center py-3 px-4 font-medium w-20",children:"Qty"}),s.jsx("th",{className:"text-right py-3 px-4 font-medium w-24",children:"Rate"}),s.jsx("th",{className:"text-right py-3 px-4 font-medium w-24",children:"Amount"})]})}),s.jsx("tbody",{children:i.map($=>s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"py-3 px-4",children:$.description||"Service description"}),s.jsx("td",{className:"py-3 px-4 text-center",children:$.quantity}),s.jsxs("td",{className:"py-3 px-4 text-right",children:["$",$.rate.toFixed(2)]}),s.jsxs("td",{className:"py-3 px-4 text-right font-medium",children:["$",$.amount.toFixed(2)]})]},$.id))})]})}),s.jsxs("div",{className:"mt-4 space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Subtotal:"}),s.jsxs("span",{children:["$",v().toFixed(2)]})]}),r.discountAmount>0&&s.jsxs("div",{className:"flex justify-between text-green-600",children:[s.jsx("span",{children:"Discount:"}),s.jsxs("span",{children:["-$",r.discountAmount.toFixed(2)]})]}),r.taxRate>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{children:["Tax (",r.taxRate,"%):"]}),s.jsxs("span",{children:["$",y().toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between border-t-2 pt-2 text-lg font-bold",children:[s.jsx("span",{children:"Total:"}),s.jsxs("span",{children:["$",j().toFixed(2)]})]})]})]}),r.notes&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Notes"}),s.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:r.notes})]})]})})})]})]}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(pt,{}),s.jsxs("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("div",{className:"flex items-center justify-between mb-8",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(ze,{href:"/",children:s.jsxs(D,{variant:"ghost",size:"sm",children:[s.jsx(ln,{className:"h-4 w-4 mr-2"}),"Back"]})}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[s.jsx(pj,{className:"h-8 w-8 text-green-600"}),"Create Invoice"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Generate professional invoices with automatic calculations"})]})]})}),s.jsxs("div",{className:"space-y-8",children:[s.jsxs(B,{children:[s.jsxs(ae,{children:[s.jsx(ie,{children:"Invoice Information"}),s.jsx(Lt,{children:"Basic invoice details and client information"})]}),s.jsxs(q,{className:"space-y-6",children:[s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[s.jsx("h4",{className:"font-medium text-blue-900 mb-3",children:"Your Company Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"companyName",children:"Company Name *"}),s.jsx(te,{id:"companyName",placeholder:"Your Company Name",value:r.companyName,onChange:$=>E("companyName",$.target.value),className:"border-blue-200 focus:border-blue-500"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"companyAddress",children:"Company Address"}),s.jsx(te,{id:"companyAddress",placeholder:"123 Business St, City, State 12345",value:r.companyAddress,onChange:$=>E("companyAddress",$.target.value),className:"border-blue-200 focus:border-blue-500"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"invoiceNumber",children:"Invoice Number"}),s.jsx(te,{id:"invoiceNumber",placeholder:"INV-001",value:r.invoiceNumber,onChange:$=>E("invoiceNumber",$.target.value),className:"border-green-200 focus:border-green-500"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"invoiceDate",children:"Invoice Date"}),s.jsx(te,{id:"invoiceDate",type:"date",value:r.invoiceDate,onChange:$=>E("invoiceDate",$.target.value),className:"border-green-200 focus:border-green-500"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"dueDate",children:"Due Date"}),s.jsx(te,{id:"dueDate",type:"date",value:r.dueDate,onChange:$=>E("dueDate",$.target.value),className:"border-green-200 focus:border-green-500"})]})]}),s.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-200",children:[s.jsx("h4",{className:"font-medium text-orange-900 mb-3",children:"Client Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"clientName",children:"Client Name *"}),s.jsx(te,{id:"clientName",placeholder:"Enter client name",value:r.clientName,onChange:$=>E("clientName",$.target.value),className:"border-orange-200 focus:border-orange-500"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"clientEmail",children:"Client Email"}),s.jsx(te,{id:"clientEmail",type:"email",placeholder:"client@company.com",value:r.clientEmail,onChange:$=>E("clientEmail",$.target.value),className:"border-orange-200 focus:border-orange-500"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(W,{className:"flex items-center gap-2",children:["Client Address",s.jsx(Z,{variant:"outline",className:"text-xs",children:"textarea"})]}),s.jsx(it,{placeholder:"Enter client billing address...",rows:3,className:"min-h-[80px] resize-y bg-orange-50 border-orange-200 focus:border-orange-500",maxLength:500,value:r.clientAddress,onChange:$=>{E("clientAddress",$.target.value),u($.target.value.length)}}),s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsx("span",{children:" Client's billing address"}),s.jsxs("span",{className:"font-medium",children:[d," / 500 characters"]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{children:"Project"}),s.jsxs(Ke,{value:r.projectId,onValueChange:$=>E("projectId",$),children:[s.jsx(He,{children:s.jsx(Ge,{placeholder:"Select project (optional)"})}),s.jsxs(qe,{children:[s.jsx(Q,{value:"no-project",children:"No project"}),g.map($=>s.jsx(Q,{value:$.id,children:$.name},$.id))]})]})]})]})]}),s.jsxs(B,{children:[s.jsx(ae,{children:s.jsxs(ie,{className:"flex items-center gap-2",children:["Billable Items",s.jsx(Z,{variant:"outline",className:"text-xs",children:"line items"})]})}),s.jsx(q,{children:s.jsx("div",{className:"border-2 border-green-200 rounded-lg p-4 bg-green-50",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h4",{className:"font-medium text-green-900",children:"Services & Products"}),s.jsxs(D,{size:"sm",variant:"outline",className:"text-xs",onClick:m,children:[s.jsx(st,{className:"h-3 w-3 mr-1"}),"Add Item"]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-green-300",children:[s.jsx("th",{className:"text-left py-2 px-2 font-medium text-green-800",children:"Description"}),s.jsx("th",{className:"text-center py-2 px-2 font-medium text-green-800 w-20",children:"Qty"}),s.jsx("th",{className:"text-right py-2 px-2 font-medium text-green-800 w-24",children:"Rate"}),s.jsx("th",{className:"text-right py-2 px-2 font-medium text-green-800 w-20",children:"Amount"}),s.jsx("th",{className:"w-8"})]})}),s.jsx("tbody",{children:i.map($=>s.jsxs("tr",{className:"border-b border-green-100",children:[s.jsx("td",{className:"py-2 px-2",children:s.jsx(te,{placeholder:"Service or product description...",className:"text-xs border-green-300",value:$.description,onChange:U=>x($.id,"description",U.target.value)})}),s.jsx("td",{className:"py-2 px-2",children:s.jsx(te,{type:"number",placeholder:"1",className:"text-xs text-center border-green-300",value:$.quantity,onChange:U=>x($.id,"quantity",Number(U.target.value)),min:"0",step:"1"})}),s.jsx("td",{className:"py-2 px-2",children:s.jsxs("div",{className:"relative",children:[s.jsx(te,{type:"number",placeholder:"100.00",className:"text-xs text-right border-green-300 pl-4",value:$.rate,onChange:U=>x($.id,"rate",Number(U.target.value)),min:"0",step:"0.01"}),s.jsx("span",{className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-xs text-gray-500",children:"$"})]})}),s.jsx("td",{className:"py-2 px-2",children:s.jsxs("div",{className:"text-xs font-medium text-right px-2 py-1.5 bg-green-100 rounded border border-green-300",children:["$",$.amount.toFixed(2)]})}),s.jsx("td",{className:"py-2 px-1",children:s.jsx(D,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-red-500",onClick:()=>p($.id),disabled:i.length===1,children:s.jsx(Kt,{className:"h-3 w-3"})})})]},$.id))}),s.jsx("tfoot",{children:s.jsxs("tr",{children:[s.jsx("td",{colSpan:3,className:"text-right py-2 px-2 font-medium text-green-900",children:"Subtotal:"}),s.jsx("td",{className:"py-2 px-2",children:s.jsxs("div",{className:"text-sm font-bold text-right px-2 py-1.5 bg-green-200 rounded border-2 border-green-400",children:["$",v().toFixed(2)]})}),s.jsx("td",{})]})})]})})]})})})]}),s.jsxs(B,{children:[s.jsx(ae,{children:s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(is,{className:"h-5 w-5"}),"Tax & Discount"]})}),s.jsx(q,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"taxRate",children:"Tax Rate (%)"}),s.jsx(te,{id:"taxRate",type:"number",placeholder:"0",min:"0",max:"100",step:"0.1",value:r.taxRate,onChange:$=>E("taxRate",Number($.target.value))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(W,{className:"flex items-center gap-2",children:["Discount Amount",s.jsx(Z,{variant:"outline",className:"text-xs",children:"currency"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground font-medium",children:"$"}),s.jsx(te,{type:"number",placeholder:"0.00",className:"pl-8 text-right bg-green-50 border-green-200 focus:border-green-500",min:"0",step:"0.01",value:r.discountAmount,onChange:$=>E("discountAmount",Number($.target.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{className:"font-bold",children:"Total Amount"}),s.jsxs("div",{className:"text-xl font-bold text-green-700 py-2 px-3 bg-green-100 rounded border-2 border-green-300",children:["$",j().toFixed(2)]})]})]})})]}),s.jsxs(B,{children:[s.jsx(ae,{children:s.jsxs(ie,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:["Notes & Terms",s.jsx(Z,{variant:"outline",className:"text-xs",children:"textarea"})]}),s.jsxs(D,{variant:"outline",size:"sm",onClick:I,disabled:h,className:"flex items-center gap-2","data-testid":"button-generate-notes",children:[h?s.jsx(wr,{className:"w-4 h-4 animate-spin"}):s.jsx(ss,{className:"w-4 h-4"}),h?"Writing...":"Write"]})]})}),s.jsxs(q,{children:[s.jsx(it,{placeholder:"Payment terms, additional notes...",rows:4,className:"min-h-[100px] resize-y bg-orange-50 border-orange-200 focus:border-orange-500",maxLength:1e3,value:r.notes,onChange:$=>{E("notes",$.target.value),c($.target.value.length)}}),s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-2",children:[s.jsx("span",{children:" Payment terms, special instructions, etc."}),s.jsxs("span",{className:"font-medium",children:[l," / 1,000 characters"]})]})]})]}),s.jsx(B,{children:s.jsx(q,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[s.jsxs(D,{variant:"outline",onClick:()=>n(!0),children:[s.jsx(fn,{className:"h-4 w-4 mr-2"}),"Preview"]}),s.jsxs(D,{onClick:C,disabled:N.isPending,children:[s.jsx(Au,{className:"h-4 w-4 mr-2"}),N.isPending?"Saving...":"Save Invoice"]}),k&&s.jsxs(D,{onClick:A,disabled:w.isPending,children:[w.isPending?s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):s.jsx(Hr,{className:"h-4 w-4 mr-2"}),"Send Invoice"]})]})})})]})]})]})}function Xdt(){const{toast:e}=mt(),t=qr(),[n,r]=b.useState(""),{data:a=[],isLoading:i}=he({queryKey:["/api/invoices"]}),o=Se({mutationFn:({invoiceId:u})=>ke("POST",`/api/invoices/${u}/send`,{includePDF:!0}),onSuccess:u=>{e({title:"Invoice sent!",description:u.message||"Invoice has been sent successfully"}),t.invalidateQueries({queryKey:["/api/invoices"]})},onError:()=>{e({title:"Error",description:"Failed to send invoice.",variant:"destructive"})}}),l=Se({mutationFn:u=>ke("DELETE",`/api/invoices/${u}`),onSuccess:()=>{e({title:"Invoice deleted",description:"Draft invoice has been deleted successfully."}),t.invalidateQueries({queryKey:["/api/invoices"]})},onError:()=>{e({title:"Error",description:"Failed to delete invoice.",variant:"destructive"})}}),c=u=>{switch(u){case"draft":return"secondary";case"sent":return"default";case"paid":return"outline";case"overdue":return"destructive";default:return"secondary"}},d=a.filter(u=>{var h,f,g;return((h=u.invoiceNumber)==null?void 0:h.toLowerCase().includes(n.toLowerCase()))||((f=u.clientName)==null?void 0:f.toLowerCase().includes(n.toLowerCase()))||((g=u.clientEmail)==null?void 0:g.toLowerCase().includes(n.toLowerCase()))});return i?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(pt,{}),s.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#FF7F00] mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading invoices..."})]})})]}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(pt,{}),s.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Invoices"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Create, manage, and send invoices to clients"})]}),s.jsx(ze,{href:"/create-invoice",children:s.jsxs(D,{className:"bg-[#FF7F00] hover:bg-[#e6720a] text-white",children:[s.jsx(st,{className:"h-4 w-4 mr-2"}),"New Invoice"]})})]}),s.jsx(B,{className:"mb-6",children:s.jsx(q,{className:"p-6",children:s.jsxs("div",{className:"relative",children:[s.jsx(Ya,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx(te,{placeholder:"Search invoices by number, client name, or email...",className:"pl-10",value:n,onChange:u=>r(u.target.value)})]})})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsx(B,{children:s.jsx(q,{className:"p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Invoices"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.length})]}),s.jsx(nt,{className:"h-8 w-8 text-gray-400"})]})})}),s.jsx(B,{children:s.jsx(q,{className:"p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Draft Invoices"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.filter(u=>u.status==="draft").length})]}),s.jsx(Or,{className:"h-8 w-8 text-gray-400"})]})})}),s.jsx(B,{children:s.jsx(q,{className:"p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Sent Invoices"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:a.filter(u=>u.status==="sent").length})]}),s.jsx(Hr,{className:"h-8 w-8 text-blue-400"})]})})}),s.jsx(B,{children:s.jsx(q,{className:"p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Amount"}),s.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",a.reduce((u,h)=>u+Number(h.totalAmount||0),0).toLocaleString()]})]}),s.jsx("div",{className:"h-8 w-8 text-green-400 flex items-center justify-center",children:"$"})]})})})]}),d.length===0?s.jsx(B,{children:s.jsxs(q,{className:"p-12 text-center",children:[s.jsx(nt,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:n?"No invoices found":"No invoices yet"}),s.jsx("p",{className:"text-gray-600 mb-6",children:n?"Try adjusting your search terms":"Create your first invoice to get started"}),!n&&s.jsx(ze,{href:"/create-invoice",children:s.jsxs(D,{className:"bg-[#FF7F00] hover:bg-[#e6720a] text-white",children:[s.jsx(st,{className:"h-4 w-4 mr-2"}),"Create Invoice"]})})]})}):s.jsx("div",{className:"space-y-4",children:d.map(u=>s.jsx(B,{className:"hover:shadow-lg transition-shadow",children:s.jsx(q,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["#",u.invoiceNumber]}),s.jsx(Z,{variant:c(u.status||"draft"),children:u.status||"draft"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-gray-600",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Client"}),s.jsx("p",{children:u.clientName||"N/A"}),s.jsx("p",{children:u.clientEmail||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Amount"}),s.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["$",Number(u.totalAmount||0).toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Due Date"}),s.jsx("p",{children:u.dueDate?new Date(u.dueDate).toLocaleDateString():"N/A"})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 ml-6",children:[u.status==="draft"&&s.jsxs(s.Fragment,{children:[s.jsx(ze,{href:`/edit-invoice/${u.id}`,children:s.jsx(D,{variant:"outline",size:"sm",children:s.jsx(Or,{className:"h-4 w-4"})})}),s.jsx(D,{size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white",onClick:()=>o.mutate({invoiceId:u.id}),disabled:o.isPending,children:s.jsx(Hr,{className:"h-4 w-4"})}),s.jsx(D,{variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700",onClick:()=>l.mutate(u.id),disabled:l.isPending,children:s.jsx(Jn,{className:"h-4 w-4"})})]}),u.status==="sent"&&s.jsx(D,{variant:"outline",size:"sm",children:s.jsx(fn,{className:"h-4 w-4"})})]})]})})},u.id))})]})]})}const tA=[{value:"cash",label:"Cash",icon:is},{value:"check",label:"Check",icon:pj},{value:"credit_card",label:"Credit Card",icon:Wo},{value:"bank_transfer",label:"Bank Transfer",icon:is},{value:"paypal",label:"PayPal",icon:Wo},{value:"stripe",label:"Stripe",icon:Wo},{value:"other",label:"Other",icon:is}];function bM({invoiceId:e,clientId:t,showHeader:n=!0}){const[r,a]=b.useState(!1),[i,o]=b.useState(null),{toast:l}=mt(),c=qr(),[d,u]=b.useState({amount:"",paymentDate:new Date().toISOString().split("T")[0],paymentMethod:"credit_card",reference:"",notes:"",isDeposit:!1,invoiceId:e||"",clientId:t||""}),{data:h=[],isLoading:f}=he({queryKey:e?["/api/invoices",e,"payments"]:["/api/payments"],queryFn:async()=>{if(e)return ke("GET",`/api/invoices/${e}/payments`);const w=await ke("GET","/api/payments");return t?w.filter(S=>S.clientId===t):w}}),{data:g}=he({queryKey:["/api/invoices",e],enabled:!!e,queryFn:()=>ke("GET",`/api/invoices/${e}`)}),m=Se({mutationFn:w=>ke("POST","/api/payments",w),onSuccess:()=>{c.invalidateQueries({queryKey:["/api/payments"]}),c.invalidateQueries({queryKey:["/api/invoices"]}),e&&(c.invalidateQueries({queryKey:["/api/invoices",e,"payments"]}),c.invalidateQueries({queryKey:["/api/invoices",e]})),l({title:"Payment recorded",description:"Payment has been successfully recorded."}),a(!1),u({amount:"",paymentDate:new Date().toISOString().split("T")[0],paymentMethod:"credit_card",reference:"",notes:"",isDeposit:!1,invoiceId:e||"",clientId:t||""})},onError:()=>{l({title:"Error",description:"Failed to record payment.",variant:"destructive"})}}),p=Se({mutationFn:({id:w,data:S})=>ke("PUT",`/api/payments/${w}`,S),onSuccess:()=>{c.invalidateQueries({queryKey:["/api/payments"]}),c.invalidateQueries({queryKey:["/api/invoices"]}),o(null),l({title:"Payment updated",description:"Payment has been successfully updated."})}}),x=Se({mutationFn:w=>ke("DELETE",`/api/payments/${w}`),onSuccess:()=>{c.invalidateQueries({queryKey:["/api/payments"]}),c.invalidateQueries({queryKey:["/api/invoices"]}),l({title:"Payment deleted",description:"Payment has been successfully deleted."})}}),v=w=>{w.preventDefault(),i?p.mutate({id:i.id,data:d}):m.mutate(d)},y=w=>{const S=tA.find(_=>_.value===w),k=(S==null?void 0:S.icon)||is;return s.jsx(k,{className:"h-4 w-4"})},j=()=>h.reduce((w,S)=>w+parseFloat(S.amount),0),N=()=>g?parseFloat(g.totalAmount||"0")-j():0;return s.jsxs("div",{className:"space-y-4",children:[n&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Payment Tracking"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Track and manage payments for ",e?"this invoice":"all invoices"]})]}),s.jsxs(ut,{open:r||!!i,onOpenChange:w=>{a(w),w||o(null)},children:[s.jsx(Ns,{asChild:!0,children:s.jsxs(D,{"data-testid":"button-add-payment",children:[s.jsx(st,{className:"h-4 w-4 mr-2"}),"Record Payment"]})}),s.jsxs(lt,{children:[s.jsxs(ct,{children:[s.jsx(dt,{children:i?"Edit Payment":"Record New Payment"}),s.jsx(Gt,{children:i?"Update payment details":"Add a new payment record"})]}),s.jsxs("form",{onSubmit:v,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"amount",children:"Amount *"}),s.jsx(te,{id:"amount",type:"number",step:"0.01",min:"0",value:d.amount,onChange:w=>u({...d,amount:w.target.value}),placeholder:"0.00",required:!0,"data-testid":"input-payment-amount"})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"paymentDate",children:"Payment Date *"}),s.jsx(te,{id:"paymentDate",type:"date",value:d.paymentDate,onChange:w=>u({...d,paymentDate:w.target.value}),required:!0,"data-testid":"input-payment-date"})]})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"paymentMethod",children:"Payment Method"}),s.jsxs(Ke,{value:d.paymentMethod,onValueChange:w=>u({...d,paymentMethod:w}),children:[s.jsx(He,{"data-testid":"select-payment-method",children:s.jsx(Ge,{})}),s.jsx(qe,{children:tA.map(w=>s.jsx(Q,{value:w.value,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(w.icon,{className:"h-4 w-4"}),w.label]})},w.value))})]})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"reference",children:"Reference/Transaction ID"}),s.jsx(te,{id:"reference",value:d.reference,onChange:w=>u({...d,reference:w.target.value}),placeholder:"Check number, transaction ID, etc.","data-testid":"input-payment-reference"})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"notes",children:"Notes"}),s.jsx(it,{id:"notes",value:d.notes,onChange:w=>u({...d,notes:w.target.value}),placeholder:"Additional notes about this payment","data-testid":"textarea-payment-notes"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"isDeposit",checked:d.isDeposit,onChange:w=>u({...d,isDeposit:w.target.checked}),"data-testid":"checkbox-is-deposit"}),s.jsx(W,{htmlFor:"isDeposit",children:"This is a deposit payment"})]}),s.jsxs(Ra,{children:[s.jsx(D,{type:"button",variant:"outline",onClick:()=>{a(!1),o(null)},children:"Cancel"}),s.jsx(D,{type:"submit",disabled:m.isPending||p.isPending,"data-testid":"button-save-payment",children:i?"Update Payment":"Record Payment"})]})]})]})]})]}),g&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(B,{children:[s.jsx(ae,{className:"pb-3",children:s.jsx(ie,{className:"text-sm font-medium",children:"Invoice Total"})}),s.jsx(q,{children:s.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:["$",parseFloat(g.totalAmount||"0").toFixed(2)]})})]}),s.jsxs(B,{children:[s.jsx(ae,{className:"pb-3",children:s.jsx(ie,{className:"text-sm font-medium",children:"Total Paid"})}),s.jsx(q,{children:s.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",j().toFixed(2)]})})]}),s.jsxs(B,{children:[s.jsx(ae,{className:"pb-3",children:s.jsx(ie,{className:"text-sm font-medium",children:"Balance Due"})}),s.jsx(q,{children:s.jsxs("div",{className:`text-2xl font-bold ${N()>0?"text-orange-600":"text-green-600"}`,children:["$",N().toFixed(2)]})})]})]}),s.jsxs(B,{children:[s.jsxs(ae,{children:[s.jsx(ie,{className:"text-base",children:"Payment History"}),s.jsxs(Lt,{children:[h.length," payment",h.length!==1?"s":""," recorded"]})]}),s.jsx(q,{children:f?s.jsx("div",{className:"text-center py-4",children:"Loading payments..."}):h.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Wo,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No payments recorded yet"})]}):s.jsx("div",{className:"space-y-2",children:h.map(w=>{var S;return s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border hover:bg-muted/50","data-testid":`payment-${w.id}`,children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:y(w.paymentMethod||"other")}),s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium",children:["$",parseFloat(w.amount).toFixed(2)]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[Me(new Date(w.paymentDate),"MMM dd, yyyy"),"  ",(S=tA.find(k=>k.value===w.paymentMethod))==null?void 0:S.label,w.isDeposit&&s.jsx(Z,{variant:"secondary",className:"ml-2",children:"Deposit"})]}),w.reference&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Ref: ",w.reference]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(D,{variant:"ghost",size:"sm",onClick:()=>{o(w),u({amount:w.amount,paymentDate:w.paymentDate,paymentMethod:w.paymentMethod,reference:w.reference,notes:w.notes,isDeposit:w.isDeposit})},"data-testid":`button-edit-payment-${w.id}`,children:s.jsx(Or,{className:"h-4 w-4"})}),s.jsx(D,{variant:"ghost",size:"sm",onClick:()=>{confirm("Are you sure you want to delete this payment?")&&x.mutate(w.id)},"data-testid":`button-delete-payment-${w.id}`,children:s.jsx(Jn,{className:"h-4 w-4 text-red-600"})})]})]},w.id)})})})]})]})}function Qdt(){const[e,t]=Sxe("/invoices/:id"),n=t==null?void 0:t.id,{data:r,isLoading:a}=he({queryKey:["/api/invoices",n],enabled:!!n,queryFn:async()=>{const l=await fetch(`/api/invoices/${n}`);if(!l.ok)throw new Error("Failed to fetch invoice");return l.json()}}),i=l=>{switch(l){case"draft":return"secondary";case"sent":return"default";case"paid":return"outline";case"overdue":return"destructive";default:return"secondary"}},o=l=>{switch(l){case"draft":return"text-gray-600";case"sent":return"text-blue-600";case"paid":return"text-green-600";case"overdue":return"text-red-600";default:return"text-gray-600"}};return a?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(pt,{}),s.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#FF7F00] mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading invoice details..."})]})})]}):r?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(pt,{}),s.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(ze,{href:"/invoices",children:s.jsxs(D,{variant:"ghost",size:"sm","data-testid":"button-back-to-invoices",children:[s.jsx(ln,{className:"h-4 w-4 mr-2"}),"Back to Invoices"]})}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Invoice #",r.invoiceNumber||r.id.slice(0,8)]}),s.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[s.jsx(Z,{variant:i(r.status),className:o(r.status),children:r.status.toUpperCase()}),s.jsxs("span",{className:"text-gray-500",children:["Created ",Me(new Date(r.createdAt),"MMM dd, yyyy")]})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(D,{variant:"outline",onClick:()=>window.open(`/api/invoices/${r.id}/pdf`,"_blank"),"data-testid":"button-download-pdf",children:[s.jsx(kn,{className:"h-4 w-4 mr-2"}),"Download PDF"]}),s.jsx(ze,{href:`/edit-invoice/${r.id}`,children:s.jsxs(D,{variant:"outline","data-testid":"button-edit-invoice",children:[s.jsx(Or,{className:"h-4 w-4 mr-2"}),"Edit"]})}),r.status==="draft"&&s.jsxs(D,{onClick:()=>{},className:"bg-[#FF7F00] hover:bg-[#e6720a] text-white","data-testid":"button-send-invoice",children:[s.jsx(Hr,{className:"h-4 w-4 mr-2"}),"Send Invoice"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-2 space-y-6",children:s.jsxs(B,{children:[s.jsx(ae,{children:s.jsxs(ie,{className:"flex items-center",children:[s.jsx(nt,{className:"h-5 w-5 mr-2"}),"Invoice Details"]})}),s.jsxs(q,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Bill To:"}),s.jsxs("div",{className:"text-gray-700",children:[s.jsx("p",{className:"font-medium",children:r.clientName}),s.jsx("p",{children:r.clientEmail}),r.clientAddress&&s.jsx("p",{className:"whitespace-pre-line",children:r.clientAddress})]})]}),s.jsx(_s,{}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Invoice Date"}),s.jsx("p",{className:"text-gray-900",children:r.invoiceDate?Me(new Date(r.invoiceDate),"MMM dd, yyyy"):"Not set"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Due Date"}),s.jsx("p",{className:"text-gray-900",children:r.dueDate?Me(new Date(r.dueDate),"MMM dd, yyyy"):"Not set"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Project"}),s.jsx("p",{className:"text-gray-900",children:r.projectDescription||"Professional Services"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Total Amount"}),s.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["$",parseFloat(r.totalAmount||"0").toFixed(2)]})]})]}),s.jsx(_s,{}),r.lineItems&&r.lineItems.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Line Items"}),s.jsx("div",{className:"space-y-2",children:r.lineItems.map((l,c)=>s.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:l.description}),s.jsxs("p",{className:"text-sm text-gray-600",children:[l.quantity,"  $",parseFloat(l.rate.toString()).toFixed(2)]})]}),s.jsx("div",{className:"text-right",children:s.jsxs("p",{className:"font-medium",children:["$",parseFloat(l.amount.toString()).toFixed(2)]})})]},c))})]}),r.notes&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Notes"}),s.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:r.notes})]})]})]})}),s.jsx("div",{className:"lg:col-span-1",children:s.jsx(bM,{invoiceId:r.id,clientId:r.clientId||"",showHeader:!1})})]}),s.jsx("div",{className:"mt-8",children:s.jsx(bM,{invoiceId:r.id,clientId:r.clientId||"",showHeader:!0})})]})]}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(pt,{}),s.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Invoice Not Found"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"The invoice you're looking for doesn't exist."}),s.jsx(ze,{href:"/invoices",children:s.jsx(D,{className:"mt-4",children:"Back to Invoices"})})]})})]})}function Zdt(){const{toast:e}=mt(),{id:t}=W2(),n=qr(),[r,a]=b.useState(!1),[i,o]=b.useState({invoiceNumber:"",projectId:"",clientName:"",clientEmail:"",clientAddress:"",invoiceDate:"",dueDate:"",notes:"",taxRate:0,discountAmount:0}),[l,c]=b.useState([{id:1,description:"",quantity:1,rate:0,amount:0}]),[d,u]=b.useState(0),[h,f]=b.useState(0),{data:g,isLoading:m}=he({queryKey:["/api/invoices",t],queryFn:()=>ke("GET",`/api/invoices/${t}`)});he({queryKey:["/api/projects"]});const p=Se({mutationFn:P=>ke("PUT",`/api/invoices/${t}`,P),onSuccess:P=>{e({title:"Invoice updated",description:"Your invoice has been updated successfully."}),n.invalidateQueries({queryKey:["/api/invoices"]})},onError:()=>{e({title:"Error",description:"Failed to update invoice.",variant:"destructive"})}}),x=Se({mutationFn:()=>ke("POST",`/api/invoices/${t}/send`,{includePDF:!0}),onSuccess:P=>{e({title:"Invoice sent!",description:P.message||"Invoice has been sent successfully"}),window.location.href="/invoices"},onError:()=>{e({title:"Error",description:"Failed to send invoice email.",variant:"destructive"})}});b.useEffect(()=>{var P,C;g&&(o({invoiceNumber:g.invoiceNumber||"",projectId:g.projectId||"",clientName:g.clientName||"",clientEmail:g.clientEmail||"",clientAddress:g.clientAddress||"",invoiceDate:g.invoiceDate||"",dueDate:g.dueDate||"",notes:g.notes||"",taxRate:Number(g.taxRate)||0,discountAmount:Number(g.discountAmount)||0}),g.lineItems&&g.lineItems.length>0&&c(g.lineItems),u(((P=g.notes)==null?void 0:P.length)||0),f(((C=g.clientAddress)==null?void 0:C.length)||0))},[g]);const v=()=>{const P=Math.max(...l.map(C=>C.id))+1;c([...l,{id:P,description:"",quantity:1,rate:0,amount:0}])},y=P=>{l.length>1&&c(l.filter(C=>C.id!==P))},j=(P,C,A)=>{c(l.map(E=>{if(E.id===P){const I={...E,[C]:A};return(C==="quantity"||C==="rate")&&(I.amount=Number(I.quantity)*Number(I.rate)),I}return E}))},N=()=>l.reduce((P,C)=>P+C.amount,0),w=()=>N()*(i.taxRate/100),S=()=>N()+w()-i.discountAmount,k=()=>{const P={...i,taxRate:i.taxRate,discountAmount:i.discountAmount,lineItems:l,subtotal:N(),taxAmount:w(),totalAmount:S()};p.mutate(P)},_=()=>{x.mutate()},T=(P,C)=>{o(A=>({...A,[P]:C}))};return m?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(pt,{}),s.jsx("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#FF7F00] mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading invoice..."})]})})]}):g?g.status!=="draft"?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(pt,{}),s.jsx("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Cannot edit sent invoice"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Only draft invoices can be edited."}),s.jsx(ze,{href:"/invoices",children:s.jsxs(D,{children:[s.jsx(ln,{className:"h-4 w-4 mr-2"}),"Back to Invoices"]})})]})})]}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(pt,{}),s.jsxs("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(ze,{href:"/invoices",children:s.jsxs(D,{variant:"ghost",size:"sm",children:[s.jsx(ln,{className:"h-4 w-4 mr-2"}),"Back to Invoices"]})}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(pj,{className:"h-8 w-8 text-[#FF7F00]"}),"Edit Invoice"]}),s.jsxs("p",{className:"mt-2 text-gray-600",children:["#",i.invoiceNumber]})]})]}),s.jsx(Z,{variant:"secondary",children:"Draft"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(B,{children:[s.jsx(ae,{children:s.jsxs(ie,{className:"flex items-center gap-2",children:["Client Information",s.jsx(Z,{variant:"outline",className:"text-xs",children:"required"})]})}),s.jsxs(q,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"clientName",children:"Client Name"}),s.jsx(te,{id:"clientName",placeholder:"Enter client name",value:i.clientName,onChange:P=>T("clientName",P.target.value),className:"border-blue-200 focus:border-blue-500"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"clientEmail",children:"Client Email"}),s.jsx(te,{id:"clientEmail",type:"email",placeholder:"client@company.com",value:i.clientEmail,onChange:P=>T("clientEmail",P.target.value),className:"border-blue-200 focus:border-blue-500"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(W,{className:"flex items-center gap-2",children:["Client Address",s.jsx(Z,{variant:"outline",className:"text-xs",children:"textarea"})]}),s.jsx(it,{placeholder:"Enter client billing address...",rows:3,className:"min-h-[80px] resize-y bg-orange-50 border-orange-200 focus:border-orange-500",maxLength:500,value:i.clientAddress,onChange:P=>{T("clientAddress",P.target.value),f(P.target.value.length)}}),s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsx("span",{children:" Client's billing address"}),s.jsxs("span",{className:"font-medium",children:[h," / 500 characters"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"invoiceDate",children:"Invoice Date"}),s.jsx(te,{id:"invoiceDate",type:"date",value:i.invoiceDate,onChange:P=>T("invoiceDate",P.target.value),className:"border-blue-200 focus:border-blue-500"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"dueDate",children:"Due Date"}),s.jsx(te,{id:"dueDate",type:"date",value:i.dueDate,onChange:P=>T("dueDate",P.target.value),className:"border-blue-200 focus:border-blue-500"})]})]})]})]}),s.jsxs(B,{children:[s.jsx(ae,{children:s.jsxs(ie,{className:"flex items-center gap-2",children:["Billable Items",s.jsx(Z,{variant:"outline",className:"text-xs",children:"line items"})]})}),s.jsx(q,{children:s.jsx("div",{className:"border-2 border-green-200 rounded-lg p-4 bg-green-50",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h4",{className:"font-medium text-green-900",children:"Services & Products"}),s.jsxs(D,{size:"sm",variant:"outline",className:"text-xs",onClick:v,children:[s.jsx(st,{className:"h-3 w-3 mr-1"}),"Add Item"]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-green-300",children:[s.jsx("th",{className:"text-left py-2 px-2 font-medium text-green-800",children:"Description"}),s.jsx("th",{className:"text-center py-2 px-2 font-medium text-green-800 w-20",children:"Qty"}),s.jsx("th",{className:"text-right py-2 px-2 font-medium text-green-800 w-24",children:"Rate"}),s.jsx("th",{className:"text-right py-2 px-2 font-medium text-green-800 w-20",children:"Amount"}),s.jsx("th",{className:"w-8"})]})}),s.jsx("tbody",{children:l.map(P=>s.jsxs("tr",{className:"border-b border-green-100",children:[s.jsx("td",{className:"py-2 px-2",children:s.jsx(te,{placeholder:"Service or product description...",className:"text-xs border-green-300",value:P.description,onChange:C=>j(P.id,"description",C.target.value)})}),s.jsx("td",{className:"py-2 px-2",children:s.jsx(te,{type:"number",placeholder:"1",className:"text-xs text-center border-green-300",value:P.quantity,onChange:C=>j(P.id,"quantity",Number(C.target.value)),min:"0",step:"1"})}),s.jsx("td",{className:"py-2 px-2",children:s.jsxs("div",{className:"relative",children:[s.jsx(te,{type:"number",placeholder:"100.00",className:"text-xs text-right border-green-300 pl-4",value:P.rate,onChange:C=>j(P.id,"rate",Number(C.target.value)),min:"0",step:"0.01"}),s.jsx("span",{className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-xs text-gray-500",children:"$"})]})}),s.jsx("td",{className:"py-2 px-2",children:s.jsxs("div",{className:"text-xs font-medium text-right px-2 py-1.5 bg-green-100 rounded border border-green-300",children:["$",P.amount.toFixed(2)]})}),s.jsx("td",{className:"py-2 px-1",children:s.jsx(D,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-red-500",onClick:()=>y(P.id),disabled:l.length===1,children:s.jsx(Kt,{className:"h-3 w-3"})})})]},P.id))}),s.jsx("tfoot",{children:s.jsxs("tr",{children:[s.jsx("td",{colSpan:3,className:"text-right py-2 px-2 font-medium text-green-900",children:"Subtotal:"}),s.jsx("td",{className:"py-2 px-2",children:s.jsxs("div",{className:"text-sm font-bold text-right px-2 py-1.5 bg-green-200 rounded border border-green-400",children:["$",N().toFixed(2)]})}),s.jsx("td",{})]})})]})})]})})})]}),s.jsxs(B,{children:[s.jsx(ae,{children:s.jsx(ie,{children:"Tax & Discounts"})}),s.jsxs(q,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"taxRate",children:"Tax Rate (%)"}),s.jsx(te,{id:"taxRate",type:"number",placeholder:"0",value:i.taxRate,onChange:P=>T("taxRate",Number(P.target.value)),min:"0",max:"100",step:"0.01",className:"border-blue-200 focus:border-blue-500"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"discountAmount",children:"Discount Amount ($)"}),s.jsx(te,{id:"discountAmount",type:"number",placeholder:"0.00",value:i.discountAmount,onChange:P=>T("discountAmount",Number(P.target.value)),min:"0",step:"0.01",className:"border-blue-200 focus:border-blue-500"})]})]}),s.jsx("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Subtotal:"}),s.jsxs("span",{children:["$",N().toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{children:["Tax (",i.taxRate,"%):"]}),s.jsxs("span",{children:["$",w().toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Discount:"}),s.jsxs("span",{children:["-$",i.discountAmount.toFixed(2)]})]}),s.jsx("hr",{className:"my-2"}),s.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[s.jsx("span",{children:"Total:"}),s.jsxs("span",{children:["$",S().toFixed(2)]})]})]})})]})]}),s.jsxs(B,{children:[s.jsx(ae,{children:s.jsxs(ie,{className:"flex items-center gap-2",children:["Notes & Terms",s.jsx(Z,{variant:"outline",className:"text-xs",children:"textarea"})]})}),s.jsxs(q,{children:[s.jsx(it,{placeholder:"Payment terms, additional notes...",rows:4,className:"min-h-[100px] resize-y bg-orange-50 border-orange-200 focus:border-orange-500",maxLength:1e3,value:i.notes,onChange:P=>{T("notes",P.target.value),u(P.target.value.length)}}),s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-2",children:[s.jsx("span",{children:" Payment terms, special instructions, etc."}),s.jsxs("span",{className:"font-medium",children:[d," / 1,000 characters"]})]})]})]}),s.jsx(B,{children:s.jsx(q,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[s.jsxs(D,{variant:"outline",onClick:()=>a(!0),children:[s.jsx(fn,{className:"h-4 w-4 mr-2"}),"Preview"]}),s.jsxs(D,{onClick:k,disabled:p.isPending,children:[s.jsx(Au,{className:"h-4 w-4 mr-2"}),p.isPending?"Updating...":"Update Invoice"]}),s.jsxs(D,{onClick:_,disabled:x.isPending,children:[x.isPending?s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):s.jsx(Hr,{className:"h-4 w-4 mr-2"}),"Send Invoice"]})]})})})]})]})]}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(pt,{}),s.jsx("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Invoice not found"}),s.jsx(ze,{href:"/invoices",children:s.jsxs(D,{children:[s.jsx(ln,{className:"h-4 w-4 mr-2"}),"Back to Invoices"]})})]})})]})}const Jdt=[{value:"cash",label:"Cash",icon:is},{value:"check",label:"Check",icon:pj},{value:"credit_card",label:"Credit Card",icon:Wo},{value:"bank_transfer",label:"Bank Transfer",icon:is},{value:"paypal",label:"PayPal",icon:Wo},{value:"stripe",label:"Stripe",icon:Wo},{value:"other",label:"Other",icon:is}];function eut(){const[e,t]=b.useState(""),{data:n=[],isLoading:r}=he({queryKey:["/api/payments"]}),{data:a=[]}=he({queryKey:["/api/invoices"]}),{data:i=[]}=he({queryKey:["/api/clients"]}),o=g=>a.find(m=>m.id===g),l=g=>i.find(m=>m.id===g),c=g=>Jdt.find(m=>m.value===g),d=n.filter(g=>{var v,y,j,N,w;const m=o(g.invoiceId||""),p=l(g.clientId||""),x=e.toLowerCase();return g.amount.includes(x)||((v=g.reference)==null?void 0:v.toLowerCase().includes(x))||((y=m==null?void 0:m.invoiceNumber)==null?void 0:y.toLowerCase().includes(x))||((j=p==null?void 0:p.name)==null?void 0:j.toLowerCase().includes(x))||((N=p==null?void 0:p.email)==null?void 0:N.toLowerCase().includes(x))||((w=g.paymentMethod)==null?void 0:w.toLowerCase().includes(x))}),u=n.reduce((g,m)=>g+parseFloat(m.amount),0),h=n.filter(g=>{const m=new Date(g.paymentDate),p=new Date;return m.getMonth()===p.getMonth()&&m.getFullYear()===p.getFullYear()}).reduce((g,m)=>g+parseFloat(m.amount),0),f=n.filter(g=>g.isDeposit).reduce((g,m)=>g+parseFloat(m.amount),0);return r?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(pt,{}),s.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#FF7F00] mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading payments..."})]})})]}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(pt,{}),s.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("div",{className:"flex items-center justify-between mb-8",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Payment Tracking"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Track and manage all client payments"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsxs(B,{children:[s.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ie,{className:"text-sm font-medium",children:"Total Payments"}),s.jsx(is,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(q,{children:[s.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",u.toFixed(2)]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.length," payment",n.length!==1?"s":""]})]})]}),s.jsxs(B,{children:[s.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ie,{className:"text-sm font-medium",children:"This Month"}),s.jsx(en,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(q,{children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:["$",h.toFixed(2)]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Current month payments"})]})]}),s.jsxs(B,{children:[s.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ie,{className:"text-sm font-medium",children:"Deposits"}),s.jsx(ra,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(q,{children:[s.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:["$",f.toFixed(2)]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Deposit payments"})]})]}),s.jsxs(B,{children:[s.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(ie,{className:"text-sm font-medium",children:"Average Payment"}),s.jsx(pj,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(q,{children:[s.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:["$",n.length>0?(u/n.length).toFixed(2):"0.00"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Per payment average"})]})]})]}),s.jsx(B,{className:"mb-6",children:s.jsx(q,{className:"p-6",children:s.jsxs("div",{className:"relative",children:[s.jsx(Ya,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(te,{placeholder:"Search by amount, reference, invoice, client, or payment method...",value:e,onChange:g=>t(g.target.value),className:"pl-10","data-testid":"input-search-payments"})]})})}),s.jsx(bM,{showHeader:!0}),s.jsxs(B,{className:"mt-8",children:[s.jsxs(ae,{children:[s.jsx(ie,{children:"All Payments"}),s.jsxs(Lt,{children:[d.length," of ",n.length," payment",n.length!==1?"s":""]})]}),s.jsx(q,{children:d.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Wo,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:e?"No payments match your search":"No payments recorded yet"})]}):s.jsx("div",{className:"space-y-3",children:d.map(g=>{const m=o(g.invoiceId||""),p=l(g.clientId||""),x=c(g.paymentMethod||"other"),v=(x==null?void 0:x.icon)||is;return s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border hover:bg-muted/50","data-testid":`payment-item-${g.id}`,children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:s.jsx(v,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("span",{className:"text-lg font-semibold text-green-600",children:["$",parseFloat(g.amount).toFixed(2)]}),g.isDeposit&&s.jsx(Z,{variant:"secondary",children:"Deposit"})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[Me(new Date(g.paymentDate),"MMM dd, yyyy"),"  ",x==null?void 0:x.label]}),p&&s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Client: ",s.jsx(ze,{href:`/client/${p.id}`,className:"text-blue-600 hover:underline",children:p.name})]}),m&&s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Invoice: ",s.jsxs(ze,{href:`/invoices/${m.id}`,className:"text-blue-600 hover:underline",children:["#",m.invoiceNumber||m.id.slice(0,8)]})]}),g.reference&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Ref: ",g.reference]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Payment #",g.id.slice(0,8)]}),g.notes&&s.jsx("div",{className:"text-xs text-muted-foreground max-w-xs truncate",children:g.notes})]})]},g.id)})})})]})]})]})}function tut(){var ve;const{toast:e}=mt(),[t,n]=b.useState(!1),[r,a]=b.useState({contractTitle:"",contractType:"",projectId:"",clientName:"",clientEmail:"",clientAddress:"",contractValue:0,startDate:"",endDate:"",paymentTerms:"",scope:"",deliverables:"",responsibilities:"",termination:"",confidentiality:"",disputeResolution:"",governingLaw:"",signatures:""}),[i,o]=b.useState(0),[l,c]=b.useState(0),[d,u]=b.useState(0),[h,f]=b.useState(0),[g,m]=b.useState(0),[p,x]=b.useState(0),[v,y]=b.useState(!1),[j,N]=b.useState(!1),[w,S]=b.useState(!1),[k,_]=b.useState(!1),[T,P]=b.useState(!1),[C,A]=b.useState(!1),{data:E=[]}=he({queryKey:["/api/projects"]}),[I,$]=b.useState(null),U=Se({mutationFn:async ne=>await(await ke("POST","/api/contracts",ne)).json(),onSuccess:ne=>{console.log("Save response:",ne),ne&&ne.id?($(ne.id),e({title:"Contract saved",description:"Your contract has been saved successfully."})):e({title:"Error",description:"Contract save failed - invalid response format",variant:"destructive"})},onError:()=>{e({title:"Error",description:"Failed to save contract.",variant:"destructive"})}}),M=Se({mutationFn:async ne=>await(await ke("POST",`/api/contracts/${ne}/save-to-filing-cabinet`)).json(),onSuccess:ne=>{e({title:"Saved to Filing Cabinet!",description:ne.message||"Contract PDF saved to Filing Cabinet successfully"})},onError:()=>{e({title:"Error",description:"Failed to save contract to Filing Cabinet.",variant:"destructive"})}}),F=()=>{const ne={...r,type:"contract"};U.mutate(ne)},V=(ne,be)=>{a(ge=>({...ge,[ne]:be}))},Y=async()=>{if(!r.contractTitle.trim()&&!r.clientName.trim()){e({title:"Contract Title or Client Required",description:"Please enter a contract title or client name before generating scope.",variant:"destructive"});return}y(!0);try{const ne=await fetch("/api/ai/generate-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"contract_scope",contractTitle:r.contractTitle,clientName:r.clientName,contractValue:r.contractValue,context:`Generate detailed scope of work for contract "${r.contractTitle}" with client "${r.clientName}" valued at $${r.contractValue}.`})});if(!ne.ok)throw new Error("Failed to generate scope");const be=await ne.json();V("scope",be.content),o(be.content.length),e({title:"Scope Generated!",description:"AI has created a detailed scope of work."})}catch{e({title:"Generation Failed",description:"Failed to generate scope of work. Please try again.",variant:"destructive"})}finally{y(!1)}},K=async()=>{if(!r.contractTitle.trim()&&!r.scope.trim()){e({title:"Contract Title or Scope Required",description:"Please enter a contract title or scope before generating deliverables.",variant:"destructive"});return}N(!0);try{const ne=await fetch("/api/ai/generate-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"contract_deliverables",contractTitle:r.contractTitle,scope:r.scope,contractValue:r.contractValue,context:`Generate specific deliverables and milestones for contract "${r.contractTitle}" with scope: ${r.scope.substring(0,200)}...`})});if(!ne.ok)throw new Error("Failed to generate deliverables");const be=await ne.json();V("deliverables",be.content),c(be.content.length),e({title:"Deliverables Generated!",description:"AI has created detailed deliverables and milestones."})}catch{e({title:"Generation Failed",description:"Failed to generate deliverables. Please try again.",variant:"destructive"})}finally{N(!1)}},z=async()=>{if(!r.contractValue&&!r.contractTitle.trim()){e({title:"Contract Value or Title Required",description:"Please enter contract value or title before generating payment terms.",variant:"destructive"});return}S(!0);try{const ne=await fetch("/api/ai/generate-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"contract_payment_terms",contractValue:r.contractValue,contractTitle:r.contractTitle,startDate:r.startDate,endDate:r.endDate,context:`Generate professional payment terms for contract "${r.contractTitle}" valued at $${r.contractValue} from ${r.startDate} to ${r.endDate}.`})});if(!ne.ok)throw new Error("Failed to generate payment terms");const be=await ne.json();V("paymentTerms",be.content),f(be.content.length),e({title:"Payment Terms Generated!",description:"AI has created professional payment terms."})}catch{e({title:"Generation Failed",description:"Failed to generate payment terms. Please try again.",variant:"destructive"})}finally{S(!1)}},L=async()=>{if(!r.contractTitle.trim()&&!r.clientName.trim()){e({title:"Contract Title or Client Required",description:"Please enter a contract title or client name before generating responsibilities.",variant:"destructive"});return}_(!0);try{const ne=await fetch("/api/ai/generate-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"contract_responsibilities",contractTitle:r.contractTitle,clientName:r.clientName,scope:r.scope,context:`Generate clear responsibilities for both parties in contract "${r.contractTitle}" with client "${r.clientName}".`})});if(!ne.ok)throw new Error("Failed to generate responsibilities");const be=await ne.json();V("responsibilities",be.content),u(be.content.length),e({title:"Responsibilities Generated!",description:"AI has defined responsibilities for both parties."})}catch{e({title:"Generation Failed",description:"Failed to generate responsibilities. Please try again.",variant:"destructive"})}finally{_(!1)}},ee=async()=>{if(!r.contractTitle.trim()){e({title:"Contract Title Required",description:"Please enter a contract title before generating legal terms.",variant:"destructive"});return}P(!0);try{const ne=await fetch("/api/ai/generate-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"contract_legal",contractTitle:r.contractTitle,contractValue:r.contractValue,context:`Generate legal termination clause for contract "${r.contractTitle}" valued at $${r.contractValue}.`})});if(!ne.ok)throw new Error("Failed to generate legal terms");const be=await ne.json();V("termination",be.content),m(be.content.length),e({title:"Legal Terms Generated!",description:"AI has created professional termination clauses."})}catch{e({title:"Generation Failed",description:"Failed to generate legal terms. Please try again.",variant:"destructive"})}finally{P(!1)}},le=async()=>{if(!r.contractTitle.trim()&&!r.clientName.trim()){e({title:"Contract Title or Client Required",description:"Please enter a contract title or client name before generating confidentiality terms.",variant:"destructive"});return}A(!0);try{const ne=await fetch("/api/ai/generate-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"contract_confidentiality",contractTitle:r.contractTitle,clientName:r.clientName,context:`Generate comprehensive confidentiality and non-disclosure terms for contract "${r.contractTitle}" with client "${r.clientName}".`})});if(!ne.ok)throw new Error("Failed to generate confidentiality terms");const be=await ne.json();V("confidentiality",be.content),x(be.content.length),e({title:"Confidentiality Terms Generated!",description:"AI has created comprehensive confidentiality clauses."})}catch{e({title:"Generation Failed",description:"Failed to generate confidentiality terms. Please try again.",variant:"destructive"})}finally{A(!1)}};return t?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(pt,{}),s.jsxs("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs(D,{variant:"outline",onClick:()=>n(!1),className:"bg-white border-2 border-blue-500 text-blue-600 hover:bg-blue-50 font-medium",children:[s.jsx(ln,{className:"h-4 w-4 mr-2"}),"Back to Editor"]}),s.jsxs("div",{className:"space-x-2",children:[s.jsxs(Zf,{children:[s.jsx(Jf,{asChild:!0,children:s.jsxs(D,{variant:"outline","data-testid":"button-export-options",children:[s.jsx(kn,{className:"h-4 w-4 mr-2"}),"Export PDF",s.jsx(Yo,{className:"h-4 w-4 ml-2"})]})}),s.jsxs(Qu,{align:"end",children:[s.jsxs(Ca,{onClick:()=>{I?window.open(`/api/contracts/${I}/pdf`,"_blank"):e({title:"Error",description:"Please save the contract first to export PDF.",variant:"destructive"})},disabled:!I,"data-testid":"menu-download-pdf",children:[s.jsx(kn,{className:"h-4 w-4 mr-2"}),"Save to Device"]}),s.jsxs(Ca,{onClick:()=>{I?M.mutate(I):e({title:"Error",description:"Please save the contract first to save to Filing Cabinet.",variant:"destructive"})},disabled:!I||M.isPending,"data-testid":"menu-save-filing-cabinet",children:[s.jsx(ls,{className:"h-4 w-4 mr-2"}),"Save to Filing Cabinet"]})]})]}),s.jsxs(D,{onClick:F,children:[s.jsx(Hr,{className:"h-4 w-4 mr-2"}),"Send Contract"]})]})]}),s.jsx(B,{className:"mb-8",children:s.jsxs(q,{className:"p-8 space-y-8",children:[s.jsxs("div",{className:"text-center border-b pb-6",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:r.contractTitle||"Service Agreement"}),s.jsx("p",{className:"text-gray-600",children:r.contractType})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Parties"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Client:"})," ",r.clientName||"Client Name"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Email:"})," ",r.clientEmail]}),s.jsx("div",{className:"whitespace-pre-wrap",children:r.clientAddress})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Contract Details"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Start Date:"})," ",r.startDate||"TBD"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"End Date:"})," ",r.endDate||"TBD"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Value:"})," $",r.contractValue.toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Project"}),s.jsx("p",{children:((ve=E.find(ne=>ne.id===r.projectId))==null?void 0:ve.name)||"No project selected"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Scope of Work"}),s.jsx("div",{className:"whitespace-pre-wrap text-gray-700",children:r.scope||"Scope not defined"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Deliverables"}),s.jsx("div",{className:"whitespace-pre-wrap text-gray-700",children:r.deliverables||"Deliverables not specified"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Payment Terms"}),s.jsx("div",{className:"whitespace-pre-wrap text-gray-700",children:r.paymentTerms||"Payment terms not specified"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Responsibilities"}),s.jsx("div",{className:"whitespace-pre-wrap text-gray-700",children:r.responsibilities||"Responsibilities not defined"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Termination"}),s.jsx("div",{className:"whitespace-pre-wrap text-gray-700",children:r.termination||"Termination clause not specified"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Confidentiality"}),s.jsx("div",{className:"whitespace-pre-wrap text-gray-700",children:r.confidentiality||"Confidentiality terms not specified"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Dispute Resolution"}),s.jsx("div",{className:"text-gray-700",children:r.disputeResolution||"Not specified"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Governing Law"}),s.jsx("div",{className:"text-gray-700",children:r.governingLaw||"Not specified"})]})]}),s.jsxs("div",{className:"border-t pt-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Signatures"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsx("div",{className:"border-b border-gray-300 mb-2 pb-8"}),s.jsx("p",{className:"font-medium",children:"Client Signature"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Date: _______________"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"border-b border-gray-300 mb-2 pb-8"}),s.jsx("p",{className:"font-medium",children:"Service Provider Signature"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Date: _______________"})]})]})]})]})]})})]})]}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(pt,{}),s.jsxs("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("div",{className:"flex items-center justify-between mb-8",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(ze,{href:"/",children:s.jsxs(D,{variant:"ghost",size:"sm",children:[s.jsx(ln,{className:"h-4 w-4 mr-2"}),"Back"]})}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[s.jsx(Jy,{className:"h-8 w-8 text-purple-600"}),"Create Contract"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Generate professional contracts with legal terms and conditions"})]})]})}),s.jsxs("div",{className:"space-y-8",children:[s.jsxs(B,{children:[s.jsxs(ae,{children:[s.jsx(ie,{children:"Contract Information"}),s.jsx(Lt,{children:"Basic contract details and parties involved"})]}),s.jsxs(q,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"contractTitle",children:"Contract Title *"}),s.jsx(te,{id:"contractTitle",placeholder:"Service Agreement",value:r.contractTitle,onChange:ne=>V("contractTitle",ne.target.value),className:"border-purple-200 focus:border-purple-500"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"contractType",children:"Contract Type"}),s.jsxs(Ke,{value:r.contractType,onValueChange:ne=>V("contractType",ne),children:[s.jsx(He,{children:s.jsx(Ge,{placeholder:"Select contract type"})}),s.jsxs(qe,{children:[s.jsx(Q,{value:"service-agreement",children:"Service Agreement"}),s.jsx(Q,{value:"consulting",children:"Consulting Agreement"}),s.jsx(Q,{value:"development",children:"Development Contract"}),s.jsx(Q,{value:"maintenance",children:"Maintenance Agreement"}),s.jsx(Q,{value:"nda",children:"Non-Disclosure Agreement"}),s.jsx(Q,{value:"retainer",children:"Retainer Agreement"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"clientName",children:"Client Name *"}),s.jsx(te,{id:"clientName",placeholder:"Enter client name",value:r.clientName,onChange:ne=>V("clientName",ne.target.value),className:"border-blue-200 focus:border-blue-500"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"clientEmail",children:"Client Email"}),s.jsx(te,{id:"clientEmail",type:"email",placeholder:"client@company.com",value:r.clientEmail,onChange:ne=>V("clientEmail",ne.target.value),className:"border-blue-200 focus:border-blue-500"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(W,{className:"flex items-center gap-2",children:["Client Address",s.jsx(Z,{variant:"outline",className:"text-xs",children:"textarea"})]}),s.jsx(it,{placeholder:"Enter client's full business address...",rows:3,className:"min-h-[80px] resize-y bg-orange-50 border-orange-200 focus:border-orange-500",maxLength:500,value:r.clientAddress,onChange:ne=>V("clientAddress",ne.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{children:"Related Project"}),s.jsxs(Ke,{value:r.projectId,onValueChange:ne=>V("projectId",ne),children:[s.jsx(He,{children:s.jsx(Ge,{placeholder:"Select project (optional)"})}),s.jsxs(qe,{children:[s.jsx(Q,{value:"no-project",children:"No project"}),E.map(ne=>s.jsx(Q,{value:ne.id,children:ne.name},ne.id))]})]})]})]})]}),s.jsxs(B,{children:[s.jsx(ae,{children:s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(en,{className:"h-5 w-5"}),"Contract Terms"]})}),s.jsx(q,{className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"startDate",children:"Start Date"}),s.jsx(te,{id:"startDate",type:"date",value:r.startDate,onChange:ne=>V("startDate",ne.target.value),className:"border-purple-200 focus:border-purple-500"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"endDate",children:"End Date"}),s.jsx(te,{id:"endDate",type:"date",value:r.endDate,onChange:ne=>V("endDate",ne.target.value),className:"border-purple-200 focus:border-purple-500"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(W,{className:"flex items-center gap-2",children:["Contract Value",s.jsx(Z,{variant:"outline",className:"text-xs",children:"currency"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground font-medium",children:"$"}),s.jsx(te,{type:"number",placeholder:"0.00",className:"pl-8 text-right bg-green-50 border-green-200 focus:border-green-500",min:"0",step:"0.01",value:r.contractValue,onChange:ne=>V("contractValue",Number(ne.target.value))})]})]})]})})]}),s.jsxs(B,{children:[s.jsx(ae,{children:s.jsxs(ie,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:["Scope of Work",s.jsx(Z,{variant:"outline",className:"text-xs",children:"textarea"})]}),s.jsxs(D,{variant:"outline",size:"sm",onClick:Y,disabled:v,className:"flex items-center gap-2","data-testid":"button-generate-scope",children:[v?s.jsx(wr,{className:"w-4 h-4 animate-spin"}):s.jsx(ss,{className:"w-4 h-4"}),v?"Writing...":"Write"]})]})}),s.jsxs(q,{children:[s.jsx(it,{placeholder:"Define the scope of work, objectives, and project boundaries...",rows:6,className:"min-h-[120px] resize-y bg-orange-50 border-orange-200 focus:border-orange-500",maxLength:2e3,value:r.scope,onChange:ne=>{V("scope",ne.target.value),o(ne.target.value.length)}}),s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-2",children:[s.jsx("span",{children:" Detailed description of work to be performed"}),s.jsxs("span",{className:"font-medium",children:[i," / 2,000 characters"]})]})]})]}),s.jsxs(B,{children:[s.jsx(ae,{children:s.jsxs(ie,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:["Deliverables",s.jsx(Z,{variant:"outline",className:"text-xs",children:"textarea"})]}),s.jsxs(D,{variant:"outline",size:"sm",onClick:K,disabled:j,className:"flex items-center gap-2","data-testid":"button-generate-deliverables",children:[j?s.jsx(wr,{className:"w-4 h-4 animate-spin"}):s.jsx(ss,{className:"w-4 h-4"}),j?"Writing...":"Write"]})]})}),s.jsxs(q,{children:[s.jsx(it,{placeholder:"List specific deliverables, milestones, and expected outcomes...",rows:4,className:"min-h-[100px] resize-y bg-orange-50 border-orange-200 focus:border-orange-500",maxLength:1500,value:r.deliverables,onChange:ne=>{V("deliverables",ne.target.value),c(ne.target.value.length)}}),s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-2",children:[s.jsx("span",{children:" What will be delivered to the client"}),s.jsxs("span",{className:"font-medium",children:[l," / 1,500 characters"]})]})]})]}),s.jsxs(B,{children:[s.jsx(ae,{children:s.jsxs(ie,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:["Payment Terms",s.jsx(Z,{variant:"outline",className:"text-xs",children:"textarea"})]}),s.jsxs(D,{variant:"outline",size:"sm",onClick:z,disabled:w,className:"flex items-center gap-2","data-testid":"button-generate-payment-terms",children:[w?s.jsx(wr,{className:"w-4 h-4 animate-spin"}):s.jsx(ss,{className:"w-4 h-4"}),w?"Writing...":"Write"]})]})}),s.jsxs(q,{children:[s.jsx(it,{placeholder:"Payment schedule, methods, late fees, etc...",rows:4,className:"min-h-[100px] resize-y bg-orange-50 border-orange-200 focus:border-orange-500",maxLength:1e3,value:r.paymentTerms,onChange:ne=>{V("paymentTerms",ne.target.value),f(ne.target.value.length)}}),s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-2",children:[s.jsx("span",{children:" Payment schedule and terms"}),s.jsxs("span",{className:"font-medium",children:[h," / 1,000 characters"]})]})]})]}),s.jsxs(B,{children:[s.jsx(ae,{children:s.jsxs(ie,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:["Responsibilities",s.jsx(Z,{variant:"outline",className:"text-xs",children:"textarea"})]}),s.jsxs(D,{variant:"outline",size:"sm",onClick:L,disabled:k,className:"flex items-center gap-2","data-testid":"button-generate-responsibilities",children:[k?s.jsx(wr,{className:"w-4 h-4 animate-spin"}):s.jsx(ss,{className:"w-4 h-4"}),k?"Writing...":"Write"]})]})}),s.jsxs(q,{children:[s.jsx(it,{placeholder:"Responsibilities of both parties, client obligations, etc...",rows:4,className:"min-h-[100px] resize-y bg-orange-50 border-orange-200 focus:border-orange-500",maxLength:1500,value:r.responsibilities,onChange:ne=>{V("responsibilities",ne.target.value),u(ne.target.value.length)}}),s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-2",children:[s.jsx("span",{children:" Each party's roles and responsibilities"}),s.jsxs("span",{className:"font-medium",children:[d," / 1,500 characters"]})]})]})]}),s.jsxs(B,{children:[s.jsx(ae,{children:s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(S0e,{className:"h-5 w-5"}),"Legal Terms"]})}),s.jsxs(q,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(W,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:["Termination Clause",s.jsx(Z,{variant:"outline",className:"text-xs",children:"textarea"})]}),s.jsxs(D,{variant:"outline",size:"sm",onClick:ee,disabled:T,className:"flex items-center gap-2","data-testid":"button-generate-legal",children:[T?s.jsx(wr,{className:"w-4 h-4 animate-spin"}):s.jsx(ss,{className:"w-4 h-4"}),T?"Writing...":"Write"]})]}),s.jsx(it,{placeholder:"Conditions under which the contract can be terminated...",rows:3,className:"min-h-[80px] resize-y bg-orange-50 border-orange-200 focus:border-orange-500",maxLength:1e3,value:r.termination,onChange:ne=>{V("termination",ne.target.value),m(ne.target.value.length)}}),s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsx("span",{children:" How either party can end the contract"}),s.jsxs("span",{className:"font-medium",children:[g," / 1,000 characters"]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(W,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:["Confidentiality",s.jsx(Z,{variant:"outline",className:"text-xs",children:"textarea"})]}),s.jsxs(D,{variant:"outline",size:"sm",onClick:le,disabled:C,className:"flex items-center gap-2","data-testid":"button-generate-confidentiality",children:[C?s.jsx(wr,{className:"w-4 h-4 animate-spin"}):s.jsx(ss,{className:"w-4 h-4"}),C?"Writing...":"Write"]})]}),s.jsx(it,{placeholder:"Confidentiality and non-disclosure terms...",rows:3,className:"min-h-[80px] resize-y bg-orange-50 border-orange-200 focus:border-orange-500",maxLength:1e3,value:r.confidentiality,onChange:ne=>{V("confidentiality",ne.target.value),x(ne.target.value.length)}}),s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsx("span",{children:" Protection of confidential information"}),s.jsxs("span",{className:"font-medium",children:[p," / 1,000 characters"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"disputeResolution",children:"Dispute Resolution"}),s.jsxs(Ke,{value:r.disputeResolution,onValueChange:ne=>V("disputeResolution",ne),children:[s.jsx(He,{children:s.jsx(Ge,{placeholder:"Select method"})}),s.jsxs(qe,{children:[s.jsx(Q,{value:"mediation",children:"Mediation"}),s.jsx(Q,{value:"arbitration",children:"Arbitration"}),s.jsx(Q,{value:"litigation",children:"Litigation"}),s.jsx(Q,{value:"mediation-arbitration",children:"Mediation then Arbitration"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"governingLaw",children:"Governing Law"}),s.jsx(te,{id:"governingLaw",placeholder:"State/Country",value:r.governingLaw,onChange:ne=>V("governingLaw",ne.target.value),className:"border-purple-200 focus:border-purple-500"})]})]})]})]}),s.jsx(B,{children:s.jsx(q,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[s.jsxs(D,{variant:"outline",onClick:()=>n(!0),children:[s.jsx(fn,{className:"h-4 w-4 mr-2"}),"Preview"]}),s.jsxs(D,{onClick:F,disabled:U.isPending,children:[s.jsx(Au,{className:"h-4 w-4 mr-2"}),U.isPending?"Saving...":"Save Contract"]}),s.jsxs(D,{onClick:F,disabled:U.isPending,children:[s.jsx(Hr,{className:"h-4 w-4 mr-2"}),"Send Contract"]})]})})})]})]})]})}function nut(){const{toast:e}=mt(),[t,n]=b.useState(!1),[r,a]=b.useState({title:"",subtitle:"",author:"",company:"",date:new Date().toISOString().split("T")[0],projectId:"",theme:"modern",audience:"",objective:"",duration:30}),[i,o]=b.useState([{id:1,title:"Introduction",content:"",slideType:"title",order:1},{id:2,title:"Content Slide",content:"",slideType:"content",order:2}]),[l,c]=b.useState(0),[d,u]=b.useState(!1),[h,f]=b.useState({}),[g,m]=b.useState({}),{data:p=[]}=he({queryKey:["/api/projects"]}),x=()=>{const E=Math.max(...i.map($=>$.id))+1,I=i.length+1;o([...i,{id:E,title:`Slide ${I}`,content:"",slideType:"content",order:I}])},v=E=>{i.length>1&&o(i.filter(I=>I.id!==E).map((I,$)=>({...I,order:$+1})))},y=(E,I,$)=>{o(i.map(U=>U.id===E?{...U,[I]:$}:U))},j=(E,I)=>{const $=i.findIndex(F=>F.id===E);if(I==="up"&&$===0||I==="down"&&$===i.length-1)return;const U=[...i],M=I==="up"?$-1:$+1;[U[$],U[M]]=[U[M],U[$]],U.forEach((F,V)=>{F.order=V+1}),o(U)},N=E=>{m(I=>({...I,[E]:!I[E]}))},[w,S]=b.useState(null),k=Se({mutationFn:async E=>await(await ke("POST","/api/presentations",E)).json(),onSuccess:E=>{console.log("Save response:",E),E&&E.id?(S(E.id),e({title:"Presentation saved",description:"Your presentation has been saved successfully."})):e({title:"Error",description:"Presentation save failed - invalid response format",variant:"destructive"})},onError:()=>{e({title:"Error",description:"Failed to save presentation.",variant:"destructive"})}}),_=Se({mutationFn:async E=>await(await ke("POST",`/api/presentations/${E}/save-to-filing-cabinet`)).json(),onSuccess:E=>{e({title:"Saved to Filing Cabinet!",description:E.message||"Presentation PDF saved to Filing Cabinet successfully"})},onError:()=>{e({title:"Error",description:"Failed to save presentation to Filing Cabinet.",variant:"destructive"})}}),T=()=>{const E={...r,slides:i.sort((I,$)=>I.order-$.order),type:"presentation"};k.mutate(E)},P=(E,I)=>{a($=>({...$,[E]:I}))},C=async()=>{if(!r.title.trim()&&!r.audience.trim()){e({title:"Title or Audience Required",description:"Please enter a presentation title or target audience before generating objectives.",variant:"destructive"});return}u(!0);try{const E=await fetch("/api/ai/generate-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"presentation_objective",title:r.title,audience:r.audience,duration:r.duration,context:`Generate clear objectives and goals for presentation "${r.title}" targeted at ${r.audience} for ${r.duration} minutes.`})});if(!E.ok)throw new Error("Failed to generate objective");const I=await E.json();P("objective",I.content),c(I.content.length),e({title:"Objective Generated!",description:"AI has created presentation objectives and goals."})}catch{e({title:"Generation Failed",description:"Failed to generate objectives. Please try again.",variant:"destructive"})}finally{u(!1)}},A=async E=>{const I=i.find($=>$.id===E);if(I){if(!r.title.trim()&&!I.title.trim()){e({title:"Presentation or Slide Title Required",description:"Please enter a presentation title or slide title before generating content.",variant:"destructive"});return}f($=>({...$,[E]:!0}));try{const $=await fetch("/api/ai/generate-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"presentation_slide_content",presentationTitle:r.title,slideTitle:I.title,slideType:I.slideType,audience:r.audience,objective:r.objective,context:`Generate ${I.slideType} content for slide "${I.title}" in presentation "${r.title}" for ${r.audience}.`})});if(!$.ok)throw new Error("Failed to generate slide content");const U=await $.json();y(E,"content",U.content),e({title:"Slide Content Generated!",description:`AI has created content for "${I.title}".`})}catch{e({title:"Generation Failed",description:"Failed to generate slide content. Please try again.",variant:"destructive"})}finally{f($=>({...$,[E]:!1}))}}};return t?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(pt,{}),s.jsxs("main",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs(D,{variant:"outline",onClick:()=>n(!1),className:"bg-white border-2 border-blue-500 text-blue-600 hover:bg-blue-50 font-medium",children:[s.jsx(ln,{className:"h-4 w-4 mr-2"}),"Back to Editor"]}),s.jsxs("div",{className:"space-x-2",children:[s.jsxs(Zf,{children:[s.jsx(Jf,{asChild:!0,children:s.jsxs(D,{variant:"outline","data-testid":"button-export-options",children:[s.jsx(kn,{className:"h-4 w-4 mr-2"}),"Export PDF",s.jsx(Yo,{className:"h-4 w-4 ml-2"})]})}),s.jsxs(Qu,{align:"end",children:[s.jsxs(Ca,{onClick:()=>{w?window.open(`/api/presentations/${w}/pdf`,"_blank"):e({title:"Error",description:"Please save the presentation first to export PDF.",variant:"destructive"})},disabled:!w,"data-testid":"menu-download-pdf",children:[s.jsx(kn,{className:"h-4 w-4 mr-2"}),"Save to Device"]}),s.jsxs(Ca,{onClick:()=>{w?_.mutate(w):e({title:"Error",description:"Please save the presentation first to save to Filing Cabinet.",variant:"destructive"})},disabled:!w||_.isPending,"data-testid":"menu-save-filing-cabinet",children:[s.jsx(ls,{className:"h-4 w-4 mr-2"}),"Save to Filing Cabinet"]})]})]}),s.jsxs(D,{onClick:T,children:[s.jsx(Hr,{className:"h-4 w-4 mr-2"}),"Save Presentation"]})]})]}),s.jsx("div",{className:"space-y-6",children:i.sort((E,I)=>E.order-I.order).map((E,I)=>s.jsx(B,{className:"aspect-video bg-white",children:s.jsxs(q,{className:"p-8 h-full flex flex-col justify-center",children:[E.slideType==="title"&&I===0?s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:r.title||"Presentation Title"}),s.jsx("h2",{className:"text-xl text-gray-600",children:r.subtitle}),s.jsxs("div",{className:"mt-8 space-y-2",children:[s.jsx("p",{className:"text-lg font-medium",children:r.author}),s.jsx("p",{className:"text-gray-600",children:r.company}),s.jsx("p",{className:"text-gray-500",children:r.date})]})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:E.title}),s.jsx("div",{className:"text-lg text-gray-700 whitespace-pre-wrap",children:E.content||"Slide content goes here..."})]}),s.jsxs("div",{className:"absolute bottom-4 right-4 text-sm text-gray-400",children:[I+1," / ",i.length]})]})},E.id))})]})]}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(pt,{}),s.jsxs("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("div",{className:"flex items-center justify-between mb-8",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(ze,{href:"/",children:s.jsxs(D,{variant:"ghost",size:"sm",children:[s.jsx(ln,{className:"h-4 w-4 mr-2"}),"Back"]})}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[s.jsx(GE,{className:"h-8 w-8 text-orange-600"}),"Create Presentation"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Build professional presentations with multiple slide types"})]})]})}),s.jsxs("div",{className:"space-y-8",children:[s.jsxs(B,{children:[s.jsxs(ae,{children:[s.jsx(ie,{children:"Presentation Information"}),s.jsx(Lt,{children:"Basic details about your presentation"})]}),s.jsxs(q,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"title",children:"Presentation Title *"}),s.jsx(te,{id:"title",placeholder:"Enter presentation title",value:r.title,onChange:E=>P("title",E.target.value),className:"border-orange-200 focus:border-orange-500"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"subtitle",children:"Subtitle"}),s.jsx(te,{id:"subtitle",placeholder:"Optional subtitle",value:r.subtitle,onChange:E=>P("subtitle",E.target.value),className:"border-orange-200 focus:border-orange-500"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"author",children:"Author/Presenter"}),s.jsx(te,{id:"author",placeholder:"Your name",value:r.author,onChange:E=>P("author",E.target.value),className:"border-blue-200 focus:border-blue-500"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"company",children:"Company"}),s.jsx(te,{id:"company",placeholder:"Your company",value:r.company,onChange:E=>P("company",E.target.value),className:"border-blue-200 focus:border-blue-500"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"date",children:"Date"}),s.jsx(te,{id:"date",type:"date",value:r.date,onChange:E=>P("date",E.target.value),className:"border-orange-200 focus:border-orange-500"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{children:"Theme"}),s.jsxs(Ke,{value:r.theme,onValueChange:E=>P("theme",E),children:[s.jsx(He,{children:s.jsx(Ge,{placeholder:"Select theme"})}),s.jsxs(qe,{children:[s.jsx(Q,{value:"modern",children:"Modern"}),s.jsx(Q,{value:"classic",children:"Classic"}),s.jsx(Q,{value:"minimal",children:"Minimal"}),s.jsx(Q,{value:"corporate",children:"Corporate"}),s.jsx(Q,{value:"creative",children:"Creative"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"audience",children:"Target Audience"}),s.jsx(te,{id:"audience",placeholder:"e.g., Executives, Team",value:r.audience,onChange:E=>P("audience",E.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"duration",children:"Duration (minutes)"}),s.jsx(te,{id:"duration",type:"number",min:"5",max:"180",placeholder:"30",value:r.duration,onChange:E=>P("duration",Number(E.target.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{children:"Related Project"}),s.jsxs(Ke,{value:r.projectId,onValueChange:E=>P("projectId",E),children:[s.jsx(He,{children:s.jsx(Ge,{placeholder:"Select project (optional)"})}),s.jsxs(qe,{children:[s.jsx(Q,{value:"no-project",children:"No project"}),p.map(E=>s.jsx(Q,{value:E.id,children:E.name},E.id))]})]})]})]})]}),s.jsxs(B,{children:[s.jsx(ae,{children:s.jsxs(ie,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:["Objective & Goals",s.jsx(Z,{variant:"outline",className:"text-xs",children:"textarea"})]}),s.jsxs(D,{variant:"outline",size:"sm",onClick:C,disabled:d,className:"flex items-center gap-2","data-testid":"button-generate-objective",children:[d?s.jsx(wr,{className:"w-4 h-4 animate-spin"}):s.jsx(ss,{className:"w-4 h-4"}),d?"Writing...":"Write"]})]})}),s.jsxs(q,{children:[s.jsx(it,{placeholder:"What do you want to achieve with this presentation? Key messages, goals, and outcomes...",rows:4,className:"min-h-[100px] resize-y bg-orange-50 border-orange-200 focus:border-orange-500",maxLength:1e3,value:r.objective,onChange:E=>{P("objective",E.target.value),c(E.target.value.length)}}),s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-2",children:[s.jsx("span",{children:" Define your presentation goals and key messages"}),s.jsxs("span",{className:"font-medium",children:[l," / 1,000 characters"]})]})]})]}),s.jsxs(B,{children:[s.jsxs(ae,{children:[s.jsxs(ie,{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Slides"}),s.jsxs(D,{size:"sm",onClick:x,"data-testid":"button-create-slide",children:[s.jsx(st,{className:"h-4 w-4 mr-2"}),"Create Slide"]})]}),s.jsx(Lt,{children:"Manage your presentation slides and content"})]}),s.jsx(q,{children:s.jsx("div",{className:"space-y-4",children:i.sort((E,I)=>E.order-I.order).map((E,I)=>{const $=g[E.id]||!1,U=E.slideType.replace("-"," ").replace(/\b\w/g,M=>M.toUpperCase());return s.jsxs(B,{className:"border-2 border-orange-200",children:[s.jsxs(ae,{className:"pb-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[s.jsxs(Z,{variant:"outline",className:"min-w-[60px] justify-center",children:["Slide ",E.order]}),s.jsx(te,{placeholder:"Slide title",value:E.title,onChange:M=>y(E.id,"title",M.target.value),className:"flex-1 border-orange-300"}),s.jsx(Z,{variant:"secondary",className:"text-xs",children:U})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(D,{variant:"ghost",size:"sm",onClick:()=>N(E.id),"data-testid":`button-expand-slide-${E.id}`,className:"text-orange-600 hover:text-orange-700",children:$?s.jsx(mj,{className:"h-4 w-4"}):s.jsx(Yo,{className:"h-4 w-4"})}),s.jsx(D,{variant:"ghost",size:"sm",onClick:()=>j(E.id,"up"),disabled:I===0,children:s.jsx(n0e,{className:"h-4 w-4"})}),s.jsx(D,{variant:"ghost",size:"sm",onClick:()=>j(E.id,"down"),disabled:I===i.length-1,children:s.jsx(t0e,{className:"h-4 w-4"})}),s.jsx(D,{variant:"ghost",size:"sm",onClick:()=>v(E.id),disabled:i.length===1,className:"text-red-500 hover:text-red-700",children:s.jsx(Kt,{className:"h-4 w-4"})})]})]}),!$&&s.jsxs("div",{className:"mt-3 p-3 bg-orange-50 rounded-lg border border-orange-200",children:[s.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Preview:"}),s.jsx("div",{className:"text-sm text-gray-800 line-clamp-2",children:E.content||s.jsx("span",{className:"italic text-gray-500",children:"No content yet - click expand to add content"})}),s.jsx(D,{variant:"outline",size:"sm",onClick:()=>N(E.id),className:"mt-2 text-orange-600 border-orange-300 hover:bg-orange-50",children:"Expand to Edit"})]})]}),$&&s.jsxs(q,{className:"space-y-4 border-t border-orange-200 bg-white",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{children:"Slide Type"}),s.jsxs(Ke,{value:E.slideType,onValueChange:M=>y(E.id,"slideType",M),children:[s.jsx(He,{children:s.jsx(Ge,{})}),s.jsxs(qe,{children:[s.jsx(Q,{value:"title",children:"Title Slide"}),s.jsx(Q,{value:"content",children:"Content Slide"}),s.jsx(Q,{value:"bullet-points",children:"Bullet Points"}),s.jsx(Q,{value:"image",children:"Image Slide"}),s.jsx(Q,{value:"quote",children:"Quote"}),s.jsx(Q,{value:"conclusion",children:"Conclusion"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(W,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:["Content",s.jsx(Z,{variant:"outline",className:"text-xs",children:"textarea"})]}),s.jsxs(D,{variant:"outline",size:"sm",onClick:()=>A(E.id),disabled:h[E.id],className:"flex items-center gap-2","data-testid":`button-generate-slide-${E.id}`,children:[h[E.id]?s.jsx(wr,{className:"w-4 h-4 animate-spin"}):s.jsx(ss,{className:"w-4 h-4"}),h[E.id]?"Writing...":"Write"]})]}),s.jsx(it,{placeholder:E.slideType==="bullet-points"?` Point one
 Point two
 Point three`:E.slideType==="quote"?`"Your inspirational quote here"
- Author Name`:"Enter slide content...",rows:4,className:"min-h-[100px] resize-y bg-orange-50 border-orange-200 focus:border-orange-500",value:E.content,onChange:M=>y(E.id,"content",M.target.value)})]})]})]},E.id)})})})]}),s.jsx(B,{children:s.jsx(q,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[s.jsxs(D,{variant:"outline",onClick:()=>n(!0),children:[s.jsx(fn,{className:"h-4 w-4 mr-2"}),"Preview"]}),s.jsxs(D,{onClick:T,disabled:k.isPending,children:[s.jsx(Au,{className:"h-4 w-4 mr-2"}),k.isPending?"Saving...":"Save Presentation"]}),s.jsxs(D,{onClick:T,disabled:k.isPending,children:[s.jsx(Hr,{className:"h-4 w-4 mr-2"}),"Send Presentation"]})]})})})]})]})]})}function rut(){const{toast:e}=mt(),{canPerformAction:t}=yj();b.useEffect(()=>{window.scrollTo(0,0)},[]);const[n,r]=b.useState(""),[a,i]=b.useState(!1),[o,l]=b.useState({name:"",email:"",phone:"",company:"",address:"",website:"",notes:"",status:"prospect"}),{data:c=[],isLoading:d}=he({queryKey:["/api/clients"]}),u=c.filter(m=>m.name.toLowerCase().includes(n.toLowerCase())||m.company&&m.company.toLowerCase().includes(n.toLowerCase())||m.email&&m.email.toLowerCase().includes(n.toLowerCase())),h=(m,p)=>{l(x=>({...x,[m]:p}))},f=async m=>{if(m.preventDefault(),!o.name.trim()){e({title:"Error",description:"Client name is required",variant:"destructive"});return}if(t(t1.CREATE_CLIENT))try{await ke("POST","/api/clients",o),rt.invalidateQueries({queryKey:["/api/clients"]}),i(!1),l({name:"",email:"",phone:"",company:"",address:"",website:"",notes:"",status:"prospect"}),e({title:"Success",description:"Client created successfully"})}catch{e({title:"Error",description:"Failed to create client",variant:"destructive"})}},g=m=>{switch(m){case"active":return"default";case"inactive":return"secondary";case"prospect":return"outline";default:return"secondary"}};return d?s.jsxs("div",{className:"min-h-screen bg-neutral-50",children:[s.jsx(pt,{}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"animate-pulse space-y-6",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((m,p)=>s.jsx("div",{className:"h-48 bg-gray-200 rounded-lg"},p))})]})})]}):s.jsxs("div",{className:"min-h-screen bg-neutral-50",children:[s.jsx(pt,{}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(ze,{href:"/",children:s.jsxs(D,{variant:"outline",size:"sm","data-testid":"button-back-to-dashboard",children:[s.jsx(ln,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(gn,{className:"h-8 w-8 text-[var(--signal)]"}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Client Management"})]})]}),s.jsxs(D,{className:"bg-[#FF7F00] hover:bg-[#e6720a] text-white","data-testid":"button-new-client",onClick:()=>{t(t1.CREATE_CLIENT)&&i(!0)},children:[s.jsx(st,{className:"h-4 w-4 mr-2"}),"New Client"]}),s.jsx(ut,{open:a,onOpenChange:i,children:s.jsxs(lt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(ct,{children:s.jsx(dt,{children:"Add New Client"})}),s.jsxs("form",{onSubmit:f,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"name",children:"Client Name *"}),s.jsx(te,{id:"name",placeholder:"Enter client name",value:o.name,onChange:m=>h("name",m.target.value),required:!0,"data-testid":"input-client-name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"company",children:"Company"}),s.jsx(te,{id:"company",placeholder:"Company name",value:o.company,onChange:m=>h("company",m.target.value),"data-testid":"input-company"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"email",children:"Email"}),s.jsx(te,{id:"email",type:"email",placeholder:"client@company.com",value:o.email,onChange:m=>h("email",m.target.value),"data-testid":"input-email"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"phone",children:"Phone"}),s.jsx(te,{id:"phone",type:"tel",placeholder:"(555) 123-4567",value:o.phone,onChange:m=>h("phone",m.target.value),"data-testid":"input-phone"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"website",children:"Website"}),s.jsx(te,{id:"website",type:"url",placeholder:"https://company.com",value:o.website,onChange:m=>h("website",m.target.value),"data-testid":"input-website"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"status",children:"Status"}),s.jsxs(Ke,{value:o.status,onValueChange:m=>h("status",m),children:[s.jsx(He,{"data-testid":"select-status",children:s.jsx(Ge,{})}),s.jsxs(qe,{children:[s.jsx(Q,{value:"prospect",children:"Prospect"}),s.jsx(Q,{value:"active",children:"Active"}),s.jsx(Q,{value:"inactive",children:"Inactive"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"address",children:"Address"}),s.jsx(it,{id:"address",placeholder:"Client address",value:o.address,onChange:m=>h("address",m.target.value),rows:2,"data-testid":"textarea-address"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"notes",children:"Notes"}),s.jsx(it,{id:"notes",placeholder:"Additional notes about this client",value:o.notes,onChange:m=>h("notes",m.target.value),rows:3,"data-testid":"textarea-notes"})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx(D,{type:"button",variant:"outline",onClick:()=>i(!1),children:"Cancel"}),s.jsx(D,{type:"submit",className:"bg-[#FF7F00] hover:bg-[#e6720a] text-white","data-testid":"button-create-client",children:"Create Client"})]})]})]})})]}),s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"relative max-w-md",children:[s.jsx(Ya,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx(te,{placeholder:"Search clients...",value:n,onChange:m=>r(m.target.value),className:"pl-10","data-testid":"input-search-clients"})]})}),u.length===0?s.jsx(B,{className:"text-center py-12",children:s.jsxs(q,{children:[s.jsx(gn,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No clients found"}),s.jsx("p",{className:"text-gray-600 mb-4",children:n?$t.emptyStates.search.nothingMatches:$t.emptyStates.clients.noClients}),!n&&s.jsxs(D,{onClick:()=>{t(t1.CREATE_CLIENT)&&i(!0)},className:"bg-[#FF7F00] hover:bg-[#e6720a] text-white","data-testid":"button-add-first-client",children:[s.jsx(st,{className:"h-4 w-4 mr-2"}),"Add First Client"]})]})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(m=>s.jsx(ze,{href:`/client/${m.id}`,children:s.jsxs(B,{className:"hover:shadow-lg transition-shadow cursor-pointer","data-testid":`card-client-${m.id}`,children:[s.jsxs(ae,{className:"pb-3",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx(ie,{className:"text-lg font-semibold text-gray-900 truncate",children:m.name}),s.jsx(Z,{variant:g(m.status??"active"),children:m.status||"active"})]}),m.company&&s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx(_u,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm truncate",children:m.company})]})]}),s.jsxs(q,{className:"space-y-3",children:[m.email&&s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx(Cs,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm truncate",children:m.email})]}),m.phone&&s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx(CR,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:m.phone})]}),s.jsxs("div",{className:"pt-3 border-t border-gray-100",children:[s.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(nt,{className:"h-4 w-4"}),s.jsxs("span",{children:[m.totalProposals||0," proposals"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(is,{className:"h-4 w-4"}),s.jsxs("span",{children:["$",(m.totalRevenue||0).toLocaleString()]})]})]}),m.outstandingBalance&&Number(m.outstandingBalance)>0&&s.jsxs("div",{className:"mt-2 text-sm text-orange-600 font-medium",children:["Outstanding: $",Number(m.outstandingBalance).toLocaleString()]})]})]})]})},m.id))})]})]})}function Hue(e,t){return Object.hasOwn(e,t)}const{AbortController:nA}=globalThis,que=(e="Aborted",t)=>{const n=new DOMException(e,"AbortError");return t!=null&&Hue(t,"cause")&&Object.defineProperty(n,"cause",{__proto__:null,configurable:!0,writable:!0,value:t.cause}),n},sut=/^data:([^/]+\/[^,;]+(?:[^,]*?))(;base64)?,([\s\S]*)$/;function aut(e,t,n){const r=sut.exec(e),a=t.mimeType??(r==null?void 0:r[1])??"plain/text";let i;if((r==null?void 0:r[2])!=null){const o=atob(decodeURIComponent(r[3])),l=new Uint8Array(o.length);for(let c=0;c<o.length;c++)l[c]=o.charCodeAt(c);i=[l]}else(r==null?void 0:r[3])!=null&&(i=[decodeURIComponent(r[3])]);return new Blob(i,{type:a})}class iut extends Error{constructor(n,r){super(n);H(this,"isNetworkError");H(this,"cause");this.cause=r==null?void 0:r.cause,this.cause&&Hue(this.cause,"isNetworkError")?this.isNetworkError=this.cause.isNetworkError:this.isNetworkError=!1}}function e9(e,t,n,r){return e===t?e:r===0?t:e+(t-e)*2**(-r/n)}const Kue=['a[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','area[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])',"input:not([disabled]):not([inert]):not([aria-hidden])","select:not([disabled]):not([inert]):not([aria-hidden])","textarea:not([disabled]):not([inert]):not([aria-hidden])","button:not([disabled]):not([inert]):not([aria-hidden])",'iframe:not([tabindex^="-"]):not([inert]):not([aria-hidden])','object:not([tabindex^="-"]):not([inert]):not([aria-hidden])','embed:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[contenteditable]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[tabindex]:not([tabindex^="-"]):not([inert]):not([aria-hidden])'];class out extends Error{constructor(n,r=null){super("This looks like a network error, the endpoint might be blocked by an internet provider or a firewall.");H(this,"cause");H(this,"isNetworkError");H(this,"request");this.cause=n,this.isNetworkError=!0,this.request=r}}function lut(...e){return fetch(...e).catch(t=>{throw t.name==="AbortError"?t:new out(t)})}function cut(e){const t=n=>"error"in n&&!!n.error;return e.filter(n=>!t(n))}function dut(e){return e.filter(t=>{var n;return!((n=t.progress)!=null&&n.uploadStarted)||!t.isRestored})}function Gue(e){return typeof e!="object"||e===null||!("nodeType"in e)?!1:e.nodeType===Node.ELEMENT_NODE}function t9(e){if(typeof e=="string"){const t=document.querySelectorAll(e);return t.length===0?null:Array.from(t)}return typeof e=="object"&&Gue(e)?[e]:null}function uut(e,t=document){return typeof e=="string"?t.querySelector(e):Gue(e)?e:null}function Yue(e){const t=e.lastIndexOf(".");return t===-1||t===e.length-1?{name:e,extension:void 0}:{name:e.slice(0,t),extension:e.slice(t+1)}}const n9={__proto__:null,md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",webp:"image/webp",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",dicom:"application/dicom",doc:"application/msword",msg:"application/vnd.ms-outlook",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"};function Xue(e){var n;if(e.type)return e.type;const t=e.name?(n=Yue(e.name).extension)==null?void 0:n.toLowerCase():null;return t&&t in n9?n9[t]:"application/octet-stream"}function hut(e){return e.charCodeAt(0).toString(32)}function r9(e){let t="";return e.replace(/[^A-Z0-9]/gi,n=>(t+=`-${hut(n)}`,"/"))+t}function fut(e,t){let n=t||"uppy";return typeof e.name=="string"&&(n+=`-${r9(e.name.toLowerCase())}`),e.type!==void 0&&(n+=`-${e.type}`),e.meta&&typeof e.meta.relativePath=="string"&&(n+=`-${r9(e.meta.relativePath.toLowerCase())}`),e.data.size!==void 0&&(n+=`-${e.data.size}`),e.data.lastModified!==void 0&&(n+=`-${e.data.lastModified}`),n}function mut(e){return!e.isRemote||!e.remote?!1:new Set(["box","dropbox","drive","facebook","unsplash"]).has(e.remote.provider)}function put(e,t){if(mut(e))return e.id;const n=Xue(e);return fut({...e,type:n},t)}function s9(e,t){return e===!0?Object.keys(t):Array.isArray(e)?e:[]}const Ty=Array.from;function gut(e){const t=Ty(e.files);return Promise.resolve(t)}function Que(e,t,n,{onSuccess:r}){e.readEntries(a=>{const i=[...t,...a];a.length?queueMicrotask(()=>{Que(e,i,n,{onSuccess:r})}):r(i)},a=>{n(a),r(t)})}function Zue(e,t){return e==null?e:{kind:e.isFile?"file":e.isDirectory?"directory":void 0,name:e.name,getFile(){return new Promise((n,r)=>e.file(n,r))},async*values(){const n=e.createReader();yield*await new Promise(a=>{Que(n,[],t,{onSuccess:i=>a(i.map(o=>Zue(o,t)))})})},isSameEntry:void 0}}async function*Jue(e,t,n=void 0){const r=()=>`${t}/${e.name}`;if(e.kind==="file"){const a=await e.getFile();a!=null?(a.relativePath=t?r():null,yield a):n!=null&&(yield n)}else if(e.kind==="directory")for await(const a of e.values())yield*Jue(a,t?r():e.name);else n!=null&&(yield n)}async function*vut(e,t){const n=await Promise.all(Array.from(e.items,async r=>{let a;return a??(a=Zue(typeof r.getAsEntry=="function"?r.getAsEntry():r.webkitGetAsEntry(),t)),{fileSystemHandle:a,lastResortFile:r.getAsFile()}}));for(const{lastResortFile:r,fileSystemHandle:a}of n)if(a!=null)try{yield*Jue(a,"",r)}catch(i){r!=null?yield r:t(i)}else r!=null&&(yield r)}async function xut(e,t){const n=(t==null?void 0:t.logDropError)??Function.prototype;try{const r=[];for await(const a of vut(e,n))r.push(a);return r}catch{return gut(e)}}function yut(e){var a;const n=(a=/^(?:https?:\/\/|\/\/)?(?:[^@\n]+@)?([^\n]+)/i.exec(e))==null?void 0:a[1];return`${/^http:\/\//i.test(e)?"ws":"wss"}://${n}`}function but(e){for(;e&&!e.dir;)e=e.parentNode;return e==null?void 0:e.dir}function rA(e){return e<10?`0${e}`:e.toString()}function y1(){const e=new Date,t=rA(e.getHours()),n=rA(e.getMinutes()),r=rA(e.getSeconds());return`${t}:${n}:${r}`}function jut(){const e=document.body;return!(!("draggable"in e)||!("ondragstart"in e&&"ondrop"in e)||!("FormData"in window)||!("FileReader"in window))}function a9(e){return e.startsWith("blob:")}function i9(e){return e?/^[^/]+\/(jpe?g|gif|png|svg|svg\+xml|bmp|webp|avif)$/.test(e):!1}function wut(e){const t=Math.floor(e/3600)%24,n=Math.floor(e/60)%60,r=Math.floor(e%60);return{hours:t,minutes:n,seconds:r}}function Nut(e){const t=wut(e),n=t.hours===0?"":`${t.hours}h`,r=t.minutes===0?"":`${t.hours===0?t.minutes:` ${t.minutes.toString(10).padStart(2,"0")}`}m`,a=t.hours!==0?"":`${t.minutes===0?t.seconds:` ${t.seconds.toString(10).padStart(2,"0")}`}s`;return`${n}${r}${a}`}function Sut(e){return new Error("Cancelled",{cause:e})}function o9(e){var t;if(e!=null){const n=()=>this.abort(e.reason);e.addEventListener("abort",n,{once:!0});const r=()=>{e.removeEventListener("abort",n)};(t=this.then)==null||t.call(this,r,r)}return this}var Dc,_l,Oc,Mp,Pl,Rp,Yh,Js,jM,Gx,ehe,the,nhe,m2,$p;class Cut{constructor(t){de(this,Js);de(this,Dc,0);de(this,_l,[]);de(this,Oc,!1);de(this,Mp);de(this,Pl,1);de(this,Rp);de(this,Yh);H(this,"limit");de(this,m2,()=>this.resume());de(this,$p,()=>{if(R(this,Oc)){fe(this,Yh,setTimeout(R(this,$p),0));return}fe(this,Pl,this.limit),this.limit=Math.ceil((R(this,Rp)+R(this,Pl))/2);for(let t=R(this,Pl);t<=this.limit;t++)je(this,Js,Gx).call(this);R(this,Rp)-R(this,Pl)>3?fe(this,Yh,setTimeout(R(this,$p),2e3)):fe(this,Pl,Math.floor(R(this,Pl)/2))});typeof t!="number"||t===0?this.limit=1/0:this.limit=t}run(t,n){return!R(this,Oc)&&R(this,Dc)<this.limit?je(this,Js,jM).call(this,t):je(this,Js,the).call(this,t,n)}wrapSyncFunction(t,n){return(...r)=>{const a=this.run(()=>(t(...r),queueMicrotask(()=>a.done()),()=>{}),n);return{abortOn:o9,abort(){a.abort()}}}}wrapPromiseFunction(t,n){return(...r)=>{let a;const i=new Promise((o,l)=>{a=this.run(()=>{let c,d;try{d=Promise.resolve(t(...r))}catch(u){d=Promise.reject(u)}return d.then(u=>{c?l(c):(a.done(),o(u))},u=>{c?l(c):(a.done(),l(u))}),u=>{c=Sut(u)}},n)});return i.abort=o=>{a.abort(o)},i.abortOn=o9,i}}resume(){fe(this,Oc,!1),clearTimeout(R(this,Mp));for(let t=0;t<this.limit;t++)je(this,Js,Gx).call(this)}pause(t=null){fe(this,Oc,!0),clearTimeout(R(this,Mp)),t!=null&&fe(this,Mp,setTimeout(R(this,m2),t))}rateLimit(t){clearTimeout(R(this,Yh)),this.pause(t),this.limit>1&&Number.isFinite(this.limit)&&(fe(this,Rp,this.limit-1),this.limit=R(this,Pl),fe(this,Yh,setTimeout(R(this,$p),t)))}get isPaused(){return R(this,Oc)}}Dc=new WeakMap,_l=new WeakMap,Oc=new WeakMap,Mp=new WeakMap,Pl=new WeakMap,Rp=new WeakMap,Yh=new WeakMap,Js=new WeakSet,jM=function(t){fe(this,Dc,R(this,Dc)+1);let n=!1,r;try{r=t()}catch(a){throw fe(this,Dc,R(this,Dc)-1),a}return{abort:a=>{n||(n=!0,fe(this,Dc,R(this,Dc)-1),r==null||r(a),je(this,Js,Gx).call(this))},done:()=>{n||(n=!0,fe(this,Dc,R(this,Dc)-1),je(this,Js,Gx).call(this))}}},Gx=function(){queueMicrotask(()=>je(this,Js,ehe).call(this))},ehe=function(){if(R(this,Oc)||R(this,Dc)>=this.limit||R(this,_l).length===0)return;const t=R(this,_l).shift();if(t==null)throw new Error("Invariant violation: next is null");const n=je(this,Js,jM).call(this,t.fn);t.abort=n.abort,t.done=n.done},the=function(t,n){const r={fn:t,priority:(n==null?void 0:n.priority)||0,abort:()=>{je(this,Js,nhe).call(this,r)},done:()=>{throw new Error("Cannot mark a queued request as done: this indicates a bug")}},a=R(this,_l).findIndex(i=>r.priority>i.priority);return a===-1?R(this,_l).push(r):R(this,_l).splice(a,0,r),r},nhe=function(t){const n=R(this,_l).indexOf(t);n!==-1&&R(this,_l).splice(n,1)},m2=new WeakMap,$p=new WeakMap;function kut(e,t,n){const r=[];return e.forEach(a=>typeof a!="string"?r.push(a):t[Symbol.split](a).forEach((i,o,l)=>{i!==""&&r.push(i),o<l.length-1&&r.push(n)})),r}/**
 * Takes a string with placeholder variables like `%{smart_count} file selected`
 * and replaces it with values from options `{smart_count: 5}`
 *
 * @license https://github.com/airbnb/polyglot.js/blob/master/LICENSE
 * taken from https://github.com/airbnb/polyglot.js/blob/master/lib/polyglot.js#L299
 *
 * @param phrase that needs interpolation, with placeholders
 * @param options with values that will be used to replace placeholders
 */function l9(e,t){const n=/\$/g,r="$$$$";let a=[e];if(t==null)return a;for(const i of Object.keys(t))if(i!=="_"){let o=t[i];typeof o=="string"&&(o=n[Symbol.replace](o,r)),a=kut(a,new RegExp(`%\\{${i}\\}`,"g"),o)}return a}const _ut=e=>{throw new Error(`missing string: ${e}`)};var Lb,zb,wM;class rhe{constructor(t,{onMissingKey:n=_ut}={}){de(this,zb);H(this,"locale");de(this,Lb);this.locale={strings:{},pluralize(r){return r===1?0:1}},Array.isArray(t)?t.forEach(je(this,zb,wM),this):je(this,zb,wM).call(this,t),fe(this,Lb,n)}translate(t,n){return this.translateArray(t,n).join("")}translateArray(t,n){let r=this.locale.strings[t];if(r==null&&(R(this,Lb).call(this,t),r=t),typeof r=="object"){if(n&&typeof n.smart_count<"u"){const i=this.locale.pluralize(n.smart_count);return l9(r[i],n)}throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}if(typeof r!="string")throw new Error("string was not a string");return l9(r,n)}}Lb=new WeakMap,zb=new WeakSet,wM=function(t){if(!(t!=null&&t.strings))return;const n=this.locale;Object.assign(this.locale,{strings:{...n.strings,...t.strings},pluralize:t.pluralize||n.pluralize})};const sA="...";function she(e,t){if(t===0)return"";if(e.length<=t)return e;if(t<=sA.length+1)return`${e.slice(0,t-1)}`;const n=t-sA.length,r=Math.ceil(n/2),a=Math.floor(n/2);return e.slice(0,r)+sA+e.slice(-a)}class Put extends Error{constructor(){super(...arguments);H(this,"name","UserFacingApiError")}}var cw,Ft,ahe,_h,c9,ihe,ohe,lhe,ZF,NM,SM,kb={},che=[],Tut=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,dw=Array.isArray;function Vl(e,t){for(var n in t)e[n]=t[n];return e}function JF(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function _b(e,t,n){var r,a,i,o={};for(i in t)i=="key"?r=t[i]:i=="ref"?a=t[i]:o[i]=t[i];if(arguments.length>2&&(o.children=arguments.length>3?cw.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(i in e.defaultProps)o[i]===void 0&&(o[i]=e.defaultProps[i]);return Ay(e,o,r,a,null)}function Ay(e,t,n,r,a){var i={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:a??++ahe,__i:-1,__u:0};return a==null&&Ft.vnode!=null&&Ft.vnode(i),i}function Aut(){return{current:null}}function Bo(e){return e.children}function _a(e,t){this.props=e,this.context=t}function Jg(e,t){if(t==null)return e.__?Jg(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?Jg(e):null}function dhe(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return dhe(e)}}function d9(e){(!e.__d&&(e.__d=!0)&&_h.push(e)&&!e2.__r++||c9!=Ft.debounceRendering)&&((c9=Ft.debounceRendering)||ihe)(e2)}function e2(){for(var e,t,n,r,a,i,o,l=1;_h.length;)_h.length>l&&_h.sort(ohe),e=_h.shift(),l=_h.length,e.__d&&(n=void 0,a=(r=(t=e).__v).__e,i=[],o=[],t.__P&&((n=Vl({},r)).__v=r.__v+1,Ft.vnode&&Ft.vnode(n),e5(t.__P,n,r,t.__n,t.__P.namespaceURI,32&r.__u?[a]:null,i,a??Jg(r),!!(32&r.__u),o),n.__v=r.__v,n.__.__k[n.__i]=n,fhe(i,n,o),n.__e!=a&&dhe(n)));e2.__r=0}function uhe(e,t,n,r,a,i,o,l,c,d,u){var h,f,g,m,p,x,v,y=r&&r.__k||che,j=t.length;for(c=Eut(n,t,y,c,j),h=0;h<j;h++)(g=n.__k[h])!=null&&(f=g.__i==-1?kb:y[g.__i]||kb,g.__i=h,x=e5(e,g,f,a,i,o,l,c,d,u),m=g.__e,g.ref&&f.ref!=g.ref&&(f.ref&&t5(f.ref,null,g),u.push(g.ref,g.__c||m,g)),p==null&&m!=null&&(p=m),(v=!!(4&g.__u))||f.__k===g.__k?c=hhe(g,c,e,v):typeof g.type=="function"&&x!==void 0?c=x:m&&(c=m.nextSibling),g.__u&=-7);return n.__e=p,c}function Eut(e,t,n,r,a){var i,o,l,c,d,u=n.length,h=u,f=0;for(e.__k=new Array(a),i=0;i<a;i++)(o=t[i])!=null&&typeof o!="boolean"&&typeof o!="function"?(c=i+f,(o=e.__k[i]=typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?Ay(null,o,null,null,null):dw(o)?Ay(Bo,{children:o},null,null,null):o.constructor==null&&o.__b>0?Ay(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o).__=e,o.__b=e.__b+1,l=null,(d=o.__i=Dut(o,n,c,h))!=-1&&(h--,(l=n[d])&&(l.__u|=2)),l==null||l.__v==null?(d==-1&&(a>u?f--:a<u&&f++),typeof o.type!="function"&&(o.__u|=4)):d!=c&&(d==c-1?f--:d==c+1?f++:(d>c?f--:f++,o.__u|=4))):e.__k[i]=null;if(h)for(i=0;i<u;i++)(l=n[i])!=null&&!(2&l.__u)&&(l.__e==r&&(r=Jg(l)),phe(l,l));return r}function hhe(e,t,n,r){var a,i;if(typeof e.type=="function"){for(a=e.__k,i=0;a&&i<a.length;i++)a[i]&&(a[i].__=e,t=hhe(a[i],t,n,r));return t}e.__e!=t&&(r&&(t&&e.type&&!t.parentNode&&(t=Jg(e)),n.insertBefore(e.__e,t||null)),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function Mo(e,t){return t=t||[],e==null||typeof e=="boolean"||(dw(e)?e.some(function(n){Mo(n,t)}):t.push(e)),t}function Dut(e,t,n,r){var a,i,o,l=e.key,c=e.type,d=t[n],u=d!=null&&(2&d.__u)==0;if(d===null&&e.key==null||u&&l==d.key&&c==d.type)return n;if(r>(u?1:0)){for(a=n-1,i=n+1;a>=0||i<t.length;)if((d=t[o=a>=0?a--:i++])!=null&&!(2&d.__u)&&l==d.key&&c==d.type)return o}return-1}function u9(e,t,n){t[0]=="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||Tut.test(t)?n:n+"px"}function xN(e,t,n,r,a){var i,o;e:if(t=="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||u9(e.style,t,"");if(n)for(t in n)r&&n[t]==r[t]||u9(e.style,t,n[t])}else if(t[0]=="o"&&t[1]=="n")i=t!=(t=t.replace(lhe,"$1")),o=t.toLowerCase(),t=o in e||t=="onFocusOut"||t=="onFocusIn"?o.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?r?n.u=r.u:(n.u=ZF,e.addEventListener(t,i?SM:NM,i)):e.removeEventListener(t,i?SM:NM,i);else{if(a=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&n==1?"":n))}}function h9(e){return function(t){if(this.l){var n=this.l[t.type+e];if(t.t==null)t.t=ZF++;else if(t.t<n.u)return;return n(Ft.event?Ft.event(t):t)}}}function e5(e,t,n,r,a,i,o,l,c,d){var u,h,f,g,m,p,x,v,y,j,N,w,S,k,_,T,P,C=t.type;if(t.constructor!=null)return null;128&n.__u&&(c=!!(32&n.__u),i=[l=t.__e=n.__e]),(u=Ft.__b)&&u(t);e:if(typeof C=="function")try{if(v=t.props,y="prototype"in C&&C.prototype.render,j=(u=C.contextType)&&r[u.__c],N=u?j?j.props.value:u.__:r,n.__c?x=(h=t.__c=n.__c).__=h.__E:(y?t.__c=h=new C(v,N):(t.__c=h=new _a(v,N),h.constructor=C,h.render=Mut),j&&j.sub(h),h.props=v,h.state||(h.state={}),h.context=N,h.__n=r,f=h.__d=!0,h.__h=[],h._sb=[]),y&&h.__s==null&&(h.__s=h.state),y&&C.getDerivedStateFromProps!=null&&(h.__s==h.state&&(h.__s=Vl({},h.__s)),Vl(h.__s,C.getDerivedStateFromProps(v,h.__s))),g=h.props,m=h.state,h.__v=t,f)y&&C.getDerivedStateFromProps==null&&h.componentWillMount!=null&&h.componentWillMount(),y&&h.componentDidMount!=null&&h.__h.push(h.componentDidMount);else{if(y&&C.getDerivedStateFromProps==null&&v!==g&&h.componentWillReceiveProps!=null&&h.componentWillReceiveProps(v,N),!h.__e&&h.shouldComponentUpdate!=null&&h.shouldComponentUpdate(v,h.__s,N)===!1||t.__v==n.__v){for(t.__v!=n.__v&&(h.props=v,h.state=h.__s,h.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some(function(A){A&&(A.__=t)}),w=0;w<h._sb.length;w++)h.__h.push(h._sb[w]);h._sb=[],h.__h.length&&o.push(h);break e}h.componentWillUpdate!=null&&h.componentWillUpdate(v,h.__s,N),y&&h.componentDidUpdate!=null&&h.__h.push(function(){h.componentDidUpdate(g,m,p)})}if(h.context=N,h.props=v,h.__P=e,h.__e=!1,S=Ft.__r,k=0,y){for(h.state=h.__s,h.__d=!1,S&&S(t),u=h.render(h.props,h.state,h.context),_=0;_<h._sb.length;_++)h.__h.push(h._sb[_]);h._sb=[]}else do h.__d=!1,S&&S(t),u=h.render(h.props,h.state,h.context),h.state=h.__s;while(h.__d&&++k<25);h.state=h.__s,h.getChildContext!=null&&(r=Vl(Vl({},r),h.getChildContext())),y&&!f&&h.getSnapshotBeforeUpdate!=null&&(p=h.getSnapshotBeforeUpdate(g,m)),T=u,u!=null&&u.type===Bo&&u.key==null&&(T=mhe(u.props.children)),l=uhe(e,dw(T)?T:[T],t,n,r,a,i,o,l,c,d),h.base=t.__e,t.__u&=-161,h.__h.length&&o.push(h),x&&(h.__E=h.__=null)}catch(A){if(t.__v=null,c||i!=null)if(A.then){for(t.__u|=c?160:128;l&&l.nodeType==8&&l.nextSibling;)l=l.nextSibling;i[i.indexOf(l)]=null,t.__e=l}else{for(P=i.length;P--;)JF(i[P]);CM(t)}else t.__e=n.__e,t.__k=n.__k,A.then||CM(t);Ft.__e(A,t,n)}else i==null&&t.__v==n.__v?(t.__k=n.__k,t.__e=n.__e):l=t.__e=Out(n.__e,t,n,r,a,i,o,c,d);return(u=Ft.diffed)&&u(t),128&t.__u?void 0:l}function CM(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(CM)}function fhe(e,t,n){for(var r=0;r<n.length;r++)t5(n[r],n[++r],n[++r]);Ft.__c&&Ft.__c(t,e),e.some(function(a){try{e=a.__h,a.__h=[],e.some(function(i){i.call(a)})}catch(i){Ft.__e(i,a.__v)}})}function mhe(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:dw(e)?e.map(mhe):Vl({},e)}function Out(e,t,n,r,a,i,o,l,c){var d,u,h,f,g,m,p,x=n.props,v=t.props,y=t.type;if(y=="svg"?a="http://www.w3.org/2000/svg":y=="math"?a="http://www.w3.org/1998/Math/MathML":a||(a="http://www.w3.org/1999/xhtml"),i!=null){for(d=0;d<i.length;d++)if((g=i[d])&&"setAttribute"in g==!!y&&(y?g.localName==y:g.nodeType==3)){e=g,i[d]=null;break}}if(e==null){if(y==null)return document.createTextNode(v);e=document.createElementNS(a,y,v.is&&v),l&&(Ft.__m&&Ft.__m(t,i),l=!1),i=null}if(y==null)x===v||l&&e.data==v||(e.data=v);else{if(i=i&&cw.call(e.childNodes),x=n.props||kb,!l&&i!=null)for(x={},d=0;d<e.attributes.length;d++)x[(g=e.attributes[d]).name]=g.value;for(d in x)if(g=x[d],d!="children"){if(d=="dangerouslySetInnerHTML")h=g;else if(!(d in v)){if(d=="value"&&"defaultValue"in v||d=="checked"&&"defaultChecked"in v)continue;xN(e,d,null,g,a)}}for(d in v)g=v[d],d=="children"?f=g:d=="dangerouslySetInnerHTML"?u=g:d=="value"?m=g:d=="checked"?p=g:l&&typeof g!="function"||x[d]===g||xN(e,d,g,x[d],a);if(u)l||h&&(u.__html==h.__html||u.__html==e.innerHTML)||(e.innerHTML=u.__html),t.__k=[];else if(h&&(e.innerHTML=""),uhe(t.type=="template"?e.content:e,dw(f)?f:[f],t,n,r,y=="foreignObject"?"http://www.w3.org/1999/xhtml":a,i,o,i?i[0]:n.__k&&Jg(n,0),l,c),i!=null)for(d=i.length;d--;)JF(i[d]);l||(d="value",y=="progress"&&m==null?e.removeAttribute("value"):m!=null&&(m!==e[d]||y=="progress"&&!m||y=="option"&&m!=x[d])&&xN(e,d,m,x[d],a),d="checked",p!=null&&p!=e[d]&&xN(e,d,p,x[d],a))}return e}function t5(e,t,n){try{if(typeof e=="function"){var r=typeof e.__u=="function";r&&e.__u(),r&&t==null||(e.__u=e(t))}else e.current=t}catch(a){Ft.__e(a,n)}}function phe(e,t,n){var r,a;if(Ft.unmount&&Ft.unmount(e),(r=e.ref)&&(r.current&&r.current!=e.__e||t5(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(i){Ft.__e(i,t)}r.base=r.__P=null}if(r=e.__k)for(a=0;a<r.length;a++)r[a]&&phe(r[a],t,n||typeof e.type!="function");n||JF(e.__e),e.__c=e.__=e.__e=void 0}function Mut(e,t,n){return this.constructor(e,n)}function Rut(e,t,n){var r,a,i,o;t==document&&(t=document.documentElement),Ft.__&&Ft.__(e,t),a=(r=typeof n=="function")?null:t.__k,i=[],o=[],e5(t,e=(!r&&n||t).__k=_b(Bo,null,[e]),a||kb,kb,t.namespaceURI,!r&&n?[n]:a?null:t.firstChild?cw.call(t.childNodes):null,i,!r&&n?n:a?a.__e:t.firstChild,r,o),fhe(i,e,o)}function ghe(e,t,n){var r,a,i,o,l=Vl({},e.props);for(i in e.type&&e.type.defaultProps&&(o=e.type.defaultProps),t)i=="key"?r=t[i]:i=="ref"?a=t[i]:l[i]=t[i]===void 0&&o!=null?o[i]:t[i];return arguments.length>2&&(l.children=arguments.length>3?cw.call(arguments,2):n),Ay(e.type,l,r||e.key,a||e.ref,null)}cw=che.slice,Ft={__e:function(e,t,n,r){for(var a,i,o;t=t.__;)if((a=t.__c)&&!a.__)try{if((i=a.constructor)&&i.getDerivedStateFromError!=null&&(a.setState(i.getDerivedStateFromError(e)),o=a.__d),a.componentDidCatch!=null&&(a.componentDidCatch(e,r||{}),o=a.__d),o)return a.__E=a}catch(l){e=l}throw e}},ahe=0,_a.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=Vl({},this.state),typeof e=="function"&&(e=e(Vl({},n),this.props)),e&&Vl(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),d9(this))},_a.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),d9(this))},_a.prototype.render=Bo,_h=[],ihe=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ohe=function(e,t){return e.__v.__b-t.__v.__b},e2.__r=0,lhe=/(PointerCapture)$|Capture$/i,ZF=0,NM=h9(!1),SM=h9(!0);var $ut=0;function G(e,t,n,r,a,i){t||(t={});var o,l,c=t;if("ref"in c)for(l in c={},t)l=="ref"?o=t[l]:c[l]=t[l];var d={type:e,props:c,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--$ut,__i:-1,__u:0,__source:a,__self:i};if(typeof e=="function"&&(o=e.defaultProps))for(l in o)c[l]===void 0&&(c[l]=o[l]);return Ft.vnode&&Ft.vnode(d),d}var Pb,Er,aA,f9,Tb=0,vhe=[],Br=Ft,m9=Br.__b,p9=Br.__r,g9=Br.diffed,v9=Br.__c,x9=Br.unmount,y9=Br.__;function n5(e,t){Br.__h&&Br.__h(Er,e,Tb||t),Tb=0;var n=Er.__H||(Er.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function ev(e){return Tb=1,Iut(yhe,e)}function Iut(e,t,n){var r=n5(Pb++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):yhe(void 0,t),function(l){var c=r.__N?r.__N[0]:r.__[0],d=r.t(c,l);c!==d&&(r.__N=[d,r.__[1]],r.__c.setState({}))}],r.__c=Er,!Er.__f)){var a=function(l,c,d){if(!r.__c.__H)return!0;var u=r.__c.__H.__.filter(function(f){return!!f.__c});if(u.every(function(f){return!f.__N}))return!i||i.call(this,l,c,d);var h=r.__c.props!==l;return u.forEach(function(f){if(f.__N){var g=f.__[0];f.__=f.__N,f.__N=void 0,g!==f.__[0]&&(h=!0)}}),i&&i.call(this,l,c,d)||h};Er.__f=!0;var i=Er.shouldComponentUpdate,o=Er.componentWillUpdate;Er.componentWillUpdate=function(l,c,d){if(this.__e){var u=i;i=void 0,a(l,c,d),i=u}o&&o.call(this,l,c,d)},Er.shouldComponentUpdate=a}return r.__N||r.__}function t2(e,t){var n=n5(Pb++,3);!Br.__s&&xhe(n.__H,t)&&(n.__=e,n.u=t,Er.__H.__h.push(n))}function Ey(e){return Tb=5,r5(function(){return{current:e}},[])}function r5(e,t){var n=n5(Pb++,7);return xhe(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function n2(e,t){return Tb=8,r5(function(){return e},t)}function Fut(){for(var e;e=vhe.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(b1),e.__H.__h.forEach(kM),e.__H.__h=[]}catch(t){e.__H.__h=[],Br.__e(t,e.__v)}}Br.__b=function(e){Er=null,m9&&m9(e)},Br.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),y9&&y9(e,t)},Br.__r=function(e){p9&&p9(e),Pb=0;var t=(Er=e.__c).__H;t&&(aA===Er?(t.__h=[],Er.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(t.__h.forEach(b1),t.__h.forEach(kM),t.__h=[],Pb=0)),aA=Er},Br.diffed=function(e){g9&&g9(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(vhe.push(t)!==1&&f9===Br.requestAnimationFrame||((f9=Br.requestAnimationFrame)||Lut)(Fut)),t.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),aA=Er=null},Br.__c=function(e,t){t.some(function(n){try{n.__h.forEach(b1),n.__h=n.__h.filter(function(r){return!r.__||kM(r)})}catch(r){t.some(function(a){a.__h&&(a.__h=[])}),t=[],Br.__e(r,n.__v)}}),v9&&v9(e,t)},Br.unmount=function(e){x9&&x9(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{b1(r)}catch(a){t=a}}),n.__H=void 0,t&&Br.__e(t,n.__v))};var b9=typeof requestAnimationFrame=="function";function Lut(e){var t,n=function(){clearTimeout(r),b9&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,35);b9&&(t=requestAnimationFrame(n))}function b1(e){var t=Er,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),Er=t}function kM(e){var t=Er;e.__c=e.__(),Er=t}function xhe(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function yhe(e,t){return typeof t=="function"?t(e):t}const zut={position:"relative",width:"100%",minHeight:"100%"},But={position:"absolute",top:0,left:0,width:"100%",overflow:"visible"};function Uut({data:e,rowHeight:t,renderRow:n,overscanCount:r=10,padding:a=4,...i}){const o=Ey(null),[l,c]=ev(0),[d,u]=ev(0);t2(()=>{function y(){o.current!=null&&d!==o.current.offsetHeight&&u(o.current.offsetHeight)}return y(),window.addEventListener("resize",y),()=>{window.removeEventListener("resize",y)}},[d]);const h=n2(()=>{o.current&&c(o.current.scrollTop)},[]);let f=Math.floor(l/t),g=Math.floor(d/t);r&&(f=Math.max(0,f-f%r),g+=r);const m=f+g+a,p=e.slice(f,m),x={...zut,height:e.length*t},v={...But,top:f*t};return G("div",{onScroll:h,ref:o,...i,children:G("div",{role:"presentation",style:x,children:G("div",{role:"presentation",style:v,children:p.map(n)})})})}class bhe{constructor(t,n){H(this,"uppy");H(this,"opts");H(this,"id");H(this,"defaultLocale");H(this,"i18n");H(this,"i18nArray");H(this,"type");H(this,"VERSION");this.uppy=t,this.opts=n??{}}getPluginState(){const{plugins:t}=this.uppy.getState();return(t==null?void 0:t[this.id])||{}}setPluginState(t){const{plugins:n}=this.uppy.getState();this.uppy.setState({plugins:{...n,[this.id]:{...n[this.id],...t}}})}setOptions(t){this.opts={...this.opts,...t},this.setPluginState(void 0),this.i18nInit()}i18nInit(){const t=new rhe([this.defaultLocale,this.uppy.locale,this.opts.locale]);this.i18n=t.translate.bind(t),this.i18nArray=t.translateArray.bind(t),this.setPluginState(void 0)}addTarget(t){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")}install(){}uninstall(){}update(t){}afterUpdate(){}}var Tl,Bb;class Vut{constructor(t){de(this,Tl);de(this,Bb,[]);fe(this,Tl,t)}on(t,n){return R(this,Bb).push([t,n]),R(this,Tl).on(t,n)}remove(){for(const[t,n]of R(this,Bb).splice(0))R(this,Tl).off(t,n)}onFilePause(t,n){this.on("upload-pause",(r,a)=>{t===(r==null?void 0:r.id)&&n(a)})}onFileRemove(t,n){this.on("file-removed",r=>{t===r.id&&n(r.id)})}onPause(t,n){this.on("upload-pause",(r,a)=>{t===(r==null?void 0:r.id)&&n(a)})}onRetry(t,n){this.on("upload-retry",r=>{t===(r==null?void 0:r.id)&&n()})}onRetryAll(t,n){this.on("retry-all",()=>{R(this,Tl).getFile(t)&&n()})}onPauseAll(t,n){this.on("pause-all",()=>{R(this,Tl).getFile(t)&&n()})}onCancelAll(t,n){this.on("cancel-all",(...r)=>{R(this,Tl).getFile(t)&&n(...r)})}onResumeAll(t,n){this.on("resume-all",()=>{R(this,Tl).getFile(t)&&n()})}}Tl=new WeakMap,Bb=new WeakMap;const Wut={debug:()=>{},warn:()=>{},error:(...e)=>console.error(`[Uppy] [${y1()}]`,...e)},Hut={debug:(...e)=>console.debug(`[Uppy] [${y1()}]`,...e),warn:(...e)=>console.warn(`[Uppy] [${y1()}]`,...e),error:(...e)=>console.error(`[Uppy] [${y1()}]`,...e)};function qut(e,t){for(var n in t)e[n]=t[n];return e}function j9(e,t){for(var n in e)if(n!=="__source"&&!(n in t))return!0;for(var r in t)if(r!=="__source"&&e[r]!==t[r])return!0;return!1}function w9(e,t){this.props=e,this.context=t}(w9.prototype=new _a).isPureReactComponent=!0,w9.prototype.shouldComponentUpdate=function(e,t){return j9(this.props,e)||j9(this.state,t)};var N9=Ft.__b;Ft.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),N9&&N9(e)};var Kut=Ft.__e;Ft.__e=function(e,t,n,r){if(e.then){for(var a,i=t;i=i.__;)if((a=i.__c)&&a.__c)return t.__e==null&&(t.__e=n.__e,t.__k=n.__k),a.__c(e,t)}Kut(e,t,n,r)};var S9=Ft.unmount;function jhe(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),e.__c.__H=null),(e=qut({},e)).__c!=null&&(e.__c.__P===n&&(e.__c.__P=t),e.__c.__e=!0,e.__c=null),e.__k=e.__k&&e.__k.map(function(r){return jhe(r,t,n)})),e}function whe(e,t,n){return e&&n&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(r){return whe(r,t,n)}),e.__c&&e.__c.__P===t&&(e.__e&&n.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=n)),e}function iA(){this.__u=0,this.o=null,this.__b=null}function Nhe(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function yN(){this.i=null,this.l=null}Ft.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),S9&&S9(e)},(iA.prototype=new _a).__c=function(e,t){var n=t.__c,r=this;r.o==null&&(r.o=[]),r.o.push(n);var a=Nhe(r.__v),i=!1,o=function(){i||(i=!0,n.__R=null,a?a(l):l())};n.__R=o;var l=function(){if(!--r.__u){if(r.state.__a){var c=r.state.__a;r.__v.__k[0]=whe(c,c.__c.__P,c.__c.__O)}var d;for(r.setState({__a:r.__b=null});d=r.o.pop();)d.forceUpdate()}};r.__u++||32&t.__u||r.setState({__a:r.__b=r.__v.__k[0]}),e.then(o,o)},iA.prototype.componentWillUnmount=function(){this.o=[]},iA.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=jhe(this.__b,n,r.__O=r.__P)}this.__b=null}var a=t.__a&&_b(Bo,null,e.fallback);return a&&(a.__u&=-33),[_b(Bo,null,t.__a?null:e.children),a]};var C9=function(e,t,n){if(++n[1]===n[0]&&e.l.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.l.size))for(n=e.i;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.i=n=n[2]}};(yN.prototype=new _a).__a=function(e){var t=this,n=Nhe(t.__v),r=t.l.get(e);return r[0]++,function(a){var i=function(){t.props.revealOrder?(r.push(a),C9(t,e,r)):a()};n?n(i):i()}},yN.prototype.render=function(e){this.i=null,this.l=new Map;var t=Mo(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var n=t.length;n--;)this.l.set(t[n],this.i=[1,0,this.i]);return e.children},yN.prototype.componentDidUpdate=yN.prototype.componentDidMount=function(){var e=this;this.l.forEach(function(t,n){C9(e,n,t)})};var Gut=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Yut=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Xut=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Qut=/[A-Z0-9]/g,Zut=typeof document<"u",Jut=function(e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(e)};function k9(e,t,n){return t.__k==null&&(t.textContent=""),Rut(e,t),typeof n=="function"&&n(),e?e.__c:null}_a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(_a.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var _9=Ft.event;function eht(){}function tht(){return this.cancelBubble}function nht(){return this.defaultPrevented}Ft.event=function(e){return _9&&(e=_9(e)),e.persist=eht,e.isPropagationStopped=tht,e.isDefaultPrevented=nht,e.nativeEvent=e};var rht={enumerable:!1,configurable:!0,get:function(){return this.class}},P9=Ft.vnode;Ft.vnode=function(e){typeof e.type=="string"&&function(t){var n=t.props,r=t.type,a={},i=r.indexOf("-")===-1;for(var o in n){var l=n[o];if(!(o==="value"&&"defaultValue"in n&&l==null||Zut&&o==="children"&&r==="noscript"||o==="class"||o==="className")){var c=o.toLowerCase();o==="defaultValue"&&"value"in n&&n.value==null?o="value":o==="download"&&l===!0?l="":c==="translate"&&l==="no"?l=!1:c[0]==="o"&&c[1]==="n"?c==="ondoubleclick"?o="ondblclick":c!=="onchange"||r!=="input"&&r!=="textarea"||Jut(n.type)?c==="onfocus"?o="onfocusin":c==="onblur"?o="onfocusout":Xut.test(o)&&(o=c):c=o="oninput":i&&Yut.test(o)?o=o.replace(Qut,"-$&").toLowerCase():l===null&&(l=void 0),c==="oninput"&&a[o=c]&&(o="oninputCapture"),a[o]=l}}r=="select"&&a.multiple&&Array.isArray(a.value)&&(a.value=Mo(n.children).forEach(function(d){d.props.selected=a.value.indexOf(d.props.value)!=-1})),r=="select"&&a.defaultValue!=null&&(a.value=Mo(n.children).forEach(function(d){d.props.selected=a.multiple?a.defaultValue.indexOf(d.props.value)!=-1:a.defaultValue==d.props.value})),n.class&&!n.className?(a.class=n.class,Object.defineProperty(a,"className",rht)):(n.className&&!n.class||n.class&&n.className)&&(a.class=a.className=n.className),t.props=a}(e),e.$$typeof=Gut,P9&&P9(e)};var T9=Ft.__r;Ft.__r=function(e){T9&&T9(e),e.__c};var A9=Ft.diffed;Ft.diffed=function(e){A9&&A9(e);var t=e.props,n=e.__e;n!=null&&e.type==="textarea"&&"value"in t&&t.value!==n.value&&(n.value=t.value==null?"":t.value)};function sht(e){let t=null,n;return(...r)=>(n=r,t||(t=Promise.resolve().then(()=>(t=null,e(...n)))),t)}var Ub;const p2=class p2 extends bhe{constructor(){super(...arguments);de(this,Ub);H(this,"isTargetDOMEl");H(this,"el");H(this,"parent");H(this,"title")}getTargetPlugin(n){let r;if(typeof(n==null?void 0:n.addTarget)=="function")r=n,r instanceof p2||console.warn(new Error("The provided plugin is not an instance of UIPlugin. This is an indication of a bug with the way Uppy is bundled.",{cause:{targetPlugin:r,UIPlugin:p2}}));else if(typeof n=="function"){const a=n;this.uppy.iteratePlugins(i=>{i instanceof a&&(r=i)})}return r}mount(n,r){const a=r.id,i=uut(n);if(i){this.isTargetDOMEl=!0;const c=document.createElement("div");return c.classList.add("uppy-Root"),fe(this,Ub,sht(d=>{this.uppy.getPlugin(this.id)&&(k9(this.render(d,c),c),this.afterUpdate())})),this.uppy.log(`Installing ${a} to a DOM element '${n}'`),this.opts.replaceTargetContent&&(i.innerHTML=""),k9(this.render(this.uppy.getState(),c),c),this.el=c,i.appendChild(c),c.dir=this.opts.direction||but(c)||"ltr",this.onMount(),this.el}const o=this.getTargetPlugin(n);if(o)return this.uppy.log(`Installing ${a} to ${o.id}`),this.parent=o,this.el=o.addTarget(r),this.onMount(),this.el;this.uppy.log(`Not installing ${a}`);let l=`Invalid target option given to ${a}.`;throw typeof n=="function"?l+=" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":l+="If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.",new Error(l)}render(n,r){throw new Error("Extend the render method to add your plugin to a DOM element")}update(n){var r;this.el!=null&&((r=R(this,Ub))==null||r.call(this,n))}unmount(){var n;this.isTargetDOMEl&&((n=this.el)==null||n.remove()),this.onUnmount()}onMount(){}onUnmount(){}};Ub=new WeakMap;let r2=p2;const aht="@uppy/store-default",iht="The default simple object-based store for Uppy.",oht="5.0.0",lht="MIT",cht="lib/index.js",dht="module",uht=!1,hht={build:"tsc --build tsconfig.build.json",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},fht=["file uploader","uppy","uppy-store"],mht="https://uppy.io",pht={url:"https://github.com/transloadit/uppy/issues"},ght={jsdom:"^26.1.0",typescript:"^5.8.3",vitest:"^3.2.4"},vht={type:"git",url:"git+https://github.com/transloadit/uppy.git"},xht={".":"./lib/index.js","./package.json":"./package.json"},yht=["src","lib","dist","CHANGELOG.md"],bht={name:aht,description:iht,version:oht,license:lht,main:cht,type:dht,sideEffects:uht,scripts:hht,keywords:fht,homepage:mht,bugs:pht,devDependencies:ght,repository:vht,exports:xht,files:yht};var Ip,g2,Che;class She{constructor(){de(this,g2);H(this,"state",{});de(this,Ip,new Set)}getState(){return this.state}setState(t){const n={...this.state},r={...this.state,...t};this.state=r,je(this,g2,Che).call(this,n,r,t)}subscribe(t){return R(this,Ip).add(t),()=>{R(this,Ip).delete(t)}}}Ip=new WeakMap,g2=new WeakSet,Che=function(...t){R(this,Ip).forEach(n=>{n(...t)})},H(She,"VERSION",bht.version);var jht=function(){var t={},n=t._fns={};t.emit=function(o,l,c,d,u,h,f){var g=r(o);g.length&&a(o,g,[l,c,d,u,h,f])},t.on=function(o,l){n[o]||(n[o]=[]),n[o].push(l)},t.once=function(o,l){function c(){l.apply(this,arguments),t.off(o,c)}this.on(o,c)},t.off=function(o,l){var c=[];if(o&&l){var d=this._fns[o],u=0,h=d?d.length:0;for(u;u<h;u++)d[u]!==l&&c.push(d[u])}c.length?this._fns[o]=c:delete this._fns[o]};function r(i){var o=n[i]?n[i]:[],l=i.indexOf(":"),c=l===-1?[i]:[i.substring(0,l),i.substring(l+1)],d=Object.keys(n),u=0,h=d.length;for(u;u<h;u++){var f=d[u];if(f==="*"&&(o=o.concat(n[f])),c.length===2&&c[0]===f){o=o.concat(n[f]);break}}return o}function a(i,o,l){var c=0,d=o.length;for(c;c<d&&o[c];c++)o[c].event=i,o[c].apply(o[c],l)}return t};const wht=Tt(jht);let Nht="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Sht=(e=21)=>{let t="",n=e|0;for(;n--;)t+=Nht[Math.random()*64|0];return t};const Cht="@uppy/core",kht="Core module for the extensible JavaScript file upload widget with support for drag&drop, resumable uploads, previews, restrictions, file processing/encoding, remote providers like Instagram, Dropbox, Google Drive, S3 and more :dog:",_ht="5.0.0",Pht="MIT",Tht="lib/index.js",Aht="dist/style.min.css",Eht="module",Dht=["*.css"],Oht={build:"tsc --build tsconfig.build.json","build:css":"sass --load-path=../../ src/style.scss dist/style.css && postcss dist/style.css -u cssnano -o dist/style.min.css",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},Mht=["file uploader","uppy","uppy-plugin"],Rht="https://uppy.io",$ht={url:"https://github.com/transloadit/uppy/issues"},Iht={type:"git",url:"git+https://github.com/transloadit/uppy.git"},Fht=["src","lib","dist","CHANGELOG.md"],Lht={".":"./lib/index.js","./css/style.min.css":"./dist/style.min.css","./css/style.css":"./dist/style.css","./package.json":"./package.json"},zht={"@transloadit/prettier-bytes":"^0.3.4","@uppy/store-default":"^5.0.0","@uppy/utils":"^7.0.0",lodash:"^4.17.21","mime-match":"^1.0.2","namespace-emitter":"^2.0.1",nanoid:"^5.0.9",preact:"^10.5.13"},Bht={"@types/deep-freeze":"^0",cssnano:"^7.0.7","deep-freeze":"^0.0.1",jsdom:"^26.1.0",postcss:"^8.5.6","postcss-cli":"^11.0.1",sass:"^1.89.2",typescript:"^5.8.3",vitest:"^3.2.4"},Uht={name:Cht,description:kht,version:_ht,license:Pht,main:Tht,style:Aht,type:Eht,sideEffects:Dht,scripts:Oht,keywords:Mht,homepage:Rht,bugs:$ht,repository:Iht,files:Fht,exports:Lht,dependencies:zht,devDependencies:Bht};function Vht(e,t){return t.name?t.name:e.split("/")[0]==="image"?`${e.split("/")[0]}.${e.split("/")[1]}`:"noname"}const Wht={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},aggregateExceedsSize:"You selected %{size} of files, but maximum allowed size is %{sizeAllowed}",exceedsSize:"%{file} exceeds maximum allowed size of %{size}",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noMoreFilesAllowed:"Cannot add more files",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",authAborted:"Authentication aborted",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",noSearchResults:"Unfortunately, there are no results for this search",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},allFilesFromFolderNamed:"All files from folder %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",logIn:"Log in",pickFiles:"Pick files",pickPhotos:"Pick photos",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",loadedXFiles:"Loaded %{numFiles} files",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",signInWithGoogle:"Sign in with Google",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",search:"Search",resetSearch:"Reset search",emptyFolderAdded:"No files were added from empty folder",addedNumFiles:"Added %{numFiles} file(s)",folderAlreadyAdded:'The folder "%{folder}" was already added',folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"},additionalRestrictionsFailed:"%{count} additional restrictions were not fulfilled",unnamed:"Unnamed",pleaseWait:"Please wait"}};var Hht=function(t){if(typeof t!="number"||Number.isNaN(t))throw new TypeError(`Expected a number, got ${typeof t}`);const n=t<0;let r=Math.abs(t);if(n&&(r=-r),r===0)return"0 B";const a=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],i=Math.min(Math.floor(Math.log(r)/Math.log(1024)),a.length-1),o=Number(r/1024**i),l=a[i];return`${o>=10||o%1===0?Math.round(o):o.toFixed(1)} ${l}`};const zh=Tt(Hht);function khe(e,t){this.text=e=e||"",this.hasWild=~e.indexOf("*"),this.separator=t,this.parts=e.split(t)}khe.prototype.match=function(e){var t=!0,n=this.parts,r,a=n.length,i;if(typeof e=="string"||e instanceof String)if(!this.hasWild&&this.text!=e)t=!1;else{for(i=(e||"").split(this.separator),r=0;t&&r<a;r++)n[r]!=="*"&&(r<i.length?t=n[r]===i[r]:t=!1);t=t&&i}else if(typeof e.splice=="function")for(t=[],r=e.length;r--;)this.match(e[r])&&(t[t.length]=e[r]);else if(typeof e=="object"){t={};for(var o in e)this.match(o)&&(t[o]=e[o])}return t};var qht=function(e,t,n){var r=new khe(e,n||/[\/\.]/);return typeof t<"u"?r.match(t):r},Kht=qht,Ght=/[\/\+\.]/,Yht=function(e,t){function n(r){var a=Kht(r,e,Ght);return a&&a.length>=2}return t?n(t.split(";")[0]):n};const Xht=Tt(Yht),Qht={maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null,requiredMetaFields:[]};class To extends Error{constructor(n,r){super(n);H(this,"isUserFacing");H(this,"file");H(this,"isRestriction",!0);this.isUserFacing=(r==null?void 0:r.isUserFacing)??!0,r!=null&&r.file&&(this.file=r.file)}}class Zht{constructor(t,n){H(this,"getI18n");H(this,"getOpts");this.getI18n=n,this.getOpts=()=>{var a;const r=t();if(((a=r.restrictions)==null?void 0:a.allowedFileTypes)!=null&&!Array.isArray(r.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");return r}}validateAggregateRestrictions(t,n){const{maxTotalFileSize:r,maxNumberOfFiles:a}=this.getOpts().restrictions;if(a&&t.filter(o=>!o.isGhost).length+n.length>a)throw new To(`${this.getI18n()("youCanOnlyUploadX",{smart_count:a})}`);if(r){const i=[...t,...n].reduce((o,l)=>o+(l.size??0),0);if(i>r)throw new To(this.getI18n()("aggregateExceedsSize",{sizeAllowed:zh(r),size:zh(i)}))}}validateSingleFile(t){const{maxFileSize:n,minFileSize:r,allowedFileTypes:a}=this.getOpts().restrictions;if(a&&!a.some(o=>o.includes("/")?t.type?Xht(t.type.replace(/;.*?$/,""),o):!1:o[0]==="."&&t.extension?t.extension.toLowerCase()===o.slice(1).toLowerCase():!1)){const o=a.join(", ");throw new To(this.getI18n()("youCanOnlyUploadFileTypes",{types:o}),{file:t})}if(n&&t.size!=null&&t.size>n)throw new To(this.getI18n()("exceedsSize",{size:zh(n),file:t.name??this.getI18n()("unnamed")}),{file:t});if(r&&t.size!=null&&t.size<r)throw new To(this.getI18n()("inferiorSize",{size:zh(r)}),{file:t})}validate(t,n){n.forEach(r=>{this.validateSingleFile(r)}),this.validateAggregateRestrictions(t,n)}validateMinNumberOfFiles(t){const{minNumberOfFiles:n}=this.getOpts().restrictions;if(n&&Object.keys(t).length<n)throw new To(this.getI18n()("youHaveToAtLeastSelectX",{smart_count:n}))}getMissingRequiredMetaFields(t){const n=new To(this.getI18n()("missingRequiredMetaFieldOnFile",{fileName:t.name??this.getI18n()("unnamed")})),{requiredMetaFields:r}=this.getOpts().restrictions,a=[];for(const i of r)(!Object.hasOwn(t.meta,i)||t.meta[i]==="")&&a.push(i);return{missingFields:a,error:n}}}function Jht(e){if(e==null&&typeof navigator<"u"&&(e=navigator.userAgent),!e)return!0;const t=/Edge\/(\d+\.\d+)/.exec(e);if(!t)return!0;const r=t[1].split(".",2),a=parseInt(r[0],10),i=parseInt(r[1],10);return a<15||a===15&&i<15063||a>18||a===18&&i>=18218}const bN={totalProgress:0,allowNewUpload:!0,error:null,recoveredState:null};var bo,jo,Vb,Xh,Fp,Lp,Qh,ft,jh,PM,_he,TM,Phe,AM,EM,DM,OM,v2,MM,Zh,The,Ahe,tu,Wb,Yx,Ehe,j1,Xx;const x2=class x2{constructor(t){de(this,ft);de(this,bo,Object.create(null));de(this,jo);de(this,Vb);de(this,Xh,wht());de(this,Fp,new Set);de(this,Lp,new Set);de(this,Qh,new Set);H(this,"defaultLocale");H(this,"locale");H(this,"opts");H(this,"store");H(this,"i18n");H(this,"i18nArray");H(this,"scheduledAutoProceed",null);H(this,"wasOffline",!1);de(this,v2,(t,n)=>{const r=t?this.getFile(t.id):void 0;if(t==null||!r){this.log(`Not setting progress for a file that has been removed: ${t==null?void 0:t.id}`);return}if(r.progress.percentage===100){this.log(`Not setting progress for a file that has been already uploaded: ${t.id}`);return}const a={bytesTotal:n.bytesTotal,percentage:n.bytesTotal!=null&&Number.isFinite(n.bytesTotal)&&n.bytesTotal>0?Math.round(n.bytesUploaded/n.bytesTotal*100):void 0};r.progress.uploadStarted!=null?this.setFileState(t.id,{progress:{...r.progress,...a,bytesUploaded:n.bytesUploaded}}):this.setFileState(t.id,{progress:{...r.progress,...a}}),R(this,Zh).call(this)});de(this,Zh,aI(()=>je(this,ft,MM).call(this),500,{leading:!0,trailing:!0}));de(this,tu,this.updateOnlineStatus.bind(this));de(this,Wb,new Map);this.defaultLocale=Wht;const n={id:"uppy",autoProceed:!1,allowMultipleUploadBatches:!0,debug:!1,restrictions:Qht,meta:{},onBeforeFileAdded:(a,i)=>!Object.hasOwn(i,a.id),onBeforeUpload:a=>a,store:new She,logger:Wut,infoTimeout:5e3},r={...n,...t};this.opts={...r,restrictions:{...n.restrictions,...t==null?void 0:t.restrictions}},t!=null&&t.logger&&t.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):t!=null&&t.debug&&(this.opts.logger=Hut),this.log(`Using Core v${x2.VERSION}`),this.i18nInit(),this.store=this.opts.store,this.setState({...bN,plugins:{},files:{},currentUploads:{},capabilities:{uploadProgress:Jht(),individualCancellation:!0,resumableUploads:!1},meta:{...this.opts.meta},info:[]}),fe(this,jo,new Zht(()=>this.opts,()=>this.i18n)),fe(this,Vb,this.store.subscribe((a,i,o)=>{this.emit("state-update",a,i,o),this.updateAll(i)})),this.opts.debug&&typeof window<"u"&&(window[this.opts.id]=this),je(this,ft,Ahe).call(this)}emit(t,...n){R(this,Xh).emit(t,...n)}on(t,n){return R(this,Xh).on(t,n),this}once(t,n){return R(this,Xh).once(t,n),this}off(t,n){return R(this,Xh).off(t,n),this}updateAll(t){this.iteratePlugins(n=>{n.update(t)})}setState(t){this.store.setState(t)}getState(){return this.store.getState()}patchFilesState(t){const n=this.getState().files;this.setState({files:{...n,...Object.fromEntries(Object.entries(t).map(([r,a])=>[r,{...n[r],...a}]))}})}setFileState(t,n){if(!this.getState().files[t])throw new Error(`Cant set state for ${t} (the file could have been removed)`);this.patchFilesState({[t]:n})}i18nInit(){const t=r=>this.log(`Missing i18n string: ${r}`,"error"),n=new rhe([this.defaultLocale,this.opts.locale],{onMissingKey:t});this.i18n=n.translate.bind(n),this.i18nArray=n.translateArray.bind(n),this.locale=n.locale}setOptions(t){this.opts={...this.opts,...t,restrictions:{...this.opts.restrictions,...t==null?void 0:t.restrictions}},t.meta&&this.setMeta(t.meta),this.i18nInit(),t.locale&&this.iteratePlugins(n=>{n.setOptions(t)}),this.setState(void 0)}resetProgress(){const t={percentage:0,bytesUploaded:!1,uploadComplete:!1,uploadStarted:null},n={...this.getState().files},r=Object.create(null);Object.keys(n).forEach(a=>{r[a]={...n[a],progress:{...n[a].progress,...t},tus:void 0,transloadit:void 0}}),this.setState({files:r,...bN})}clear(){const{capabilities:t,currentUploads:n}=this.getState();if(Object.keys(n).length>0&&!t.individualCancellation)throw new Error("The installed uploader plugin does not allow removing files during an upload.");this.setState({...bN,files:{}})}addPreProcessor(t){R(this,Fp).add(t)}removePreProcessor(t){return R(this,Fp).delete(t)}addPostProcessor(t){R(this,Qh).add(t)}removePostProcessor(t){return R(this,Qh).delete(t)}addUploader(t){R(this,Lp).add(t)}removeUploader(t){return R(this,Lp).delete(t)}setMeta(t){const n={...this.getState().meta,...t},r={...this.getState().files};Object.keys(r).forEach(a=>{r[a]={...r[a],meta:{...r[a].meta,...t}}}),this.log("Adding metadata:"),this.log(t),this.setState({meta:n,files:r})}setFileMeta(t,n){const r={...this.getState().files};if(!r[t]){this.log(`Was trying to set metadata for a file that has been removed: ${t}`);return}const a={...r[t].meta,...n};r[t]={...r[t],meta:a},this.setState({files:r})}getFile(t){return this.getState().files[t]}getFiles(){const{files:t}=this.getState();return Object.values(t)}getFilesByIds(t){return t.map(n=>this.getFile(n))}getObjectOfFilesPerState(){const{files:t,totalProgress:n,error:r}=this.getState(),a=Object.values(t),i=[],o=[],l=[],c=[],d=[],u=[],h=[],f=[],g=[];for(const m of a){const{progress:p}=m;!p.uploadComplete&&p.uploadStarted&&(i.push(m),m.isPaused||f.push(m)),p.uploadStarted||o.push(m),(p.uploadStarted||p.preprocess||p.postprocess)&&l.push(m),p.uploadStarted&&c.push(m),m.isPaused&&d.push(m),p.uploadComplete&&u.push(m),m.error&&h.push(m),(p.preprocess||p.postprocess)&&g.push(m)}return{newFiles:o,startedFiles:l,uploadStartedFiles:c,pausedFiles:d,completeFiles:u,erroredFiles:h,inProgressFiles:i,inProgressNotPausedFiles:f,processingFiles:g,isUploadStarted:c.length>0,isAllComplete:n===100&&u.length===a.length&&g.length===0,isAllErrored:!!r&&h.length===a.length,isAllPaused:i.length!==0&&d.length===i.length,isUploadInProgress:i.length>0,isSomeGhost:a.some(m=>m.isGhost)}}validateRestrictions(t,n=this.getFiles()){try{R(this,jo).validate(n,[t])}catch(r){return r}return null}validateSingleFile(t){try{R(this,jo).validateSingleFile(t)}catch(n){return n.message}return null}validateAggregateRestrictions(t){const n=this.getFiles();try{R(this,jo).validateAggregateRestrictions(n,t)}catch(r){return r.message}return null}checkIfFileAlreadyExists(t){const{files:n}=this.getState();return!!(n[t]&&!n[t].isGhost)}addFile(t){je(this,ft,TM).call(this,t);const{nextFilesState:n,validFilesToAdd:r,errors:a}=je(this,ft,EM).call(this,[t]),i=a.filter(l=>l.isRestriction);if(je(this,ft,jh).call(this,i),a.length>0)throw a[0];this.setState({files:n});const[o]=r;return this.emit("file-added",o),this.emit("files-added",r),this.log(`Added file: ${o.name}, ${o.id}, mime type: ${o.type}`),je(this,ft,AM).call(this),o.id}addFiles(t){je(this,ft,TM).call(this);const{nextFilesState:n,validFilesToAdd:r,errors:a}=je(this,ft,EM).call(this,t),i=a.filter(l=>l.isRestriction);je(this,ft,jh).call(this,i);const o=a.filter(l=>!l.isRestriction);if(o.length>0){let l=`Multiple errors occurred while adding files:
`;if(o.forEach(c=>{l+=`
 * ${c.message}`}),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:o.length}),details:l},"error",this.opts.infoTimeout),typeof AggregateError=="function")throw new AggregateError(o,l);{const c=new Error(l);throw c.errors=o,c}}this.setState({files:n}),r.forEach(l=>{this.emit("file-added",l)}),this.emit("files-added",r),r.length>5?this.log(`Added batch of ${r.length} files`):Object.values(r).forEach(l=>{this.log(`Added file: ${l.name}
 id: ${l.id}
 type: ${l.type}`)}),r.length>0&&je(this,ft,AM).call(this)}removeFiles(t){const{files:n,currentUploads:r}=this.getState(),a={...n},i={...r},o=Object.create(null);t.forEach(u=>{n[u]&&(o[u]=n[u],delete a[u])});function l(u){return o[u]===void 0}Object.keys(i).forEach(u=>{const h=r[u].fileIDs.filter(l);if(h.length===0){delete i[u];return}const{capabilities:f}=this.getState();if(h.length!==r[u].fileIDs.length&&!f.individualCancellation)throw new Error("The installed uploader plugin does not allow removing files during an upload.");i[u]={...r[u],fileIDs:h}});const c={currentUploads:i,files:a};Object.keys(a).length===0&&(c.allowNewUpload=!0,c.error=null,c.recoveredState=null),this.setState(c),R(this,Zh).call(this);const d=Object.keys(o);d.forEach(u=>{this.emit("file-removed",o[u])}),d.length>5?this.log(`Removed ${d.length} files`):this.log(`Removed files: ${d.join(", ")}`)}removeFile(t){this.removeFiles([t])}pauseResume(t){if(!this.getState().capabilities.resumableUploads||this.getFile(t).progress.uploadComplete)return;const n=this.getFile(t),a=!(n.isPaused||!1);return this.setFileState(t,{isPaused:a}),this.emit("upload-pause",n,a),a}pauseAll(){const t={...this.getState().files};Object.keys(t).filter(r=>!t[r].progress.uploadComplete&&t[r].progress.uploadStarted).forEach(r=>{const a={...t[r],isPaused:!0};t[r]=a}),this.setState({files:t}),this.emit("pause-all")}resumeAll(){const t={...this.getState().files};Object.keys(t).filter(r=>!t[r].progress.uploadComplete&&t[r].progress.uploadStarted).forEach(r=>{const a={...t[r],isPaused:!1,error:null};t[r]=a}),this.setState({files:t}),this.emit("resume-all")}async retryAll(){const t=await je(this,ft,OM).call(this);return this.emit("complete",t),t}cancelAll(){this.emit("cancel-all");const{files:t}=this.getState(),n=Object.keys(t);n.length&&this.removeFiles(n),this.setState(bN)}retryUpload(t){this.setFileState(t,{error:null,isPaused:!1}),this.emit("upload-retry",this.getFile(t));const n=je(this,ft,Yx).call(this,[t],{forceAllowNewUpload:!0});return je(this,ft,Xx).call(this,n)}logout(){this.iteratePlugins(t=>{var n,r;(r=(n=t.provider)==null?void 0:n.logout)==null||r.call(n)})}[Symbol.for("uppy test: updateTotalProgress")](){return je(this,ft,MM).call(this)}updateOnlineStatus(){window.navigator.onLine??!0?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)}getID(){return this.opts.id}use(t,...n){if(typeof t!="function"){const o=`Expected a plugin class, but got ${t===null?"null":typeof t}. Please verify that the plugin was imported and spelled correctly.`;throw new TypeError(o)}const r=new t(this,...n),a=r.id;if(!a)throw new Error("Your plugin must have an id");if(!r.type)throw new Error("Your plugin must have a type");const i=this.getPlugin(a);if(i){const o=`Already found a plugin named '${i.id}'. Tried to use: '${a}'.
Uppy plugins must have unique \`id\` options.`;throw new Error(o)}return t.VERSION&&this.log(`Using ${a} v${t.VERSION}`),r.type in R(this,bo)?R(this,bo)[r.type].push(r):R(this,bo)[r.type]=[r],r.install(),this.emit("plugin-added",r),this}getPlugin(t){for(const n of Object.values(R(this,bo))){const r=n.find(a=>a.id===t);if(r!=null)return r}}[Symbol.for("uppy test: getPlugins")](t){return R(this,bo)[t]}iteratePlugins(t){Object.values(R(this,bo)).flat(1).forEach(t)}removePlugin(t){this.log(`Removing plugin ${t.id}`),this.emit("plugin-remove",t),t.uninstall&&t.uninstall();const n=R(this,bo)[t.type],r=n.findIndex(o=>o.id===t.id);r!==-1&&n.splice(r,1);const i={plugins:{...this.getState().plugins,[t.id]:void 0}};this.setState(i)}destroy(){this.log(`Closing Uppy instance ${this.opts.id}: removing all files and uninstalling plugins`),this.cancelAll(),R(this,Vb).call(this),this.iteratePlugins(t=>{this.removePlugin(t)}),typeof window<"u"&&window.removeEventListener&&(window.removeEventListener("online",R(this,tu)),window.removeEventListener("offline",R(this,tu)))}hideInfo(){const{info:t}=this.getState();this.setState({info:t.slice(1)}),this.emit("info-hidden")}info(t,n="info",r=3e3){const a=typeof t=="object";this.setState({info:[...this.getState().info,{type:n,message:a?t.message:t,details:a?t.details:null}]}),setTimeout(()=>this.hideInfo(),r),this.emit("info-visible")}log(t,n){const{logger:r}=this.opts;switch(n){case"error":r.error(t);break;case"warning":r.warn(t);break;default:r.debug(t);break}}registerRequestClient(t,n){R(this,Wb).set(t,n)}getRequestClientForFile(t){if(!t.remote)throw new Error(`Tried to get RequestClient for a non-remote file ${t.id}`);const n=R(this,Wb).get(t.remote.requestClientId);if(n==null)throw new Error(`requestClientId "${t.remote.requestClientId}" not registered for file "${t.id}"`);return n}restore(t){return this.log(`Core: attempting to restore upload "${t}"`),this.getState().currentUploads[t]?je(this,ft,Xx).call(this,t):(je(this,ft,j1).call(this,t),Promise.reject(new Error("Nonexistent upload")))}[Symbol.for("uppy test: createUpload")](...t){return je(this,ft,Yx).call(this,...t)}addResultData(t,n){if(!je(this,ft,Ehe).call(this,t)){this.log(`Not setting result for an upload that has been removed: ${t}`);return}const{currentUploads:r}=this.getState(),a={...r[t],result:{...r[t].result,...n}};this.setState({currentUploads:{...r,[t]:a}})}async upload(){var a;(a=R(this,bo).uploader)!=null&&a.length||this.log("No uploader type plugins are used","warning");let{files:t}=this.getState();if(je(this,ft,DM).call(this).length>0){const i=await je(this,ft,OM).call(this);if(!(this.getFiles().filter(l=>l.progress.uploadStarted==null).length>0))return this.emit("complete",i),i;({files:t}=this.getState())}const r=this.opts.onBeforeUpload(t);return r===!1?Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false")):(r&&typeof r=="object"&&(t=r,this.setState({files:t})),Promise.resolve().then(()=>R(this,jo).validateMinNumberOfFiles(t)).catch(i=>{throw je(this,ft,jh).call(this,[i]),i}).then(()=>{if(!je(this,ft,_he).call(this,t))throw new To(this.i18n("missingRequiredMetaField"))}).catch(i=>{throw i}).then(async()=>{const{currentUploads:i}=this.getState(),o=Object.values(i).flatMap(u=>u.fileIDs),l=[];Object.keys(t).forEach(u=>{const h=this.getFile(u);!h.progress.uploadStarted&&o.indexOf(u)===-1&&l.push(h.id)});const c=je(this,ft,Yx).call(this,l),d=await je(this,ft,Xx).call(this,c);return this.emit("complete",d),d}).catch(i=>{throw this.emit("error",i),this.log(i,"error"),i}))}};bo=new WeakMap,jo=new WeakMap,Vb=new WeakMap,Xh=new WeakMap,Fp=new WeakMap,Lp=new WeakMap,Qh=new WeakMap,ft=new WeakSet,jh=function(t){for(const o of t)o.isRestriction?this.emit("restriction-failed",o.file,o):this.emit("error",o,o.file),this.log(o,"warning");const n=t.filter(o=>o.isUserFacing),r=4,a=n.slice(0,r),i=n.slice(r);a.forEach(({message:o,details:l=""})=>{this.info({message:o,details:l},"error",this.opts.infoTimeout)}),i.length>0&&this.info({message:this.i18n("additionalRestrictionsFailed",{count:i.length})})},PM=function(t){const{missingFields:n,error:r}=R(this,jo).getMissingRequiredMetaFields(t);return n.length>0?(this.setFileState(t.id,{missingRequiredMetaFields:n,error:r.message}),this.log(r.message),this.emit("restriction-failed",t,r),!1):(n.length===0&&t.missingRequiredMetaFields&&this.setFileState(t.id,{missingRequiredMetaFields:[]}),!0)},_he=function(t){let n=!0;for(const r of Object.values(t))je(this,ft,PM).call(this,r)||(n=!1);return n},TM=function(t){const{allowNewUpload:n}=this.getState();if(n===!1){const r=new To(this.i18n("noMoreFilesAllowed"),{file:t});throw je(this,ft,jh).call(this,[r]),r}},Phe=function(t){const n=t instanceof File?{name:t.name,type:t.type,size:t.size,data:t}:t,r=Xue(n),a=Vht(r,n),i=Yue(a).extension,o=put(n,this.getID()),l=n.meta||{};l.name=a,l.type=r;const c=Number.isFinite(n.data.size)?n.data.size:null;return{source:n.source||"",id:o,name:a,extension:i||"",meta:{...this.getState().meta,...l},type:r,data:n.data,progress:{percentage:0,bytesUploaded:!1,bytesTotal:c,uploadComplete:!1,uploadStarted:null},size:c,isGhost:!1,isRemote:n.isRemote||!1,remote:n.remote,preview:n.preview}},AM=function(){this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout(()=>{this.scheduledAutoProceed=null,this.upload().catch(t=>{t.isRestriction||this.log(t.stack||t.message||t)})},4))},EM=function(t){var o;let{files:n}=this.getState(),r={...n};const a=[],i=[];for(const l of t)try{let c=je(this,ft,Phe).call(this,l);const d=(o=n[c.id])==null?void 0:o.isGhost;d&&(c={...n[c.id],isGhost:!1,data:l.data},this.log(`Replaced the blob in the restored ghost file: ${c.name}, ${c.id}`));const u=this.opts.onBeforeFileAdded(c,r);if(n=this.getState().files,r={...n,...r},!u&&this.checkIfFileAlreadyExists(c.id))throw new To(this.i18n("noDuplicates",{fileName:c.name??this.i18n("unnamed")}),{file:l});if(u===!1&&!d)throw new To("Cannot add the file because onBeforeFileAdded returned false.",{isUserFacing:!1,file:l});typeof u=="object"&&u!==null&&(c=u),R(this,jo).validateSingleFile(c),r[c.id]=c,a.push(c)}catch(c){i.push(c)}try{R(this,jo).validateAggregateRestrictions(Object.values(n),a)}catch(l){return i.push(l),{nextFilesState:n,validFilesToAdd:[],errors:i}}return{nextFilesState:r,validFilesToAdd:a,errors:i}},DM=function(){const{files:t}=this.getState();return Object.keys(t).filter(n=>{const r=t[n];return r.error&&(!r.missingRequiredMetaFields||r.missingRequiredMetaFields.length===0)})},OM=async function(){const t=je(this,ft,DM).call(this),n={...this.getState().files};if(t.forEach(a=>{n[a]={...n[a],isPaused:!1,error:null}}),this.setState({files:n,error:null}),this.emit("retry-all",this.getFilesByIds(t)),t.length===0)return{successful:[],failed:[]};const r=je(this,ft,Yx).call(this,t,{forceAllowNewUpload:!0});return je(this,ft,Xx).call(this,r)},v2=new WeakMap,MM=function(){const t=je(this,ft,The).call(this);let n=null;t!=null&&(n=Math.round(t*100),n>100?n=100:n<0&&(n=0)),this.emit("progress",n??0),this.setState({totalProgress:n??0})},Zh=new WeakMap,The=function(){const n=this.getFiles().filter(c=>c.progress.uploadStarted||c.progress.preprocess||c.progress.postprocess);if(n.length===0)return 0;if(n.every(c=>c.progress.uploadComplete))return 1;const r=c=>c.progress.bytesTotal!=null&&c.progress.bytesTotal!==0,a=n.filter(r),i=n.filter(c=>!r(c));if(a.every(c=>c.progress.uploadComplete)&&i.length>0&&!i.every(c=>c.progress.uploadComplete))return null;const o=a.reduce((c,d)=>c+(d.progress.bytesTotal??0),0),l=a.reduce((c,d)=>c+(d.progress.bytesUploaded||0),0);return o===0?0:l/o},Ahe=function(){const t=(a,i,o)=>{let l=a.message||"Unknown error";a.details&&(l+=` ${a.details}`),this.setState({error:l}),i!=null&&i.id in this.getState().files&&this.setFileState(i.id,{error:l,response:o})};this.on("error",t),this.on("upload-error",(a,i,o)=>{if(t(i,a,o),typeof i=="object"&&i.message){this.log(i.message,"error");const l=new Error(this.i18n("failedToUpload",{file:(a==null?void 0:a.name)??""}));l.isUserFacing=!0,l.details=i.message,i.details&&(l.details+=` ${i.details}`),je(this,ft,jh).call(this,[l])}else je(this,ft,jh).call(this,[i])});let n=null;this.on("upload-stalled",(a,i)=>{const{message:o}=a,l=i.map(c=>c.meta.name).join(", ");n||(this.info({message:o,details:l},"warning",this.opts.infoTimeout),n=setTimeout(()=>{n=null},this.opts.infoTimeout)),this.log(`${o} ${l}`.trim(),"warning")}),this.on("upload",()=>{this.setState({error:null})});const r=a=>{const i=a.filter(l=>{const c=l!=null&&this.getFile(l.id);return c||this.log(`Not setting progress for a file that has been removed: ${l==null?void 0:l.id}`),c}),o=Object.fromEntries(i.map(l=>[l.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,bytesUploaded:0,bytesTotal:l.size}}]));this.patchFilesState(o)};this.on("upload-start",r),this.on("upload-progress",R(this,v2)),this.on("upload-success",(a,i)=>{if(a==null||!this.getFile(a.id)){this.log(`Not setting progress for a file that has been removed: ${a==null?void 0:a.id}`);return}const o=this.getFile(a.id).progress;this.setFileState(a.id,{progress:{...o,postprocess:R(this,Qh).size>0?{mode:"indeterminate"}:void 0,uploadComplete:!0,percentage:100,bytesUploaded:o.bytesTotal},response:i,uploadURL:i.uploadURL,isPaused:!1}),a.size==null&&this.setFileState(a.id,{size:i.bytesUploaded||o.bytesTotal}),R(this,Zh).call(this)}),this.on("preprocess-progress",(a,i)=>{if(a==null||!this.getFile(a.id)){this.log(`Not setting progress for a file that has been removed: ${a==null?void 0:a.id}`);return}this.setFileState(a.id,{progress:{...this.getFile(a.id).progress,preprocess:i}})}),this.on("preprocess-complete",a=>{if(a==null||!this.getFile(a.id)){this.log(`Not setting progress for a file that has been removed: ${a==null?void 0:a.id}`);return}const i={...this.getState().files};i[a.id]={...i[a.id],progress:{...i[a.id].progress}},delete i[a.id].progress.preprocess,this.setState({files:i})}),this.on("postprocess-progress",(a,i)=>{if(a==null||!this.getFile(a.id)){this.log(`Not setting progress for a file that has been removed: ${a==null?void 0:a.id}`);return}this.setFileState(a.id,{progress:{...this.getState().files[a.id].progress,postprocess:i}})}),this.on("postprocess-complete",a=>{if(a==null||!this.getFile(a.id)){this.log(`Not setting progress for a file that has been removed: ${a==null?void 0:a.id}`);return}const i={...this.getState().files};i[a.id]={...i[a.id],progress:{...i[a.id].progress}},delete i[a.id].progress.postprocess,this.setState({files:i})}),this.on("restored",()=>{R(this,Zh).call(this)}),this.on("dashboard:file-edit-complete",a=>{a&&je(this,ft,PM).call(this,a)}),typeof window<"u"&&window.addEventListener&&(window.addEventListener("online",R(this,tu)),window.addEventListener("offline",R(this,tu)),setTimeout(R(this,tu),3e3))},tu=new WeakMap,Wb=new WeakMap,Yx=function(t,n={}){const{forceAllowNewUpload:r=!1}=n,{allowNewUpload:a,currentUploads:i}=this.getState();if(!a&&!r)throw new Error("Cannot create a new upload: already uploading.");const o=Sht();return this.emit("upload",o,this.getFilesByIds(t)),this.setState({allowNewUpload:this.opts.allowMultipleUploadBatches!==!1&&this.opts.allowMultipleUploads!==!1,currentUploads:{...i,[o]:{fileIDs:t,step:0,result:{}}}}),o},Ehe=function(t){const{currentUploads:n}=this.getState();return n[t]},j1=function(t){const n={...this.getState().currentUploads};delete n[t],this.setState({currentUploads:n})},Xx=async function(t){const n=()=>{const{currentUploads:o}=this.getState();return o[t]};let r=n();const a=[...R(this,Fp),...R(this,Lp),...R(this,Qh)];try{for(let o=r.step||0;o<a.length&&r;o++){const l=a[o];this.setState({currentUploads:{...this.getState().currentUploads,[t]:{...r,step:o}}});const{fileIDs:c}=r;await l(c,t),r=n()}}catch(o){throw je(this,ft,j1).call(this,t),o}if(r){r.fileIDs.forEach(d=>{const u=this.getFile(d);u!=null&&u.progress.postprocess&&this.emit("postprocess-complete",u)});const o=r.fileIDs.map(d=>this.getFile(d)),l=o.filter(d=>!d.error),c=o.filter(d=>d.error);this.addResultData(t,{successful:l,failed:c,uploadID:t}),r=n()}let i;return r&&(i=r.result,je(this,ft,j1).call(this,t)),i==null&&(this.log(`Not setting result for an upload that has been removed: ${t}`),i={successful:[],failed:[],uploadID:t}),i},H(x2,"VERSION",Uht.version);let _M=x2;var Dhe={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var i="",o=0;o<arguments.length;o++){var l=arguments[o];l&&(i=a(i,r(l)))}return i}function r(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return n.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var o="";for(var l in i)t.call(i,l)&&i[l]&&(o=a(o,l));return o}function a(i,o){return o?i?i+" "+o:i+o:i}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(Dhe);var eft=Dhe.exports;const al=Tt(eft);function tft(){return G("svg",{"aria-hidden":"true",focusable:"false",width:"30",height:"30",viewBox:"0 0 30 30",children:G("path",{d:"M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15zm4.258-12.676v6.846h-8.426v-6.846H5.204l9.82-12.364 9.82 12.364H19.26z"})})}function un(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ohe=typeof self<"u"?self:global;const Ab=typeof navigator<"u",nft=Ab&&typeof HTMLImageElement>"u",E9=!(typeof global>"u"||typeof process>"u"||!process.versions||!process.versions.node),Mhe=Ohe.Buffer,Rhe=!!Mhe,rft=e=>e!==void 0;function $he(e){return e===void 0||(e instanceof Map?e.size===0:Object.values(e).filter(rft).length===0)}function ks(e){let t=new Error(e);throw delete t.stack,t}function D9(e){let t=function(n){let r=0;return n.ifd0.enabled&&(r+=1024),n.exif.enabled&&(r+=2048),n.makerNote&&(r+=2048),n.userComment&&(r+=1024),n.gps.enabled&&(r+=512),n.interop.enabled&&(r+=100),n.ifd1.enabled&&(r+=1024),r+2048}(e);return e.jfif.enabled&&(t+=50),e.xmp.enabled&&(t+=2e4),e.iptc.enabled&&(t+=14e3),e.icc.enabled&&(t+=6e3),t}const oA=e=>String.fromCharCode.apply(null,e),O9=typeof TextDecoder<"u"?new TextDecoder("utf-8"):void 0;class Fo{static from(t,n){return t instanceof this&&t.le===n?t:new Fo(t,void 0,void 0,n)}constructor(t,n=0,r,a){if(typeof a=="boolean"&&(this.le=a),Array.isArray(t)&&(t=new Uint8Array(t)),t===0)this.byteOffset=0,this.byteLength=0;else if(t instanceof ArrayBuffer){r===void 0&&(r=t.byteLength-n);let i=new DataView(t,n,r);this._swapDataView(i)}else if(t instanceof Uint8Array||t instanceof DataView||t instanceof Fo){r===void 0&&(r=t.byteLength-n),(n+=t.byteOffset)+r>t.byteOffset+t.byteLength&&ks("Creating view outside of available memory in ArrayBuffer");let i=new DataView(t.buffer,n,r);this._swapDataView(i)}else if(typeof t=="number"){let i=new DataView(new ArrayBuffer(t));this._swapDataView(i)}else ks("Invalid input argument for BufferView: "+t)}_swapArrayBuffer(t){this._swapDataView(new DataView(t))}_swapBuffer(t){this._swapDataView(new DataView(t.buffer,t.byteOffset,t.byteLength))}_swapDataView(t){this.dataView=t,this.buffer=t.buffer,this.byteOffset=t.byteOffset,this.byteLength=t.byteLength}_lengthToEnd(t){return this.byteLength-t}set(t,n,r=Fo){return t instanceof DataView||t instanceof Fo?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t instanceof ArrayBuffer&&(t=new Uint8Array(t)),t instanceof Uint8Array||ks("BufferView.set(): Invalid data argument."),this.toUint8().set(t,n),new r(this,n,t.byteLength)}subarray(t,n){return n=n||this._lengthToEnd(t),new Fo(this,t,n)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(t,n){return new Uint8Array(this.buffer,this.byteOffset+t,n)}getString(t=0,n=this.byteLength){return a=this.getUint8Array(t,n),O9?O9.decode(a):Rhe?Buffer.from(a).toString("utf8"):decodeURIComponent(escape(oA(a)));var a}getLatin1String(t=0,n=this.byteLength){let r=this.getUint8Array(t,n);return oA(r)}getUnicodeString(t=0,n=this.byteLength){const r=[];for(let a=0;a<n&&t+a<this.byteLength;a+=2)r.push(this.getUint16(t+a));return oA(r)}getInt8(t){return this.dataView.getInt8(t)}getUint8(t){return this.dataView.getUint8(t)}getInt16(t,n=this.le){return this.dataView.getInt16(t,n)}getInt32(t,n=this.le){return this.dataView.getInt32(t,n)}getUint16(t,n=this.le){return this.dataView.getUint16(t,n)}getUint32(t,n=this.le){return this.dataView.getUint32(t,n)}getFloat32(t,n=this.le){return this.dataView.getFloat32(t,n)}getFloat64(t,n=this.le){return this.dataView.getFloat64(t,n)}getFloat(t,n=this.le){return this.dataView.getFloat32(t,n)}getDouble(t,n=this.le){return this.dataView.getFloat64(t,n)}getUintBytes(t,n,r){switch(n){case 1:return this.getUint8(t,r);case 2:return this.getUint16(t,r);case 4:return this.getUint32(t,r);case 8:return this.getUint64&&this.getUint64(t,r)}}getUint(t,n,r){switch(n){case 8:return this.getUint8(t,r);case 16:return this.getUint16(t,r);case 32:return this.getUint32(t,r);case 64:return this.getUint64&&this.getUint64(t,r)}}toString(t){return this.dataView.toString(t,this.constructor.name)}ensureChunk(){}}function RM(e,t){ks(`${e} '${t}' was not loaded, try using full build of exifr.`)}class s5 extends Map{constructor(t){super(),this.kind=t}get(t,n){return this.has(t)||RM(this.kind,t),n&&(t in n||function(r,a){ks(`Unknown ${r} '${a}'.`)}(this.kind,t),n[t].enabled||RM(this.kind,t)),super.get(t)}keyList(){return Array.from(this.keys())}}var Ihe=new s5("file parser"),Ao=new s5("segment parser"),a5=new s5("file reader");let sft=Ohe.fetch;function M9(e,t){return(n=e).startsWith("data:")||n.length>1e4?IM(e,t,"base64"):E9&&e.includes("://")?$M(e,t,"url",R9):E9?IM(e,t,"fs"):Ab?$M(e,t,"url",R9):void ks("Invalid input argument");var n}async function $M(e,t,n,r){return a5.has(n)?IM(e,t,n):r?async function(a,i){let o=await i(a);return new Fo(o)}(e,r):void ks(`Parser ${n} is not loaded`)}async function IM(e,t,n){let r=new(a5.get(n))(e,t);return await r.read(),r}const R9=e=>sft(e).then(t=>t.arrayBuffer()),FM=e=>new Promise((t,n)=>{let r=new FileReader;r.onloadend=()=>t(r.result||new ArrayBuffer),r.onerror=n,r.readAsArrayBuffer(e)}),i5=new Map,aft=new Map,ift=new Map,jN=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],Fhe=["jfif","xmp","icc","iptc","ihdr"],LM=["tiff",...Fhe],xs=["ifd0","ifd1","exif","gps","interop"],wN=[...LM,...xs],NN=["makerNote","userComment"],Lhe=["translateKeys","translateValues","reviveValues","multiSegment"],SN=[...Lhe,"sanitize","mergeOutput","silentErrors"];class zhe{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}}class Px extends zhe{get needed(){return this.enabled||this.deps.size>0}constructor(t,n,r,a){if(super(),un(this,"enabled",!1),un(this,"skip",new Set),un(this,"pick",new Set),un(this,"deps",new Set),un(this,"translateKeys",!1),un(this,"translateValues",!1),un(this,"reviveValues",!1),this.key=t,this.enabled=n,this.parse=this.enabled,this.applyInheritables(a),this.canBeFiltered=xs.includes(t),this.canBeFiltered&&(this.dict=i5.get(t)),r!==void 0)if(Array.isArray(r))this.parse=this.enabled=!0,this.canBeFiltered&&r.length>0&&this.translateTagSet(r,this.pick);else if(typeof r=="object"){if(this.enabled=!0,this.parse=r.parse!==!1,this.canBeFiltered){let{pick:i,skip:o}=r;i&&i.length>0&&this.translateTagSet(i,this.pick),o&&o.length>0&&this.translateTagSet(o,this.skip)}this.applyInheritables(r)}else r===!0||r===!1?this.parse=this.enabled=r:ks(`Invalid options argument: ${r}`)}applyInheritables(t){let n,r;for(n of Lhe)r=t[n],r!==void 0&&(this[n]=r)}translateTagSet(t,n){if(this.dict){let r,a,{tagKeys:i,tagValues:o}=this.dict;for(r of t)typeof r=="string"?(a=o.indexOf(r),a===-1&&(a=i.indexOf(Number(r))),a!==-1&&n.add(Number(i[a]))):n.add(r)}else for(let r of t)n.add(r)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,s2(this.pick,this.deps)):this.enabled&&this.pick.size>0&&s2(this.pick,this.deps)}}var ua={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},$9=new Map;class o5 extends zhe{static useCached(t){let n=$9.get(t);return n!==void 0||(n=new this(t),$9.set(t,n)),n}constructor(t){super(),t===!0?this.setupFromTrue():t===void 0?this.setupFromUndefined():Array.isArray(t)?this.setupFromArray(t):typeof t=="object"?this.setupFromObject(t):ks(`Invalid options argument ${t}`),this.firstChunkSize===void 0&&(this.firstChunkSize=Ab?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let t;for(t of jN)this[t]=ua[t];for(t of SN)this[t]=ua[t];for(t of NN)this[t]=ua[t];for(t of wN)this[t]=new Px(t,ua[t],void 0,this)}setupFromTrue(){let t;for(t of jN)this[t]=ua[t];for(t of SN)this[t]=ua[t];for(t of NN)this[t]=!0;for(t of wN)this[t]=new Px(t,!0,void 0,this)}setupFromArray(t){let n;for(n of jN)this[n]=ua[n];for(n of SN)this[n]=ua[n];for(n of NN)this[n]=ua[n];for(n of wN)this[n]=new Px(n,!1,void 0,this);this.setupGlobalFilters(t,void 0,xs)}setupFromObject(t){let n;for(n of(xs.ifd0=xs.ifd0||xs.image,xs.ifd1=xs.ifd1||xs.thumbnail,Object.assign(this,t),jN))this[n]=lA(t[n],ua[n]);for(n of SN)this[n]=lA(t[n],ua[n]);for(n of NN)this[n]=lA(t[n],ua[n]);for(n of LM)this[n]=new Px(n,ua[n],t[n],this);for(n of xs)this[n]=new Px(n,ua[n],t[n],this.tiff);this.setupGlobalFilters(t.pick,t.skip,xs,wN),t.tiff===!0?this.batchEnableWithBool(xs,!0):t.tiff===!1?this.batchEnableWithUserValue(xs,t):Array.isArray(t.tiff)?this.setupGlobalFilters(t.tiff,void 0,xs):typeof t.tiff=="object"&&this.setupGlobalFilters(t.tiff.pick,t.tiff.skip,xs)}batchEnableWithBool(t,n){for(let r of t)this[r].enabled=n}batchEnableWithUserValue(t,n){for(let r of t){let a=n[r];this[r].enabled=a!==!1&&a!==void 0}}setupGlobalFilters(t,n,r,a=r){if(t&&t.length){for(let o of a)this[o].enabled=!1;let i=I9(t,r);for(let[o,l]of i)s2(this[o].pick,l),this[o].enabled=!0}else if(n&&n.length){let i=I9(n,r);for(let[o,l]of i)s2(this[o].skip,l)}}filterNestedSegmentTags(){let{ifd0:t,exif:n,xmp:r,iptc:a,icc:i}=this;this.makerNote?n.deps.add(37500):n.skip.add(37500),this.userComment?n.deps.add(37510):n.skip.add(37510),r.enabled||t.skip.add(700),a.enabled||t.skip.add(33723),i.enabled||t.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:t,exif:n,gps:r,interop:a}=this;a.needed&&(n.deps.add(40965),t.deps.add(40965)),n.needed&&t.deps.add(34665),r.needed&&t.deps.add(34853),this.tiff.enabled=xs.some(i=>this[i].enabled===!0)||this.makerNote||this.userComment;for(let i of xs)this[i].finalizeFilters()}get onlyTiff(){return!Fhe.map(t=>this[t].enabled).some(t=>t===!0)&&this.tiff.enabled}checkLoadedPlugins(){for(let t of LM)this[t].enabled&&!Ao.has(t)&&RM("segment parser",t)}}function I9(e,t){let n,r,a,i,o=[];for(a of t){for(i of(n=i5.get(a),r=[],n))(e.includes(i[0])||e.includes(i[1]))&&r.push(i[0]);r.length&&o.push([a,r])}return o}function lA(e,t){return e!==void 0?e:t!==void 0?t:void 0}function s2(e,t){for(let n of t)e.add(n)}un(o5,"default",ua);class oft{constructor(t){un(this,"parsers",{}),un(this,"output",{}),un(this,"errors",[]),un(this,"pushToErrors",n=>this.errors.push(n)),this.options=o5.useCached(t)}async read(t){this.file=await function(n,r){return typeof n=="string"?M9(n,r):Ab&&!nft&&n instanceof HTMLImageElement?M9(n.src,r):n instanceof Uint8Array||n instanceof ArrayBuffer||n instanceof DataView?new Fo(n):Ab&&n instanceof Blob?$M(n,r,"blob",FM):void ks("Invalid input argument")}(t,this.options)}setup(){if(this.fileParser)return;let{file:t}=this,n=t.getUint16(0);for(let[r,a]of Ihe)if(a.canHandle(t,n))return this.fileParser=new a(this.options,this.file,this.parsers),t[r]=!0;this.file.close&&this.file.close(),ks("Unknown file format")}async parse(){let{output:t,errors:n}=this;return this.setup(),this.options.silentErrors?(await this.executeParsers().catch(this.pushToErrors),n.push(...this.fileParser.errors)):await this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&n.length>0&&(t.errors=n),$he(r=t)?void 0:r;var r}async executeParsers(){let{output:t}=this;await this.fileParser.parse();let n=Object.values(this.parsers).map(async r=>{let a=await r.parse();r.assignToOutput(t,a)});this.options.silentErrors&&(n=n.map(r=>r.catch(this.pushToErrors))),await Promise.all(n)}async extractThumbnail(){this.setup();let{options:t,file:n}=this,r=Ao.get("tiff",t);var a;if(n.tiff?a={start:0,type:"tiff"}:n.jpeg&&(a=await this.fileParser.getOrFindSegment("tiff")),a===void 0)return;let i=await this.fileParser.ensureSegmentChunk(a),o=this.parsers.tiff=new r(i,t,n),l=await o.extractThumbnail();return n.close&&n.close(),l}}class Wm{static findPosition(t,n){let r=t.getUint16(n+2)+2,a=typeof this.headerLength=="function"?this.headerLength(t,n,r):this.headerLength,i=n+a,o=r-a;return{offset:n,length:r,headerLength:a,start:i,size:o,end:i+o}}static parse(t,n={}){return new this(t,new o5({[this.type]:n}),t).parse()}normalizeInput(t){return t instanceof Fo?t:new Fo(t)}constructor(t,n={},r){un(this,"errors",[]),un(this,"raw",new Map),un(this,"handleError",a=>{if(!this.options.silentErrors)throw a;this.errors.push(a.message)}),this.chunk=this.normalizeInput(t),this.file=r,this.type=this.constructor.type,this.globalOptions=this.options=n,this.localOptions=n[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(t,n){let r=ift.get(n),a=aft.get(n),i=i5.get(n),o=this.options[n],l=o.reviveValues&&!!r,c=o.translateValues&&!!a,d=o.translateKeys&&!!i,u={};for(let[h,f]of t)l&&r.has(h)?f=r.get(h)(f):c&&a.has(h)&&(f=this.translateValue(f,a.get(h))),d&&i.has(h)&&(h=i.get(h)||h),u[h]=f;return u}translateValue(t,n){return n[t]||n.DEFAULT||t}assignToOutput(t,n){this.assignObjectToOutput(t,this.constructor.type,n)}assignObjectToOutput(t,n,r){if(this.globalOptions.mergeOutput)return Object.assign(t,r);t[n]?Object.assign(t[n],r):t[n]=r}}un(Wm,"headerLength",4),un(Wm,"type",void 0),un(Wm,"multiSegment",!1),un(Wm,"canHandle",()=>!1);function lft(e){return e===192||e===194||e===196||e===219||e===221||e===218||e===254}function cft(e){return e>=224&&e<=239}function dft(e,t,n){for(let[r,a]of Ao)if(a.canHandle(e,t,n))return r}class F9 extends class{constructor(t,n,r){un(this,"errors",[]),un(this,"ensureSegmentChunk",async a=>{let i=a.start,o=a.size||65536;if(this.file.chunked)if(this.file.available(i,o))a.chunk=this.file.subarray(i,o);else try{a.chunk=await this.file.readChunk(i,o)}catch(l){ks(`Couldn't read segment: ${JSON.stringify(a)}. ${l.message}`)}else this.file.byteLength>i+o?a.chunk=this.file.subarray(i,o):a.size===void 0?a.chunk=this.file.subarray(i):ks("Segment unreachable: "+JSON.stringify(a));return a.chunk}),this.extendOptions&&this.extendOptions(t),this.options=t,this.file=n,this.parsers=r}injectSegment(t,n){this.options[t].enabled&&this.createParser(t,n)}createParser(t,n){let r=new(Ao.get(t))(n,this.options,this.file);return this.parsers[t]=r}createParsers(t){for(let n of t){let{type:r,chunk:a}=n,i=this.options[r];if(i&&i.enabled){let o=this.parsers[r];o&&o.append||o||this.createParser(r,a)}}}async readSegments(t){let n=t.map(this.ensureSegmentChunk);await Promise.all(n)}}{constructor(...t){super(...t),un(this,"appSegments",[]),un(this,"jpegSegments",[]),un(this,"unknownSegments",[])}static canHandle(t,n){return n===65496}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(t){t===!0?(this.findAll=!0,this.wanted=new Set(Ao.keyList())):(t=t===void 0?Ao.keyList().filter(n=>this.options[n].enabled):t.filter(n=>this.options[n].enabled&&Ao.has(n)),this.findAll=!1,this.remaining=new Set(t),this.wanted=new Set(t)),this.unfinishedMultiSegment=!1}async findAppSegments(t=0,n){this.setupSegmentFinderArgs(n);let{file:r,findAll:a,wanted:i,remaining:o}=this;if(!a&&this.file.chunked&&(a=Array.from(i).some(l=>{let c=Ao.get(l),d=this.options[l];return c.multiSegment&&d.multiSegment}),a&&await this.file.readWhole()),t=this.findAppSegmentsInRange(t,r.byteLength),!this.options.onlyTiff&&r.chunked){let l=!1;for(;o.size>0&&!l&&(r.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:c}=r,d=this.appSegments.some(u=>!this.file.available(u.offset||u.start,u.length||u.size));if(l=t>c&&!d?!await r.readNextChunk(t):!await r.readNextChunk(c),(t=this.findAppSegmentsInRange(t,r.byteLength))===void 0)return}}}findAppSegmentsInRange(t,n){n-=2;let r,a,i,o,l,c,{file:d,findAll:u,wanted:h,remaining:f,options:g}=this;for(;t<n;t++)if(d.getUint8(t)===255){if(r=d.getUint8(t+1),cft(r)){if(a=d.getUint16(t+2),i=dft(d,t,a),i&&h.has(i)&&(o=Ao.get(i),l=o.findPosition(d,t),c=g[i],l.type=i,this.appSegments.push(l),!u&&(o.multiSegment&&c.multiSegment?(this.unfinishedMultiSegment=l.chunkNumber<l.chunkCount,this.unfinishedMultiSegment||f.delete(i)):f.delete(i),f.size===0)))break;g.recordUnknownSegments&&(l=Wm.findPosition(d,t),l.marker=r,this.unknownSegments.push(l)),t+=a+1}else if(lft(r)){if(a=d.getUint16(t+2),r===218&&g.stopAfterSos!==!1)return;g.recordJpegSegments&&this.jpegSegments.push({offset:t,length:a,marker:r}),t+=a+1}}return t}mergeMultiSegments(){if(!this.appSegments.some(n=>n.multiSegment))return;let t=function(n,r){let a,i,o,l=new Map;for(let c=0;c<n.length;c++)a=n[c],i=a[r],l.has(i)?o=l.get(i):l.set(i,o=[]),o.push(a);return Array.from(l)}(this.appSegments,"type");this.mergedAppSegments=t.map(([n,r])=>{let a=Ao.get(n,this.options);return a.handleMultiSegments?{type:n,chunk:a.handleMultiSegments(r)}:r[0]})}getSegment(t){return this.appSegments.find(n=>n.type===t)}async getOrFindSegment(t){let n=this.getSegment(t);return n===void 0&&(await this.findAppSegments(0,[t]),n=this.getSegment(t)),n}}un(F9,"type","jpeg"),Ihe.set("jpeg",F9);const uft=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];class hft extends Wm{parseHeader(){var t=this.chunk.getUint16();t===18761?this.le=!0:t===19789&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(t,n,r=new Map){let{pick:a,skip:i}=this.options[n];a=new Set(a);let o=a.size>0,l=i.size===0,c=this.chunk.getUint16(t);t+=2;for(let d=0;d<c;d++){let u=this.chunk.getUint16(t);if(o){if(a.has(u)&&(r.set(u,this.parseTag(t,u,n)),a.delete(u),a.size===0))break}else!l&&i.has(u)||r.set(u,this.parseTag(t,u,n));t+=12}return r}parseTag(t,n,r){let{chunk:a}=this,i=a.getUint16(t+2),o=a.getUint32(t+4),l=uft[i];if(l*o<=4?t+=8:t=a.getUint32(t+8),(i<1||i>13)&&ks(`Invalid TIFF value type. block: ${r.toUpperCase()}, tag: ${n.toString(16)}, type: ${i}, offset ${t}`),t>a.byteLength&&ks(`Invalid TIFF value offset. block: ${r.toUpperCase()}, tag: ${n.toString(16)}, type: ${i}, offset ${t} is outside of chunk size ${a.byteLength}`),i===1)return a.getUint8Array(t,o);if(i===2)return(c=function(d){for(;d.endsWith("\0");)d=d.slice(0,-1);return d}(c=a.getString(t,o)).trim())===""?void 0:c;var c;if(i===7)return a.getUint8Array(t,o);if(o===1)return this.parseTagValue(i,t);{let d=new(function(h){switch(h){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}}(i))(o),u=l;for(let h=0;h<o;h++)d[h]=this.parseTagValue(i,t),t+=u;return d}}parseTagValue(t,n){let{chunk:r}=this;switch(t){case 1:return r.getUint8(n);case 3:return r.getUint16(n);case 4:return r.getUint32(n);case 5:return r.getUint32(n)/r.getUint32(n+4);case 6:return r.getInt8(n);case 8:return r.getInt16(n);case 9:return r.getInt32(n);case 10:return r.getInt32(n)/r.getInt32(n+4);case 11:return r.getFloat(n);case 12:return r.getDouble(n);case 13:return r.getUint32(n);default:ks(`Invalid tiff type ${t}`)}}}class cA extends hft{static canHandle(t,n){return t.getUint8(n+1)===225&&t.getUint32(n+4)===1165519206&&t.getUint16(n+8)===0}async parse(){this.parseHeader();let{options:t}=this;return t.ifd0.enabled&&await this.parseIfd0Block(),t.exif.enabled&&await this.safeParse("parseExifBlock"),t.gps.enabled&&await this.safeParse("parseGpsBlock"),t.interop.enabled&&await this.safeParse("parseInteropBlock"),t.ifd1.enabled&&await this.safeParse("parseThumbnailBlock"),this.createOutput()}safeParse(t){let n=this[t]();return n.catch!==void 0&&(n=n.catch(this.handleError)),n}findIfd0Offset(){this.ifd0Offset===void 0&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(this.ifd1Offset===void 0){this.findIfd0Offset();let t=this.chunk.getUint16(this.ifd0Offset),n=this.ifd0Offset+2+12*t;this.ifd1Offset=this.chunk.getUint32(n)}}parseBlock(t,n){let r=new Map;return this[n]=r,this.parseTags(t,n,r),r}async parseIfd0Block(){if(this.ifd0)return;let{file:t}=this;this.findIfd0Offset(),this.ifd0Offset<8&&ks("Malformed EXIF data"),!t.chunked&&this.ifd0Offset>t.byteLength&&ks(`IFD0 offset points to outside of file.
this.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${t.byteLength}`),t.tiff&&await t.ensureChunk(this.ifd0Offset,D9(this.options));let n=this.parseBlock(this.ifd0Offset,"ifd0");return n.size!==0?(this.exifOffset=n.get(34665),this.interopOffset=n.get(40965),this.gpsOffset=n.get(34853),this.xmp=n.get(700),this.iptc=n.get(33723),this.icc=n.get(34675),this.options.sanitize&&(n.delete(34665),n.delete(40965),n.delete(34853),n.delete(700),n.delete(33723),n.delete(34675)),n):void 0}async parseExifBlock(){if(this.exif||(this.ifd0||await this.parseIfd0Block(),this.exifOffset===void 0))return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,D9(this.options));let t=this.parseBlock(this.exifOffset,"exif");return this.interopOffset||(this.interopOffset=t.get(40965)),this.makerNote=t.get(37500),this.userComment=t.get(37510),this.options.sanitize&&(t.delete(40965),t.delete(37500),t.delete(37510)),this.unpack(t,41728),this.unpack(t,41729),t}unpack(t,n){let r=t.get(n);r&&r.length===1&&t.set(n,r[0])}async parseGpsBlock(){if(this.gps||(this.ifd0||await this.parseIfd0Block(),this.gpsOffset===void 0))return;let t=this.parseBlock(this.gpsOffset,"gps");return t&&t.has(2)&&t.has(4)&&(t.set("latitude",L9(...t.get(2),t.get(1))),t.set("longitude",L9(...t.get(4),t.get(3)))),t}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),this.interopOffset!==void 0||this.exif||await this.parseExifBlock(),this.interopOffset!==void 0))return this.parseBlock(this.interopOffset,"interop")}async parseThumbnailBlock(t=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||t))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),this.ifd1===void 0)return;let t=this.ifd1.get(513),n=this.ifd1.get(514);return this.chunk.getUint8Array(t,n)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let t,n,r,a={};for(n of xs)if(t=this[n],!$he(t))if(r=this.canTranslate?this.translateBlock(t,n):Object.fromEntries(t),this.options.mergeOutput){if(n==="ifd1")continue;Object.assign(a,r)}else a[n]=r;return this.makerNote&&(a.makerNote=this.makerNote),this.userComment&&(a.userComment=this.userComment),a}assignToOutput(t,n){if(this.globalOptions.mergeOutput)Object.assign(t,n);else for(let[r,a]of Object.entries(n))this.assignObjectToOutput(t,r,a)}}function L9(e,t,n,r){var a=e+t/60+n/3600;return r!=="S"&&r!=="W"||(a*=-1),a}un(cA,"type","tiff"),un(cA,"headerLength",10),Ao.set("tiff",cA);const l5={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1};Object.assign({},l5,{firstChunkSize:4e4,gps:[1,2,3,4]});Object.assign({},l5,{tiff:!1,ifd1:!0,mergeOutput:!1});const fft=Object.assign({},l5,{firstChunkSize:4e4,ifd0:[274]});async function mft(e){let t=new oft(fft);await t.read(e);let n=await t.parse();if(n&&n.ifd0)return n.ifd0[274]}const pft=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}});let Qx=!0,Zx=!0;if(typeof navigator=="object"){let e=navigator.userAgent;if(e.includes("iPad")||e.includes("iPhone")){let t=e.match(/OS (\d+)_(\d+)/);if(t){let[,n,r]=t;Qx=Number(n)+.1*Number(r)<13.4,Zx=!1}}else if(e.includes("OS X 10")){let[,t]=e.match(/OS X 10[_.](\d+)/);Qx=Zx=Number(t)<15}if(e.includes("Chrome/")){let[,t]=e.match(/Chrome\/(\d+)/);Qx=Zx=Number(t)<81}else if(e.includes("Firefox/")){let[,t]=e.match(/Firefox\/(\d+)/);Qx=Zx=Number(t)<77}}async function gft(e){let t=await mft(e);return Object.assign({canvas:Qx,css:Zx},pft[t])}class vft extends Fo{constructor(...t){super(...t),un(this,"ranges",new xft),this.byteLength!==0&&this.ranges.add(0,this.byteLength)}_tryExtend(t,n,r){if(t===0&&this.byteLength===0&&r){let a=new DataView(r.buffer||r,r.byteOffset,r.byteLength);this._swapDataView(a)}else{let a=t+n;if(a>this.byteLength){let{dataView:i}=this._extend(a);this._swapDataView(i)}}}_extend(t){let n;n=Rhe?Mhe.allocUnsafe(t):new Uint8Array(t);let r=new DataView(n.buffer,n.byteOffset,n.byteLength);return n.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:n,dataView:r}}subarray(t,n,r=!1){return n=n||this._lengthToEnd(t),r&&this._tryExtend(t,n),this.ranges.add(t,n),super.subarray(t,n)}set(t,n,r=!1){r&&this._tryExtend(n,t.byteLength,t);let a=super.set(t,n);return this.ranges.add(n,a.byteLength),a}async ensureChunk(t,n){this.chunked&&(this.ranges.available(t,n)||await this.readChunk(t,n))}available(t,n){return this.ranges.available(t,n)}}class xft{constructor(){un(this,"list",[])}get length(){return this.list.length}add(t,n,r=0){let a=t+n,i=this.list.filter(o=>z9(t,o.offset,a)||z9(t,o.end,a));if(i.length>0){t=Math.min(t,...i.map(l=>l.offset)),a=Math.max(a,...i.map(l=>l.end)),n=a-t;let o=i.shift();o.offset=t,o.length=n,o.end=a,this.list=this.list.filter(l=>!i.includes(l))}else this.list.push({offset:t,length:n,end:a})}available(t,n){let r=t+n;return this.list.some(a=>a.offset<=t&&r<=a.end)}}function z9(e,t,n){return e<=t&&t<=n}class yft extends vft{constructor(t,n){super(0),un(this,"chunksRead",0),this.input=t,this.options=n}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(t=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let n=this.options.chunkSize,r=await this.readChunk(t,n);return!!r&&r.byteLength===n}async readChunk(t,n){if(this.chunksRead++,(n=this.safeWrapAddress(t,n))!==0)return this._readChunk(t,n)}safeWrapAddress(t,n){return this.size!==void 0&&t+n>this.size?Math.max(0,this.size-t):n}get nextChunkOffset(){if(this.ranges.list.length!==0)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return this.size!==void 0&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}a5.set("blob",class extends yft{async readWhole(){this.chunked=!1;let e=await FM(this.input);this._swapArrayBuffer(e)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(e,t){let n=t?e+t:void 0,r=this.input.slice(e,n),a=await FM(r);return this.set(a,e,!0)}});const bft="@uppy/thumbnail-generator",jft="Uppy plugin that generates small previews of images to show on your upload UI.",wft="5.0.0",Nft="MIT",Sft="lib/index.js",Cft="module",kft=!1,_ft={build:"tsc --build tsconfig.build.json",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},Pft=["file uploader","uppy","uppy-plugin","thumbnail","preview","resize"],Tft="https://uppy.io",Aft={url:"https://github.com/transloadit/uppy/issues"},Eft={type:"git",url:"git+https://github.com/transloadit/uppy.git"},Dft=["src","lib","dist","CHANGELOG.md"],Oft={".":"./lib/index.js","./package.json":"./package.json"},Mft={"@uppy/utils":"^7.0.0",exifr:"^7.0.0"},Rft={jsdom:"^26.1.0","namespace-emitter":"2.0.1",typescript:"^5.8.3",vitest:"^3.2.4"},$ft={"@uppy/core":"^5.0.0"},Ift={name:bft,description:jft,version:wft,license:Nft,main:Sft,type:Cft,sideEffects:kft,scripts:_ft,keywords:Pft,homepage:Tft,bugs:Aft,repository:Eft,files:Dft,exports:Oft,dependencies:Mft,devDependencies:Rft,peerDependencies:$ft},Fft={strings:{generatingThumbnails:"Generating thumbnails..."}};function Lft(e,t,n){try{e.getContext("2d").getImageData(0,0,1,1)}catch(r){if(r.code===18)return Promise.reject(new Error("cannot read image, probably an svg with external resources"))}return e.toBlob?new Promise(r=>{e.toBlob(r,t,n)}).then(r=>{if(r===null)throw new Error("cannot read image, probably an svg with external resources");return r}):Promise.resolve().then(()=>aut(e.toDataURL(t,n),{})).then(r=>{if(r===null)throw new Error("could not extract blob, probably an old browser");return r})}function zft(e,t){let n=e.width,r=e.height;(t.deg===90||t.deg===270)&&(n=e.height,r=e.width);const a=document.createElement("canvas");a.width=n,a.height=r;const i=a.getContext("2d");return i.translate(n/2,r/2),t.canvas&&(i.rotate(t.rad),i.scale(t.scaleX,t.scaleY)),i.drawImage(e,-e.width/2,-e.height/2,e.width,e.height),a}function Bft(e){const t=e.width/e.height,n=5e6,r=4096;let a=Math.floor(Math.sqrt(n*t)),i=Math.floor(n/Math.sqrt(n*t));if(a>r&&(a=r,i=Math.round(a/t)),i>r&&(i=r,a=Math.round(t*i)),e.width>a){const o=document.createElement("canvas");return o.width=a,o.height=i,o.getContext("2d").drawImage(e,0,0,a,i),o}return e}const Uft={thumbnailWidth:null,thumbnailHeight:null,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,lazy:!1};class Bhe extends r2{constructor(n,r){super(n,{...Uft,...r});H(this,"queue");H(this,"queueProcessing");H(this,"defaultThumbnailDimension");H(this,"thumbnailType");H(this,"onFileAdded",n=>{!n.preview&&n.data&&i9(n.type)&&!n.isRemote&&this.addToQueue(n.id)});H(this,"onCancelRequest",n=>{const r=this.queue.indexOf(n.id);r!==-1&&this.queue.splice(r,1)});H(this,"onFileRemoved",n=>{const r=this.queue.indexOf(n.id);r!==-1&&this.queue.splice(r,1),n.preview&&a9(n.preview)&&URL.revokeObjectURL(n.preview)});H(this,"onRestored",()=>{this.uppy.getFiles().filter(r=>r.isRestored).forEach(r=>{(!r.preview||a9(r.preview))&&this.addToQueue(r.id)})});H(this,"onAllFilesRemoved",()=>{this.queue=[]});H(this,"waitUntilAllProcessed",n=>{n.forEach(a=>{const i=this.uppy.getFile(a);this.uppy.emit("preprocess-progress",i,{mode:"indeterminate",message:this.i18n("generatingThumbnails")})});const r=()=>{n.forEach(a=>{const i=this.uppy.getFile(a);this.uppy.emit("preprocess-complete",i)})};return new Promise(a=>{this.queueProcessing?this.uppy.once("thumbnail:all-generated",()=>{r(),a()}):(r(),a())})});if(this.type="modifier",this.id=this.opts.id||"ThumbnailGenerator",this.title="Thumbnail Generator",this.queue=[],this.queueProcessing=!1,this.defaultThumbnailDimension=200,this.thumbnailType=this.opts.thumbnailType,this.defaultLocale=Fft,this.i18nInit(),this.opts.lazy&&this.opts.waitForThumbnailsBeforeUpload)throw new Error("ThumbnailGenerator: The `lazy` and `waitForThumbnailsBeforeUpload` options are mutually exclusive. Please ensure at most one of them is set to `true`.")}createThumbnail(n,r,a){const i=URL.createObjectURL(n.data),o=new Promise((c,d)=>{const u=new Image;u.src=i,u.addEventListener("load",()=>{URL.revokeObjectURL(i),c(u)}),u.addEventListener("error",h=>{URL.revokeObjectURL(i),d(h.error||new Error("Could not create thumbnail"))})}),l=gft(n.data).catch(()=>1);return Promise.all([o,l]).then(([c,d])=>{const u=this.getProportionalDimensions(c,r,a,d.deg),h=zft(c,d),f=this.resizeImage(h,u.width,u.height);return Lft(f,this.thumbnailType,80)}).then(c=>URL.createObjectURL(c))}getProportionalDimensions(n,r,a,i){let o=n.width/n.height;if((i===90||i===270)&&(o=n.height/n.width),r!=null){let l=r;return n.width<r&&(l=n.width),{width:l,height:Math.round(l/o)}}if(a!=null){let l=a;return n.height<a&&(l=n.height),{width:Math.round(l*o),height:l}}return{width:this.defaultThumbnailDimension,height:Math.round(this.defaultThumbnailDimension/o)}}resizeImage(n,r,a){let i=Bft(n),o=Math.ceil(Math.log2(i.width/r));o<1&&(o=1);let l=r*2**(o-1),c=a*2**(o-1);const d=2;for(;o--;){const u=document.createElement("canvas");u.width=l,u.height=c,u.getContext("2d").drawImage(i,0,0,l,c),i=u,l=Math.round(l/d),c=Math.round(c/d)}return i}setPreviewURL(n,r){this.uppy.setFileState(n,{preview:r})}addToQueue(n){this.queue.push(n),this.queueProcessing===!1&&this.processQueue()}processQueue(){if(this.queueProcessing=!0,this.queue.length>0){const n=this.uppy.getFile(this.queue.shift());return n?this.requestThumbnail(n).catch(()=>{}).then(()=>this.processQueue()):(this.uppy.log("[ThumbnailGenerator] file was removed before a thumbnail could be generated, but not removed from the queue. This is probably a bug","error"),Promise.resolve())}return this.queueProcessing=!1,this.uppy.log("[ThumbnailGenerator] Emptied thumbnail queue"),this.uppy.emit("thumbnail:all-generated"),Promise.resolve()}requestThumbnail(n){return i9(n.type)&&!n.isRemote?this.createThumbnail(n,this.opts.thumbnailWidth,this.opts.thumbnailHeight).then(r=>{this.setPreviewURL(n.id,r),this.uppy.log(`[ThumbnailGenerator] Generated thumbnail for ${n.id}`),this.uppy.emit("thumbnail:generated",this.uppy.getFile(n.id),r)}).catch(r=>{this.uppy.log(`[ThumbnailGenerator] Failed thumbnail for ${n.id}:`,"warning"),this.uppy.log(r,"warning"),this.uppy.emit("thumbnail:error",this.uppy.getFile(n.id),r)}):Promise.resolve()}install(){this.uppy.on("file-removed",this.onFileRemoved),this.uppy.on("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("thumbnail:cancel",this.onCancelRequest)):(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("file-added",this.onFileAdded),this.uppy.on("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.addPreProcessor(this.waitUntilAllProcessed)}uninstall(){this.uppy.off("file-removed",this.onFileRemoved),this.uppy.off("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("thumbnail:cancel",this.onCancelRequest)):(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("file-added",this.onFileAdded),this.uppy.off("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.removePreProcessor(this.waitUntilAllProcessed)}}H(Bhe,"VERSION",Ift.version);let Vft="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Uhe=(e=21)=>{let t="",n=e|0;for(;n--;)t+=Vft[Math.random()*64|0];return t};const Wft="@uppy/dashboard",Hft="Universal UI plugin for Uppy.",qft="5.0.0",Kft="MIT",Gft="lib/index.js",Yft="dist/style.min.css",Xft="module",Qft=["*.css"],Zft={build:"tsc --build tsconfig.build.json","build:css":"sass --load-path=../../ src/style.scss dist/style.css && postcss dist/style.css -u cssnano -o dist/style.min.css",typecheck:"tsc --build",test:"vitest run --silent='passed-only'","test:e2e":"vitest watch --project browser --browser.headless false"},Jft=["file uploader","uppy","uppy-plugin","dashboard","ui"],emt="https://uppy.io",tmt={url:"https://github.com/transloadit/uppy/issues"},nmt={type:"git",url:"git+https://github.com/transloadit/uppy.git"},rmt=["src","lib","dist","CHANGELOG.md"],smt={".":"./lib/index.js","./css/style.css":"./dist/style.css","./css/style.min.css":"./dist/style.min.css","./package.json":"./package.json"},amt={"@transloadit/prettier-bytes":"^0.3.4","@uppy/provider-views":"^5.0.0","@uppy/thumbnail-generator":"^5.0.0","@uppy/utils":"^7.0.0",classnames:"^2.2.6",lodash:"^4.17.21",nanoid:"^5.0.9",preact:"^10.5.13","shallow-equal":"^3.0.0"},imt={"@uppy/core":"^5.0.0","@uppy/google-drive":"^5.0.0","@uppy/url":"^5.0.0","@uppy/webcam":"^5.0.0","@vitest/browser":"^3.2.4",cssnano:"^7.0.7",jsdom:"^26.1.0",playwright:"1.54.1",postcss:"^8.5.6","postcss-cli":"^11.0.1","resize-observer-polyfill":"^1.5.0",sass:"^1.89.2",typescript:"^5.8.3",vitest:"^3.2.4"},omt={"@uppy/core":"^5.0.0"},lmt={name:Wft,description:Hft,version:qft,license:Kft,main:Gft,style:Yft,type:Xft,sideEffects:Qft,scripts:Zft,keywords:Jft,homepage:emt,bugs:tmt,repository:nmt,files:rmt,exports:smt,dependencies:amt,devDependencies:imt,peerDependencies:omt};class Vhe extends _a{constructor(){super(...arguments);H(this,"fileInput",null);H(this,"folderInput",null);H(this,"mobilePhotoFileInput",null);H(this,"mobileVideoFileInput",null);H(this,"triggerFileInputClick",()=>{var n;(n=this.fileInput)==null||n.click()});H(this,"triggerFolderInputClick",()=>{var n;(n=this.folderInput)==null||n.click()});H(this,"triggerVideoCameraInputClick",()=>{var n;(n=this.mobileVideoFileInput)==null||n.click()});H(this,"triggerPhotoCameraInputClick",()=>{var n;(n=this.mobilePhotoFileInput)==null||n.click()});H(this,"onFileInputChange",n=>{this.props.handleInputChange(n),n.currentTarget.value=""});H(this,"renderHiddenInput",(n,r)=>{var a;return G("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,webkitdirectory:n,type:"file",name:"files[]",multiple:this.props.maxNumberOfFiles!==1,onChange:this.onFileInputChange,accept:(a=this.props.allowedFileTypes)==null?void 0:a.join(", "),ref:r})});H(this,"renderHiddenCameraInput",(n,r,a)=>{const o={photo:"image/*",video:"video/*"}[n];return G("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,type:"file",name:`camera-${n}`,onChange:this.onFileInputChange,capture:r===""?"environment":r,accept:o,ref:a})});H(this,"renderMyDeviceAcquirer",()=>G("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MyDevice",children:G("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerFileInputClick,children:[G("div",{className:"uppy-DashboardTab-inner",children:G("svg",{className:"uppy-DashboardTab-iconMyDevice","aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32",children:G("path",{d:"M8.45 22.087l-1.305-6.674h17.678l-1.572 6.674H8.45zm4.975-12.412l1.083 1.765a.823.823 0 00.715.386h7.951V13.5H8.587V9.675h4.838zM26.043 13.5h-1.195v-2.598c0-.463-.336-.75-.798-.75h-8.356l-1.082-1.766A.823.823 0 0013.897 8H7.728c-.462 0-.815.256-.815.718V13.5h-.956a.97.97 0 00-.746.37.972.972 0 00-.19.81l1.724 8.565c.095.44.484.755.933.755H24c.44 0 .824-.3.929-.727l2.043-8.568a.972.972 0 00-.176-.825.967.967 0 00-.753-.38z",fill:"currentcolor","fill-rule":"evenodd"})})}),G("div",{className:"uppy-DashboardTab-name",children:this.props.i18n("myDevice")})]})}));H(this,"renderPhotoCamera",()=>G("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobilePhotoCamera",children:G("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerPhotoCameraInputClick,children:[G("div",{className:"uppy-DashboardTab-inner",children:G("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32",children:G("path",{d:"M23.5 9.5c1.417 0 2.5 1.083 2.5 2.5v9.167c0 1.416-1.083 2.5-2.5 2.5h-15c-1.417 0-2.5-1.084-2.5-2.5V12c0-1.417 1.083-2.5 2.5-2.5h2.917l1.416-2.167C13 7.167 13.25 7 13.5 7h5c.25 0 .5.167.667.333L20.583 9.5H23.5zM16 11.417a4.706 4.706 0 00-4.75 4.75 4.704 4.704 0 004.75 4.75 4.703 4.703 0 004.75-4.75c0-2.663-2.09-4.75-4.75-4.75zm0 7.825c-1.744 0-3.076-1.332-3.076-3.074 0-1.745 1.333-3.077 3.076-3.077 1.744 0 3.074 1.333 3.074 3.076s-1.33 3.075-3.074 3.075z",fill:"#02B383","fill-rule":"nonzero"})})}),G("div",{className:"uppy-DashboardTab-name",children:this.props.i18n("takePictureBtn")})]})}));H(this,"renderVideoCamera",()=>G("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobileVideoCamera",children:G("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerVideoCameraInputClick,children:[G("div",{className:"uppy-DashboardTab-inner",children:G("svg",{"aria-hidden":"true",width:"32",height:"32",viewBox:"0 0 32 32",children:G("path",{fill:"#FF675E",fillRule:"nonzero",d:"m21.254 14.277 2.941-2.588c.797-.313 1.243.818 1.09 1.554-.01 2.094.02 4.189-.017 6.282-.126.915-1.145 1.08-1.58.34l-2.434-2.142c-.192.287-.504 1.305-.738.468-.104-1.293-.028-2.596-.05-3.894.047-.312.381.823.426 1.069.063-.384.206-.744.362-1.09zm-12.939-3.73c3.858.013 7.717-.025 11.574.02.912.129 1.492 1.237 1.351 2.217-.019 2.412.04 4.83-.03 7.239-.17 1.025-1.166 1.59-2.029 1.429-3.705-.012-7.41.025-11.114-.019-.913-.129-1.492-1.237-1.352-2.217.018-2.404-.036-4.813.029-7.214.136-.82.83-1.473 1.571-1.454z "})})}),G("div",{className:"uppy-DashboardTab-name",children:this.props.i18n("recordVideoBtn")})]})}));H(this,"renderBrowseButton",(n,r)=>{const a=this.props.acquirers.length;return G("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-browse",onClick:r,"data-uppy-super-focusable":a===0,children:n})});H(this,"renderDropPasteBrowseTagline",n=>{const r=this.renderBrowseButton(this.props.i18n("browseFiles"),this.triggerFileInputClick),a=this.renderBrowseButton(this.props.i18n("browseFolders"),this.triggerFolderInputClick),i=this.props.fileManagerSelectionType,o=i.charAt(0).toUpperCase()+i.slice(1);return G("div",{class:"uppy-Dashboard-AddFiles-title",children:this.props.disableLocalFiles?this.props.i18n("importFiles"):n>0?this.props.i18nArray(`dropPasteImport${o}`,{browseFiles:r,browseFolders:a,browse:r}):this.props.i18nArray(`dropPaste${o}`,{browseFiles:r,browseFolders:a,browse:r})})});H(this,"renderAcquirer",n=>{var r;return G("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":n.id,children:G("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-cy":n.id,"aria-controls":`uppy-DashboardContent-panel--${n.id}`,"aria-selected":((r=this.props.activePickerPanel)==null?void 0:r.id)===n.id,"data-uppy-super-focusable":!0,onClick:()=>this.props.showPanel(n.id),children:[G("div",{className:"uppy-DashboardTab-inner",children:n.icon()}),G("div",{className:"uppy-DashboardTab-name",children:n.name})]})})});H(this,"renderAcquirers",n=>{const r=[...n],a=r.splice(n.length-2,n.length);return G(Bo,{children:[r.map(i=>this.renderAcquirer(i)),G("span",{role:"presentation",style:{"white-space":"nowrap"},children:a.map(i=>this.renderAcquirer(i))})]})});H(this,"renderSourcesList",(n,r)=>{const{showNativePhotoCameraButton:a,showNativeVideoCameraButton:i}=this.props;let o=[];const l="myDevice";r||o.push({key:l,elements:this.renderMyDeviceAcquirer()}),a&&o.push({key:"nativePhotoCameraButton",elements:this.renderPhotoCamera()}),i&&o.push({key:"nativePhotoCameraButton",elements:this.renderVideoCamera()}),o.push(...n.map(h=>({key:h.id,elements:this.renderAcquirer(h)}))),o.length===1&&o[0].key===l&&(o=[]);const d=[...o],u=d.splice(o.length-2,o.length);return G(Bo,{children:[this.renderDropPasteBrowseTagline(o.length),G("div",{className:"uppy-Dashboard-AddFiles-list",role:"tablist",children:[d.map(({key:h,elements:f})=>G(Bo,{children:f},h)),G("span",{role:"presentation",style:{"white-space":"nowrap"},children:u.map(({key:h,elements:f})=>G(Bo,{children:f},h))})]})]})})}[Symbol.for("uppy test: disable unused locale key warning")](){this.props.i18nArray("dropPasteBoth"),this.props.i18nArray("dropPasteFiles"),this.props.i18nArray("dropPasteFolders"),this.props.i18nArray("dropPasteImportBoth"),this.props.i18nArray("dropPasteImportFiles"),this.props.i18nArray("dropPasteImportFolders")}renderPoweredByUppy(){const{i18nArray:n}=this.props,r=G("span",{children:[G("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-poweredByIcon",width:"11",height:"11",viewBox:"0 0 11 11",children:G("path",{d:"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z",fillRule:"evenodd"})}),G("span",{className:"uppy-Dashboard-poweredByUppy",children:"Uppy"})]}),a=n("poweredBy",{uppy:r});return G("a",{tabIndex:-1,href:"https://uppy.io",rel:"noreferrer noopener",target:"_blank",className:"uppy-Dashboard-poweredBy",children:a})}render(){const{showNativePhotoCameraButton:n,showNativeVideoCameraButton:r,nativeCameraFacingMode:a}=this.props;return G("div",{className:"uppy-Dashboard-AddFiles",children:[this.renderHiddenInput(!1,i=>{this.fileInput=i}),this.renderHiddenInput(!0,i=>{this.folderInput=i}),n&&this.renderHiddenCameraInput("photo",a,i=>{this.mobilePhotoFileInput=i}),r&&this.renderHiddenCameraInput("video",a,i=>{this.mobileVideoFileInput=i}),this.renderSourcesList(this.props.acquirers,this.props.disableLocalFiles),G("div",{className:"uppy-Dashboard-AddFiles-info",children:[this.props.note&&G("div",{className:"uppy-Dashboard-note",children:this.props.note}),this.props.proudlyDisplayPoweredByUppy&&this.renderPoweredByUppy()]})]})}}const cmt=e=>G("div",{className:al("uppy-Dashboard-AddFilesPanel",e.className),"data-uppy-panelType":"AddFiles","aria-hidden":!e.showAddFilesPanel,children:[G("div",{className:"uppy-DashboardContent-bar",children:[G("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:e.i18n("addingMoreFiles")}),G("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>e.toggleAddFilesPanel(!1),children:e.i18n("back")})]}),G(Vhe,{...e})]});function dmt(e){const t=e.files[e.fileCardFor],n=()=>{e.uppy.emit("file-editor:cancel",t),e.closeFileEditor()};return G("div",{className:al("uppy-DashboardContent-panel",e.className),role:"tabpanel","data-uppy-panelType":"FileEditor",id:"uppy-DashboardContent-panel--editor",children:[G("div",{className:"uppy-DashboardContent-bar",children:[G("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:e.i18nArray("editing",{file:G("span",{className:"uppy-DashboardContent-titleFile",children:t.meta?t.meta.name:t.name})})}),G("button",{className:"uppy-DashboardContent-back",type:"button",onClick:n,children:e.i18n("cancel")}),G("button",{className:"uppy-DashboardContent-save",type:"button",onClick:e.saveFileEditor,children:e.i18n("save")})]}),G("div",{className:"uppy-DashboardContent-panelBody",children:e.editors.map(r=>e.uppy.getPlugin(r.id).render(e.state))})]})}function umt(){return G("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25",children:G("g",{fill:"#686DE0",fillRule:"evenodd",children:[G("path",{d:"M5 7v10h15V7H5zm0-1h15a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1z",fillRule:"nonzero"}),G("path",{d:"M6.35 17.172l4.994-5.026a.5.5 0 0 1 .707 0l2.16 2.16 3.505-3.505a.5.5 0 0 1 .707 0l2.336 2.31-.707.72-1.983-1.97-3.505 3.505a.5.5 0 0 1-.707 0l-2.16-2.159-3.938 3.939-1.409.026z",fillRule:"nonzero"}),G("circle",{cx:"7.5",cy:"9.5",r:"1.5"})]})})}function hmt(){return G("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:G("path",{d:"M9.5 18.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V7.25a.5.5 0 0 1 .379-.485l9-2.25A.5.5 0 0 1 18.5 5v11.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V8.67l-8 2v7.97zm8-11v-2l-8 2v2l8-2zM7 19.64c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1zm9-2c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1z",fill:"#049BCF",fillRule:"nonzero"})})}function fmt(){return G("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:G("path",{d:"M16 11.834l4.486-2.691A1 1 0 0 1 22 10v6a1 1 0 0 1-1.514.857L16 14.167V17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2.834zM15 9H5v8h10V9zm1 4l5 3v-6l-5 3z",fill:"#19AF67",fillRule:"nonzero"})})}function mmt(){return G("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:G("path",{d:"M9.766 8.295c-.691-1.843-.539-3.401.747-3.726 1.643-.414 2.505.938 2.39 3.299-.039.79-.194 1.662-.537 3.148.324.49.66.967 1.055 1.51.17.231.382.488.629.757 1.866-.128 3.653.114 4.918.655 1.487.635 2.192 1.685 1.614 2.84-.566 1.133-1.839 1.084-3.416.249-1.141-.604-2.457-1.634-3.51-2.707a13.467 13.467 0 0 0-2.238.426c-1.392 4.051-4.534 6.453-5.707 4.572-.986-1.58 1.38-4.206 4.914-5.375.097-.322.185-.656.264-1.001.08-.353.306-1.31.407-1.737-.678-1.059-1.2-2.031-1.53-2.91zm2.098 4.87c-.033.144-.068.287-.104.427l.033-.01-.012.038a14.065 14.065 0 0 1 1.02-.197l-.032-.033.052-.004a7.902 7.902 0 0 1-.208-.271c-.197-.27-.38-.526-.555-.775l-.006.028-.002-.003c-.076.323-.148.632-.186.8zm5.77 2.978c1.143.605 1.832.632 2.054.187.26-.519-.087-1.034-1.113-1.473-.911-.39-2.175-.608-3.55-.608.845.766 1.787 1.459 2.609 1.894zM6.559 18.789c.14.223.693.16 1.425-.413.827-.648 1.61-1.747 2.208-3.206-2.563 1.064-4.102 2.867-3.633 3.62zm5.345-10.97c.088-1.793-.351-2.48-1.146-2.28-.473.119-.564 1.05-.056 2.405.213.566.52 1.188.908 1.859.18-.858.268-1.453.294-1.984z",fill:"#E2514A",fillRule:"nonzero"})})}function pmt(){return G("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25",children:G("path",{d:"M10.45 2.05h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V2.55a.5.5 0 0 1 .5-.5zm2.05 1.024h1.05a.5.5 0 0 1 .5.5V3.6a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5v-.001zM10.45 0h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V.5a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 3.074h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 1.024h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm-2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-1.656 3.074l-.82 5.946c.52.302 1.174.458 1.976.458.803 0 1.455-.156 1.975-.458l-.82-5.946h-2.311zm0-1.025h2.312c.512 0 .946.378 1.015.885l.82 5.946c.056.412-.142.817-.501 1.026-.686.398-1.515.597-2.49.597-.974 0-1.804-.199-2.49-.597a1.025 1.025 0 0 1-.5-1.026l.819-5.946c.07-.507.503-.885 1.015-.885zm.545 6.6a.5.5 0 0 1-.397-.561l.143-.999a.5.5 0 0 1 .495-.429h.74a.5.5 0 0 1 .495.43l.143.998a.5.5 0 0 1-.397.561c-.404.08-.819.08-1.222 0z",fill:"#00C469",fillRule:"nonzero"})})}function gmt(){return G("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:G("g",{fill:"#A7AFB7",fillRule:"nonzero",children:[G("path",{d:"M5.5 22a.5.5 0 0 1-.5-.5v-18a.5.5 0 0 1 .5-.5h10.719a.5.5 0 0 1 .367.16l3.281 3.556a.5.5 0 0 1 .133.339V21.5a.5.5 0 0 1-.5.5h-14zm.5-1h13V7.25L16 4H6v17z"}),G("path",{d:"M15 4v3a1 1 0 0 0 1 1h3V7h-3V4h-1z"})]})})}function vmt(){return G("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:G("path",{d:"M4.5 7h13a.5.5 0 1 1 0 1h-13a.5.5 0 0 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h10a.5.5 0 1 1 0 1h-10a.5.5 0 1 1 0-1z",fill:"#5A5E69",fillRule:"nonzero"})})}function c5(e){const t={color:"#838999",icon:gmt()};if(!e)return t;const n=e.split("/")[0],r=e.split("/")[1];return n==="text"?{color:"#5a5e69",icon:vmt()}:n==="image"?{color:"#686de0",icon:umt()}:n==="audio"?{color:"#068dbb",icon:hmt()}:n==="video"?{color:"#19af67",icon:fmt()}:n==="application"&&r==="pdf"?{color:"#e25149",icon:mmt()}:n==="application"&&["zip","x-7z-compressed","x-zip-compressed","x-rar-compressed","x-tar","x-gzip","x-apple-diskimage"].indexOf(r)!==-1?{color:"#00C469",icon:pmt()}:t}function du(e){const{tagName:t}=e.target;if(t==="INPUT"||t==="TEXTAREA"){e.stopPropagation();return}e.preventDefault(),e.stopPropagation()}function Whe(e){const{file:t}=e;if(t.preview)return G("img",{draggable:!1,className:"uppy-Dashboard-Item-previewImg",alt:t.name,src:t.preview});const{color:n,icon:r}=c5(t.type);return G("div",{className:"uppy-Dashboard-Item-previewIconWrap",children:[G("span",{className:"uppy-Dashboard-Item-previewIcon",style:{color:n},children:r}),G("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-Dashboard-Item-previewIconBg",width:"58",height:"76",viewBox:"0 0 58 76",children:G("rect",{fill:"#FFF",width:"58",height:"76",rx:"3",fillRule:"evenodd"})})]})}function xmt(e){const{computedMetaFields:t,requiredMetaFields:n,updateMeta:r,form:a,formState:i}=e,o={text:"uppy-u-reset uppy-c-textInput uppy-Dashboard-FileCard-input"};return t.map(l=>{const c=`uppy-Dashboard-FileCard-input-${l.id}`,d=n.includes(l.id);return G("fieldset",{className:"uppy-Dashboard-FileCard-fieldset",children:[G("label",{className:"uppy-Dashboard-FileCard-label",htmlFor:c,children:l.name}),l.render!==void 0?l.render({value:i[l.id],onChange:u=>r(u,l.id),fieldCSSClasses:o,required:d,form:a.id},_b):G("input",{className:o.text,id:c,form:a.id,type:l.type||"text",required:d,value:i[l.id],placeholder:l.placeholder,onInput:u=>r(u.target.value,l.id),"data-uppy-super-focusable":!0})]},l.id)})}function ymt(e){const{files:t,fileCardFor:n,toggleFileCard:r,saveFileCard:a,metaFields:i,requiredMetaFields:o,openFileEditor:l,i18n:c,i18nArray:d,className:u,canEditFile:h}=e,f=()=>typeof i=="function"?i(t[n]):i,g=t[n],m=f()??[],p=h(g),x={};m.forEach(k=>{x[k.id]=g.meta[k.id]??""});const[v,y]=ev(x),j=n2(k=>{k.preventDefault(),a(v,n)},[a,v,n]),N=(k,_)=>{y({...v,[_]:k})},w=()=>{r(!1)},[S]=ev(()=>{const k=document.createElement("form");return k.setAttribute("tabindex","-1"),k.id=Uhe(),k});return t2(()=>(document.body.appendChild(S),S.addEventListener("submit",j),()=>{S.removeEventListener("submit",j),S.parentNode&&document.body.removeChild(S)}),[S,j]),G("div",{className:al("uppy-Dashboard-FileCard",u),"data-uppy-panelType":"FileCard",onDragOver:du,onDragLeave:du,onDrop:du,onPaste:du,children:[G("div",{className:"uppy-DashboardContent-bar",children:[G("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:d("editing",{file:G("span",{className:"uppy-DashboardContent-titleFile",children:g.meta?g.meta.name:g.name})})}),G("button",{className:"uppy-DashboardContent-back",type:"button",form:S.id,title:c("finishEditingFile"),onClick:w,children:c("cancel")})]}),G("div",{className:"uppy-Dashboard-FileCard-inner",children:[G("div",{className:"uppy-Dashboard-FileCard-preview",style:{backgroundColor:c5(g.type).color},children:[G(Whe,{file:g}),p&&G("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-FileCard-edit",onClick:k=>{j(k),l(g)},children:c("editImage")})]}),G("div",{className:"uppy-Dashboard-FileCard-info",children:G(xmt,{computedMetaFields:m,requiredMetaFields:o,updateMeta:N,form:S,formState:v})}),G("div",{className:"uppy-Dashboard-FileCard-actions",children:[G("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Dashboard-FileCard-actionsBtn",type:"submit",form:S.id,children:c("saveChanges")}),G("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link uppy-Dashboard-FileCard-actionsBtn",type:"button",onClick:w,form:S.id,children:c("cancel")})]})]})]})}function bmt(e,t){if(e===t)return!0;if(!e||!t)return!1;const n=Object.keys(e),r=Object.keys(t),a=n.length;if(r.length!==a)return!1;for(let i=0;i<a;i++){const o=n[i];if(e[o]!==t[o]||!Object.prototype.hasOwnProperty.call(t,o))return!1}return!0}function jmt(e,t="Copy the URL below"){return new Promise(n=>{const r=document.createElement("textarea");r.setAttribute("style",{position:"fixed",top:0,left:0,width:"2em",height:"2em",padding:0,border:"none",outline:"none",boxShadow:"none",background:"transparent"}),r.value=e,document.body.appendChild(r),r.select();const a=()=>{document.body.removeChild(r),window.prompt(t,e),n()};try{return document.execCommand("copy")?(document.body.removeChild(r),n()):a()}catch{return document.body.removeChild(r),a()}})}function wmt({file:e,uploadInProgressOrComplete:t,metaFields:n,canEditFile:r,i18n:a,onClick:i}){return!t&&n&&n.length>0||!t&&r(e)?G("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-action uppy-Dashboard-Item-action--edit",type:"button","aria-label":a("editFileWithFilename",{file:e.meta.name}),title:a("editFileWithFilename",{file:e.meta.name}),onClick:()=>i(),children:G("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 14",children:G("g",{fillRule:"evenodd",children:[G("path",{d:"M1.5 10.793h2.793A1 1 0 0 0 5 10.5L11.5 4a1 1 0 0 0 0-1.414L9.707.793a1 1 0 0 0-1.414 0l-6.5 6.5A1 1 0 0 0 1.5 8v2.793zm1-1V8L9 1.5l1.793 1.793-6.5 6.5H2.5z",fillRule:"nonzero"}),G("rect",{x:"1",y:"12.293",width:"11",height:"1",rx:".5"}),G("path",{fillRule:"nonzero",d:"M6.793 2.5L9.5 5.207l.707-.707L7.5 1.793z"})]})})}):null}function Nmt({i18n:e,onClick:t,file:n}){return G("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--remove",type:"button","aria-label":e("removeFile",{file:n.meta.name}),title:e("removeFile",{file:n.meta.name}),onClick:()=>t(),children:G("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"18",height:"18",viewBox:"0 0 18 18",children:[G("path",{d:"M9 0C4.034 0 0 4.034 0 9s4.034 9 9 9 9-4.034 9-9-4.034-9-9-9z"}),G("path",{fill:"#FFF",d:"M13 12.222l-.778.778L9 9.778 5.778 13 5 12.222 8.222 9 5 5.778 5.778 5 9 8.222 12.222 5l.778.778L9.778 9z"})]})})}function Smt({file:e,uppy:t,i18n:n}){const r=a=>{jmt(e.uploadURL,n("copyLinkToClipboardFallback")).then(()=>{t.log("Link copied to clipboard."),t.info(n("copyLinkToClipboardSuccess"),"info",3e3)}).catch(t.log).then(()=>a.target.focus({preventScroll:!0}))};return G("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--copyLink",type:"button","aria-label":n("copyLink"),title:n("copyLink"),onClick:a=>r(a),children:G("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 12",children:G("path",{d:"M7.94 7.703a2.613 2.613 0 0 1-.626 2.681l-.852.851a2.597 2.597 0 0 1-1.849.766A2.616 2.616 0 0 1 2.764 7.54l.852-.852a2.596 2.596 0 0 1 2.69-.625L5.267 7.099a1.44 1.44 0 0 0-.833.407l-.852.851a1.458 1.458 0 0 0 1.03 2.486c.39 0 .755-.152 1.03-.426l.852-.852c.231-.231.363-.522.406-.824l1.04-1.038zm4.295-5.937A2.596 2.596 0 0 0 10.387 1c-.698 0-1.355.272-1.849.766l-.852.851a2.614 2.614 0 0 0-.624 2.688l1.036-1.036c.041-.304.173-.6.407-.833l.852-.852c.275-.275.64-.426 1.03-.426a1.458 1.458 0 0 1 1.03 2.486l-.852.851a1.442 1.442 0 0 1-.824.406l-1.04 1.04a2.596 2.596 0 0 0 2.683-.628l.851-.85a2.616 2.616 0 0 0 0-3.697zm-6.88 6.883a.577.577 0 0 0 .82 0l3.474-3.474a.579.579 0 1 0-.819-.82L5.355 7.83a.579.579 0 0 0 0 .819z"})})})}function Cmt(e){const{uppy:t,file:n,uploadInProgressOrComplete:r,canEditFile:a,metaFields:i,showLinkToFileUploadResult:o,showRemoveButton:l,i18n:c,toggleFileCard:d,openFileEditor:u}=e;return G("div",{className:"uppy-Dashboard-Item-actionWrapper",children:[G(wmt,{i18n:c,file:n,uploadInProgressOrComplete:r,canEditFile:a,metaFields:i,onClick:()=>{i&&i.length>0?d(!0,n.id):u(n)}}),o&&n.uploadURL?G(Smt,{file:n,uppy:t,i18n:c}):null,l?G(Nmt,{i18n:c,file:n,onClick:()=>t.removeFile(n.id)}):null]})}const kmt=(e,t)=>(typeof t=="function"?t():t).filter(a=>a.id===e)[0].name;function Hhe(e){const{file:t,toggleFileCard:n,i18n:r,metaFields:a}=e,{missingRequiredMetaFields:i}=t;if(!(i!=null&&i.length))return null;const o=i.map(l=>kmt(l,a)).join(", ");return G("div",{className:"uppy-Dashboard-Item-errorMessage",children:[r("missingRequiredMetaFields",{smart_count:i.length,fields:o})," ",G("button",{type:"button",class:"uppy-u-reset uppy-Dashboard-Item-errorMessageBtn",onClick:()=>n(!0,t.id),children:r("editFile")})]})}const _mt=e=>{const{author:t,name:n}=e.file.meta;function r(){return e.isSingleFile&&e.containerHeight>=350?90:e.containerWidth<=352?35:e.containerWidth<=576?60:t?20:30}return G("div",{className:"uppy-Dashboard-Item-name",title:n,children:she(n,r())})},Pmt=e=>{var a;const{author:t}=e.file.meta,n=(a=e.file.remote)==null?void 0:a.providerName,r="";return t?G("div",{className:"uppy-Dashboard-Item-author",children:[G("a",{href:`${t.url}?utm_source=Companion&utm_medium=referral`,target:"_blank",rel:"noopener noreferrer",children:she(t.name,13)}),n?G(Bo,{children:[` ${r} `,n,` ${r} `]}):null]}):null},Tmt=e=>e.file.size&&G("div",{className:"uppy-Dashboard-Item-statusSize",children:zh(e.file.size)}),Amt=e=>e.file.isGhost&&G("span",{children:["  ",G("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-reSelect",type:"button",onClick:()=>e.toggleAddFilesPanel(!0),children:e.i18n("reSelect")})]}),Emt=({file:e,onClick:t})=>e.error?G("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-errorDetails","aria-label":e.error,"data-microtip-position":"bottom","data-microtip-size":"medium",onClick:t,type:"button",children:"?"}):null;function Dmt(e){const{file:t,i18n:n,toggleFileCard:r,metaFields:a,toggleAddFilesPanel:i,isSingleFile:o,containerHeight:l,containerWidth:c}=e;return G("div",{className:"uppy-Dashboard-Item-fileInfo","data-uppy-file-source":t.source,children:[G("div",{className:"uppy-Dashboard-Item-fileName",children:[_mt({file:t,isSingleFile:o,containerHeight:l,containerWidth:c}),G(Emt,{file:t,onClick:()=>alert(t.error)})]}),G("div",{className:"uppy-Dashboard-Item-status",children:[Pmt({file:t}),Tmt({file:t}),Amt({file:t,toggleAddFilesPanel:i,i18n:n})]}),G(Hhe,{file:t,i18n:n,toggleFileCard:r,metaFields:a})]})}function Omt(e){const{file:t,i18n:n,toggleFileCard:r,metaFields:a,showLinkToFileUploadResult:i}=e,l=t.preview?"rgba(255, 255, 255, 0.5)":c5(t.type).color;return G("div",{className:"uppy-Dashboard-Item-previewInnerWrap",style:{backgroundColor:l},children:[i&&t.uploadURL&&G("a",{className:"uppy-Dashboard-Item-previewLink",href:t.uploadURL,rel:"noreferrer noopener",target:"_blank","aria-label":t.meta.name,children:G("span",{hidden:!0,children:t.meta.name})}),G(Whe,{file:t}),G(Hhe,{file:t,i18n:n,toggleFileCard:r,metaFields:a})]})}function Mmt(e){if(!e.isUploaded){if(e.error&&!e.hideRetryButton){e.uppy.retryUpload(e.file.id);return}e.resumableUploads&&!e.hidePauseResumeButton?e.uppy.pauseResume(e.file.id):e.individualCancellation&&!e.hideCancelButton&&e.uppy.removeFile(e.file.id)}}function B9(e){return e.isUploaded?e.i18n("uploadComplete"):e.error?e.i18n("retryUpload"):e.resumableUploads?e.file.isPaused?e.i18n("resumeUpload"):e.i18n("pauseUpload"):e.individualCancellation?e.i18n("cancelUpload"):""}function dA(e){return G("div",{className:"uppy-Dashboard-Item-progress",children:G("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-progressIndicator",type:"button","aria-label":B9(e),title:B9(e),onClick:()=>Mmt(e),children:e.children})})}function CN({children:e}){return G("svg",{"aria-hidden":"true",focusable:"false",width:"70",height:"70",viewBox:"0 0 36 36",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--circle",children:e})}function uA({progress:e}){const t=2*Math.PI*15;return G("g",{children:[G("circle",{className:"uppy-Dashboard-Item-progressIcon--bg",r:"15",cx:"18",cy:"18","stroke-width":"2",fill:"none"}),G("circle",{className:"uppy-Dashboard-Item-progressIcon--progress",r:"15",cx:"18",cy:"18",transform:"rotate(-90, 18, 18)",fill:"none","stroke-width":"2","stroke-dasharray":t,"stroke-dashoffset":t-t/100*e})]})}function Rmt(e){return!e.file.progress.uploadStarted||e.file.progress.percentage===void 0?null:e.isUploaded?G("div",{className:"uppy-Dashboard-Item-progress",children:G("div",{className:"uppy-Dashboard-Item-progressIndicator",children:G(CN,{children:[G("circle",{r:"15",cx:"18",cy:"18",fill:"#1bb240"}),G("polygon",{className:"uppy-Dashboard-Item-progressIcon--check",transform:"translate(2, 3)",points:"14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634"})]})})}):e.recoveredState?null:e.error&&!e.hideRetryButton?G(dA,{...e,children:G("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--retry",width:"28",height:"31",viewBox:"0 0 16 19",children:[G("path",{d:"M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z"}),G("path",{d:"M7.9 3H10v2H7.9z"}),G("path",{d:"M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z"}),G("path",{d:"M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z"})]})}):e.resumableUploads&&!e.hidePauseResumeButton?G(dA,{...e,children:G(CN,{children:[G(uA,{progress:e.file.progress.percentage}),e.file.isPaused?G("polygon",{className:"uppy-Dashboard-Item-progressIcon--play",transform:"translate(3, 3)",points:"12 20 12 10 20 15"}):G("g",{className:"uppy-Dashboard-Item-progressIcon--pause",transform:"translate(14.5, 13)",children:[G("rect",{x:"0",y:"0",width:"2",height:"10",rx:"0"}),G("rect",{x:"5",y:"0",width:"2",height:"10",rx:"0"})]})]})}):!e.resumableUploads&&e.individualCancellation&&!e.hideCancelButton?G(dA,{...e,children:G(CN,{children:[G(uA,{progress:e.file.progress.percentage}),G("polygon",{className:"cancel",transform:"translate(2, 2)",points:"19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12"})]})}):G("div",{className:"uppy-Dashboard-Item-progress",children:G("div",{className:"uppy-Dashboard-Item-progressIndicator",children:G(CN,{children:G(uA,{progress:e.file.progress.percentage})})})})}class $mt extends _a{componentDidMount(){const{file:t}=this.props;t.preview||this.props.handleRequestThumbnail(t)}shouldComponentUpdate(t){return!bmt(this.props,t)}componentDidUpdate(){const{file:t}=this.props;t.preview||this.props.handleRequestThumbnail(t)}componentWillUnmount(){const{file:t}=this.props;t.preview||this.props.handleCancelThumbnail(t)}render(){const{file:t}=this.props,n=t.progress.preprocess||t.progress.postprocess,r=!!t.progress.uploadComplete&&!n&&!t.error,a=!!t.progress.uploadStarted||!!n,i=t.progress.uploadStarted&&!t.progress.uploadComplete||n,o=t.error||!1,{isGhost:l}=t;let c=(this.props.individualCancellation||!i)&&!r;r&&this.props.showRemoveButtonAfterComplete&&(c=!0);const d=al({"uppy-Dashboard-Item":!0,"is-inprogress":i&&!this.props.recoveredState,"is-processing":n,"is-complete":r,"is-error":!!o,"is-resumable":this.props.resumableUploads,"is-noIndividualCancellation":!this.props.individualCancellation,"is-ghost":l});return G("div",{className:d,id:`uppy_${t.id}`,role:this.props.role,children:[G("div",{className:"uppy-Dashboard-Item-preview",children:[G(Omt,{file:t,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,i18n:this.props.i18n,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields}),G(Rmt,{uppy:this.props.uppy,file:t,error:o,isUploaded:r,hideRetryButton:this.props.hideRetryButton,hideCancelButton:this.props.hideCancelButton,hidePauseResumeButton:this.props.hidePauseResumeButton,recoveredState:this.props.recoveredState,resumableUploads:this.props.resumableUploads,individualCancellation:this.props.individualCancellation,i18n:this.props.i18n})]}),G("div",{className:"uppy-Dashboard-Item-fileInfoAndButtons",children:[G(Dmt,{file:t,containerWidth:this.props.containerWidth,containerHeight:this.props.containerHeight,i18n:this.props.i18n,toggleAddFilesPanel:this.props.toggleAddFilesPanel,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields,isSingleFile:this.props.isSingleFile}),G(Cmt,{file:t,metaFields:this.props.metaFields,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,showRemoveButton:c,canEditFile:this.props.canEditFile,uploadInProgressOrComplete:a,toggleFileCard:this.props.toggleFileCard,openFileEditor:this.props.openFileEditor,uppy:this.props.uppy,i18n:this.props.i18n})]})]})}}function Imt(e,t){const n=[];let r=[];return e.forEach(a=>{r.length<t?r.push(a):(n.push(r),r=[a])}),r.length&&n.push(r),n}function Fmt({id:e,i18n:t,uppy:n,files:r,resumableUploads:a,hideRetryButton:i,hidePauseResumeButton:o,hideCancelButton:l,showLinkToFileUploadResult:c,showRemoveButtonAfterComplete:d,metaFields:u,isSingleFile:h,toggleFileCard:f,handleRequestThumbnail:g,handleCancelThumbnail:m,recoveredState:p,individualCancellation:x,itemsPerRow:v,openFileEditor:y,canEditFile:j,toggleAddFilesPanel:N,containerWidth:w,containerHeight:S}){const k=v===1?71:200,_=r5(()=>{const P=(A,E)=>Number(r[E].isGhost)-Number(r[A].isGhost),C=Object.keys(r);return p&&C.sort(P),Imt(C,v)},[r,v,p]),T=P=>G("div",{class:"uppy-Dashboard-filesInner",role:"presentation",children:P.map(C=>G($mt,{uppy:n,id:e,i18n:t,resumableUploads:a,individualCancellation:x,hideRetryButton:i,hidePauseResumeButton:o,hideCancelButton:l,showLinkToFileUploadResult:c,showRemoveButtonAfterComplete:d,metaFields:u,recoveredState:p,isSingleFile:h,containerWidth:w,containerHeight:S,toggleFileCard:f,handleRequestThumbnail:g,handleCancelThumbnail:m,role:"listitem",openFileEditor:y,canEditFile:j,toggleAddFilesPanel:N,file:r[C]},C))},P[0]);return h?G("div",{class:"uppy-Dashboard-files",children:T(_[0])}):G(Uut,{class:"uppy-Dashboard-files",role:"list",data:_,renderRow:T,rowHeight:k})}const U9=300;class Lmt extends _a{constructor(){super(...arguments);H(this,"ref",Aut())}componentWillEnter(n){this.ref.current.style.opacity="1",this.ref.current.style.transform="none",setTimeout(n,U9)}componentWillLeave(n){this.ref.current.style.opacity="0",this.ref.current.style.transform="translateY(350%)",setTimeout(n,U9)}render(){const{children:n}=this.props;return G("div",{className:"uppy-Informer-animated",ref:this.ref,children:n})}}function zmt(e,t){return Object.assign(e,t)}function Bmt(e,t){return(e==null?void 0:e.key)??t}function Umt(e,t){const n=e._ptgLinkedRefs||(e._ptgLinkedRefs={});return n[t]||(n[t]=r=>{e.refs[t]=r})}function Tx(e){const t={};for(let n=0;n<e.length;n++)if(e[n]!=null){const r=Bmt(e[n],n.toString(36));t[r]=e[n]}return t}function Vmt(e,t){e=e||{},t=t||{};const n=o=>Object.hasOwn(t,o)?t[o]:e[o],r={};let a=[];for(const o in e)Object.hasOwn(t,o)?a.length&&(r[o]=a,a=[]):a.push(o);const i={};for(const o in t){if(Object.hasOwn(r,o))for(let l=0;l<r[o].length;l++){const c=r[o][l];i[r[o][l]]=n(c)}i[o]=n(o)}for(let o=0;o<a.length;o++)i[a[o]]=n(a[o]);return i}const Wmt=e=>e;class qhe extends _a{constructor(t,n){super(t,n),this.refs={},this.state={children:Tx(Mo(Mo(this.props.children))||[])},this.performAppear=this.performAppear.bind(this),this.performEnter=this.performEnter.bind(this),this.performLeave=this.performLeave.bind(this)}componentWillMount(){this.currentlyTransitioningKeys={},this.keysToAbortLeave=[],this.keysToEnter=[],this.keysToLeave=[]}componentDidMount(){const t=this.state.children;for(const n in t)t[n]&&this.performAppear(n)}componentWillReceiveProps(t){const n=Tx(Mo(t.children)||[]),r=this.state.children;this.setState(i=>({children:Vmt(i.children,n)}));let a;for(a in n)if(Object.hasOwn(n,a)){const i=r&&Object.hasOwn(r,a);n[a]&&i&&this.currentlyTransitioningKeys[a]?(this.keysToEnter.push(a),this.keysToAbortLeave.push(a)):n[a]&&!i&&!this.currentlyTransitioningKeys[a]&&this.keysToEnter.push(a)}for(a in r)if(Object.hasOwn(r,a)){const i=n&&Object.hasOwn(n,a);r[a]&&!i&&!this.currentlyTransitioningKeys[a]&&this.keysToLeave.push(a)}}componentDidUpdate(){const{keysToEnter:t}=this;this.keysToEnter=[],t.forEach(this.performEnter);const{keysToLeave:n}=this;this.keysToLeave=[],n.forEach(this.performLeave)}_finishAbort(t){const n=this.keysToAbortLeave.indexOf(t);n!==-1&&this.keysToAbortLeave.splice(n,1)}performAppear(t){this.currentlyTransitioningKeys[t]=!0;const n=this.refs[t];n!=null&&n.componentWillAppear?n.componentWillAppear(this._handleDoneAppearing.bind(this,t)):this._handleDoneAppearing(t)}_handleDoneAppearing(t){const n=this.refs[t];n!=null&&n.componentDidAppear&&n.componentDidAppear(),delete this.currentlyTransitioningKeys[t],this._finishAbort(t);const r=Tx(Mo(this.props.children)||[]);(!r||!Object.hasOwn(r,t))&&this.performLeave(t)}performEnter(t){this.currentlyTransitioningKeys[t]=!0;const n=this.refs[t];n!=null&&n.componentWillEnter?n.componentWillEnter(this._handleDoneEntering.bind(this,t)):this._handleDoneEntering(t)}_handleDoneEntering(t){const n=this.refs[t];n!=null&&n.componentDidEnter&&n.componentDidEnter(),delete this.currentlyTransitioningKeys[t],this._finishAbort(t);const r=Tx(Mo(this.props.children)||[]);(!r||!Object.hasOwn(r,t))&&this.performLeave(t)}performLeave(t){if(this.keysToAbortLeave.indexOf(t)!==-1)return;this.currentlyTransitioningKeys[t]=!0;const r=this.refs[t];r!=null&&r.componentWillLeave?r.componentWillLeave(this._handleDoneLeaving.bind(this,t)):this._handleDoneLeaving(t)}_handleDoneLeaving(t){if(this.keysToAbortLeave.indexOf(t)!==-1)return;const r=this.refs[t];r!=null&&r.componentDidLeave&&r.componentDidLeave(),delete this.currentlyTransitioningKeys[t];const a=Tx(Mo(this.props.children)||[]);if(a&&Object.hasOwn(a,t))this.performEnter(t);else{const i=zmt({},this.state.children);delete i[t],this.setState({children:i})}}render({childFactory:t,transitionLeave:n,transitionName:r,transitionAppear:a,transitionEnter:i,transitionLeaveTimeout:o,transitionEnterTimeout:l,transitionAppearTimeout:c,component:d,...u},{children:h}){const f=Object.entries(h).map(([g,m])=>{if(!m)return;const p=Umt(this,g);return ghe(t(m),{ref:p,key:g})}).filter(Boolean);return _b(d,u,f)}}qhe.defaultProps={component:"span",childFactory:Wmt};class V9 extends _a{render(){const{info:t}=this.props.uppy.getState();return G("div",{className:"uppy uppy-Informer",children:G(qhe,{children:t.map(n=>G(Lmt,{children:G("p",{role:"alert",children:[n.message," ",n.details&&G("span",{"aria-label":n.details,"data-microtip-position":"top-left","data-microtip-size":"medium",role:"tooltip",onClick:()=>alert(`${n.message} 

 ${n.details}`),children:"?"})]})},n.message))})})}}function Hmt({activePickerPanel:e,className:t,hideAllPanels:n,i18n:r,state:a,uppy:i}){const o=Ey(null);return G("div",{className:al("uppy-DashboardContent-panel",t),role:"tabpanel","data-uppy-panelType":"PickerPanel",id:`uppy-DashboardContent-panel--${e.id}`,onDragOver:du,onDragLeave:du,onDrop:du,onPaste:du,children:[G("div",{className:"uppy-DashboardContent-bar",children:[G("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:r("importFrom",{name:e.name})}),G("button",{className:"uppy-DashboardContent-back",type:"button",onClick:n,children:r("cancel")})]}),G("div",{ref:o,className:"uppy-DashboardContent-panelBody",children:i.getPlugin(e.id).render(a,o.current)})]})}const yl={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete",STATE_PAUSED:"paused"};function qmt(e,t,n,r={}){if(e)return yl.STATE_ERROR;if(t)return yl.STATE_COMPLETE;if(n)return yl.STATE_PAUSED;let a=yl.STATE_WAITING;const i=Object.keys(r);for(let o=0;o<i.length;o++){const{progress:l}=r[i[o]];if(l.uploadStarted&&!l.uploadComplete)return yl.STATE_UPLOADING;l.preprocess&&a!==yl.STATE_UPLOADING&&(a=yl.STATE_PREPROCESSING),l.postprocess&&a!==yl.STATE_UPLOADING&&a!==yl.STATE_PREPROCESSING&&(a=yl.STATE_POSTPROCESSING)}return a}function Kmt({files:e,i18n:t,isAllComplete:n,isAllErrored:r,isAllPaused:a,inProgressNotPausedFiles:i,newFiles:o,processingFiles:l}){switch(qmt(r,n,a,e)){case"uploading":return t("uploadingXFiles",{smart_count:i.length});case"preprocessing":case"postprocessing":return t("processingXFiles",{smart_count:l.length});case"paused":return t("uploadPaused");case"waiting":return t("xFilesSelected",{smart_count:o.length});case"complete":return t("uploadComplete");case"error":return t("error")}}function Gmt(e){const{i18n:t,isAllComplete:n,hideCancelButton:r,maxNumberOfFiles:a,toggleAddFilesPanel:i,uppy:o}=e;let{allowNewUpload:l}=e;return l&&a&&(l=e.totalFileCount<e.maxNumberOfFiles),G("div",{className:"uppy-DashboardContent-bar",children:[!n&&!r?G("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>o.cancelAll(),children:t("cancel")}):G("div",{}),G("div",{className:"uppy-DashboardContent-title",children:G(Kmt,{...e})}),l?G("button",{className:"uppy-DashboardContent-addMore",type:"button","aria-label":t("addMoreFiles"),title:t("addMoreFiles"),onClick:()=>i(!0),children:[G("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"15",height:"15",viewBox:"0 0 15 15",children:G("path",{d:"M8 6.5h6a.5.5 0 0 1 .5.5v.5a.5.5 0 0 1-.5.5H8v6a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V8h-6a.5.5 0 0 1-.5-.5V7a.5.5 0 0 1 .5-.5h6v-6A.5.5 0 0 1 7 0h.5a.5.5 0 0 1 .5.5v6z"})}),G("span",{className:"uppy-DashboardContent-addMoreCaption",children:t("addMore")})]}):G("div",{})]})}const bm="uppy-transition-slideDownUp",W9=250;function kN({children:e}){const[t,n]=ev(null),[r,a]=ev(""),i=Ey(),o=Ey(),l=Ey(),c=n2(()=>{a(`${bm}-enter`),cancelAnimationFrame(l.current),clearTimeout(o.current),o.current=void 0,l.current=requestAnimationFrame(()=>{a(`${bm}-enter ${bm}-enter-active`),i.current=setTimeout(()=>{a("")},W9)})},[]),d=n2(()=>{a(`${bm}-leave`),cancelAnimationFrame(l.current),clearTimeout(i.current),i.current=void 0,l.current=requestAnimationFrame(()=>{a(`${bm}-leave ${bm}-leave-active`),o.current=setTimeout(()=>{n(null),a("")},W9)})},[]);return t2(()=>{const u=Mo(e)[0];t!==u&&(u&&!t?c():t&&!u&&!o.current&&d(),n(u))},[e,t,c,d]),t2(()=>()=>{clearTimeout(i.current),clearTimeout(o.current),cancelAnimationFrame(l.current)},[]),t?ghe(t,{className:al(r,t.props.className)}):null}const wl={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete"},Ymt="",H9=()=>` ${Ymt} `;function Xmt(e){const{newFiles:t,isUploadStarted:n,recoveredState:r,i18n:a,uploadState:i,isSomeGhost:o,startUpload:l}=e,c=al("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--upload",{"uppy-c-btn-primary":i===wl.STATE_WAITING},{"uppy-StatusBar-actionBtn--disabled":o}),d=t&&n&&!r?a("uploadXNewFiles",{smart_count:t}):a("uploadXFiles",{smart_count:t});return G("button",{type:"button",className:c,"aria-label":a("uploadXFiles",{smart_count:t}),onClick:l,disabled:o,"data-uppy-super-focusable":!0,children:d})}function Qmt(e){const{i18n:t,uppy:n}=e;return G("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry","aria-label":t("retryUpload"),onClick:()=>n.retryAll().catch(()=>{}),"data-uppy-super-focusable":!0,"data-cy":"retry",children:[G("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"8",height:"10",viewBox:"0 0 8 10",children:G("path",{d:"M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z"})}),t("retry")]})}function Zmt(e){const{i18n:t,uppy:n}=e;return G("button",{type:"button",className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",title:t("cancel"),"aria-label":t("cancel"),onClick:()=>n.cancelAll(),"data-cy":"cancel","data-uppy-super-focusable":!0,children:G("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16",children:G("g",{fill:"none",fillRule:"evenodd",children:[G("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),G("path",{fill:"#FFF",d:"M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z"})]})})})}function Jmt(e){const{isAllPaused:t,i18n:n,isAllComplete:r,resumableUploads:a,uppy:i}=e,o=n(t?"resume":"pause");function l(){if(!r){if(!a){i.cancelAll();return}if(t){i.resumeAll();return}i.pauseAll()}}return G("button",{title:o,"aria-label":o,className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",type:"button",onClick:l,"data-cy":"togglePauseResume","data-uppy-super-focusable":!0,children:G("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16",children:G("g",{fill:"none",fillRule:"evenodd",children:[G("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),G("path",{fill:"#FFF",d:t?"M6 4.25L11.5 8 6 11.75z":"M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z"})]})})})}function ept(e){const{i18n:t,doneButtonHandler:n}=e;return G("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--done",onClick:n,"data-uppy-super-focusable":!0,children:t("done")})}function Khe(){return G("svg",{className:"uppy-StatusBar-spinner","aria-hidden":"true",focusable:"false",width:"14",height:"14",children:G("path",{d:"M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0",fillRule:"evenodd"})})}function tpt(e){const{progress:t}=e,{value:n,mode:r,message:a}=t;return G("div",{className:"uppy-StatusBar-content",children:[G(Khe,{}),r==="determinate"?`${Math.round(n*100)}%  `:"",a]})}function npt(e){const{numUploads:t,complete:n,totalUploadedSize:r,totalSize:a,totalETA:i,i18n:o}=e,l=t>1,c=zh(r);return G("div",{className:"uppy-StatusBar-statusSecondary",children:[l&&o("filesUploadedOfTotal",{complete:n,smart_count:t}),G("span",{className:"uppy-StatusBar-additionalInfo",children:[l&&H9(),a!=null?o("dataUploadedOfTotal",{complete:c,total:zh(a)}):o("dataUploadedOfUnknown",{complete:c}),H9(),i!=null&&o("xTimeLeft",{time:Nut(i)})]})]})}function Ghe(e){const{i18n:t,complete:n,numUploads:r}=e;return G("div",{className:"uppy-StatusBar-statusSecondary",children:t("filesUploadedOfTotal",{complete:n,smart_count:r})})}function rpt(e){const{i18n:t,newFiles:n,startUpload:r}=e,a=al("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--uploadNewlyAdded");return G("div",{className:"uppy-StatusBar-statusSecondary",children:[G("div",{className:"uppy-StatusBar-statusSecondaryHint",children:t("xMoreFilesAdded",{smart_count:n})}),G("button",{type:"button",className:a,"aria-label":t("uploadXFiles",{smart_count:n}),onClick:r,children:t("upload")})]})}function spt(e){const{i18n:t,supportsUploadProgress:n,totalProgress:r,hideProgressDetails:a,isUploadStarted:i,isAllComplete:o,isAllPaused:l,newFiles:c,numUploads:d,complete:u,totalUploadedSize:h,totalSize:f,totalETA:g,startUpload:m}=e,p=c&&i;if(!i||o)return null;const x=t(l?"paused":"uploading");function v(){return!l&&!p&&!a?n?G(npt,{numUploads:d,complete:u,totalUploadedSize:h,totalSize:f,totalETA:g,i18n:t}):G(Ghe,{i18n:t,complete:u,numUploads:d}):null}return G("div",{className:"uppy-StatusBar-content",title:x,children:[l?null:G(Khe,{}),G("div",{className:"uppy-StatusBar-status",children:[G("div",{className:"uppy-StatusBar-statusPrimary",children:n&&r!==0?`${x}: ${r}%`:x}),v(),p?G(rpt,{i18n:t,newFiles:c,startUpload:m}):null]})]})}function apt(e){const{i18n:t}=e;return G("div",{className:"uppy-StatusBar-content",role:"status",title:t("complete"),children:G("div",{className:"uppy-StatusBar-status",children:G("div",{className:"uppy-StatusBar-statusPrimary",children:[G("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"15",height:"11",viewBox:"0 0 15 11",children:G("path",{d:"M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z"})}),t("complete")]})})})}function ipt(e){const{error:t,i18n:n,complete:r,numUploads:a}=e;function i(){const o=`${n("uploadFailed")} 

 ${t}`;alert(o)}return G("div",{className:"uppy-StatusBar-content",title:n("uploadFailed"),children:[G("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"11",height:"11",viewBox:"0 0 11 11",children:G("path",{d:"M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z"})}),G("div",{className:"uppy-StatusBar-status",children:[G("div",{className:"uppy-StatusBar-statusPrimary",children:[n("uploadFailed"),G("button",{className:"uppy-u-reset uppy-StatusBar-details","aria-label":n("showErrorDetails"),"data-microtip-position":"top-right","data-microtip-size":"medium",onClick:i,type:"button",children:"?"})]}),G(Ghe,{i18n:n,complete:r,numUploads:a})]})]})}function hA(e){const t=[];let n="indeterminate",r;for(const{progress:i}of Object.values(e)){const{preprocess:o,postprocess:l}=i;r==null&&(o||l)&&({mode:n,message:r}=o||l),(o==null?void 0:o.mode)==="determinate"&&t.push(o.value),(l==null?void 0:l.mode)==="determinate"&&t.push(l.value)}const a=t.reduce((i,o)=>i+o/t.length,0);return{mode:n,message:r,value:a}}const{STATE_ERROR:q9,STATE_WAITING:opt,STATE_PREPROCESSING:fA,STATE_UPLOADING:_N,STATE_POSTPROCESSING:mA,STATE_COMPLETE:PN}=wl;function lpt({newFiles:e,allowNewUpload:t,isUploadInProgress:n,isAllPaused:r,resumableUploads:a,error:i,hideUploadButton:o=void 0,hidePauseResumeButton:l=!1,hideCancelButton:c=!1,hideRetryButton:d=!1,recoveredState:u,uploadState:h,totalProgress:f,files:g,supportsUploadProgress:m,hideAfterFinish:p=!1,isSomeGhost:x,doneButtonHandler:v=void 0,isUploadStarted:y,i18n:j,startUpload:N,uppy:w,isAllComplete:S,hideProgressDetails:k=void 0,numUploads:_,complete:T,totalSize:P,totalETA:C,totalUploadedSize:A}){function E(){switch(h){case mA:case fA:{const be=hA(g);return be.mode==="determinate"?be.value*100:f}case q9:return null;case _N:return m?f:null;default:return f}}function I(){switch(h){case mA:case fA:{const{mode:be}=hA(g);return be==="indeterminate"}case _N:return!m;default:return!1}}const $=E(),U=$??100,M=!i&&e&&(!n&&!r||u)&&t&&!o,F=!c&&h!==opt&&h!==PN,V=a&&!l&&h===_N,Y=i&&!S&&!d,K=v&&h===PN,z=al("uppy-StatusBar-progress",{"is-indeterminate":I()}),L=al("uppy-StatusBar",`is-${h}`,{"has-ghosts":x}),ee=(()=>{switch(h){case fA:case mA:return G(tpt,{progress:hA(g)});case PN:return G(apt,{i18n:j});case q9:return G(ipt,{error:i,i18n:j,numUploads:_,complete:T});case _N:return G(spt,{i18n:j,supportsUploadProgress:m,totalProgress:f,hideProgressDetails:k,isUploadStarted:y,isAllComplete:S,isAllPaused:r,newFiles:e,numUploads:_,complete:T,totalUploadedSize:A,totalSize:P,totalETA:C,startUpload:N});default:return null}})();return!(M||Y||V||F||K)&&!ee||h===PN&&p?null:G("div",{className:L,children:[G("div",{className:z,style:{width:`${U}%`},role:"progressbar","aria-label":`${U}%`,"aria-valuetext":`${U}%`,"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":$}),ee,G("div",{className:"uppy-StatusBar-actions",children:[M?G(Xmt,{newFiles:e,isUploadStarted:y,recoveredState:u,i18n:j,isSomeGhost:x,startUpload:N,uploadState:h}):null,Y?G(Qmt,{i18n:j,uppy:w}):null,V?G(Jmt,{isAllPaused:r,i18n:j,isAllComplete:S,resumableUploads:a,uppy:w}):null,F?G(Zmt,{i18n:j,uppy:w}):null,K?G(ept,{i18n:j,doneButtonHandler:v}):null]})]})}const cpt=2e3,dpt=2e3;function upt(e,t,n,r){if(e)return wl.STATE_ERROR;if(t)return wl.STATE_COMPLETE;if(n)return wl.STATE_WAITING;let a=wl.STATE_WAITING;const i=Object.keys(r);for(let o=0;o<i.length;o++){const{progress:l}=r[i[o]];if(l.uploadStarted&&!l.uploadComplete)return wl.STATE_UPLOADING;l.preprocess&&(a=wl.STATE_PREPROCESSING),l.postprocess&&a!==wl.STATE_PREPROCESSING&&(a=wl.STATE_POSTPROCESSING)}return a}var nu,Al,Jh,Mc,Hb,y2,Yhe;class hpt extends _a{constructor(){super(...arguments);de(this,y2);de(this,nu);de(this,Al);de(this,Jh);de(this,Mc);de(this,Hb,()=>{const{recoveredState:n}=this.props.uppy.getState();if(fe(this,Jh,null),fe(this,Mc,null),n){fe(this,Al,Object.values(n.files).reduce((r,{progress:a})=>r+(a.bytesUploaded||0),0)),this.props.uppy.emit("restore-confirmed");return}fe(this,nu,performance.now()),fe(this,Al,0)});H(this,"startUpload",()=>this.props.uppy.upload().catch(()=>{}))}componentDidMount(){fe(this,nu,performance.now()),fe(this,Al,this.props.uppy.getFiles().reduce((n,r)=>n+(r.progress.bytesUploaded||0),0)),this.props.uppy.on("upload",R(this,Hb))}componentWillUnmount(){this.props.uppy.off("upload",R(this,Hb))}render(){const{capabilities:n,files:r,allowNewUpload:a,totalProgress:i,error:o,recoveredState:l}=this.props.uppy.getState(),{newFiles:c,startedFiles:d,completeFiles:u,isUploadStarted:h,isAllComplete:f,isAllPaused:g,isUploadInProgress:m,isSomeGhost:p}=this.props.uppy.getObjectOfFilesPerState(),x=l?Object.values(r):c,v=!!n.resumableUploads,y=n.uploadProgress!==!1;let j=null,N=0;d.every(S=>S.progress.bytesTotal!=null&&S.progress.bytesTotal!==0)?(j=0,d.forEach(S=>{j+=S.progress.bytesTotal||0,N+=S.progress.bytesUploaded||0})):d.forEach(S=>{N+=S.progress.bytesUploaded||0});const w=je(this,y2,Yhe).call(this,{uploaded:N,total:j});return G(lpt,{error:o,uploadState:upt(o,f,l,r||{}),allowNewUpload:a,totalProgress:i,totalSize:j,totalUploadedSize:N,isAllComplete:f,isAllPaused:g,isUploadStarted:h,isUploadInProgress:m,isSomeGhost:p,recoveredState:l,complete:u.length,newFiles:x.length,numUploads:d.length,totalETA:w,files:r,i18n:this.props.i18n,uppy:this.props.uppy,startUpload:this.startUpload,doneButtonHandler:this.props.doneButtonHandler,resumableUploads:v,supportsUploadProgress:y,hideProgressDetails:this.props.hideProgressDetails,hideUploadButton:this.props.hideUploadButton,hideRetryButton:this.props.hideRetryButton,hidePauseResumeButton:this.props.hidePauseResumeButton,hideCancelButton:this.props.hideCancelButton,hideAfterFinish:this.props.hideAfterFinish})}}nu=new WeakMap,Al=new WeakMap,Jh=new WeakMap,Mc=new WeakMap,Hb=new WeakMap,y2=new WeakSet,Yhe=function(n){if(n.total==null||n.total===0)return null;const r=n.total-n.uploaded;if(r<=0)return null;R(this,nu)??fe(this,nu,performance.now());const a=performance.now()-R(this,nu);if(a===0)return Math.round((R(this,Mc)??0)/100)/10;if(R(this,Al)==null)return fe(this,Al,n.uploaded),null;const i=n.uploaded-R(this,Al);if(fe(this,Al,n.uploaded),i<=0)return Math.round((R(this,Mc)??0)/100)/10;const o=i/a;if(!Number.isFinite(o)||o<=0)return null;const l=R(this,Jh)==null?o:e9(o,R(this,Jh),cpt,a);if(!Number.isFinite(l)||l<=0)return null;fe(this,Jh,l);const c=r/l;if(!Number.isFinite(c)||c<0)return null;const d=Math.max((R(this,Mc)??0)-a,0),u=R(this,Mc)==null?c:e9(c,d,dpt,a);return!Number.isFinite(u)||u<0?null:(fe(this,Mc,u),fe(this,nu,performance.now()),Math.round(u/100)/10)};const K9=900,G9=700,pA=576,Y9=330;function fpt(e){const t=e.totalFileCount===0,n=e.totalFileCount===1,r=e.containerWidth>pA,a=e.containerHeight>Y9,i=al({"uppy-Dashboard":!0,"uppy-Dashboard--isDisabled":e.disabled,"uppy-Dashboard--animateOpenClose":e.animateOpenClose,"uppy-Dashboard--isClosing":e.isClosing,"uppy-Dashboard--isDraggingOver":e.isDraggingOver,"uppy-Dashboard--modal":!e.inline,"uppy-size--md":e.containerWidth>pA,"uppy-size--lg":e.containerWidth>G9,"uppy-size--xl":e.containerWidth>K9,"uppy-size--height-md":e.containerHeight>Y9,"uppy-Dashboard--isAddFilesPanelVisible":e.showAddFilesPanel,"uppy-Dashboard--isInnerWrapVisible":e.areInsidesReadyToBeVisible,"uppy-Dashboard--singleFile":e.singleFileFullScreen&&n&&a});let o=1;e.containerWidth>K9?o=5:e.containerWidth>G9?o=4:e.containerWidth>pA&&(o=3);const l=e.showSelectedFiles&&!t,c=e.recoveredState?Object.keys(e.recoveredState.files).length:null,d=e.files?Object.keys(e.files).filter(f=>e.files[f].isGhost).length:0,u=()=>d>0?e.i18n("recoveredXFiles",{smart_count:d}):e.i18n("recoveredAllFiles");return G("div",{className:i,"data-uppy-theme":e.theme,"data-uppy-num-acquirers":e.acquirers.length,"data-uppy-drag-drop-supported":!e.disableLocalFiles&&jut(),"aria-hidden":e.inline?"false":e.isHidden,"aria-disabled":e.disabled,"aria-label":e.inline?e.i18n("dashboardTitle"):e.i18n("dashboardWindowTitle"),onPaste:e.handlePaste,onDragOver:e.handleDragOver,onDragLeave:e.handleDragLeave,onDrop:e.handleDrop,children:[G("div",{"aria-hidden":"true",className:"uppy-Dashboard-overlay",tabIndex:-1,onClick:e.handleClickOutside}),G("div",{className:"uppy-Dashboard-inner",role:e.inline?void 0:"dialog",style:{width:e.inline&&e.width?e.width:"",height:e.inline&&e.height?e.height:""},children:[e.inline?null:G("button",{className:"uppy-u-reset uppy-Dashboard-close",type:"button","aria-label":e.i18n("closeModal"),title:e.i18n("closeModal"),onClick:e.closeModal,children:G("span",{"aria-hidden":"true",children:""})}),G("div",{className:"uppy-Dashboard-innerWrap",children:[G("div",{className:"uppy-Dashboard-dropFilesHereHint",children:e.i18n("dropHint")}),l&&G(Gmt,{...e}),c&&G("div",{className:"uppy-Dashboard-serviceMsg",children:[G("svg",{className:"uppy-Dashboard-serviceMsg-icon","aria-hidden":"true",focusable:"false",width:"21",height:"16",viewBox:"0 0 24 19",children:G("g",{transform:"translate(0 -1)",fill:"none",fillRule:"evenodd",children:[G("path",{d:"M12.857 1.43l10.234 17.056A1 1 0 0122.234 20H1.766a1 1 0 01-.857-1.514L11.143 1.429a1 1 0 011.714 0z",fill:"#FFD300"}),G("path",{fill:"#000",d:"M11 6h2l-.3 8h-1.4z"}),G("circle",{fill:"#000",cx:"12",cy:"17",r:"1"})]})}),G("strong",{className:"uppy-Dashboard-serviceMsg-title",children:e.i18n("sessionRestored")}),G("div",{className:"uppy-Dashboard-serviceMsg-text",children:u()})]}),l?G(Fmt,{id:e.id,i18n:e.i18n,uppy:e.uppy,files:e.files,resumableUploads:e.resumableUploads,hideRetryButton:e.hideRetryButton,hidePauseResumeButton:e.hidePauseResumeButton,hideCancelButton:e.hideCancelButton,showLinkToFileUploadResult:e.showLinkToFileUploadResult,showRemoveButtonAfterComplete:e.showRemoveButtonAfterComplete,metaFields:e.metaFields,toggleFileCard:e.toggleFileCard,handleRequestThumbnail:e.handleRequestThumbnail,handleCancelThumbnail:e.handleCancelThumbnail,recoveredState:e.recoveredState,individualCancellation:e.individualCancellation,openFileEditor:e.openFileEditor,canEditFile:e.canEditFile,toggleAddFilesPanel:e.toggleAddFilesPanel,isSingleFile:n,itemsPerRow:o,containerWidth:e.containerWidth,containerHeight:e.containerHeight}):G(Vhe,{i18n:e.i18n,i18nArray:e.i18nArray,acquirers:e.acquirers,handleInputChange:e.handleInputChange,maxNumberOfFiles:e.maxNumberOfFiles,allowedFileTypes:e.allowedFileTypes,showNativePhotoCameraButton:e.showNativePhotoCameraButton,showNativeVideoCameraButton:e.showNativeVideoCameraButton,nativeCameraFacingMode:e.nativeCameraFacingMode,showPanel:e.showPanel,activePickerPanel:e.activePickerPanel,disableLocalFiles:e.disableLocalFiles,fileManagerSelectionType:e.fileManagerSelectionType,note:e.note,proudlyDisplayPoweredByUppy:e.proudlyDisplayPoweredByUppy}),G(kN,{children:e.showAddFilesPanel?G(cmt,{...e,isSizeMD:r},"AddFiles"):null}),G(kN,{children:e.fileCardFor?G(ymt,{...e},"FileCard"):null}),G(kN,{children:e.activePickerPanel?G(Hmt,{...e},"Picker"):null}),G(kN,{children:e.showFileEditor?G(dmt,{...e},"Editor"):null}),G("div",{className:"uppy-Dashboard-progressindicators",children:[!e.disableInformer&&G(V9,{uppy:e.uppy}),!e.disableStatusBar&&G(hpt,{uppy:e.uppy,i18n:e.i18n,hideProgressDetails:e.hideProgressDetails,hideUploadButton:e.hideUploadButton,hideRetryButton:e.hideRetryButton,hidePauseResumeButton:e.hidePauseResumeButton,hideCancelButton:e.hideCancelButton,hideAfterFinish:e.hideProgressAfterFinish,doneButtonHandler:e.doneButtonHandler}),!e.disableInformer&&G(V9,{uppy:e.uppy}),e.progressindicators.map(f=>e.uppy.getPlugin(f.id).render(e.state))]})]})]})]})}const mpt={strings:{closeModal:"Close Modal",addMoreFiles:"Add more files",addingMoreFiles:"Adding more files",importFrom:"Import from %{name}",dashboardWindowTitle:"Uppy Dashboard Window (Press escape to close)",dashboardTitle:"Uppy Dashboard",copyLinkToClipboardSuccess:"Link copied to clipboard.",copyLinkToClipboardFallback:"Copy the URL below",copyLink:"Copy link",back:"Back",removeFile:"Remove file",editFile:"Edit file",editImage:"Edit image",editing:"Editing %{file}",error:"Error",finishEditingFile:"Finish editing file",saveChanges:"Save changes",myDevice:"My Device",dropHint:"Drop your files here",uploadComplete:"Upload complete",uploadPaused:"Upload paused",resumeUpload:"Resume upload",pauseUpload:"Pause upload",retryUpload:"Retry upload",cancelUpload:"Cancel upload",xFilesSelected:{0:"%{smart_count} file selected",1:"%{smart_count} files selected"},uploadingXFiles:{0:"Uploading %{smart_count} file",1:"Uploading %{smart_count} files"},processingXFiles:{0:"Processing %{smart_count} file",1:"Processing %{smart_count} files"},poweredBy:"Powered by %{uppy}",addMore:"Add more",editFileWithFilename:"Edit file %{file}",save:"Save",cancel:"Cancel",dropPasteFiles:"Drop files here or %{browseFiles}",dropPasteFolders:"Drop files here or %{browseFolders}",dropPasteBoth:"Drop files here, %{browseFiles} or %{browseFolders}",dropPasteImportFiles:"Drop files here, %{browseFiles} or import from:",dropPasteImportFolders:"Drop files here, %{browseFolders} or import from:",dropPasteImportBoth:"Drop files here, %{browseFiles}, %{browseFolders} or import from:",importFiles:"Import files from:",browseFiles:"browse files",browseFolders:"browse folders",recoveredXFiles:{0:"We could not fully recover 1 file. Please re-select it and resume the upload.",1:"We could not fully recover %{smart_count} files. Please re-select them and resume the upload."},recoveredAllFiles:"We restored all files. You can now resume the upload.",sessionRestored:"Session restored",reSelect:"Re-select",missingRequiredMetaFields:{0:"Missing required meta field: %{fields}.",1:"Missing required meta fields: %{fields}."},takePictureBtn:"Take Picture",recordVideoBtn:"Record Video",uploading:"Uploading",complete:"Complete",uploadFailed:"Upload failed",paused:"Paused",retry:"Retry",pause:"Pause",resume:"Resume",done:"Done",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded"},dataUploadedOfTotal:"%{complete} of %{total}",dataUploadedOfUnknown:"%{complete} of unknown",xTimeLeft:"%{time} left",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"},upload:"Upload",xMoreFilesAdded:{0:"%{smart_count} more file added",1:"%{smart_count} more files added"},showErrorDetails:"Show error details"}};function Xhe(e,t){if(t){const n=e.querySelector(`[data-uppy-paneltype="${t}"]`);if(n)return n}return e}function ppt(){let e=!1;return h3e((n,r)=>{const a=Xhe(n,r),i=a.contains(document.activeElement);if(i&&e)return;const o=a.querySelector("[data-uppy-super-focusable]");if(!(i&&!o))if(o)o.focus({preventScroll:!0}),e=!0;else{const l=a.querySelector(Kue);l==null||l.focus({preventScroll:!0}),e=!1}},260)}function X9(e,t){const n=t[0];n&&(n.focus(),e.preventDefault())}function gpt(e,t){const n=t[t.length-1];n&&(n.focus(),e.preventDefault())}function vpt(e){return e.contains(document.activeElement)}function Qhe(e,t,n){const r=Xhe(n,t),a=Ty(r.querySelectorAll(Kue)),i=a.indexOf(document.activeElement);vpt(r)?e.shiftKey&&i===0?gpt(e,a):!e.shiftKey&&i===a.length-1&&X9(e,a):X9(e,a)}function xpt(e,t,n){t===null||Qhe(e,t,n)}const Q9=9,ypt=27;function Z9(){const e={};return e.promise=new Promise((t,n)=>{e.resolve=t,e.reject=n}),e}const bpt={target:"body",metaFields:[],thumbnailWidth:280,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,defaultPickerIcon:tft,showLinkToFileUploadResult:!1,hideProgressDetails:!1,hideUploadButton:!1,hideCancelButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideProgressAfterFinish:!1,note:null,singleFileFullScreen:!0,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,fileManagerSelectionType:"files",proudlyDisplayPoweredByUppy:!0,showSelectedFiles:!0,showRemoveButtonAfterComplete:!1,showNativePhotoCameraButton:!1,showNativeVideoCameraButton:!1,theme:"light",autoOpen:null,disabled:!1,disableLocalFiles:!1,nativeCameraFacingMode:"",onDragLeave:()=>{},onDragOver:()=>{},onDrop:()=>{},plugins:[],doneButtonHandler:void 0,onRequestCloseModal:null,inline:!1,animateOpenClose:!0,browserBackButtonClose:!1,closeAfterFinish:!1,closeModalOnClickOutside:!1,disablePageScrollWhenModalOpen:!0,trigger:null,width:750,height:550};var zp,ef,qb,Bp,b2,j2,w2,tf,N2,S2,Up,Hu,zM,BM;class Zhe extends r2{constructor(n,r){var i;const a=(r==null?void 0:r.autoOpen)??null;super(n,{...bpt,...r,autoOpen:a});de(this,Hu);de(this,zp);H(this,"modalName",`uppy-Dashboard-${Uhe()}`);H(this,"superFocus",ppt());H(this,"ifFocusedOnUppyRecently",!1);H(this,"dashboardIsDisabled");H(this,"savedScrollPosition");H(this,"savedActiveElement");H(this,"resizeObserver");H(this,"darkModeMediaQuery");H(this,"makeDashboardInsidesVisibleAnywayTimeout");H(this,"removeTarget",n=>{const a=this.getPluginState().targets.filter(i=>i.id!==n.id);this.setPluginState({targets:a})});H(this,"addTarget",n=>{const r=n.id||n.constructor.name,a=n.title||r,i=n.type;if(i!=="acquirer"&&i!=="progressindicator"&&i!=="editor")return this.uppy.log("Dashboard: can only be targeted by plugins of types: acquirer, progressindicator, editor","error"),null;const o={id:r,name:a,type:i},c=this.getPluginState().targets.slice();return c.push(o),this.setPluginState({targets:c}),this.el});H(this,"hideAllPanels",()=>{var a;const n=this.getPluginState(),r={activePickerPanel:void 0,showAddFilesPanel:!1,activeOverlayType:null,fileCardFor:null,showFileEditor:!1};n.activePickerPanel===r.activePickerPanel&&n.showAddFilesPanel===r.showAddFilesPanel&&n.showFileEditor===r.showFileEditor&&n.activeOverlayType===r.activeOverlayType||(this.setPluginState(r),this.uppy.emit("dashboard:close-panel",(a=n.activePickerPanel)==null?void 0:a.id))});H(this,"showPanel",n=>{const{targets:r}=this.getPluginState(),a=r.find(i=>i.type==="acquirer"&&i.id===n);this.setPluginState({activePickerPanel:a,activeOverlayType:"PickerPanel"}),this.uppy.emit("dashboard:show-panel",n)});H(this,"canEditFile",n=>{const{targets:r}=this.getPluginState();return R(this,tf).call(this,r).some(i=>this.uppy.getPlugin(i.id).canEditFile(n))});H(this,"openFileEditor",n=>{const{targets:r}=this.getPluginState(),a=R(this,tf).call(this,r);this.setPluginState({showFileEditor:!0,fileCardFor:n.id||null,activeOverlayType:"FileEditor"}),a.forEach(i=>{this.uppy.getPlugin(i.id).selectFile(n)})});H(this,"closeFileEditor",()=>{const{metaFields:n}=this.getPluginState();n&&n.length>0?this.setPluginState({showFileEditor:!1,activeOverlayType:"FileCard"}):this.setPluginState({showFileEditor:!1,fileCardFor:null,activeOverlayType:"AddFiles"})});H(this,"saveFileEditor",()=>{const{targets:n}=this.getPluginState();R(this,tf).call(this,n).forEach(a=>{this.uppy.getPlugin(a.id).save()}),this.closeFileEditor()});H(this,"openModal",()=>{const{promise:n,resolve:r}=Z9();if(this.savedScrollPosition=window.pageYOffset,this.savedActiveElement=document.activeElement,this.opts.disablePageScrollWhenModalOpen&&document.body.classList.add("uppy-Dashboard-isFixed"),this.opts.animateOpenClose&&this.getPluginState().isClosing){const a=()=>{this.setPluginState({isHidden:!1}),this.el.removeEventListener("animationend",a,!1),r()};this.el.addEventListener("animationend",a,!1)}else this.setPluginState({isHidden:!1}),r();return this.opts.browserBackButtonClose&&this.updateBrowserHistory(),document.addEventListener("keydown",this.handleKeyDownInModal),this.uppy.emit("dashboard:modal-open"),n});H(this,"closeModal",n=>{var c;const r=(n==null?void 0:n.manualClose)??!0,{isHidden:a,isClosing:i}=this.getPluginState();if(a||i)return;const{promise:o,resolve:l}=Z9();if(this.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),this.opts.animateOpenClose){this.setPluginState({isClosing:!0});const d=()=>{this.setPluginState({isHidden:!0,isClosing:!1}),this.superFocus.cancel(),this.savedActiveElement.focus(),this.el.removeEventListener("animationend",d,!1),l()};this.el.addEventListener("animationend",d,!1)}else this.setPluginState({isHidden:!0}),this.superFocus.cancel(),this.savedActiveElement.focus(),l();return document.removeEventListener("keydown",this.handleKeyDownInModal),r&&this.opts.browserBackButtonClose&&(c=history.state)!=null&&c[this.modalName]&&history.back(),this.uppy.emit("dashboard:modal-closed"),o});H(this,"isModalOpen",()=>!this.getPluginState().isHidden||!1);H(this,"requestCloseModal",()=>this.opts.onRequestCloseModal?this.opts.onRequestCloseModal():this.closeModal());H(this,"setDarkModeCapability",n=>{const{capabilities:r}=this.uppy.getState();this.uppy.setState({capabilities:{...r,darkMode:n}})});H(this,"handleSystemDarkModeChange",n=>{const r=n.matches;this.uppy.log(`[Dashboard] Dark mode is ${r?"on":"off"}`),this.setDarkModeCapability(r)});H(this,"toggleFileCard",(n,r)=>{const a=this.uppy.getFile(r);n?this.uppy.emit("dashboard:file-edit-start",a):this.uppy.emit("dashboard:file-edit-complete",a),this.setPluginState({fileCardFor:n?r:null,activeOverlayType:n?"FileCard":null})});H(this,"toggleAddFilesPanel",n=>{this.setPluginState({showAddFilesPanel:n,activeOverlayType:n?"AddFiles":null})});H(this,"addFiles",n=>{const r=n.map(a=>({source:this.id,name:a.name,type:a.type,data:a,meta:{relativePath:a.relativePath||a.webkitRelativePath||null}}));try{this.uppy.addFiles(r)}catch(a){this.uppy.log(a)}});H(this,"startListeningToResize",()=>{this.resizeObserver=new ResizeObserver(n=>{const r=n[0],{width:a,height:i}=r.contentRect;this.setPluginState({containerWidth:a,containerHeight:i,areInsidesReadyToBeVisible:!0})}),this.resizeObserver.observe(this.el.querySelector(".uppy-Dashboard-inner")),this.makeDashboardInsidesVisibleAnywayTimeout=setTimeout(()=>{const n=this.getPluginState(),r=!this.opts.inline&&n.isHidden;!n.areInsidesReadyToBeVisible&&!r&&(this.uppy.log("[Dashboard] resize event didnt fire on time: defaulted to mobile layout","warning"),this.setPluginState({areInsidesReadyToBeVisible:!0}))},1e3)});H(this,"stopListeningToResize",()=>{this.resizeObserver.disconnect(),clearTimeout(this.makeDashboardInsidesVisibleAnywayTimeout)});H(this,"recordIfFocusedOnUppyRecently",n=>{this.el.contains(n.target)?this.ifFocusedOnUppyRecently=!0:(this.ifFocusedOnUppyRecently=!1,this.superFocus.cancel())});H(this,"disableInteractiveElements",n=>{const r=["a[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])",'[role="button"]:not([disabled])'],a=R(this,zp)??Ty(this.el.querySelectorAll(r)).filter(i=>!i.classList.contains("uppy-Dashboard-close"));for(const i of a)i.tagName==="A"?i.setAttribute("aria-disabled",n):i.disabled=n;n?fe(this,zp,a):fe(this,zp,null),this.dashboardIsDisabled=n});H(this,"updateBrowserHistory",()=>{var n;(n=history.state)!=null&&n[this.modalName]||history.pushState({...history.state,[this.modalName]:!0},""),window.addEventListener("popstate",this.handlePopState,!1)});H(this,"handlePopState",n=>{var r;this.isModalOpen()&&(!n.state||!n.state[this.modalName])&&this.closeModal({manualClose:!1}),!this.isModalOpen()&&((r=n.state)!=null&&r[this.modalName])&&history.back()});H(this,"handleKeyDownInModal",n=>{n.keyCode===ypt&&this.requestCloseModal(),n.keyCode===Q9&&Qhe(n,this.getPluginState().activeOverlayType,this.el)});H(this,"handleClickOutside",()=>{this.opts.closeModalOnClickOutside&&this.requestCloseModal()});H(this,"handlePaste",n=>{this.uppy.iteratePlugins(a=>{var i;a.type==="acquirer"&&((i=a.handleRootPaste)==null||i.call(a,n))});const r=Ty(n.clipboardData.files);r.length>0&&(this.uppy.log("[Dashboard] Files pasted"),this.addFiles(r))});H(this,"handleInputChange",n=>{n.preventDefault();const r=Ty(n.currentTarget.files||[]);r.length>0&&(this.uppy.log("[Dashboard] Files selected through input"),this.addFiles(r))});H(this,"handleDragOver",n=>{n.preventDefault(),n.stopPropagation();const r=()=>{let l=!0;return this.uppy.iteratePlugins(c=>{var d;(d=c.canHandleRootDrop)!=null&&d.call(c,n)&&(l=!0)}),l},a=()=>{const{types:l}=n.dataTransfer;return l.some(c=>c==="Files")},i=r(),o=a();if(!i&&!o||this.opts.disabled||this.opts.disableLocalFiles&&(o||!i)||!this.uppy.getState().allowNewUpload){n.dataTransfer.dropEffect="none";return}n.dataTransfer.dropEffect="copy",this.setPluginState({isDraggingOver:!0}),this.opts.onDragOver(n)});H(this,"handleDragLeave",n=>{n.preventDefault(),n.stopPropagation(),this.setPluginState({isDraggingOver:!1}),this.opts.onDragLeave(n)});H(this,"handleDrop",async n=>{n.preventDefault(),n.stopPropagation(),this.setPluginState({isDraggingOver:!1}),this.uppy.iteratePlugins(o=>{var l;o.type==="acquirer"&&((l=o.handleRootDrop)==null||l.call(o,n))});let r=!1;const a=o=>{this.uppy.log(o,"error"),r||(this.uppy.info(o.message,"error"),r=!0)};this.uppy.log("[Dashboard] Processing dropped files");const i=await xut(n.dataTransfer,{logDropError:a});i.length>0&&(this.uppy.log("[Dashboard] Files dropped"),this.addFiles(i)),this.opts.onDrop(n)});H(this,"handleRequestThumbnail",n=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:request",n)});H(this,"handleCancelThumbnail",n=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:cancel",n)});H(this,"handleKeyDownInInline",n=>{n.keyCode===Q9&&xpt(n,this.getPluginState().activeOverlayType,this.el)});H(this,"handlePasteOnBody",n=>{this.el.contains(document.activeElement)&&this.handlePaste(n)});H(this,"handleComplete",({failed:n})=>{this.opts.closeAfterFinish&&!(n!=null&&n.length)&&this.requestCloseModal()});H(this,"handleCancelRestore",()=>{this.uppy.emit("restore-canceled")});de(this,ef,()=>{if(this.opts.disableThumbnailGenerator)return;const n=600,r=this.uppy.getFiles();if(r.length===1){const a=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);a==null||a.setOptions({thumbnailWidth:n});const i={...r[0],preview:void 0};a==null||a.requestThumbnail(i).then(()=>{a==null||a.setOptions({thumbnailWidth:this.opts.thumbnailWidth})})}});de(this,qb,n=>{const r=n[0],{metaFields:a}=this.getPluginState(),i=a&&a.length>0,o=this.canEditFile(r);i&&this.opts.autoOpen==="metaEditor"?this.toggleFileCard(!0,r.id):o&&this.opts.autoOpen==="imageEditor"&&this.openFileEditor(r)});H(this,"initEvents",()=>{if(this.opts.trigger&&!this.opts.inline){const n=t9(this.opts.trigger);n?n.forEach(r=>r.addEventListener("click",this.openModal)):this.uppy.log("Dashboard modal trigger not found. Make sure `trigger` is set in Dashboard options, unless you are planning to call `dashboard.openModal()` method yourself","warning")}this.startListeningToResize(),document.addEventListener("paste",this.handlePasteOnBody),this.uppy.on("plugin-added",R(this,Up)),this.uppy.on("plugin-remove",this.removeTarget),this.uppy.on("file-added",this.hideAllPanels),this.uppy.on("dashboard:modal-closed",this.hideAllPanels),this.uppy.on("complete",this.handleComplete),this.uppy.on("files-added",R(this,ef)),this.uppy.on("file-removed",R(this,ef)),document.addEventListener("focus",this.recordIfFocusedOnUppyRecently,!0),document.addEventListener("click",this.recordIfFocusedOnUppyRecently,!0),this.opts.inline&&this.el.addEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpen&&this.uppy.on("files-added",R(this,qb))});H(this,"removeEvents",()=>{const n=t9(this.opts.trigger);!this.opts.inline&&n&&n.forEach(r=>r.removeEventListener("click",this.openModal)),this.stopListeningToResize(),document.removeEventListener("paste",this.handlePasteOnBody),window.removeEventListener("popstate",this.handlePopState,!1),this.uppy.off("plugin-added",R(this,Up)),this.uppy.off("plugin-remove",this.removeTarget),this.uppy.off("file-added",this.hideAllPanels),this.uppy.off("dashboard:modal-closed",this.hideAllPanels),this.uppy.off("complete",this.handleComplete),this.uppy.off("files-added",R(this,ef)),this.uppy.off("file-removed",R(this,ef)),document.removeEventListener("focus",this.recordIfFocusedOnUppyRecently),document.removeEventListener("click",this.recordIfFocusedOnUppyRecently),this.opts.inline&&this.el.removeEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpen&&this.uppy.off("files-added",R(this,qb))});H(this,"superFocusOnEachUpdate",()=>{const n=this.el.contains(document.activeElement),r=document.activeElement===document.body||document.activeElement===null,a=this.uppy.getState().info.length===0,i=!this.opts.inline;a&&(i||n||r&&this.ifFocusedOnUppyRecently)?this.superFocus(this.el,this.getPluginState().activeOverlayType):this.superFocus.cancel()});H(this,"afterUpdate",()=>{if(this.opts.disabled&&!this.dashboardIsDisabled){this.disableInteractiveElements(!0);return}!this.opts.disabled&&this.dashboardIsDisabled&&this.disableInteractiveElements(!1),this.superFocusOnEachUpdate()});H(this,"saveFileCard",(n,r)=>{this.uppy.setFileMeta(r,n),this.toggleFileCard(!1,r)});de(this,Bp,n=>{const r=this.uppy.getPlugin(n.id);return{...n,icon:r.icon||this.opts.defaultPickerIcon,render:r.render}});de(this,b2,n=>{const r=this.uppy.getPlugin(n.id);return typeof r.isSupported!="function"?!0:r.isSupported()});de(this,j2,n=>n.filter(r=>r.type==="acquirer"&&R(this,b2).call(this,r)).map(R(this,Bp)));de(this,w2,n=>n.filter(r=>r.type==="progressindicator").map(R(this,Bp)));de(this,tf,n=>n.filter(r=>r.type==="editor").map(R(this,Bp)));H(this,"render",n=>{const r=this.getPluginState(),{files:a,capabilities:i,allowNewUpload:o}=n,{newFiles:l,uploadStartedFiles:c,completeFiles:d,erroredFiles:u,inProgressFiles:h,inProgressNotPausedFiles:f,processingFiles:g,isUploadStarted:m,isAllComplete:p,isAllPaused:x}=this.uppy.getObjectOfFilesPerState(),v=R(this,j2).call(this,r.targets),y=R(this,w2).call(this,r.targets),j=R(this,tf).call(this,r.targets);let N;return this.opts.theme==="auto"?N=i.darkMode?"dark":"light":N=this.opts.theme,["files","folders","both"].indexOf(this.opts.fileManagerSelectionType)<0&&(this.opts.fileManagerSelectionType="files",console.warn(`Unsupported option for "fileManagerSelectionType". Using default of "${this.opts.fileManagerSelectionType}".`)),fpt({state:n,isHidden:r.isHidden,files:a,newFiles:l,uploadStartedFiles:c,completeFiles:d,erroredFiles:u,inProgressFiles:h,inProgressNotPausedFiles:f,processingFiles:g,isUploadStarted:m,isAllComplete:p,isAllPaused:x,totalFileCount:Object.keys(a).length,totalProgress:n.totalProgress,allowNewUpload:o,acquirers:v,theme:N,disabled:this.opts.disabled,disableLocalFiles:this.opts.disableLocalFiles,direction:this.opts.direction,activePickerPanel:r.activePickerPanel,showFileEditor:r.showFileEditor,saveFileEditor:this.saveFileEditor,closeFileEditor:this.closeFileEditor,disableInteractiveElements:this.disableInteractiveElements,animateOpenClose:this.opts.animateOpenClose,isClosing:r.isClosing,progressindicators:y,editors:j,autoProceed:this.uppy.opts.autoProceed,id:this.id,closeModal:this.requestCloseModal,handleClickOutside:this.handleClickOutside,handleInputChange:this.handleInputChange,handlePaste:this.handlePaste,inline:this.opts.inline,showPanel:this.showPanel,hideAllPanels:this.hideAllPanels,i18n:this.i18n,i18nArray:this.i18nArray,uppy:this.uppy,note:this.opts.note,recoveredState:n.recoveredState,metaFields:r.metaFields,resumableUploads:i.resumableUploads||!1,individualCancellation:i.individualCancellation,isMobileDevice:i.isMobileDevice,fileCardFor:r.fileCardFor,toggleFileCard:this.toggleFileCard,toggleAddFilesPanel:this.toggleAddFilesPanel,showAddFilesPanel:r.showAddFilesPanel,saveFileCard:this.saveFileCard,openFileEditor:this.openFileEditor,canEditFile:this.canEditFile,width:this.opts.width,height:this.opts.height,showLinkToFileUploadResult:this.opts.showLinkToFileUploadResult,fileManagerSelectionType:this.opts.fileManagerSelectionType,proudlyDisplayPoweredByUppy:this.opts.proudlyDisplayPoweredByUppy,showRemoveButtonAfterComplete:this.opts.showRemoveButtonAfterComplete,containerWidth:r.containerWidth,containerHeight:r.containerHeight,areInsidesReadyToBeVisible:r.areInsidesReadyToBeVisible,parentElement:this.el,allowedFileTypes:this.uppy.opts.restrictions.allowedFileTypes,maxNumberOfFiles:this.uppy.opts.restrictions.maxNumberOfFiles,requiredMetaFields:this.uppy.opts.restrictions.requiredMetaFields,showSelectedFiles:this.opts.showSelectedFiles,showNativePhotoCameraButton:this.opts.showNativePhotoCameraButton,showNativeVideoCameraButton:this.opts.showNativeVideoCameraButton,nativeCameraFacingMode:this.opts.nativeCameraFacingMode,singleFileFullScreen:this.opts.singleFileFullScreen,handleCancelRestore:this.handleCancelRestore,handleRequestThumbnail:this.handleRequestThumbnail,handleCancelThumbnail:this.handleCancelThumbnail,isDraggingOver:r.isDraggingOver,handleDragOver:this.handleDragOver,handleDragLeave:this.handleDragLeave,handleDrop:this.handleDrop,disableInformer:this.opts.disableInformer,disableStatusBar:this.opts.disableStatusBar,hideProgressDetails:this.opts.hideProgressDetails,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,hideProgressAfterFinish:this.opts.hideProgressAfterFinish,doneButtonHandler:this.opts.doneButtonHandler})});de(this,N2,()=>{const{plugins:n}=this.opts;n.forEach(r=>{const a=this.uppy.getPlugin(r);a?a.mount(this,a):this.uppy.log(`[Uppy] Dashboard could not find plugin '${r}', make sure to uppy.use() the plugins you are specifying`,"warning")})});de(this,S2,()=>{this.uppy.iteratePlugins(R(this,Up))});de(this,Up,n=>{var a;const r=["acquirer","editor"];n&&!((a=n.opts)!=null&&a.target)&&r.includes(n.type)&&(this.getPluginState().targets.some(o=>n.id===o.id)||n.mount(this,n))});H(this,"install",()=>{var c;this.setPluginState({isHidden:!0,fileCardFor:null,activeOverlayType:null,showAddFilesPanel:!1,activePickerPanel:void 0,showFileEditor:!1,metaFields:this.opts.metaFields,targets:[],areInsidesReadyToBeVisible:!1,isDraggingOver:!1});const{inline:n,closeAfterFinish:r}=this.opts;if(n&&r)throw new Error("[Dashboard] `closeAfterFinish: true` cannot be used on an inline Dashboard, because an inline Dashboard cannot be closed at all. Either set `inline: false`, or disable the `closeAfterFinish` option.");const{allowMultipleUploads:a,allowMultipleUploadBatches:i}=this.uppy.opts;(a||i)&&r&&this.uppy.log("[Dashboard] When using `closeAfterFinish`, we recommended setting the `allowMultipleUploadBatches` option to `false` in the Uppy constructor. See https://uppy.io/docs/uppy/#allowMultipleUploads-true","warning");const{target:o}=this.opts;o&&this.mount(o,this),this.opts.disableThumbnailGenerator||this.uppy.use(Bhe,{id:je(this,Hu,BM).call(this),...je(this,Hu,zM).call(this)}),this.darkModeMediaQuery=typeof window<"u"&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null;const l=this.darkModeMediaQuery?this.darkModeMediaQuery.matches:!1;this.uppy.log(`[Dashboard] Dark mode is ${l?"on":"off"}`),this.setDarkModeCapability(l),this.opts.theme==="auto"&&((c=this.darkModeMediaQuery)==null||c.addListener(this.handleSystemDarkModeChange)),R(this,N2).call(this),R(this,S2).call(this),this.initEvents()});H(this,"uninstall",()=>{var r;if(!this.opts.disableThumbnailGenerator){const a=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);a&&this.uppy.removePlugin(a)}const{plugins:n}=this.opts;n.forEach(a=>{const i=this.uppy.getPlugin(a);i&&i.unmount()}),this.opts.theme==="auto"&&((r=this.darkModeMediaQuery)==null||r.removeListener(this.handleSystemDarkModeChange)),this.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),this.unmount(),this.removeEvents()});this.id=this.opts.id||"Dashboard",this.title="Dashboard",this.type="orchestrator",this.defaultLocale=mpt,this.opts.doneButtonHandler===void 0&&(this.opts.doneButtonHandler=()=>{this.uppy.clear(),this.requestCloseModal()}),(i=this.opts).onRequestCloseModal??(i.onRequestCloseModal=()=>this.closeModal()),this.i18nInit()}setOptions(n){var r;super.setOptions(n),(r=this.uppy.getPlugin(je(this,Hu,BM).call(this)))==null||r.setOptions(je(this,Hu,zM).call(this))}}zp=new WeakMap,ef=new WeakMap,qb=new WeakMap,Bp=new WeakMap,b2=new WeakMap,j2=new WeakMap,w2=new WeakMap,tf=new WeakMap,N2=new WeakMap,S2=new WeakMap,Up=new WeakMap,Hu=new WeakSet,zM=function(){const{thumbnailWidth:n,thumbnailHeight:r,thumbnailType:a,waitForThumbnailsBeforeUpload:i}=this.opts;return{thumbnailWidth:n,thumbnailHeight:r,thumbnailType:a,waitForThumbnailsBeforeUpload:i,lazy:!i}},BM=function(){return`${this.id}:ThumbnailGenerator`},H(Zhe,"VERSION",lmt.version);const jpt=["defaultChecked","defaultValue","suppressContentEditableWarning","suppressHydrationWarning","dangerouslySetInnerHTML","accessKey","className","contentEditable","contextMenu","dir","draggable","hidden","id","lang","placeholder","slot","spellCheck","style","tabIndex","title","translate","radioGroup","role","about","datatype","inlist","prefix","property","resource","typeof","vocab","autoCapitalize","autoCorrect","autoSave","color","itemProp","itemScope","itemType","itemID","itemRef","results","security","unselectable","inputMode","is","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],wpt=/^(aria-|data-)/,Jhe=e=>Object.fromEntries(Object.entries(e).filter(([t])=>wpt.test(t)||jpt.includes(t)));function Npt(e,t){const n=Jhe(e);return Object.keys(e).some(r=>!Object.hasOwn(n,r)&&e[r]!==t[r])}class efe extends b.Component{constructor(){super(...arguments);H(this,"container");H(this,"plugin")}componentDidMount(){this.installPlugin()}componentDidUpdate(n){const{uppy:r,open:a,onRequestClose:i}=this.props;if(n.uppy!==r)this.uninstallPlugin(n),this.installPlugin();else if(Npt(this.props,n)){const{uppy:o,...l}={...this.props,inline:!1,onRequestCloseModal:i};this.plugin.setOptions(l)}n.open&&!a?this.plugin.closeModal():!n.open&&a&&this.plugin.openModal()}componentWillUnmount(){this.uninstallPlugin()}installPlugin(){const{target:n=this.container,open:r,onRequestClose:a,uppy:i,...o}=this.props,l={id:"DashboardModal",...o,inline:!1,target:n,open:r,onRequestCloseModal:a};i.use(Zhe,l),this.plugin=i.getPlugin(l.id),r&&this.plugin.openModal()}uninstallPlugin(n=this.props){const{uppy:r}=n;r.removePlugin(this.plugin)}render(){return b.createElement("div",{className:"uppy-Container",ref:n=>{this.container=n},...Jhe(this.props)})}}H(efe,"defaultProps",{open:void 0,onRequestClose:void 0});var tfe={};function io(e,t){typeof t=="boolean"&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var Spt=io;io.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};io.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};io.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=new Date().getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var n=this._timeouts.shift();if(n===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),n=this._cachedTimeouts.slice(-1);else return!1;var r=this;return this._timer=setTimeout(function(){r._attempts++,r._operationTimeoutCb&&(r._timeout=setTimeout(function(){r._operationTimeoutCb(r._attempts)},r._operationTimeout),r._options.unref&&r._timeout.unref()),r._fn(r._attempts)},n),this._options.unref&&this._timer.unref(),!0};io.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var n=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){n._operationTimeoutCb()},n._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};io.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)};io.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)};io.prototype.start=io.prototype.try;io.prototype.errors=function(){return this._errors};io.prototype.attempts=function(){return this._attempts};io.prototype.mainError=function(){if(this._errors.length===0)return null;for(var e={},t=null,n=0,r=0;r<this._errors.length;r++){var a=this._errors[r],i=a.message,o=(e[i]||0)+1;e[i]=o,o>=n&&(t=a,n=o)}return t};(function(e){var t=Spt;e.operation=function(n){var r=e.timeouts(n);return new t(r,{forever:n&&(n.forever||n.retries===1/0),unref:n&&n.unref,maxRetryTime:n&&n.maxRetryTime})},e.timeouts=function(n){if(n instanceof Array)return[].concat(n);var r={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var a in n)r[a]=n[a];if(r.minTimeout>r.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var i=[],o=0;o<r.retries;o++)i.push(this.createTimeout(o,r));return n&&n.forever&&!i.length&&i.push(this.createTimeout(o,r)),i.sort(function(l,c){return l-c}),i},e.createTimeout=function(n,r){var a=r.randomize?Math.random()+1:1,i=Math.round(a*Math.max(r.minTimeout,1)*Math.pow(r.factor,n));return i=Math.min(i,r.maxTimeout),i},e.wrap=function(n,r,a){if(r instanceof Array&&(a=r,r=null),!a){a=[];for(var i in n)typeof n[i]=="function"&&a.push(i)}for(var o=0;o<a.length;o++){var l=a[o],c=n[l];n[l]=(function(u){var h=e.operation(r),f=Array.prototype.slice.call(arguments,1),g=f.pop();f.push(function(m){h.retry(m)||(m&&(arguments[0]=h.mainError()),g.apply(this,arguments))}),h.attempt(function(){u.apply(n,f)})}).bind(n,c),n[l].options=r}}})(tfe);var Cpt=tfe;const kpt=Tt(Cpt),_pt=Object.prototype.toString,Ppt=e=>_pt.call(e)==="[object Error]",Tpt=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Load failed","Network request failed","fetch failed","terminated"]);function Apt(e){return e&&Ppt(e)&&e.name==="TypeError"&&typeof e.message=="string"?e.message==="Load failed"?e.stack===void 0:Tpt.has(e.message):!1}class UM extends Error{constructor(t){super(),t instanceof Error?(this.originalError=t,{message:t}=t):(this.originalError=new Error(t),this.originalError.stack=this.stack),this.name="AbortError",this.message=t}}const J9=(e,t,n)=>{const r=n.retries-(t-1);return e.attemptNumber=t,e.retriesLeft=r,e};async function e7(e,t){return new Promise((n,r)=>{t={...t},t.onFailedAttempt??(t.onFailedAttempt=()=>{}),t.shouldRetry??(t.shouldRetry=()=>!0),t.retries??(t.retries=10);const a=kpt.operation(t),i=()=>{var l;a.stop(),r((l=t.signal)==null?void 0:l.reason)};t.signal&&!t.signal.aborted&&t.signal.addEventListener("abort",i,{once:!0});const o=()=>{var l;(l=t.signal)==null||l.removeEventListener("abort",i),a.stop()};a.attempt(async l=>{try{const c=await e(l);o(),n(c)}catch(c){try{if(!(c instanceof Error))throw new TypeError(`Non-error was thrown: "${c}". You should only throw errors.`);if(c instanceof UM)throw c.originalError;if(c instanceof TypeError&&!Apt(c))throw c;if(J9(c,l,t),await t.shouldRetry(c)||(a.stop(),r(c)),await t.onFailedAttempt(c),!a.retry(c))throw a.mainError()}catch(d){J9(d,l,t),o(),r(d)}}})})}const Ept="@uppy/companion-client",Dpt="Client library for communication with Companion. Intended for use in Uppy plugins.",Opt="5.0.0",Mpt="MIT",Rpt="lib/index.js",$pt="module",Ipt=!1,Fpt={build:"tsc --build tsconfig.build.json",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},Lpt=["file uploader","uppy","uppy-plugin","companion","provider"],zpt="https://uppy.io",Bpt={url:"https://github.com/transloadit/uppy/issues"},Upt={type:"git",url:"git+https://github.com/transloadit/uppy.git"},Vpt=["src","lib","dist","CHANGELOG.md"],Wpt={".":"./lib/index.js","./package.json":"./package.json"},Hpt={"@uppy/utils":"^7.0.0","namespace-emitter":"^2.0.1","p-retry":"^6.1.0"},qpt={jsdom:"^26.1.0",typescript:"^5.8.3",vitest:"^3.2.4"},Kpt={"@uppy/core":"^5.0.0"},Gpt={name:Ept,description:Dpt,version:Opt,license:Mpt,main:Rpt,type:$pt,sideEffects:Ipt,scripts:Fpt,keywords:Lpt,homepage:zpt,bugs:Bpt,repository:Upt,files:Vpt,exports:Wpt,dependencies:Hpt,devDependencies:qpt,peerDependencies:Kpt};class Ypt extends Error{constructor(){super("Authorization required");H(this,"isAuthError");this.name="AuthError",this.isAuthError=!0}}function Xpt(e){return e.replace(/\/$/,"")}const t7=10,Qpt=5*60*1e3,Zpt=401;class Jpt extends Error{constructor({statusCode:n,message:r}){super(r);H(this,"statusCode");this.name="HttpError",this.statusCode=n}}async function egt(e){if(e.status===Zpt)throw new Ypt;if(e.ok)return e.json();let t=`Failed request with status: ${e.status}. ${e.statusText}`,n;try{n=await e.json(),n.message&&(t=`${t} message: ${n.message}`),n.requestId&&(t=`${t} request-Id: ${n.requestId}`)}catch(r){throw new Error(t,{cause:r})}throw e.status>=400&&e.status<=499&&n.message?new Put(n.message):new Jpt({statusCode:e.status,message:t})}function tgt(e,t,n){const{progress:r,bytesUploaded:a,bytesTotal:i}=t;r&&(e.uppy.log(`Upload progress: ${r}`),e.uppy.emit("upload-progress",n,{uploadStarted:n.progress.uploadStarted??0,bytesUploaded:a,bytesTotal:i}))}var nf,qu,VM,C2,WM;class nfe{constructor(t,n){de(this,qu);de(this,nf);H(this,"uppy");H(this,"opts");de(this,C2,async({file:t,postBody:n,signal:r})=>{var i;if(((i=t.remote)==null?void 0:i.url)==null)throw new Error("Cannot connect to an undefined URL");return(await this.post(t.remote.url,{...t.remote.body,...n},{signal:r})).token});this.uppy=t,this.opts=n,this.onReceiveResponse=this.onReceiveResponse.bind(this),fe(this,nf,n.companionHeaders)}setCompanionHeaders(t){fe(this,nf,t)}[Symbol.for("uppy test: getCompanionHeaders")](){return R(this,nf)}get hostname(){const{companion:t}=this.uppy.getState(),n=this.opts.companionUrl;return Xpt(t!=null&&t[n]?t[n]:n)}async headers(t=!1){return{...{Accept:"application/json",...t?void 0:{"Content-Type":"application/json"}},...R(this,nf)}}onReceiveResponse(t){const{headers:n}=t,a=this.uppy.getState().companion||{},i=this.opts.companionUrl;n.has("i-am")&&n.get("i-am")!==a[i]&&this.uppy.setState({companion:{...a,[i]:n.get("i-am")}})}async request({path:t,method:n="GET",data:r,skipPostResponse:a,signal:i}){try{const o=await this.headers(!r),l=await lut(je(this,qu,VM).call(this,t),{method:n,signal:i,headers:o,credentials:this.opts.companionCookiesRule||"same-origin",body:r?JSON.stringify(r):null});return a||this.onReceiveResponse(l),await egt(l)}catch(o){throw o.isAuthError||o.name==="UserFacingApiError"||o.name==="AbortError"?o:new iut(`Could not ${n} ${je(this,qu,VM).call(this,t)}`,{cause:o})}}async get(t,n){return this.request({...n,path:t})}async post(t,n,r){return this.request({...r,path:t,method:"POST",data:n})}async delete(t,n,r){return this.request({...r,path:t,method:"DELETE",data:n})}async uploadRemoteFile(t,n,r){try{const{signal:a,getQueue:i}=r||{};return await e7(async()=>{var d;const o=(d=this.uppy.getFile(t.id))==null?void 0:d.serverToken;if(o!=null)return this.uppy.log(`Connecting to exiting websocket ${o}`),je(this,qu,WM).call(this,{file:t,queue:i(),signal:a});const c=await i().wrapPromiseFunction(async(...u)=>{try{return await R(this,C2).call(this,...u)}catch(h){if(h.isAuthError)throw new UM(h);if(h.cause==null)throw h;const f=h.cause,g=()=>[408,409,429,418,423].includes(f.statusCode)||f.statusCode>=500&&f.statusCode<=599&&![501,505].includes(f.statusCode);throw f.name==="HttpError"&&!g()?new UM(f):f}},{priority:-1})({file:t,postBody:n,signal:a}).abortOn(a);if(this.uppy.getFile(t.id))return this.uppy.setFileState(t.id,{serverToken:c}),je(this,qu,WM).call(this,{file:this.uppy.getFile(t.id),queue:i(),signal:a})},{retries:t7,signal:a,onFailedAttempt:o=>this.uppy.log(`Retrying upload due to: ${o.message}`,"warning")})}catch(a){if(a.name==="AbortError")return;throw this.uppy.emit("upload-error",t,a),a}}}nf=new WeakMap,qu=new WeakSet,VM=function(t){return/^(https?:|)\/\//.test(t)?t:`${this.hostname}/${t}`},C2=new WeakMap,WM=async function({file:t,queue:n,signal:r}){let a;const{capabilities:i}=this.uppy.getState();try{return await new Promise((o,l)=>{const c=t.serverToken,d=yut(t.remote.companionUrl);let u,h,f,{isPaused:g}=t;const m=(k,_)=>{if(u==null||u.readyState!==u.OPEN){this.uppy.log(`Cannot send "${k}" to socket ${t.id} because the socket state was ${String(u==null?void 0:u.readyState)}`,"warning");return}u.send(JSON.stringify({action:k,payload:_??{}}))};function p(){i.resumableUploads&&m(g?"pause":"resume")}const x=async()=>{h&&h.abort(),h=new AbortController;const k=T=>{var P;this.uppy.setFileState(t.id,{serverToken:null}),(P=h==null?void 0:h.abort)==null||P.call(h),l(T)};function _(){clearTimeout(f),!g&&(f=setTimeout(()=>k(new Error("Timeout waiting for message from Companion socket")),Qpt))}try{await n.wrapPromiseFunction(async()=>{await e7(async()=>new Promise((P,C)=>{u=new WebSocket(`${d}/api/${c}`),_(),u.addEventListener("close",()=>{u=void 0,C(new Error("Socket closed unexpectedly"))}),u.addEventListener("error",E=>{this.uppy.log(`Companion socket error ${JSON.stringify(E)}, closing socket`,"warning"),u==null||u.close()}),u.addEventListener("open",()=>{p()}),u.addEventListener("message",E=>{var I,$,U;_();try{const{action:M,payload:F}=JSON.parse(E.data);switch(M){case"progress":{tgt(this,F,this.uppy.getFile(t.id));break}case"success":{const V=(I=F.response)==null?void 0:I.responseText;this.uppy.emit("upload-success",this.uppy.getFile(t.id),{uploadURL:F.url,status:(($=F.response)==null?void 0:$.status)??200,body:V?JSON.parse(V):void 0}),(U=h==null?void 0:h.abort)==null||U.call(h),o();break}case"error":{const{message:V}=F.error;throw Object.assign(new Error(V),{cause:F.error})}default:this.uppy.log(`Companion socket unknown action ${M}`,"warning")}}catch(M){k(M)}});const A=()=>{this.uppy.log(`Closing socket ${t.id}`),clearTimeout(f),u&&u.close(),u=void 0};h.signal.addEventListener("abort",()=>{A()})}),{retries:t7,signal:h.signal,onFailedAttempt:()=>{h.signal.aborted||this.uppy.log(`Retrying websocket ${t.id}`)}})})().abortOn(h.signal)}catch(T){if(h.signal.aborted)return;k(T)}},v=k=>{i.resumableUploads&&(g=k,u&&p())},y=k=>{var _;i.individualCancellation&&k.id===t.id&&(m("cancel"),(_=h==null?void 0:h.abort)==null||_.call(h),this.uppy.log(`upload ${t.id} was removed`),o())},j=()=>{var k;m("cancel"),(k=h==null?void 0:h.abort)==null||k.call(h),this.uppy.log(`upload ${t.id} was canceled`),o()},N=(k,_)=>{(k==null?void 0:k.id)===t.id&&v(_)},w=()=>v(!0),S=()=>v(!1);this.uppy.on("file-removed",y),this.uppy.on("cancel-all",j),this.uppy.on("upload-pause",N),this.uppy.on("pause-all",w),this.uppy.on("resume-all",S),a=()=>{this.uppy.off("file-removed",y),this.uppy.off("cancel-all",j),this.uppy.off("upload-pause",N),this.uppy.off("pause-all",w),this.uppy.off("resume-all",S)},r.addEventListener("abort",()=>{h==null||h.abort()}),x()})}finally{a==null||a()}},H(nfe,"VERSION",Gpt.version);const ngt="@uppy/aws-s3",rgt="Upload to Amazon S3 with Uppy",sgt="5.0.0",agt="MIT",igt="lib/index.js",ogt="module",lgt=!1,cgt={build:"tsc --build tsconfig.build.json",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},dgt=["file uploader","aws s3","amazon s3","s3","uppy","uppy-plugin","multipart"],ugt="https://uppy.io",hgt={url:"https://github.com/transloadit/uppy/issues"},fgt={type:"git",url:"git+https://github.com/transloadit/uppy.git"},mgt=["src","lib","dist","CHANGELOG.md"],pgt={".":"./lib/index.js","./package.json":"./package.json"},ggt={"@uppy/companion-client":"^5.0.0","@uppy/utils":"^7.0.0"},vgt={"@aws-sdk/client-s3":"^3.362.0","@aws-sdk/s3-request-presigner":"^3.362.0","@uppy/core":"^5.0.0",jsdom:"^26.1.0",nock:"^13.1.0",typescript:"^5.8.3",vitest:"^3.2.4","whatwg-fetch":"3.6.2"},xgt={"@uppy/core":"^5.0.0"},ygt={name:ngt,description:rgt,version:sgt,license:agt,main:igt,type:ogt,sideEffects:lgt,scripts:cgt,keywords:dgt,homepage:ugt,bugs:hgt,repository:fgt,files:mgt,exports:pgt,dependencies:ggt,devDependencies:vgt,peerDependencies:xgt};function bgt({method:e="PUT",CanonicalUri:t="/",CanonicalQueryString:n="",SignedHeaders:r,HashedPayload:a}){const i=Object.keys(r).map(o=>o.toLowerCase()).sort();return[e,t,n,...i.map(o=>`${o}:${r[o]}`),"",i.join(";"),a].join(`
`)}const d5=new TextEncoder,u5={name:"HMAC",hash:"SHA-256"};async function jgt(e){const{subtle:t}=globalThis.crypto;return t.digest(u5.hash,d5.encode(e))}async function wgt(e){const{subtle:t}=globalThis.crypto;return t.importKey("raw",typeof e=="string"?d5.encode(e):e,u5,!1,["sign"])}function n7(e){const t=new Uint8Array(e);let n="";for(let r=0;r<t.length;r++)n+=t[r].toString(16).padStart(2,"0");return n}async function Ax(e,t){const{subtle:n}=globalThis.crypto;return n.sign(u5,await wgt(e),d5.encode(t))}async function Ngt({accountKey:e,accountSecret:t,sessionToken:n,bucketName:r,Key:a,Region:i,expires:o,uploadId:l,partNumber:c}){const d="s3",u=`${d}.${i}.amazonaws.com`,h=`/${r}/${encodeURI(a).replace(/[;?:@&=+$,#!'()*]/g,T=>`%${T.charCodeAt(0).toString(16).toUpperCase()}`)}`,f="UNSIGNED-PAYLOAD",g=new Date().toISOString().replace(/[-:]|\.\d+/g,""),m=g.slice(0,8),p=`${m}/${i}/${d}/aws4_request`,x=new URL(`https://${u}${h}`);x.searchParams.set("X-Amz-Algorithm","AWS4-HMAC-SHA256"),x.searchParams.set("X-Amz-Content-Sha256",f),x.searchParams.set("X-Amz-Credential",`${e}/${p}`),x.searchParams.set("X-Amz-Date",g),x.searchParams.set("X-Amz-Expires",o),x.searchParams.set("X-Amz-Security-Token",n),x.searchParams.set("X-Amz-SignedHeaders","host"),c&&x.searchParams.set("partNumber",c),l&&x.searchParams.set("uploadId",l),x.searchParams.set("x-id",c&&l?"UploadPart":"PutObject");const v=bgt({CanonicalUri:h,CanonicalQueryString:x.search.slice(1),SignedHeaders:{host:u},HashedPayload:f}),y=n7(await jgt(v)),j=["AWS4-HMAC-SHA256",g,p,y].join(`
`),N=await Ax(`AWS4${t}`,m),w=await Ax(N,i),S=await Ax(w,d),k=await Ax(S,"aws4_request"),_=n7(await Ax(k,j));return x.searchParams.set("X-Amz-Signature",_),x}const Sgt=1024*1024,r7={getChunkSize(e){return Math.ceil(e.size/1e4)},onProgress(){},onPartComplete(){},onSuccess(){},onError(e){throw e}};function Cgt(e){if(typeof e=="string")return parseInt(e,10);if(typeof e=="number")return e;throw new TypeError("Expected a number")}const w1=Symbol("pausing upload, not an actual error");var wo,$i,El,Rc,$c,Kb,Gb,Vp,rf,Wp,Yb,Hp,Xb,ol,rfe,sfe,HM,Qb,Zb,afe;class kgt{constructor(t,n){de(this,ol);H(this,"options");de(this,wo,new nA);de(this,$i,[]);de(this,El,[]);de(this,Rc);de(this,$c);de(this,Kb,!1);de(this,Gb);de(this,Vp);de(this,rf);de(this,Wp);de(this,Yb,t=>(t==null?void 0:t.cause)===w1?null:R(this,Gb).call(this,t));de(this,Hp,1e4);de(this,Xb,5*Sgt);de(this,Qb,t=>n=>{if(!n.lengthComputable)return;R(this,El)[t].uploaded=Cgt(n.loaded);const r=R(this,El).reduce((a,i)=>a+i.uploaded,0);this.options.onProgress(r,R(this,Rc).size)});de(this,Zb,t=>n=>{R(this,$i)[t]=null,R(this,El)[t].etag=n,R(this,El)[t].done=!0;const r={PartNumber:t+1,ETag:n};this.options.onPartComplete(r)});var r;this.options={...r7,...n},(r=this.options).getChunkSize??(r.getChunkSize=r7.getChunkSize),fe(this,Rc,t),fe(this,$c,n.file),fe(this,Vp,this.options.onSuccess),fe(this,Gb,this.options.onError),fe(this,rf,this.options.shouldUseMultipart),fe(this,Wp,n.uploadId&&n.key),je(this,ol,rfe).call(this)}start(){R(this,Kb)?(R(this,wo).signal.aborted||R(this,wo).abort(w1),fe(this,wo,new nA),je(this,ol,HM).call(this)):R(this,Wp)?(this.options.companionComm.restoreUploadFile(R(this,$c),{uploadId:this.options.uploadId,key:this.options.key}),je(this,ol,HM).call(this)):je(this,ol,sfe).call(this)}pause(){R(this,wo).abort(w1),fe(this,wo,new nA)}abort(t){t!=null&&t.really?je(this,ol,afe).call(this):this.pause()}[Symbol.for("uppy test: getChunkState")](){return R(this,El)}}wo=new WeakMap,$i=new WeakMap,El=new WeakMap,Rc=new WeakMap,$c=new WeakMap,Kb=new WeakMap,Gb=new WeakMap,Vp=new WeakMap,rf=new WeakMap,Wp=new WeakMap,Yb=new WeakMap,Hp=new WeakMap,Xb=new WeakMap,ol=new WeakSet,rfe=function(){const t=R(this,Rc).size,n=typeof R(this,rf)=="function"?R(this,rf).call(this,R(this,$c)):!!R(this,rf);if(n&&t>R(this,Xb)){let r=Math.max(this.options.getChunkSize(R(this,Rc)),R(this,Xb)),a=Math.floor(t/r);a>R(this,Hp)&&(a=R(this,Hp),r=t/R(this,Hp)),fe(this,$i,Array(a));for(let i=0,o=0;i<t;i+=r,o++){const l=Math.min(t,i+r),c=()=>{const d=i;return R(this,Rc).slice(d,l)};if(R(this,$i)[o]={getData:c,onProgress:R(this,Qb).call(this,o),onComplete:R(this,Zb).call(this,o),shouldUseMultipart:n},R(this,Wp)){const d=i+r>t?t-i:r;R(this,$i)[o].setAsUploaded=()=>{R(this,$i)[o]=null,R(this,El)[o].uploaded=d}}}}else fe(this,$i,[{getData:()=>R(this,Rc),onProgress:R(this,Qb).call(this,0),onComplete:R(this,Zb).call(this,0),shouldUseMultipart:n}]);fe(this,El,R(this,$i).map(()=>({uploaded:0})))},sfe=function(){this.options.companionComm.uploadFile(R(this,$c),R(this,$i),R(this,wo).signal).then(R(this,Vp),R(this,Yb)),fe(this,Kb,!0)},HM=function(){this.options.companionComm.resumeUploadFile(R(this,$c),R(this,$i),R(this,wo).signal).then(R(this,Vp),R(this,Yb))},Qb=new WeakMap,Zb=new WeakMap,afe=function(){R(this,wo).abort(),this.options.companionComm.abortFileUpload(R(this,$c)).catch(t=>this.options.log(t))};function qs(e){if(e!=null&&e.aborted)throw que("The operation was aborted",{cause:e.reason})}function _gt(e){const t=new URL(e);return t.search="",t.hash="",t.href}var Jb,No,ej,tj,nj,rj,qp,Kp,Gp,Yp,sf,Xp,So,Hf,ife,qM;class Pgt{constructor(t,n,r,a){de(this,Hf);de(this,Jb);de(this,No,new WeakMap);de(this,ej);de(this,tj);de(this,nj);de(this,rj);de(this,qp);de(this,Kp);de(this,Gp);de(this,Yp);de(this,sf);de(this,Xp);de(this,So);fe(this,Kp,t),fe(this,sf,r),fe(this,So,a),this.setOptions(n)}setOptions(t){const n=R(this,Kp);"abortMultipartUpload"in t&&fe(this,Jb,n.wrapPromiseFunction(t.abortMultipartUpload,{priority:1})),"createMultipartUpload"in t&&fe(this,ej,n.wrapPromiseFunction(t.createMultipartUpload,{priority:-1})),"signPart"in t&&fe(this,tj,n.wrapPromiseFunction(t.signPart)),"listParts"in t&&fe(this,rj,n.wrapPromiseFunction(t.listParts)),"completeMultipartUpload"in t&&fe(this,Yp,n.wrapPromiseFunction(t.completeMultipartUpload,{priority:1})),"retryDelays"in t&&fe(this,Gp,t.retryDelays??[]),"uploadPartBytes"in t&&fe(this,Xp,n.wrapPromiseFunction(t.uploadPartBytes,{priority:1/0})),"getUploadParameters"in t&&fe(this,nj,n.wrapPromiseFunction(t.getUploadParameters))}async getUploadId(t,n){let r;for(;r=R(this,No).get(t.data),r!=null;)try{return await r}catch{}const a=R(this,ej).call(this,R(this,So).call(this,t),n),i=()=>{a.abort(n.reason),R(this,No).delete(t.data)};return n.addEventListener("abort",i,{once:!0}),R(this,No).set(t.data,a),a.then(async o=>{n.removeEventListener("abort",i),R(this,sf).call(this,t,o),R(this,No).set(t.data,o)},()=>{n.removeEventListener("abort",i),R(this,No).delete(t.data)}),a}async abortFileUpload(t){const n=R(this,No).get(t.data);if(n==null)return;R(this,No).delete(t.data),R(this,sf).call(this,t,Object.create(null));let r;try{r=await n}catch{return}await R(this,Jb).call(this,R(this,So).call(this,t),r)}async uploadFile(t,n,r){if(qs(r),n.length===1&&!n[0].shouldUseMultipart)return je(this,Hf,qM).call(this,t,n[0],r);const{uploadId:a,key:i}=await this.getUploadId(t,r);qs(r);try{const o=await Promise.all(n.map((l,c)=>this.uploadChunk(t,c+1,l,r)));return qs(r),await R(this,Yp).call(this,R(this,So).call(this,t),{key:i,uploadId:a,parts:o,signal:r},r).abortOn(r)}catch(o){throw(o==null?void 0:o.cause)!==w1&&(o==null?void 0:o.name)!=="AbortError"&&this.abortFileUpload(t),o}}restoreUploadFile(t,n){R(this,No).set(t.data,n)}async resumeUploadFile(t,n,r){if(qs(r),n.length===1&&n[0]!=null&&!n[0].shouldUseMultipart)return je(this,Hf,qM).call(this,t,n[0],r);const{uploadId:a,key:i}=await this.getUploadId(t,r);qs(r);const o=await R(this,rj).call(this,R(this,So).call(this,t),{uploadId:a,key:i,signal:r},r).abortOn(r);qs(r);const l=await Promise.all(n.map((c,d)=>{var f;const u=d+1,h=o.find(({PartNumber:g})=>g===u);return h==null?this.uploadChunk(t,u,c,r):((f=c==null?void 0:c.setAsUploaded)==null||f.call(c),{PartNumber:u,ETag:h.ETag})}));return qs(r),R(this,Yp).call(this,R(this,So).call(this,t),{key:i,uploadId:a,parts:l,signal:r},r).abortOn(r)}async uploadChunk(t,n,r,a){qs(a);const{uploadId:i,key:o}=await this.getUploadId(t,a),l=R(this,Gp).values(),c=R(this,Gp).values(),d=()=>{const u=l.next();return u==null||u.done?null:u.value};for(;;){qs(a);const u=r.getData(),{onProgress:h,onComplete:f}=r;let g;try{g=await R(this,tj).call(this,R(this,So).call(this,t),{uploadId:i,key:o,partNumber:n,body:u,signal:a}).abortOn(a)}catch(m){const p=d();if(p==null||a.aborted)throw m;await new Promise(x=>setTimeout(x,p));continue}qs(a);try{return{PartNumber:n,...await R(this,Xp).call(this,{signature:g,body:u,size:u.size,onProgress:h,onComplete:f,signal:a}).abortOn(a)}}catch(m){if(!await je(this,Hf,ife).call(this,m,c))throw m}}}}Jb=new WeakMap,No=new WeakMap,ej=new WeakMap,tj=new WeakMap,nj=new WeakMap,rj=new WeakMap,qp=new WeakMap,Kp=new WeakMap,Gp=new WeakMap,Yp=new WeakMap,sf=new WeakMap,Xp=new WeakMap,So=new WeakMap,Hf=new WeakSet,ife=async function(t,n){var i;const r=R(this,Kp),a=(i=t==null?void 0:t.source)==null?void 0:i.status;if(a==null)return!1;if(a===403&&t.message==="Request has expired"){if(!r.isPaused){if(r.limit===1||R(this,qp)==null){const o=n.next();if(o==null||o.done)return!1;fe(this,qp,o.value)}r.rateLimit(0),await new Promise(o=>setTimeout(o,R(this,qp)))}}else if(a===429){if(!r.isPaused){const o=n.next();if(o==null||o.done)return!1;r.rateLimit(o.value)}}else{if(a>400&&a<500&&a!==409)return!1;if(typeof navigator<"u"&&navigator.onLine===!1)r.isPaused||(r.pause(),window.addEventListener("online",()=>{r.resume()},{once:!0}));else{const o=n.next();if(o==null||o.done)return!1;await new Promise(l=>setTimeout(l,o.value))}}return!0},qM=async function(t,n,r){const{method:a="POST",url:i,fields:o,headers:l}=await R(this,nj).call(this,R(this,So).call(this,t),{signal:r}).abortOn(r);let c;const d=n.getData();if(a.toUpperCase()==="POST"){const m=new FormData;Object.entries(o).forEach(([p,x])=>m.set(p,x)),m.set("file",d),c=m}else c=d;const{onProgress:u,onComplete:h}=n,f=await R(this,Xp).call(this,{signature:{url:i,headers:l,method:a},body:c,size:d.size,onProgress:u,onComplete:h,signal:r}).abortOn(r),g=o==null?void 0:o.key;return R(this,sf).call(this,t,{key:g}),{...f,location:f.location??_gt(i),bucket:o==null?void 0:o.bucket,key:g}};function jm(e){if(e!=null&&e.error){const t=new Error(e.message);throw Object.assign(t,e.error),t}return e}function s7(e){const t=e.Expiration;if(t){const n=Math.floor((new Date(t)-Date.now())/1e3);if(n>9)return n}}function a7({meta:e,allowedMetaFields:t,querify:n=!1}){const r=t??Object.keys(e);return e?Object.fromEntries(r.filter(a=>e[a]!=null).map(a=>{const i=n?`metadata[${a}]`:a,o=String(e[a]);return[i,o]})):{}}const Tgt={allowedMetaFields:!0,limit:6,getTemporarySecurityCredentials:!1,shouldUseMultipart:e=>(e.size||0)>100*1024*1024,retryDelays:[0,1e3,3e3,5e3]};var Qp,ma,ns,GM,Rd,Co,ofe,k2,Zp,lfe,cfe,sj,Jp,af,aj;const _2=class _2 extends bhe{constructor(n,r){super(n,{...Tgt,uploadPartBytes:_2.uploadPartBytes,createMultipartUpload:null,listParts:null,abortMultipartUpload:null,completeMultipartUpload:null,signPart:null,getUploadParameters:null,...r});de(this,ns);de(this,Qp);de(this,ma);H(this,"requests");H(this,"uploaderEvents");H(this,"uploaders");de(this,Co);de(this,k2,(n,{key:r,uploadId:a})=>{const i=this.uppy.getFile(n.id);i!=null&&this.uppy.setFileState(n.id,{s3Multipart:{...i.s3Multipart,key:r,uploadId:a}})});de(this,Zp,n=>this.uppy.getFile(n.id)||n);de(this,sj,async n=>{if(n.length===0)return;const r=this.uppy.getFilesByIds(n),a=cut(r),i=dut(a);this.uppy.emit("upload-start",i);const o=a.map(c=>{if(c.isRemote){const d=()=>this.requests;R(this,af).call(this,!1);const u=new AbortController,h=g=>{g.id===c.id&&u.abort()};this.uppy.on("file-removed",h);const f=this.uppy.getRequestClientForFile(c).uploadRemoteFile(c,je(this,ns,cfe).call(this,c),{signal:u.signal,getQueue:d});return this.requests.wrapSyncFunction(()=>{this.uppy.off("file-removed",h)},{priority:-1})(),f}return je(this,ns,lfe).call(this,c)}),l=await Promise.allSettled(o);return R(this,af).call(this,!0),l});de(this,Jp,()=>{var n;(n=R(this,ma))==null||n.setCompanionHeaders(this.opts.headers)});de(this,af,n=>{const{capabilities:r}=this.uppy.getState();this.uppy.setState({capabilities:{...r,resumableUploads:n}})});de(this,aj,()=>{R(this,af).call(this,!0)});this.type="uploader",this.id=this.opts.id||"AwsS3Multipart",je(this,ns,GM).call(this,r);const a={createMultipartUpload:this.createMultipartUpload,listParts:this.listParts,abortMultipartUpload:this.abortMultipartUpload,completeMultipartUpload:this.completeMultipartUpload,signPart:r!=null&&r.getTemporarySecurityCredentials?this.createSignedURL:this.signPart,getUploadParameters:r!=null&&r.getTemporarySecurityCredentials?this.createSignedURL:this.getUploadParameters};for(const i of Object.keys(a))this.opts[i]==null&&(this.opts[i]=a[i].bind(this));this.requests=this.opts.rateLimitedQueue??new Cut(this.opts.limit),fe(this,Qp,new Pgt(this.requests,this.opts,R(this,k2),R(this,Zp))),this.uploaders=Object.create(null),this.uploaderEvents=Object.create(null)}[Symbol.for("uppy test: getClient")](){return R(this,ma)}setOptions(n){R(this,Qp).setOptions(n),super.setOptions(n),je(this,ns,GM).call(this,n)}resetUploaderReferences(n,r){this.uploaders[n]&&(this.uploaders[n].abort({really:(r==null?void 0:r.abort)||!1}),this.uploaders[n]=null),this.uploaderEvents[n]&&(this.uploaderEvents[n].remove(),this.uploaderEvents[n]=null)}createMultipartUpload(n,r){je(this,ns,Rd).call(this,"createMultipartUpload"),qs(r);const a=s9(this.opts.allowedMetaFields,n.meta),i=a7({meta:n.meta,allowedMetaFields:a});return R(this,ma).post("s3/multipart",{filename:n.name,type:n.type,metadata:i},{signal:r}).then(jm)}listParts(n,{key:r,uploadId:a,signal:i},o){i??(i=o),je(this,ns,Rd).call(this,"listParts"),qs(i);const l=encodeURIComponent(r);return R(this,ma).get(`s3/multipart/${encodeURIComponent(a)}?key=${l}`,{signal:i}).then(jm)}completeMultipartUpload(n,{key:r,uploadId:a,parts:i,signal:o},l){o??(o=l),je(this,ns,Rd).call(this,"completeMultipartUpload"),qs(o);const c=encodeURIComponent(r),d=encodeURIComponent(a);return R(this,ma).post(`s3/multipart/${d}/complete?key=${c}`,{parts:i.map(({ETag:u,PartNumber:h})=>({ETag:u,PartNumber:h}))},{signal:o}).then(jm)}async createSignedURL(n,r){const a=await je(this,ns,ofe).call(this,r),i=s7(a.credentials)||604800,{uploadId:o,key:l,partNumber:c}=r;return{method:"PUT",expires:i,fields:{},url:`${await Ngt({accountKey:a.credentials.AccessKeyId,accountSecret:a.credentials.SecretAccessKey,sessionToken:a.credentials.SessionToken,expires:i,bucketName:a.bucket,Region:a.region,Key:l??`${crypto.randomUUID()}-${n.name}`,uploadId:o,partNumber:c})}`,headers:{"Content-Type":n.type}}}signPart(n,{uploadId:r,key:a,partNumber:i,signal:o}){if(je(this,ns,Rd).call(this,"signPart"),qs(o),r==null||a==null||i==null)throw new Error("Cannot sign without a key, an uploadId, and a partNumber");const l=encodeURIComponent(a);return R(this,ma).get(`s3/multipart/${encodeURIComponent(r)}/${i}?key=${l}`,{signal:o}).then(jm)}abortMultipartUpload(n,{key:r,uploadId:a,signal:i}){je(this,ns,Rd).call(this,"abortMultipartUpload");const o=encodeURIComponent(r),l=encodeURIComponent(a);return R(this,ma).delete(`s3/multipart/${l}?key=${o}`,void 0,{signal:i}).then(jm)}getUploadParameters(n,r){je(this,ns,Rd).call(this,"getUploadParameters");const{meta:a}=n,{type:i,name:o}=a,l=s9(this.opts.allowedMetaFields,n.meta),c=a7({meta:a,allowedMetaFields:l,querify:!0}),d=new URLSearchParams({filename:o,type:i,...c});return R(this,ma).get(`s3/params?${d}`,r)}static async uploadPartBytes({signature:{url:n,expires:r,headers:a,method:i="PUT"},body:o,size:l=o.size,onProgress:c,onComplete:d,signal:u}){if(qs(u),n==null)throw new Error("Cannot upload to an undefined URL");return new Promise((h,f)=>{const g=new XMLHttpRequest;g.open(i,n,!0),a&&Object.keys(a).forEach(x=>{g.setRequestHeader(x,a[x])}),g.responseType="text",typeof r=="number"&&(g.timeout=r*1e3);function m(){g.abort()}function p(){u==null||u.removeEventListener("abort",m)}u==null||u.addEventListener("abort",m),g.upload.addEventListener("progress",x=>{c(x)}),g.addEventListener("abort",()=>{p(),f(que())}),g.addEventListener("timeout",()=>{p();const x=new Error("Request has expired");x.source={status:403},f(x)}),g.addEventListener("load",()=>{if(p(),g.status===403&&g.responseText.includes("<Message>Request has expired</Message>")){const N=new Error("Request has expired");N.source=g,f(N);return}if(g.status<200||g.status>=300){const N=new Error("Non 2xx");N.source=g,f(N);return}c==null||c({loaded:l,lengthComputable:!0});const x=g.getAllResponseHeaders().trim().split(/[\r\n]+/),v={__proto__:null};for(const N of x){const w=N.split(": "),S=w.shift(),k=w.join(": ");v[S]=k}const{etag:y,location:j}=v;if(i.toUpperCase()==="POST"&&j==null&&console.error("@uppy/aws-s3: Could not read the Location header. This likely means CORS is not configured correctly on the S3 Bucket. See https://uppy.io/docs/aws-s3/#setting-up-your-s3-bucket"),y==null){console.error("@uppy/aws-s3: Could not read the ETag header. This likely means CORS is not configured correctly on the S3 Bucket. See https://uppy.io/docs/aws-s3/#setting-up-your-s3-bucket");return}d==null||d(y),h({...v,ETag:y})}),g.addEventListener("error",x=>{p();const v=new Error("Unknown error");v.source=x.target,f(v)}),g.send(o)})}install(){R(this,af).call(this,!0),this.uppy.addPreProcessor(R(this,Jp)),this.uppy.addUploader(R(this,sj)),this.uppy.on("cancel-all",R(this,aj))}uninstall(){this.uppy.removePreProcessor(R(this,Jp)),this.uppy.removeUploader(R(this,sj)),this.uppy.off("cancel-all",R(this,aj))}};Qp=new WeakMap,ma=new WeakMap,ns=new WeakSet,GM=function(n){n==null||!("endpoint"in n||"companionUrl"in n||"headers"in n||"companionHeaders"in n||"cookiesRule"in n||"companionCookiesRule"in n)||("companionUrl"in n&&!("endpoint"in n)&&this.uppy.log("`companionUrl` option has been removed in @uppy/aws-s3, use `endpoint` instead.","warning"),"companionHeaders"in n&&!("headers"in n)&&this.uppy.log("`companionHeaders` option has been removed in @uppy/aws-s3, use `headers` instead.","warning"),"companionCookiesRule"in n&&!("cookiesRule"in n)&&this.uppy.log("`companionCookiesRule` option has been removed in @uppy/aws-s3, use `cookiesRule` instead.","warning"),"endpoint"in n?fe(this,ma,new nfe(this.uppy,{pluginId:this.id,provider:"AWS",companionUrl:this.opts.endpoint,companionHeaders:this.opts.headers,companionCookiesRule:this.opts.cookiesRule})):("headers"in n&&R(this,Jp).call(this),"cookiesRule"in n&&(R(this,ma).opts.companionCookiesRule=n.cookiesRule)))},Rd=function(n){if(!R(this,ma))throw new Error(`Expected a \`endpoint\` option containing a URL, or if you are not using Companion, a custom \`${n}\` implementation.`)},Co=new WeakMap,ofe=async function(n){if(qs(n==null?void 0:n.signal),R(this,Co)==null){const{getTemporarySecurityCredentials:r}=this.opts;r===!0?(je(this,ns,Rd).call(this,"getTemporarySecurityCredentials"),fe(this,Co,R(this,ma).get("s3/sts",n).then(jm))):fe(this,Co,r(n)),fe(this,Co,await R(this,Co)),setTimeout(()=>{fe(this,Co,null)},(s7(R(this,Co).credentials)||0)*500)}return R(this,Co)},k2=new WeakMap,Zp=new WeakMap,lfe=function(n){return new Promise((r,a)=>{const i=(u,h)=>{const f=this.uppy.getFile(n.id);this.uppy.emit("upload-progress",f,{uploadStarted:f.progress.uploadStarted??0,bytesUploaded:u,bytesTotal:h})},o=u=>{this.uppy.log(u),this.uppy.emit("upload-error",n,u),this.resetUploaderReferences(n.id),a(u)},l=u=>{const h={body:{...u},status:200,uploadURL:u.location};this.resetUploaderReferences(n.id),this.uppy.emit("upload-success",R(this,Zp).call(this,n),h),u.location&&this.uppy.log(`Download ${n.name} from ${u.location}`),r(void 0)},c=new kgt(n.data,{companionComm:R(this,Qp),log:(...u)=>this.uppy.log(...u),getChunkSize:this.opts.getChunkSize?this.opts.getChunkSize.bind(this):void 0,onProgress:i,onError:o,onSuccess:l,onPartComplete:u=>{this.uppy.emit("s3-multipart:part-uploaded",R(this,Zp).call(this,n),u)},file:n,shouldUseMultipart:this.opts.shouldUseMultipart,...n.s3Multipart});this.uploaders[n.id]=c;const d=new Vut(this.uppy);this.uploaderEvents[n.id]=d,d.onFileRemove(n.id,u=>{c.abort(),this.resetUploaderReferences(n.id,{abort:!0}),r(`upload ${u} was removed`)}),d.onCancelAll(n.id,()=>{c.abort(),this.resetUploaderReferences(n.id,{abort:!0}),r(`upload ${n.id} was canceled`)}),d.onFilePause(n.id,u=>{u?c.pause():c.start()}),d.onPauseAll(n.id,()=>{c.pause()}),d.onResumeAll(n.id,()=>{c.start()}),c.start()})},cfe=function(n){var r;return{...(r=n.remote)==null?void 0:r.body,protocol:"s3-multipart",size:n.data.size,metadata:n.meta}},sj=new WeakMap,Jp=new WeakMap,af=new WeakMap,aj=new WeakMap,H(_2,"VERSION",ygt.version);let KM=_2;function Agt({maxNumberOfFiles:e=1,maxFileSize:t=10485760,onGetUploadParameters:n,onComplete:r,buttonClassName:a,children:i}){const[o,l]=b.useState(!1),[c]=b.useState(()=>new _M({restrictions:{maxNumberOfFiles:e,maxFileSize:t},autoProceed:!1}).use(KM,{shouldUseMultipart:!1,getUploadParameters:n}).on("complete",d=>{r==null||r(d)}));return s.jsxs("div",{children:[s.jsx(D,{onClick:()=>l(!0),className:a,children:i}),s.jsx(efe,{uppy:c,open:o,onRequestClose:()=>l(!1),proudlyDisplayPoweredByUppy:!1})]})}function Egt({clientId:e}){const{toast:t}=mt(),n=qr(),[r,a]=b.useState(!1),[i,o]=b.useState({name:"",description:"",category:"",filePath:""}),{data:l=[],isLoading:c}=he({queryKey:["/api/clients",e,"documents"]}),d=Se({mutationFn:x=>ke(`/api/documents/${x}`,"DELETE"),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/clients",e,"documents"]}),t({title:"Document deleted",description:"The document has been successfully deleted."})},onError:()=>{t({title:"Error",description:"Failed to delete document. Please try again.",variant:"destructive"})}}),u=Se({mutationFn:x=>ke(`/api/clients/${e}/documents`,"POST",x),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/clients",e,"documents"]}),a(!1),o({name:"",description:"",category:"",filePath:""}),t({title:"Document uploaded",description:"The document has been successfully uploaded."})},onError:()=>{t({title:"Error",description:"Failed to upload document. Please try again.",variant:"destructive"})}}),h=async()=>({method:"PUT",url:(await(await ke("/api/documents/upload","POST")).json()).uploadURL}),f=x=>{if(x.successful&&x.successful.length>0){const v=x.successful[0];o(y=>({...y,filePath:v.uploadURL,name:y.name||v.name||"Untitled Document"}))}},g=()=>{if(!i.name||!i.filePath){t({title:"Error",description:"Please provide a document name and upload a file.",variant:"destructive"});return}const x={name:i.name,fileName:i.name,description:i.description||null,type:"other",fileUrl:i.filePath,fileSize:null,uploadedById:"",clientId:e};u.mutate(x)},m=x=>{if(x===0)return"0 Bytes";const v=1024,y=["Bytes","KB","MB","GB"],j=Math.floor(Math.log(x)/Math.log(v));return parseFloat((x/Math.pow(v,j)).toFixed(2))+" "+y[j]},p=x=>new Date(x).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return c?s.jsxs(B,{children:[s.jsx(ae,{children:s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(nt,{className:"h-5 w-5"}),"Filing Cabinet"]})}),s.jsx(q,{children:s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})})})]}):s.jsxs(B,{children:[s.jsx(ae,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(nt,{className:"h-5 w-5"}),"Filing Cabinet (",(l==null?void 0:l.length)||0,")"]}),s.jsxs(ut,{open:r,onOpenChange:a,children:[s.jsx(Ns,{asChild:!0,children:s.jsxs(D,{"data-testid":"button-upload-document",children:[s.jsx(ad,{className:"h-4 w-4 mr-2"}),"Upload Document"]})}),s.jsxs(lt,{className:"sm:max-w-[425px]",children:[s.jsx(ct,{children:s.jsx(dt,{children:"Upload Document"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"document-name",children:"Document Name"}),s.jsx(te,{id:"document-name",value:i.name,onChange:x=>o(v=>({...v,name:x.target.value})),placeholder:"Enter document name","data-testid":"input-document-name"})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"document-category",children:"Category"}),s.jsx(te,{id:"document-category",value:i.category,onChange:x=>o(v=>({...v,category:x.target.value})),placeholder:"e.g., Contract, Invoice, Report","data-testid":"input-document-category"})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"document-description",children:"Description"}),s.jsx(it,{id:"document-description",value:i.description,onChange:x=>o(v=>({...v,description:x.target.value})),placeholder:"Brief description of the document","data-testid":"input-document-description"})]}),s.jsxs("div",{children:[s.jsx(W,{children:"File Upload"}),s.jsxs(Agt,{maxNumberOfFiles:1,maxFileSize:50*1024*1024,onGetUploadParameters:h,onComplete:f,buttonClassName:"w-full mt-2",children:[s.jsx(ad,{className:"h-4 w-4 mr-2"}),i.filePath?"File Selected - Click to Change":"Choose File"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(D,{onClick:g,disabled:u.isPending||!i.name||!i.filePath,className:"flex-1","data-testid":"button-save-document",children:u.isPending?"Saving...":"Save Document"}),s.jsx(D,{variant:"outline",onClick:()=>a(!1),"data-testid":"button-cancel-upload",children:"Cancel"})]})]})]})]})]})}),s.jsx(q,{children:!l||l.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(nt,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No documents in filing cabinet yet"}),s.jsx("p",{className:"text-sm",children:'Click "Upload Document" to add the first document to the filing cabinet'})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:(l||[]).map(x=>s.jsxs("div",{className:"p-4 border rounded-lg hover:bg-gray-50 dark:hover:bg-gray-900/50 space-y-3","data-testid":`card-document-${x.id}`,children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(nt,{className:"h-6 w-6 text-blue-500 flex-shrink-0 mt-1"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-medium truncate","data-testid":`text-document-name-${x.id}`,children:x.name}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-1 text-sm text-muted-foreground",children:[x.type&&s.jsx("span",{className:"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 px-2 py-1 rounded-full text-xs",children:x.type}),x.fileSize&&s.jsx("span",{className:"text-xs",children:m(x.fileSize)}),s.jsx("span",{className:"text-xs",children:x.createdAt?p(x.createdAt.toString()):p(new Date().toISOString())})]}),x.description&&s.jsx("p",{className:"text-sm text-muted-foreground mt-2 line-clamp-2",children:x.description})]})]}),s.jsxs("div",{className:"flex items-center gap-2 pt-2 border-t",children:[x.fileUrl&&s.jsxs(D,{variant:"outline",size:"sm",onClick:()=>window.open(x.fileUrl,"_blank"),"data-testid":`button-view-document-${x.id}`,children:[s.jsx(fn,{className:"h-4 w-4 mr-1"}),"View"]}),s.jsxs(D,{variant:"outline",size:"sm",onClick:()=>d.mutate(x.id),disabled:d.isPending,"data-testid":`button-delete-document-${x.id}`,children:[s.jsx(Jn,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]},x.id))})})]})}function Dgt(){const{clientId:e}=W2(),[t,n]=b.useState("overview");b.useEffect(()=>{window.scrollTo(0,0)},[]);const{data:r,isLoading:a}=he({queryKey:["/api/clients",e]}),{data:i=[],isLoading:o}=he({queryKey:["/api/proposals","client",e]}),{data:l=[],isLoading:c}=he({queryKey:["/api/invoices","client",e]}),{data:d=[],isLoading:u}=he({queryKey:["/api/payments","client",e]});if(a)return s.jsxs("div",{className:"min-h-screen bg-neutral-50",children:[s.jsx(pt,{}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"animate-pulse space-y-6",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),s.jsx("div",{className:"h-48 bg-gray-200 rounded-lg"})]})})]});if(!r)return s.jsxs("div",{className:"min-h-screen bg-neutral-50",children:[s.jsx(pt,{}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Client Not Found"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"The client you're looking for doesn't exist."}),s.jsx(ze,{href:"/clients",children:s.jsxs(D,{className:"bg-[#FF7F00] hover:bg-[#e6720a] text-white",children:[s.jsx(ln,{className:"h-4 w-4 mr-2"}),"Back to Clients"]})})]})})]});const h=m=>{switch(m){case"active":return"default";case"inactive":return"secondary";case"prospect":return"outline";case"sent":return"secondary";case"accepted":return"default";case"rejected":return"destructive";case"paid":return"default";case"overdue":return"destructive";default:return"secondary"}},f=l.reduce((m,p)=>m+Number(p.amountPaid||0),0),g=l.reduce((m,p)=>m+Number(p.balanceDue||0),0);return s.jsxs("div",{className:"min-h-screen bg-neutral-50",children:[s.jsx(pt,{}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx(ze,{href:"/",children:s.jsxs(D,{variant:"outline",size:"sm","data-testid":"button-back-to-dashboard",children:[s.jsx(ln,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),s.jsx(ze,{href:"/clients",children:s.jsxs(D,{variant:"outline",size:"sm","data-testid":"button-back-to-clients",children:[s.jsx(ln,{className:"h-4 w-4 mr-2"}),"Back to Clients"]})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:r.name}),s.jsx(Z,{variant:h(r.status||""),"data-testid":`badge-status-${r.status||""}`,children:r.status})]}),s.jsxs("div",{className:"flex gap-3 mb-6",children:[s.jsx(ze,{href:`/create-proposal?clientId=${r.id}`,children:s.jsxs(D,{className:"bg-[#FF7F00] hover:bg-[#e6720a] text-white","data-testid":"button-new-proposal",children:[s.jsx(st,{className:"h-4 w-4 mr-2"}),"New Proposal"]})}),s.jsx(ze,{href:`/create-invoice?clientId=${r.id}`,children:s.jsxs(D,{variant:"outline","data-testid":"button-new-invoice",children:[s.jsx(st,{className:"h-4 w-4 mr-2"}),"New Invoice"]})})]}),s.jsx("div",{className:"mb-8",children:s.jsx(Egt,{clientId:e})}),s.jsxs(Kn,{value:t,onValueChange:n,className:"space-y-6",children:[s.jsxs(Mn,{className:"grid w-full grid-cols-4",children:[s.jsx(Re,{value:"overview",children:"Overview"}),s.jsxs(Re,{value:"proposals",children:["Proposals (",i.length,")"]}),s.jsxs(Re,{value:"invoices",children:["Invoices (",l.length,")"]}),s.jsxs(Re,{value:"payments",children:["Payments (",d.length,")"]})]}),s.jsx(Fe,{value:"overview",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs(B,{children:[s.jsx(ae,{children:s.jsx(ie,{children:"Client Information"})}),s.jsxs(q,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.company&&s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(_u,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Company"}),s.jsx("div",{className:"font-medium",children:r.company})]})]}),r.email&&s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Cs,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Email"}),s.jsx("div",{className:"font-medium",children:r.email})]})]}),r.phone&&s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(CR,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Phone"}),s.jsx("div",{className:"font-medium",children:r.phone})]})]}),r.website&&s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Y2,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Website"}),s.jsx("a",{href:r.website,target:"_blank",rel:"noopener noreferrer",className:"font-medium text-blue-600 hover:underline",children:r.website})]})]})]}),r.address&&s.jsxs("div",{className:"flex items-start gap-3 pt-4 border-t",children:[s.jsx(y0e,{className:"h-5 w-5 text-gray-400 mt-0.5"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Address"}),s.jsx("div",{className:"font-medium whitespace-pre-line",children:r.address})]})]}),r.notes&&s.jsxs("div",{className:"pt-4 border-t",children:[s.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"Notes"}),s.jsx("div",{className:"text-sm text-gray-700 whitespace-pre-line",children:r.notes})]})]})]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(B,{children:[s.jsx(ae,{children:s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(is,{className:"h-5 w-5"}),"Financial Summary"]})}),s.jsxs(q,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Total Revenue"}),s.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",f.toLocaleString()]})]}),g>0&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Outstanding Balance"}),s.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:["$",g.toLocaleString()]})]})]})]}),s.jsxs(B,{children:[s.jsx(ae,{children:s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(nt,{className:"h-5 w-5"}),"Activity Summary"]})}),s.jsxs(q,{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Proposals"}),s.jsx("span",{className:"font-medium",children:i.length})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Invoices"}),s.jsx("span",{className:"font-medium",children:l.length})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Payments"}),s.jsx("span",{className:"font-medium",children:d.length})]})]})]})]})]})}),s.jsx(Fe,{value:"proposals",children:s.jsxs(B,{children:[s.jsx(ae,{children:s.jsx(ie,{children:"Proposals"})}),s.jsx(q,{children:o?s.jsx("div",{className:"text-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#FF7F00] mx-auto"})}):i.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(nt,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No proposals yet"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Create the first proposal for this client."}),s.jsx(ze,{href:`/create-proposal?clientId=${r.id}`,children:s.jsxs(D,{className:"bg-[#FF7F00] hover:bg-[#e6720a] text-white",children:[s.jsx(st,{className:"h-4 w-4 mr-2"}),"Create Proposal"]})})]}):s.jsx("div",{className:"space-y-4",children:i.map(m=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:m.title}),s.jsx(Z,{variant:h(m.status||""),children:m.status})]}),s.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(en,{className:"h-4 w-4"}),m.createdAt?new Date(m.createdAt).toLocaleDateString():"N/A"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(is,{className:"h-4 w-4"}),"$",Number(m.calculatedTotal||0).toLocaleString()]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(D,{size:"sm",variant:"outline",children:[s.jsx(fn,{className:"h-4 w-4 mr-1"}),"View"]}),s.jsxs(D,{size:"sm",variant:"outline",children:[s.jsx(kn,{className:"h-4 w-4 mr-1"}),"Download"]})]})]})]},m.id))})})]})}),s.jsx(Fe,{value:"invoices",children:s.jsxs(B,{children:[s.jsx(ae,{children:s.jsx(ie,{children:"Invoices"})}),s.jsx(q,{children:c?s.jsx("div",{className:"text-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#FF7F00] mx-auto"})}):l.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(nt,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No invoices yet"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Create the first invoice for this client."}),s.jsx(ze,{href:`/create-invoice?clientId=${r.id}`,children:s.jsxs(D,{className:"bg-[#FF7F00] hover:bg-[#e6720a] text-white",children:[s.jsx(st,{className:"h-4 w-4 mr-2"}),"Create Invoice"]})})]}):s.jsx("div",{className:"space-y-4",children:l.map(m=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-gray-900",children:["#",m.invoiceNumber]}),m.proposalId&&s.jsx("p",{className:"text-sm text-gray-500",children:"From proposal"})]}),s.jsx(Z,{variant:h(m.status||"draft"),children:m.status||"draft"})]}),s.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(en,{className:"h-4 w-4"}),"Due: ",m.dueDate?new Date(m.dueDate).toLocaleDateString():"N/A"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(is,{className:"h-4 w-4"}),"Total: $",Number(m.totalAmount||0).toLocaleString()]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(is,{className:"h-4 w-4"}),"Due: $",Number(m.balanceDue||0).toLocaleString()]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(D,{size:"sm",variant:"outline",children:[s.jsx(fn,{className:"h-4 w-4 mr-1"}),"View"]}),s.jsxs(D,{size:"sm",variant:"outline",children:[s.jsx(kn,{className:"h-4 w-4 mr-1"}),"Download"]})]})]})]},m.id))})})]})}),s.jsx(Fe,{value:"payments",children:s.jsxs(B,{children:[s.jsx(ae,{children:s.jsx(ie,{children:"Payment History"})}),s.jsx(q,{children:u?s.jsx("div",{className:"text-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#FF7F00] mx-auto"})}):d.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(is,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No payments recorded"}),s.jsx("p",{className:"text-gray-600",children:"Payment history will appear here when payments are received."})]}):s.jsx("div",{className:"space-y-4",children:d.map(m=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"font-semibold text-gray-900",children:["$",Number(m.amount).toLocaleString()]}),m.isDeposit&&s.jsx(Z,{variant:"outline",className:"mt-1",children:"Deposit"})]}),s.jsxs("div",{className:"text-right text-sm text-gray-600",children:[s.jsx("div",{children:new Date(m.paymentDate).toLocaleDateString()}),m.paymentMethod&&s.jsx("div",{className:"capitalize",children:m.paymentMethod})]})]}),m.reference&&s.jsxs("div",{className:"text-sm text-gray-600",children:["Reference: ",m.reference]}),m.notes&&s.jsx("div",{className:"text-sm text-gray-600 mt-2",children:m.notes})]},m.id))})})]})})]})]})]})}function Ogt(){const{toast:e}=mt(),[t,n]=b.useState(null),[r,a]=b.useState(!1),[i,o]=b.useState(!1),[l,c]=b.useState(!1),[d,u]=b.useState(!1),[h,f]=b.useState(!1),[g,m]=b.useState(!1),[p,x]=b.useState({to:"",subject:"",content:"",priority:"medium",attachments:[]}),[v,y]=b.useState({to:"",subject:"",content:"",priority:"medium",attachments:[]}),j=[{id:"1",name:"Contract_Template.docx",size:45e3,type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"},{id:"2",name:"Invoice_2024.pdf",size:125e3,type:"application/pdf"},{id:"3",name:"Project_Proposal.pdf",size:89e3,type:"application/pdf"},{id:"4",name:"Meeting_Notes.txt",size:15e3,type:"text/plain"},{id:"5",name:"Budget_Spreadsheet.xlsx",size:67e3,type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}],{data:N=[],isLoading:w}=he({queryKey:["/api/messages"],queryFn:async()=>{const L=await ke("GET","/api/messages");return Array.isArray(L)?L:[]}}),S=N.map(L=>{var ee,le;return{id:L.id,from:((ee=L.fromUser)==null?void 0:ee.name)||((le=L.fromUser)==null?void 0:le.username)||"System",to:L.toEmail,subject:L.subject,content:L.content,timestamp:new Date(L.createdAt),read:L.isRead,priority:L.priority||"medium",attachments:L.attachments||[]}}),k=S.filter(L=>!L.read).length,_=L=>{switch(L){case"high":return"bg-red-500";case"medium":return"bg-orange-500";case"low":return"bg-blue-500";default:return"bg-gray-500"}},T=Se({mutationFn:L=>ke("POST","/api/messages",{toEmail:L.to,subject:L.subject,content:L.content,priority:L.priority,attachments:L.attachments}),onSuccess:()=>{e({title:"Message sent",description:"Your message has been sent successfully."}),a(!1),x({to:"",subject:"",content:"",priority:"medium",attachments:[]}),rt.invalidateQueries({queryKey:["/api/messages"]})},onError:()=>{e({title:"Error",description:"Failed to send message.",variant:"destructive"})}}),P=L=>{x(ee=>({...ee,attachments:[...ee.attachments,L]}))},C=()=>{const L=document.createElement("input");L.type="file",L.multiple=!0,L.accept="*/*",L.onchange=ee=>{const le=ee.target.files;le&&Array.from(le).forEach(ve=>{const ne={id:Date.now().toString()+Math.random().toString(36).substr(2,9),filename:ve.name,size:ve.size,type:ve.type||"application/octet-stream",url:URL.createObjectURL(ve)};P(ne)})},L.click(),c(!1)},A=L=>{const ee={id:L.id,filename:L.name,size:L.size,type:L.type,url:`/api/filing-cabinet/${L.id}`};P(ee),f(!1),c(!1)},E=L=>{y(ee=>({...ee,attachments:[...ee.attachments,L]}))},I=()=>{const L=document.createElement("input");L.type="file",L.multiple=!0,L.accept="*/*",L.onchange=ee=>{const le=ee.target.files;le&&Array.from(le).forEach(ve=>{const ne={id:Date.now().toString()+Math.random().toString(36).substr(2,9),filename:ve.name,size:ve.size,type:ve.type||"application/octet-stream",url:URL.createObjectURL(ve)};E(ne)})},L.click(),u(!1)},$=L=>{const ee={id:L.id,filename:L.name,size:L.size,type:L.type,url:`/api/filing-cabinet/${L.id}`};E(ee),m(!1),u(!1)},U=L=>{y(ee=>({...ee,attachments:ee.attachments.filter(le=>le.id!==L)}))},M=L=>{x(ee=>({...ee,attachments:ee.attachments.filter(le=>le.id!==L)}))},F=Se({mutationFn:L=>ke("PUT",`/api/messages/${L}/read`),onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/messages"]})}}),V=L=>{n(L),L.read||F.mutate(L.id)},Y=()=>{if(!p.to||!p.subject||!p.content){e({title:"Validation Error",description:"Please fill in all required fields.",variant:"destructive"});return}T.mutate(p)},K=()=>{if(!v.to||!v.subject||!v.content){e({title:"Validation Error",description:"Please fill in all required fields.",variant:"destructive"});return}T.mutate(v)},z=L=>{y({to:L.from,subject:L.subject.startsWith("Re: ")?L.subject:`Re: ${L.subject}`,content:`

--- Original Message ---
From: ${L.from}
Subject: ${L.subject}
Date: ${Me(L.timestamp,"MMM d, yyyy h:mm a")}

${L.content}`,priority:"medium",attachments:[]}),n(null),o(!0)};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(pt,{}),s.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(ze,{href:"/",children:s.jsxs(D,{variant:"outline",size:"sm","data-testid":"button-back-to-home",children:[s.jsx(ln,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Messages"}),s.jsx("p",{className:"text-gray-600 mt-2",children:k>0?`You have ${k} unread message${k>1?"s":""}`:"All messages read"})]})]}),s.jsxs(ut,{open:r,onOpenChange:a,children:[s.jsx(Ns,{asChild:!0,children:s.jsxs(D,{variant:"outline",className:"flex items-center space-x-2","data-testid":"button-compose",children:[s.jsx(Cs,{size:16}),s.jsx("span",{children:"Compose"})]})}),s.jsxs(lt,{className:"max-w-2xl",children:[s.jsxs(ct,{children:[s.jsx(dt,{children:"Compose Message"}),s.jsx(Gt,{children:"Send a new message with optional file attachments."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"to",children:"To *"}),s.jsx(te,{id:"to",placeholder:"Enter recipient email or name",value:p.to,onChange:L=>x(ee=>({...ee,to:L.target.value})),"data-testid":"input-message-to"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"subject",children:"Subject *"}),s.jsx(te,{id:"subject",placeholder:"Enter message subject",value:p.subject,onChange:L=>x(ee=>({...ee,subject:L.target.value})),"data-testid":"input-message-subject"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{children:"Priority"}),s.jsxs(Ke,{value:p.priority,onValueChange:L=>x(ee=>({...ee,priority:L})),children:[s.jsx(He,{"data-testid":"select-message-priority",children:s.jsx(Ge,{})}),s.jsxs(qe,{children:[s.jsx(Q,{value:"low",children:"Low"}),s.jsx(Q,{value:"medium",children:"Medium"}),s.jsx(Q,{value:"high",children:"High"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{children:"Attachments"}),s.jsxs(ut,{open:l,onOpenChange:c,children:[s.jsx(Ns,{asChild:!0,children:s.jsxs(D,{type:"button",variant:"outline",size:"sm",className:"w-full","data-testid":"button-attach-file",children:[s.jsx(Il,{className:"h-4 w-4 mr-2"}),"Attach File"]})}),s.jsxs(lt,{className:"max-w-md",children:[s.jsxs(ct,{children:[s.jsx(dt,{children:"Choose File Source"}),s.jsx(Gt,{children:"Select where you want to attach files from."})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(D,{variant:"outline",className:"w-full justify-start h-auto p-4",onClick:()=>f(!0),"data-testid":"button-filing-cabinet",children:[s.jsx(ls,{className:"h-5 w-5 mr-3 text-blue-600"}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-medium",children:"My Filing Cabinet"}),s.jsx("div",{className:"text-sm text-gray-500",children:"Choose from saved documents"})]})]}),s.jsxs(D,{variant:"outline",className:"w-full justify-start h-auto p-4",onClick:C,"data-testid":"button-my-device",children:[s.jsx(qE,{className:"h-5 w-5 mr-3 text-green-600"}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-medium",children:"My Device"}),s.jsx("div",{className:"text-sm text-gray-500",children:"Upload from computer"})]})]})]}),s.jsx(Ra,{children:s.jsx(D,{variant:"outline",onClick:()=>c(!1),children:"Cancel"})})]})]})]})]}),p.attachments.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs(W,{children:["Attachments (",p.attachments.length,")"]}),s.jsx("div",{className:"space-y-2",children:p.attachments.map(L=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded border",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(nt,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{className:"text-sm font-medium",children:L.filename}),s.jsxs("span",{className:"text-xs text-gray-500",children:["(",(L.size/1024).toFixed(1)," KB)"]})]}),s.jsx(D,{type:"button",variant:"ghost",size:"sm",onClick:()=>M(L.id),className:"text-red-500 hover:text-red-700","data-testid":`button-remove-attachment-${L.id}`,children:s.jsx(Kt,{className:"h-4 w-4"})})]},L.id))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"content",children:"Message *"}),s.jsx(it,{id:"content",placeholder:"Enter your message...",rows:6,value:p.content,onChange:L=>x(ee=>({...ee,content:L.target.value})),"data-testid":"textarea-message-content"})]})]}),s.jsxs(Ra,{children:[s.jsx(D,{variant:"outline",onClick:()=>a(!1),"data-testid":"button-cancel-compose",children:"Cancel"}),s.jsxs(D,{onClick:Y,disabled:T.isPending,"data-testid":"button-send-message",children:[T.isPending?s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):s.jsx(Hr,{className:"h-4 w-4 mr-2"}),"Send Message"]})]})]})]})]}),s.jsx("div",{className:"space-y-4",children:w?s.jsx(B,{children:s.jsxs(q,{className:"flex flex-col items-center justify-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Loading messages..."}),s.jsx("p",{className:"text-gray-600 text-center",children:"Please wait while we fetch your messages."})]})}):S.length===0?s.jsx(B,{children:s.jsxs(q,{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(Cs,{size:48,className:"text-gray-400 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No messages"}),s.jsx("p",{className:"text-gray-600 text-center",children:"You don't have any messages yet. Messages from the system and other users will appear here."})]})}):S.map(L=>s.jsxs(B,{className:`transition-colors hover:bg-gray-50 cursor-pointer ${L.read?"":"border-blue-200 bg-blue-50/30"}`,onClick:()=>V(L),"data-testid":`card-message-${L.id}`,children:[s.jsx(ae,{className:"pb-3",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"flex-shrink-0",children:L.read?s.jsx(x0e,{size:20,className:"text-gray-400"}):s.jsx(Cs,{size:20,className:"text-blue-600"})}),s.jsxs("div",{children:[s.jsxs(ie,{className:"text-base font-medium",children:[L.subject,!L.read&&s.jsx(Z,{variant:"secondary",className:"ml-2 text-xs",children:"New"})]}),s.jsxs(Lt,{className:"flex items-center space-x-2 mt-1",children:[s.jsxs("span",{children:["From: ",L.from]}),s.jsx("span",{children:""}),s.jsx("span",{children:Me(L.timestamp,"MMM d, yyyy h:mm a")}),s.jsx("div",{className:`w-2 h-2 rounded-full ${_(L.priority)}`})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(D,{variant:"ghost",size:"sm",children:s.jsx(YE,{size:16})}),s.jsx(D,{variant:"ghost",size:"sm",children:s.jsx(Jn,{size:16})})]})]})}),s.jsxs(q,{children:[s.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:L.content}),L.attachments&&L.attachments.length>0&&s.jsxs("div",{className:"mt-4 pt-4 border-t",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(Il,{className:"h-4 w-4 text-gray-500"}),s.jsxs("span",{className:"text-sm text-gray-600",children:[L.attachments.length," attachment",L.attachments.length>1?"s":""]})]}),s.jsx("div",{className:"space-y-2",children:L.attachments.map(ee=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded border",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(nt,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{className:"text-sm font-medium",children:ee.filename}),s.jsxs("span",{className:"text-xs text-gray-500",children:["(",(ee.size/1024).toFixed(1)," KB)"]})]}),s.jsx(D,{variant:"ghost",size:"sm","data-testid":`button-download-${ee.id}`,children:s.jsx(kn,{className:"h-4 w-4"})})]},ee.id))})]})]})]},L.id))}),t&&s.jsx(ut,{open:!!t,onOpenChange:()=>n(null),children:s.jsxs(lt,{className:"max-w-2xl",children:[s.jsxs(ct,{children:[s.jsxs(dt,{className:"flex items-center space-x-2",children:[s.jsx("span",{children:t.subject}),s.jsx("div",{className:`w-2 h-2 rounded-full ${_(t.priority)}`})]}),s.jsxs(Gt,{children:["From: ",t.from,"  ",Me(t.timestamp,"MMM d, yyyy h:mm a")]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(_s,{}),s.jsx("div",{className:"max-h-96 overflow-y-auto",children:s.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:t.content})}),t.attachments&&t.attachments.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(_s,{}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Il,{className:"h-4 w-4 text-gray-500"}),s.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[t.attachments.length," attachment",t.attachments.length>1?"s":""]})]}),s.jsx("div",{className:"space-y-2",children:t.attachments.map(L=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded border",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(nt,{className:"h-5 w-5 text-gray-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:L.filename}),s.jsxs("p",{className:"text-xs text-gray-500",children:[L.type,"  ",(L.size/1024).toFixed(1)," KB"]})]})]}),s.jsxs(D,{variant:"outline",size:"sm","data-testid":`button-download-detail-${L.id}`,children:[s.jsx(kn,{className:"h-4 w-4 mr-2"}),"Download"]})]},L.id))})]})]}),s.jsxs(Ra,{children:[s.jsx(D,{variant:"outline",onClick:()=>n(null),"data-testid":"button-close-message",children:"Close"}),s.jsxs(D,{variant:"outline",onClick:()=>t&&z(t),"data-testid":"button-reply-message",children:[s.jsx(YE,{className:"h-4 w-4 mr-2"}),"Reply"]})]})]})}),s.jsx(ut,{open:h,onOpenChange:f,children:s.jsxs(lt,{className:"max-w-2xl",children:[s.jsxs(ct,{children:[s.jsxs(dt,{className:"flex items-center space-x-2",children:[s.jsx(ls,{className:"h-5 w-5"}),s.jsx("span",{children:"My Filing Cabinet"})]}),s.jsx(Gt,{children:"Select files from your filing cabinet to attach to the message."})]}),s.jsx("div",{className:"max-h-96 overflow-y-auto",children:s.jsx("div",{className:"space-y-2",children:j.map(L=>{var ee;return s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>A(L),"data-testid":`filing-cabinet-file-${L.id}`,children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(nt,{className:"h-5 w-5 text-gray-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:L.name}),s.jsxs("p",{className:"text-xs text-gray-500",children:[((ee=L.type.split("/")[1])==null?void 0:ee.toUpperCase())||"FILE","  ",(L.size/1024).toFixed(1)," KB"]})]})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx(D,{variant:"ghost",size:"sm",children:s.jsx(ad,{className:"h-4 w-4"})})})]},L.id)})})}),s.jsx(Ra,{children:s.jsx(D,{variant:"outline",onClick:()=>f(!1),children:"Cancel"})})]})}),s.jsx(ut,{open:i,onOpenChange:o,children:s.jsxs(lt,{className:"max-w-2xl",children:[s.jsxs(ct,{children:[s.jsx(dt,{children:"Reply to Message"}),s.jsx(Gt,{children:"Send a reply with optional file attachments."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"reply-to",children:"To *"}),s.jsx(te,{id:"reply-to",placeholder:"Enter recipient email or name",value:v.to,onChange:L=>y(ee=>({...ee,to:L.target.value})),"data-testid":"input-reply-to"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"reply-subject",children:"Subject *"}),s.jsx(te,{id:"reply-subject",placeholder:"Enter message subject",value:v.subject,onChange:L=>y(ee=>({...ee,subject:L.target.value})),"data-testid":"input-reply-subject"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{children:"Priority"}),s.jsxs(Ke,{value:v.priority,onValueChange:L=>y(ee=>({...ee,priority:L})),children:[s.jsx(He,{"data-testid":"select-reply-priority",children:s.jsx(Ge,{})}),s.jsxs(qe,{children:[s.jsx(Q,{value:"low",children:"Low"}),s.jsx(Q,{value:"medium",children:"Medium"}),s.jsx(Q,{value:"high",children:"High"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{children:"Attachments"}),s.jsxs(ut,{open:d,onOpenChange:u,children:[s.jsx(Ns,{asChild:!0,children:s.jsxs(D,{type:"button",variant:"outline",size:"sm",className:"w-full","data-testid":"button-reply-attach-file",children:[s.jsx(Il,{className:"h-4 w-4 mr-2"}),"Attach File"]})}),s.jsxs(lt,{className:"max-w-md",children:[s.jsxs(ct,{children:[s.jsx(dt,{children:"Choose File Source"}),s.jsx(Gt,{children:"Select where you want to attach files from."})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(D,{variant:"outline",className:"w-full justify-start h-auto p-4",onClick:()=>m(!0),"data-testid":"button-reply-filing-cabinet",children:[s.jsx(ls,{className:"h-5 w-5 mr-3 text-blue-600"}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-medium",children:"My Filing Cabinet"}),s.jsx("div",{className:"text-sm text-gray-500",children:"Choose from saved documents"})]})]}),s.jsxs(D,{variant:"outline",className:"w-full justify-start h-auto p-4",onClick:I,"data-testid":"button-reply-my-device",children:[s.jsx(qE,{className:"h-5 w-5 mr-3 text-green-600"}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-medium",children:"My Device"}),s.jsx("div",{className:"text-sm text-gray-500",children:"Upload from computer"})]})]})]}),s.jsx(Ra,{children:s.jsx(D,{variant:"outline",onClick:()=>u(!1),children:"Cancel"})})]})]})]})]}),v.attachments.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs(W,{children:["Attachments (",v.attachments.length,")"]}),s.jsx("div",{className:"space-y-2",children:v.attachments.map(L=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded border",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(nt,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{className:"text-sm font-medium",children:L.filename}),s.jsxs("span",{className:"text-xs text-gray-500",children:["(",(L.size/1024).toFixed(1)," KB)"]})]}),s.jsx(D,{type:"button",variant:"ghost",size:"sm",onClick:()=>U(L.id),className:"text-red-500 hover:text-red-700","data-testid":`button-remove-reply-attachment-${L.id}`,children:s.jsx(Kt,{className:"h-4 w-4"})})]},L.id))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"reply-content",children:"Message *"}),s.jsx(it,{id:"reply-content",placeholder:"Enter your reply...",rows:8,value:v.content,onChange:L=>y(ee=>({...ee,content:L.target.value})),"data-testid":"textarea-reply-content"})]})]}),s.jsxs(Ra,{children:[s.jsx(D,{variant:"outline",onClick:()=>o(!1),"data-testid":"button-cancel-reply",children:"Cancel"}),s.jsxs(D,{onClick:K,disabled:T.isPending,"data-testid":"button-send-reply",children:[T.isPending?s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):s.jsx(Hr,{className:"h-4 w-4 mr-2"}),"Send Reply"]})]})]})}),s.jsx(ut,{open:g,onOpenChange:m,children:s.jsxs(lt,{className:"max-w-2xl",children:[s.jsxs(ct,{children:[s.jsxs(dt,{className:"flex items-center space-x-2",children:[s.jsx(ls,{className:"h-5 w-5"}),s.jsx("span",{children:"My Filing Cabinet"})]}),s.jsx(Gt,{children:"Select files from your filing cabinet to attach to your reply."})]}),s.jsx("div",{className:"max-h-96 overflow-y-auto",children:s.jsx("div",{className:"space-y-2",children:j.map(L=>{var ee;return s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>$(L),"data-testid":`reply-filing-cabinet-file-${L.id}`,children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(nt,{className:"h-5 w-5 text-gray-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:L.name}),s.jsxs("p",{className:"text-xs text-gray-500",children:[((ee=L.type.split("/")[1])==null?void 0:ee.toUpperCase())||"FILE","  ",(L.size/1024).toFixed(1)," KB"]})]})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx(D,{variant:"ghost",size:"sm",children:s.jsx(ad,{className:"h-4 w-4"})})})]},L.id)})})}),s.jsx(Ra,{children:s.jsx(D,{variant:"outline",onClick:()=>m(!1),children:"Cancel"})})]})})]})]})}var dfe=["PageUp","PageDown"],ufe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],hfe={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Gv="Slider",[YM,Mgt,Rgt]=uj(Gv),[ffe,i1t]=fs(Gv,[Rgt]),[$gt,eP]=ffe(Gv),mfe=b.forwardRef((e,t)=>{const{name:n,min:r=0,max:a=100,step:i=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:d=[r],value:u,onValueChange:h=()=>{},onValueCommit:f=()=>{},inverted:g=!1,form:m,...p}=e,x=b.useRef(new Set),v=b.useRef(0),j=o==="horizontal"?Igt:Fgt,[N=[],w]=bi({prop:u,defaultProp:d,onChange:C=>{var E;(E=[...x.current][v.current])==null||E.focus(),h(C)}}),S=b.useRef(N);function k(C){const A=Vgt(N,C);P(C,A)}function _(C){P(C,v.current)}function T(){const C=S.current[v.current];N[v.current]!==C&&f(N)}function P(C,A,{commit:E}={commit:!1}){const I=Kgt(i),$=Ggt(Math.round((C-r)/i)*i+r,I),U=l0($,[r,a]);w((M=[])=>{const F=Bgt(M,U,A);if(qgt(F,c*i)){v.current=F.indexOf(U);const V=String(F)!==String(M);return V&&E&&f(F),V?F:M}else return M})}return s.jsx($gt,{scope:e.__scopeSlider,name:n,disabled:l,min:r,max:a,valueIndexToChangeRef:v,thumbs:x.current,values:N,orientation:o,form:m,children:s.jsx(YM.Provider,{scope:e.__scopeSlider,children:s.jsx(YM.Slot,{scope:e.__scopeSlider,children:s.jsx(j,{"aria-disabled":l,"data-disabled":l?"":void 0,...p,ref:t,onPointerDown:Pe(p.onPointerDown,()=>{l||(S.current=N)}),min:r,max:a,inverted:g,onSlideStart:l?void 0:k,onSlideMove:l?void 0:_,onSlideEnd:l?void 0:T,onHomeKeyDown:()=>!l&&P(r,0,{commit:!0}),onEndKeyDown:()=>!l&&P(a,N.length-1,{commit:!0}),onStepKeyDown:({event:C,direction:A})=>{if(!l){const $=dfe.includes(C.key)||C.shiftKey&&ufe.includes(C.key)?10:1,U=v.current,M=N[U],F=i*$*A;P(M+F,U,{commit:!0})}}})})})})});mfe.displayName=Gv;var[pfe,gfe]=ffe(Gv,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Igt=b.forwardRef((e,t)=>{const{min:n,max:r,dir:a,inverted:i,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d,...u}=e,[h,f]=b.useState(null),g=wt(t,j=>f(j)),m=b.useRef(void 0),p=xv(a),x=p==="ltr",v=x&&!i||!x&&i;function y(j){const N=m.current||h.getBoundingClientRect(),w=[0,N.width],k=h5(w,v?[n,r]:[r,n]);return m.current=N,k(j-N.left)}return s.jsx(pfe,{scope:e.__scopeSlider,startEdge:v?"left":"right",endEdge:v?"right":"left",direction:v?1:-1,size:"width",children:s.jsx(vfe,{dir:p,"data-orientation":"horizontal",...u,ref:g,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:j=>{const N=y(j.clientX);o==null||o(N)},onSlideMove:j=>{const N=y(j.clientX);l==null||l(N)},onSlideEnd:()=>{m.current=void 0,c==null||c()},onStepKeyDown:j=>{const w=hfe[v?"from-left":"from-right"].includes(j.key);d==null||d({event:j,direction:w?-1:1})}})})}),Fgt=b.forwardRef((e,t)=>{const{min:n,max:r,inverted:a,onSlideStart:i,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...d}=e,u=b.useRef(null),h=wt(t,u),f=b.useRef(void 0),g=!a;function m(p){const x=f.current||u.current.getBoundingClientRect(),v=[0,x.height],j=h5(v,g?[r,n]:[n,r]);return f.current=x,j(p-x.top)}return s.jsx(pfe,{scope:e.__scopeSlider,startEdge:g?"bottom":"top",endEdge:g?"top":"bottom",size:"height",direction:g?1:-1,children:s.jsx(vfe,{"data-orientation":"vertical",...d,ref:h,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:p=>{const x=m(p.clientY);i==null||i(x)},onSlideMove:p=>{const x=m(p.clientY);o==null||o(x)},onSlideEnd:()=>{f.current=void 0,l==null||l()},onStepKeyDown:p=>{const v=hfe[g?"from-bottom":"from-top"].includes(p.key);c==null||c({event:p,direction:v?-1:1})}})})}),vfe=b.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:a,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...d}=e,u=eP(Gv,n);return s.jsx(Qe.span,{...d,ref:t,onKeyDown:Pe(e.onKeyDown,h=>{h.key==="Home"?(o(h),h.preventDefault()):h.key==="End"?(l(h),h.preventDefault()):dfe.concat(ufe).includes(h.key)&&(c(h),h.preventDefault())}),onPointerDown:Pe(e.onPointerDown,h=>{const f=h.target;f.setPointerCapture(h.pointerId),h.preventDefault(),u.thumbs.has(f)?f.focus():r(h)}),onPointerMove:Pe(e.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&a(h)}),onPointerUp:Pe(e.onPointerUp,h=>{const f=h.target;f.hasPointerCapture(h.pointerId)&&(f.releasePointerCapture(h.pointerId),i(h))})})}),xfe="SliderTrack",yfe=b.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,a=eP(xfe,n);return s.jsx(Qe.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...r,ref:t})});yfe.displayName=xfe;var XM="SliderRange",bfe=b.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,a=eP(XM,n),i=gfe(XM,n),o=b.useRef(null),l=wt(t,o),c=a.values.length,d=a.values.map(f=>wfe(f,a.min,a.max)),u=c>1?Math.min(...d):0,h=100-Math.max(...d);return s.jsx(Qe.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...r,ref:l,style:{...e.style,[i.startEdge]:u+"%",[i.endEdge]:h+"%"}})});bfe.displayName=XM;var QM="SliderThumb",jfe=b.forwardRef((e,t)=>{const n=Mgt(e.__scopeSlider),[r,a]=b.useState(null),i=wt(t,l=>a(l)),o=b.useMemo(()=>r?n().findIndex(l=>l.ref.current===r):-1,[n,r]);return s.jsx(Lgt,{...e,ref:i,index:o})}),Lgt=b.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:a,...i}=e,o=eP(QM,n),l=gfe(QM,n),[c,d]=b.useState(null),u=wt(t,y=>d(y)),h=c?o.form||!!c.closest("form"):!0,f=tk(c),g=o.values[r],m=g===void 0?0:wfe(g,o.min,o.max),p=Ugt(r,o.values.length),x=f==null?void 0:f[l.size],v=x?Wgt(x,m,l.direction):0;return b.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),s.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${m}% + ${v}px)`},children:[s.jsx(YM.ItemSlot,{scope:e.__scopeSlider,children:s.jsx(Qe.span,{role:"slider","aria-label":e["aria-label"]||p,"aria-valuemin":o.min,"aria-valuenow":g,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:u,style:g===void 0?{display:"none"}:e.style,onFocus:Pe(e.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),h&&s.jsx(zgt,{name:a??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:g},r)]})});jfe.displayName=QM;var zgt=e=>{const{value:t,...n}=e,r=b.useRef(null),a=bk(t);return b.useEffect(()=>{const i=r.current,o=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(o,"value").set;if(a!==t&&c){const d=new Event("input",{bubbles:!0});c.call(i,t),i.dispatchEvent(d)}},[a,t]),s.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:t})};function Bgt(e=[],t,n){const r=[...e];return r[n]=t,r.sort((a,i)=>a-i)}function wfe(e,t,n){const i=100/(n-t)*(e-t);return l0(i,[0,100])}function Ugt(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function Vgt(e,t){if(e.length===1)return 0;const n=e.map(a=>Math.abs(a-t)),r=Math.min(...n);return n.indexOf(r)}function Wgt(e,t,n){const r=e/2,i=h5([0,50],[0,r]);return(r-i(t)*n)*n}function Hgt(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function qgt(e,t){if(t>0){const n=Hgt(e);return Math.min(...n)>=t}return!0}function h5(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function Kgt(e){return(String(e).split(".")[1]||"").length}function Ggt(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var Nfe=mfe,Ygt=yfe,Xgt=bfe,Qgt=jfe;const Sfe=b.forwardRef(({className:e,...t},n)=>s.jsxs(Nfe,{ref:n,className:Ne("relative flex w-full touch-none select-none items-center",e),...t,children:[s.jsx(Ygt,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:s.jsx(Xgt,{className:"absolute h-full bg-primary"})}),s.jsx(Qgt,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Sfe.displayName=Nfe.displayName;var Nt=function(){return Nt=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Nt.apply(this,arguments)};function Zgt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function Cfe(e,t,n){for(var r=0,a=t.length,i;r<a;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function uw(e){return e.mode==="multiple"}function hw(e){return e.mode==="range"}function tP(e){return e.mode==="single"}var Jgt={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function evt(e,t){return Me(e,"LLLL y",t)}function tvt(e,t){return Me(e,"d",t)}function nvt(e,t){return Me(e,"LLLL",t)}function rvt(e){return"".concat(e)}function svt(e,t){return Me(e,"cccccc",t)}function avt(e,t){return Me(e,"yyyy",t)}var ivt=Object.freeze({__proto__:null,formatCaption:evt,formatDay:tvt,formatMonthCaption:nvt,formatWeekNumber:rvt,formatWeekdayName:svt,formatYearCaption:avt}),ovt=function(e,t,n){return Me(e,"do MMMM (EEEE)",n)},lvt=function(){return"Month: "},cvt=function(){return"Go to next month"},dvt=function(){return"Go to previous month"},uvt=function(e,t){return Me(e,"cccc",t)},hvt=function(e){return"Week n. ".concat(e)},fvt=function(){return"Year: "},mvt=Object.freeze({__proto__:null,labelDay:ovt,labelMonthDropdown:lvt,labelNext:cvt,labelPrevious:dvt,labelWeekNumber:hvt,labelWeekday:uvt,labelYearDropdown:fvt});function pvt(){var e="buttons",t=Jgt,n=u$,r={},a={},i=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:ivt,labels:mvt,locale:n,modifiersClassNames:r,modifiers:a,numberOfMonths:i,styles:o,today:l,mode:"default"}}function gvt(e){var t=e.fromYear,n=e.toYear,r=e.fromMonth,a=e.toMonth,i=e.fromDate,o=e.toDate;return r?i=ka(r):t&&(i=new Date(t,0,1)),a?o=Rj(a):n&&(o=new Date(n,11,31)),{fromDate:i?Hn(i):void 0,toDate:o?Hn(o):void 0}}var kfe=b.createContext(void 0);function vvt(e){var t,n=e.initialProps,r=pvt(),a=gvt(n),i=a.fromDate,o=a.toDate,l=(t=n.captionLayout)!==null&&t!==void 0?t:r.captionLayout;l!=="buttons"&&(!i||!o)&&(l="buttons");var c;(tP(n)||uw(n)||hw(n))&&(c=n.onSelect);var d=Nt(Nt(Nt({},r),n),{captionLayout:l,classNames:Nt(Nt({},r.classNames),n.classNames),components:Nt({},n.components),formatters:Nt(Nt({},r.formatters),n.formatters),fromDate:i,labels:Nt(Nt({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:Nt(Nt({},r.modifiers),n.modifiers),modifiersClassNames:Nt(Nt({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:Nt(Nt({},r.styles),n.styles),toDate:o});return s.jsx(kfe.Provider,{value:d,children:e.children})}function Rn(){var e=b.useContext(kfe);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function _fe(e){var t=Rn(),n=t.locale,r=t.classNames,a=t.styles,i=t.formatters.formatCaption;return s.jsx("div",{className:r.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:n})})}function xvt(e){return s.jsx("svg",Nt({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Pfe(e){var t,n,r=e.onChange,a=e.value,i=e.children,o=e.caption,l=e.className,c=e.style,d=Rn(),u=(n=(t=d.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:xvt;return s.jsxs("div",{className:l,style:c,children:[s.jsx("span",{className:d.classNames.vhidden,children:e["aria-label"]}),s.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:a,onChange:r,children:i}),s.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[o,s.jsx(u,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function yvt(e){var t,n=Rn(),r=n.fromDate,a=n.toDate,i=n.styles,o=n.locale,l=n.formatters.formatMonthCaption,c=n.classNames,d=n.components,u=n.labels.labelMonthDropdown;if(!r)return s.jsx(s.Fragment,{});if(!a)return s.jsx(s.Fragment,{});var h=[];if(NCe(r,a))for(var f=ka(r),g=r.getMonth();g<=a.getMonth();g++)h.push(aT(f,g));else for(var f=ka(new Date),g=0;g<=11;g++)h.push(aT(f,g));var m=function(x){var v=Number(x.target.value),y=aT(ka(e.displayMonth),v);e.onChange(y)},p=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:Pfe;return s.jsx(p,{name:"months","aria-label":u(),className:c.dropdown_month,style:i.dropdown_month,onChange:m,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:h.map(function(x){return s.jsx("option",{value:x.getMonth(),children:l(x,{locale:o})},x.getMonth())})})}function bvt(e){var t,n=e.displayMonth,r=Rn(),a=r.fromDate,i=r.toDate,o=r.locale,l=r.styles,c=r.classNames,d=r.components,u=r.formatters.formatYearCaption,h=r.labels.labelYearDropdown,f=[];if(!a)return s.jsx(s.Fragment,{});if(!i)return s.jsx(s.Fragment,{});for(var g=a.getFullYear(),m=i.getFullYear(),p=g;p<=m;p++)f.push(pL(cte(new Date),p));var x=function(y){var j=pL(ka(n),Number(y.target.value));e.onChange(j)},v=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:Pfe;return s.jsx(v,{name:"years","aria-label":h(),className:c.dropdown_year,style:l.dropdown_year,onChange:x,value:n.getFullYear(),caption:u(n,{locale:o}),children:f.map(function(y){return s.jsx("option",{value:y.getFullYear(),children:u(y,{locale:o})},y.getFullYear())})})}function jvt(e,t){var n=b.useState(e),r=n[0],a=n[1],i=t===void 0?r:t;return[i,a]}function wvt(e){var t=e.month,n=e.defaultMonth,r=e.today,a=t||n||r||new Date,i=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(i&&mg(i,a)<0){var d=-1*(c-1);a=no(i,d)}return o&&mg(a,o)<0&&(a=o),ka(a)}function Nvt(){var e=Rn(),t=wvt(e),n=jvt(t,e.month),r=n[0],a=n[1],i=function(o){var l;if(!e.disableNavigation){var c=ka(o);a(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[r,i]}function Svt(e,t){for(var n=t.reverseMonths,r=t.numberOfMonths,a=ka(e),i=ka(no(a,r)),o=mg(i,a),l=[],c=0;c<o;c++){var d=no(a,c);l.push(d)}return n&&(l=l.reverse()),l}function Cvt(e,t){if(!t.disableNavigation){var n=t.toDate,r=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=r?i:1,l=ka(e);if(!n)return no(l,o);var c=mg(n,e);if(!(c<i))return no(l,o)}}function kvt(e,t){if(!t.disableNavigation){var n=t.fromDate,r=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=r?i:1,l=ka(e);if(!n)return no(l,-o);var c=mg(l,n);if(!(c<=0))return no(l,-o)}}var Tfe=b.createContext(void 0);function _vt(e){var t=Rn(),n=Nvt(),r=n[0],a=n[1],i=Svt(r,t),o=Cvt(r,t),l=kvt(r,t),c=function(h){return i.some(function(f){return h$(h,f)})},d=function(h,f){c(h)||(f&&hy(h,f)?a(no(h,1+t.numberOfMonths*-1)):a(h))},u={currentMonth:r,displayMonths:i,goToMonth:a,goToDate:d,previousMonth:l,nextMonth:o,isDateDisplayed:c};return s.jsx(Tfe.Provider,{value:u,children:e.children})}function fw(){var e=b.useContext(Tfe);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function i7(e){var t,n=Rn(),r=n.classNames,a=n.styles,i=n.components,o=fw().goToMonth,l=function(u){o(no(u,e.displayIndex?-e.displayIndex:0))},c=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:_fe,d=s.jsx(c,{id:e.id,displayMonth:e.displayMonth});return s.jsxs("div",{className:r.caption_dropdowns,style:a.caption_dropdowns,children:[s.jsx("div",{className:r.vhidden,children:d}),s.jsx(yvt,{onChange:l,displayMonth:e.displayMonth}),s.jsx(bvt,{onChange:l,displayMonth:e.displayMonth})]})}function Pvt(e){return s.jsx("svg",Nt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Tvt(e){return s.jsx("svg",Nt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var a2=b.forwardRef(function(e,t){var n=Rn(),r=n.classNames,a=n.styles,i=[r.button_reset,r.button];e.className&&i.push(e.className);var o=i.join(" "),l=Nt(Nt({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),s.jsx("button",Nt({},e,{ref:t,type:"button",className:o,style:l}))});function Avt(e){var t,n,r=Rn(),a=r.dir,i=r.locale,o=r.classNames,l=r.styles,c=r.labels,d=c.labelPrevious,u=c.labelNext,h=r.components;if(!e.nextMonth&&!e.previousMonth)return s.jsx(s.Fragment,{});var f=d(e.previousMonth,{locale:i}),g=[o.nav_button,o.nav_button_previous].join(" "),m=u(e.nextMonth,{locale:i}),p=[o.nav_button,o.nav_button_next].join(" "),x=(t=h==null?void 0:h.IconRight)!==null&&t!==void 0?t:Tvt,v=(n=h==null?void 0:h.IconLeft)!==null&&n!==void 0?n:Pvt;return s.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&s.jsx(a2,{name:"previous-month","aria-label":f,className:g,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?s.jsx(x,{className:o.nav_icon,style:l.nav_icon}):s.jsx(v,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&s.jsx(a2,{name:"next-month","aria-label":m,className:p,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?s.jsx(v,{className:o.nav_icon,style:l.nav_icon}):s.jsx(x,{className:o.nav_icon,style:l.nav_icon})})]})}function o7(e){var t=Rn().numberOfMonths,n=fw(),r=n.previousMonth,a=n.nextMonth,i=n.goToMonth,o=n.displayMonths,l=o.findIndex(function(m){return h$(e.displayMonth,m)}),c=l===0,d=l===o.length-1,u=t>1&&(c||!d),h=t>1&&(d||!c),f=function(){r&&i(r)},g=function(){a&&i(a)};return s.jsx(Avt,{displayMonth:e.displayMonth,hideNext:u,hidePrevious:h,nextMonth:a,previousMonth:r,onPreviousClick:f,onNextClick:g})}function Evt(e){var t,n=Rn(),r=n.classNames,a=n.disableNavigation,i=n.styles,o=n.captionLayout,l=n.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:_fe,d;return a?d=s.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?d=s.jsx(i7,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?d=s.jsxs(s.Fragment,{children:[s.jsx(i7,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),s.jsx(o7,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):d=s.jsxs(s.Fragment,{children:[s.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(o7,{displayMonth:e.displayMonth,id:e.id})]}),s.jsx("div",{className:r.caption,style:i.caption,children:d})}function Dvt(e){var t=Rn(),n=t.footer,r=t.styles,a=t.classNames.tfoot;return n?s.jsx("tfoot",{className:a,style:r.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:n})})}):s.jsx(s.Fragment,{})}function Ovt(e,t,n){for(var r=n?_f(new Date):ic(new Date,{locale:e,weekStartsOn:t}),a=[],i=0;i<7;i++){var o=Jr(r,i);a.push(o)}return a}function Mvt(){var e=Rn(),t=e.classNames,n=e.styles,r=e.showWeekNumber,a=e.locale,i=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,d=Ovt(a,i,o);return s.jsxs("tr",{style:n.head_row,className:t.head_row,children:[r&&s.jsx("td",{style:n.head_cell,className:t.head_cell}),d.map(function(u,h){return s.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":c(u,{locale:a}),children:l(u,{locale:a})},h)})]})}function Rvt(){var e,t=Rn(),n=t.classNames,r=t.styles,a=t.components,i=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:Mvt;return s.jsx("thead",{style:r.head,className:n.head,children:s.jsx(i,{})})}function $vt(e){var t=Rn(),n=t.locale,r=t.formatters.formatDay;return s.jsx(s.Fragment,{children:r(e.date,{locale:n})})}var f5=b.createContext(void 0);function Ivt(e){if(!uw(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return s.jsx(f5.Provider,{value:t,children:e.children})}return s.jsx(Fvt,{initialProps:e.initialProps,children:e.children})}function Fvt(e){var t=e.initialProps,n=e.children,r=t.selected,a=t.min,i=t.max,o=function(d,u,h){var f,g;(f=t.onDayClick)===null||f===void 0||f.call(t,d,u,h);var m=!!(u.selected&&a&&(r==null?void 0:r.length)===a);if(!m){var p=!!(!u.selected&&i&&(r==null?void 0:r.length)===i);if(!p){var x=r?Cfe([],r):[];if(u.selected){var v=x.findIndex(function(y){return La(d,y)});x.splice(v,1)}else x.push(d);(g=t.onSelect)===null||g===void 0||g.call(t,x,d,u,h)}}},l={disabled:[]};r&&l.disabled.push(function(d){var u=i&&r.length>i-1,h=r.some(function(f){return La(f,d)});return!!(u&&!h)});var c={selected:r,onDayClick:o,modifiers:l};return s.jsx(f5.Provider,{value:c,children:n})}function m5(){var e=b.useContext(f5);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function Lvt(e,t){var n=t||{},r=n.from,a=n.to;return r&&a?La(a,e)&&La(r,e)?void 0:La(a,e)?{from:a,to:void 0}:La(r,e)?void 0:pg(r,e)?{from:e,to:a}:{from:r,to:e}:a?pg(e,a)?{from:a,to:e}:{from:e,to:a}:r?hy(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}var p5=b.createContext(void 0);function zvt(e){if(!hw(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(p5.Provider,{value:t,children:e.children})}return s.jsx(Bvt,{initialProps:e.initialProps,children:e.children})}function Bvt(e){var t=e.initialProps,n=e.children,r=t.selected,a=r||{},i=a.from,o=a.to,l=t.min,c=t.max,d=function(g,m,p){var x,v;(x=t.onDayClick)===null||x===void 0||x.call(t,g,m,p);var y=Lvt(g,r);(v=t.onSelect)===null||v===void 0||v.call(t,y,g,m,p)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(u.range_start=[i],o?(u.range_end=[o],La(i,o)||(u.range_middle=[{after:i,before:o}])):u.range_end=[i]):o&&(u.range_start=[o],u.range_end=[o]),l&&(i&&!o&&u.disabled.push({after:cp(i,l-1),before:Jr(i,l-1)}),i&&o&&u.disabled.push({after:i,before:Jr(i,l-1)}),!i&&o&&u.disabled.push({after:cp(o,l-1),before:Jr(o,l-1)})),c){if(i&&!o&&(u.disabled.push({before:Jr(i,-c+1)}),u.disabled.push({after:Jr(i,c-1)})),i&&o){var h=Fl(o,i)+1,f=c-h;u.disabled.push({before:cp(i,f)}),u.disabled.push({after:Jr(o,f)})}!i&&o&&(u.disabled.push({before:Jr(o,-c+1)}),u.disabled.push({after:Jr(o,c-1)}))}return s.jsx(p5.Provider,{value:{selected:r,onDayClick:d,modifiers:u},children:n})}function g5(){var e=b.useContext(p5);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function N1(e){return Array.isArray(e)?Cfe([],e):e!==void 0?[e]:[]}function Uvt(e){var t={};return Object.entries(e).forEach(function(n){var r=n[0],a=n[1];t[r]=N1(a)}),t}var il;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(il||(il={}));var Vvt=il.Selected,Nc=il.Disabled,Wvt=il.Hidden,Hvt=il.Today,gA=il.RangeEnd,vA=il.RangeMiddle,xA=il.RangeStart,qvt=il.Outside;function Kvt(e,t,n){var r,a=(r={},r[Vvt]=N1(e.selected),r[Nc]=N1(e.disabled),r[Wvt]=N1(e.hidden),r[Hvt]=[e.today],r[gA]=[],r[vA]=[],r[xA]=[],r[qvt]=[],r);return e.fromDate&&a[Nc].push({before:e.fromDate}),e.toDate&&a[Nc].push({after:e.toDate}),uw(e)?a[Nc]=a[Nc].concat(t.modifiers[Nc]):hw(e)&&(a[Nc]=a[Nc].concat(n.modifiers[Nc]),a[xA]=n.modifiers[xA],a[vA]=n.modifiers[vA],a[gA]=n.modifiers[gA]),a}var Afe=b.createContext(void 0);function Gvt(e){var t=Rn(),n=m5(),r=g5(),a=Kvt(t,n,r),i=Uvt(t.modifiers),o=Nt(Nt({},a),i);return s.jsx(Afe.Provider,{value:o,children:e.children})}function Efe(){var e=b.useContext(Afe);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function Yvt(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Xvt(e){return!!(e&&typeof e=="object"&&"from"in e)}function Qvt(e){return!!(e&&typeof e=="object"&&"after"in e)}function Zvt(e){return!!(e&&typeof e=="object"&&"before"in e)}function Jvt(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function ext(e,t){var n,r=t.from,a=t.to;if(r&&a){var i=Fl(a,r)<0;i&&(n=[a,r],r=n[0],a=n[1]);var o=Fl(e,r)>=0&&Fl(a,e)>=0;return o}return a?La(a,e):r?La(r,e):!1}function txt(e){return c$(e)}function nxt(e){return Array.isArray(e)&&e.every(c$)}function rxt(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(txt(n))return La(e,n);if(nxt(n))return n.includes(e);if(Xvt(n))return ext(e,n);if(Jvt(n))return n.dayOfWeek.includes(e.getDay());if(Yvt(n)){var r=Fl(n.before,e),a=Fl(n.after,e),i=r>0,o=a<0,l=pg(n.before,n.after);return l?o&&i:i||o}return Qvt(n)?Fl(e,n.after)>0:Zvt(n)?Fl(n.before,e)>0:typeof n=="function"?n(e):!1})}function v5(e,t,n){var r=Object.keys(t).reduce(function(i,o){var l=t[o];return rxt(e,l)&&i.push(o),i},[]),a={};return r.forEach(function(i){return a[i]=!0}),n&&!h$(e,n)&&(a.outside=!0),a}function sxt(e,t){for(var n=ka(e[0]),r=Rj(e[e.length-1]),a,i,o=n;o<=r;){var l=v5(o,t),c=!l.disabled&&!l.hidden;if(!c){o=Jr(o,1);continue}if(l.selected)return o;l.today&&!i&&(i=o),a||(a=o),o=Jr(o,1)}return i||a}var axt=365;function Dfe(e,t){var n=t.moveBy,r=t.direction,a=t.context,i=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=a.weekStartsOn,d=a.fromDate,u=a.toDate,h=a.locale,f={day:Jr,week:mS,month:no,year:hSe,startOfWeek:function(x){return a.ISOWeek?_f(x):ic(x,{locale:h,weekStartsOn:c})},endOfWeek:function(x){return a.ISOWeek?dte(x):d$(x,{locale:h,weekStartsOn:c})}},g=f[n](e,r==="after"?1:-1);r==="before"&&d?g=fSe([d,g]):r==="after"&&u&&(g=mSe([u,g]));var m=!0;if(i){var p=v5(g,i);m=!p.disabled&&!p.hidden}return m?g:l.count>axt?l.lastFocused:Dfe(g,{moveBy:n,direction:r,context:a,modifiers:i,retry:Nt(Nt({},l),{count:l.count+1})})}var Ofe=b.createContext(void 0);function ixt(e){var t=fw(),n=Efe(),r=b.useState(),a=r[0],i=r[1],o=b.useState(),l=o[0],c=o[1],d=sxt(t.displayMonths,n),u=a??(l&&t.isDateDisplayed(l))?l:d,h=function(){c(a),i(void 0)},f=function(x){i(x)},g=Rn(),m=function(x,v){if(a){var y=Dfe(a,{moveBy:x,direction:v,context:g,modifiers:n});La(a,y)||(t.goToDate(y,a),f(y))}},p={focusedDay:a,focusTarget:u,blur:h,focus:f,focusDayAfter:function(){return m("day","after")},focusDayBefore:function(){return m("day","before")},focusWeekAfter:function(){return m("week","after")},focusWeekBefore:function(){return m("week","before")},focusMonthBefore:function(){return m("month","before")},focusMonthAfter:function(){return m("month","after")},focusYearBefore:function(){return m("year","before")},focusYearAfter:function(){return m("year","after")},focusStartOfWeek:function(){return m("startOfWeek","before")},focusEndOfWeek:function(){return m("endOfWeek","after")}};return s.jsx(Ofe.Provider,{value:p,children:e.children})}function x5(){var e=b.useContext(Ofe);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function oxt(e,t){var n=Efe(),r=v5(e,n,t);return r}var y5=b.createContext(void 0);function lxt(e){if(!tP(e.initialProps)){var t={selected:void 0};return s.jsx(y5.Provider,{value:t,children:e.children})}return s.jsx(cxt,{initialProps:e.initialProps,children:e.children})}function cxt(e){var t=e.initialProps,n=e.children,r=function(i,o,l){var c,d,u;if((c=t.onDayClick)===null||c===void 0||c.call(t,i,o,l),o.selected&&!t.required){(d=t.onSelect)===null||d===void 0||d.call(t,void 0,i,o,l);return}(u=t.onSelect)===null||u===void 0||u.call(t,i,i,o,l)},a={selected:t.selected,onDayClick:r};return s.jsx(y5.Provider,{value:a,children:n})}function Mfe(){var e=b.useContext(y5);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function dxt(e,t){var n=Rn(),r=Mfe(),a=m5(),i=g5(),o=x5(),l=o.focusDayAfter,c=o.focusDayBefore,d=o.focusWeekAfter,u=o.focusWeekBefore,h=o.blur,f=o.focus,g=o.focusMonthBefore,m=o.focusMonthAfter,p=o.focusYearBefore,x=o.focusYearAfter,v=o.focusStartOfWeek,y=o.focusEndOfWeek,j=function(M){var F,V,Y,K;tP(n)?(F=r.onDayClick)===null||F===void 0||F.call(r,e,t,M):uw(n)?(V=a.onDayClick)===null||V===void 0||V.call(a,e,t,M):hw(n)?(Y=i.onDayClick)===null||Y===void 0||Y.call(i,e,t,M):(K=n.onDayClick)===null||K===void 0||K.call(n,e,t,M)},N=function(M){var F;f(e),(F=n.onDayFocus)===null||F===void 0||F.call(n,e,t,M)},w=function(M){var F;h(),(F=n.onDayBlur)===null||F===void 0||F.call(n,e,t,M)},S=function(M){var F;(F=n.onDayMouseEnter)===null||F===void 0||F.call(n,e,t,M)},k=function(M){var F;(F=n.onDayMouseLeave)===null||F===void 0||F.call(n,e,t,M)},_=function(M){var F;(F=n.onDayPointerEnter)===null||F===void 0||F.call(n,e,t,M)},T=function(M){var F;(F=n.onDayPointerLeave)===null||F===void 0||F.call(n,e,t,M)},P=function(M){var F;(F=n.onDayTouchCancel)===null||F===void 0||F.call(n,e,t,M)},C=function(M){var F;(F=n.onDayTouchEnd)===null||F===void 0||F.call(n,e,t,M)},A=function(M){var F;(F=n.onDayTouchMove)===null||F===void 0||F.call(n,e,t,M)},E=function(M){var F;(F=n.onDayTouchStart)===null||F===void 0||F.call(n,e,t,M)},I=function(M){var F;(F=n.onDayKeyUp)===null||F===void 0||F.call(n,e,t,M)},$=function(M){var F;switch(M.key){case"ArrowLeft":M.preventDefault(),M.stopPropagation(),n.dir==="rtl"?l():c();break;case"ArrowRight":M.preventDefault(),M.stopPropagation(),n.dir==="rtl"?c():l();break;case"ArrowDown":M.preventDefault(),M.stopPropagation(),d();break;case"ArrowUp":M.preventDefault(),M.stopPropagation(),u();break;case"PageUp":M.preventDefault(),M.stopPropagation(),M.shiftKey?p():g();break;case"PageDown":M.preventDefault(),M.stopPropagation(),M.shiftKey?x():m();break;case"Home":M.preventDefault(),M.stopPropagation(),v();break;case"End":M.preventDefault(),M.stopPropagation(),y();break}(F=n.onDayKeyDown)===null||F===void 0||F.call(n,e,t,M)},U={onClick:j,onFocus:N,onBlur:w,onKeyDown:$,onKeyUp:I,onMouseEnter:S,onMouseLeave:k,onPointerEnter:_,onPointerLeave:T,onTouchCancel:P,onTouchEnd:C,onTouchMove:A,onTouchStart:E};return U}function uxt(){var e=Rn(),t=Mfe(),n=m5(),r=g5(),a=tP(e)?t.selected:uw(e)?n.selected:hw(e)?r.selected:void 0;return a}function hxt(e){return Object.values(il).includes(e)}function fxt(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(r){var a=e.modifiersClassNames[r];if(a)n.push(a);else if(hxt(r)){var i=e.classNames["day_".concat(r)];i&&n.push(i)}}),n}function mxt(e,t){var n=Nt({},e.styles.day);return Object.keys(t).forEach(function(r){var a;n=Nt(Nt({},n),(a=e.modifiersStyles)===null||a===void 0?void 0:a[r])}),n}function pxt(e,t,n){var r,a,i,o=Rn(),l=x5(),c=oxt(e,t),d=dxt(e,c),u=uxt(),h=!!(o.onDayClick||o.mode!=="default");b.useEffect(function(){var S;c.outside||l.focusedDay&&h&&La(l.focusedDay,e)&&((S=n.current)===null||S===void 0||S.focus())},[l.focusedDay,e,n,h,c.outside]);var f=fxt(o,c).join(" "),g=mxt(o,c),m=!!(c.outside&&!o.showOutsideDays||c.hidden),p=(i=(a=o.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:$vt,x=s.jsx(p,{date:e,displayMonth:t,activeModifiers:c}),v={style:g,className:f,children:x,role:"gridcell"},y=l.focusTarget&&La(l.focusTarget,e)&&!c.outside,j=l.focusedDay&&La(l.focusedDay,e),N=Nt(Nt(Nt({},v),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=j||y?0:-1,r)),d),w={isButton:h,isHidden:m,activeModifiers:c,selectedDays:u,buttonProps:N,divProps:v};return w}function gxt(e){var t=b.useRef(null),n=pxt(e.date,e.displayMonth,t);return n.isHidden?s.jsx("div",{role:"gridcell"}):n.isButton?s.jsx(a2,Nt({name:"day",ref:t},n.buttonProps)):s.jsx("div",Nt({},n.divProps))}function vxt(e){var t=e.number,n=e.dates,r=Rn(),a=r.onWeekNumberClick,i=r.styles,o=r.classNames,l=r.locale,c=r.labels.labelWeekNumber,d=r.formatters.formatWeekNumber,u=d(Number(t),{locale:l});if(!a)return s.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:u});var h=c(Number(t),{locale:l}),f=function(g){a(t,n,g)};return s.jsx(a2,{name:"week-number","aria-label":h,className:o.weeknumber,style:i.weeknumber,onClick:f,children:u})}function xxt(e){var t,n,r=Rn(),a=r.styles,i=r.classNames,o=r.showWeekNumber,l=r.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:gxt,d=(n=l==null?void 0:l.WeekNumber)!==null&&n!==void 0?n:vxt,u;return o&&(u=s.jsx("td",{className:i.cell,style:a.cell,children:s.jsx(d,{number:e.weekNumber,dates:e.dates})})),s.jsxs("tr",{className:i.row,style:a.row,children:[u,e.dates.map(function(h){return s.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:s.jsx(c,{displayMonth:e.displayMonth,date:h})},bCe(h))})]})}function l7(e,t,n){for(var r=n!=null&&n.ISOWeek?dte(t):d$(t,n),a=n!=null&&n.ISOWeek?_f(e):ic(e,n),i=Fl(r,a),o=[],l=0;l<=i;l++)o.push(Jr(a,l));var c=o.reduce(function(d,u){var h=n!=null&&n.ISOWeek?ute(u):fte(u,n),f=d.find(function(g){return g.weekNumber===h});return f?(f.dates.push(u),d):(d.push({weekNumber:h,dates:[u]}),d)},[]);return c}function yxt(e,t){var n=l7(ka(e),Rj(e),t);if(t!=null&&t.useFixedWeeks){var r=wCe(e,t);if(r<6){var a=n[n.length-1],i=a.dates[a.dates.length-1],o=mS(i,6-r),l=l7(mS(i,1),o,t);n.push.apply(n,l)}}return n}function bxt(e){var t,n,r,a=Rn(),i=a.locale,o=a.classNames,l=a.styles,c=a.hideHead,d=a.fixedWeeks,u=a.components,h=a.weekStartsOn,f=a.firstWeekContainsDate,g=a.ISOWeek,m=yxt(e.displayMonth,{useFixedWeeks:!!d,ISOWeek:g,locale:i,weekStartsOn:h,firstWeekContainsDate:f}),p=(t=u==null?void 0:u.Head)!==null&&t!==void 0?t:Rvt,x=(n=u==null?void 0:u.Row)!==null&&n!==void 0?n:xxt,v=(r=u==null?void 0:u.Footer)!==null&&r!==void 0?r:Dvt;return s.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&s.jsx(p,{}),s.jsx("tbody",{className:o.tbody,style:l.tbody,children:m.map(function(y){return s.jsx(x,{displayMonth:e.displayMonth,dates:y.dates,weekNumber:y.weekNumber},y.weekNumber)})}),s.jsx(v,{displayMonth:e.displayMonth})]})}function jxt(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var wxt=jxt()?b.useLayoutEffect:b.useEffect,yA=!1,Nxt=0;function c7(){return"react-day-picker-".concat(++Nxt)}function Sxt(e){var t,n=e??(yA?c7():null),r=b.useState(n),a=r[0],i=r[1];return wxt(function(){a===null&&i(c7())},[]),b.useEffect(function(){yA===!1&&(yA=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function Cxt(e){var t,n,r=Rn(),a=r.dir,i=r.classNames,o=r.styles,l=r.components,c=fw().displayMonths,d=Sxt(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),u=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,h=[i.month],f=o.month,g=e.displayIndex===0,m=e.displayIndex===c.length-1,p=!g&&!m;a==="rtl"&&(t=[g,m],m=t[0],g=t[1]),g&&(h.push(i.caption_start),f=Nt(Nt({},f),o.caption_start)),m&&(h.push(i.caption_end),f=Nt(Nt({},f),o.caption_end)),p&&(h.push(i.caption_between),f=Nt(Nt({},f),o.caption_between));var x=(n=l==null?void 0:l.Caption)!==null&&n!==void 0?n:Evt;return s.jsxs("div",{className:h.join(" "),style:f,children:[s.jsx(x,{id:d,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(bxt,{id:u,"aria-labelledby":d,displayMonth:e.displayMonth})]},e.displayIndex)}function kxt(e){var t=Rn(),n=t.classNames,r=t.styles;return s.jsx("div",{className:n.months,style:r.months,children:e.children})}function _xt(e){var t,n,r=e.initialProps,a=Rn(),i=x5(),o=fw(),l=b.useState(!1),c=l[0],d=l[1];b.useEffect(function(){a.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),d(!0)))},[a.initialFocus,c,i.focus,i.focusTarget,i]);var u=[a.classNames.root,a.className];a.numberOfMonths>1&&u.push(a.classNames.multiple_months),a.showWeekNumber&&u.push(a.classNames.with_weeknumber);var h=Nt(Nt({},a.styles.root),a.style),f=Object.keys(r).filter(function(m){return m.startsWith("data-")}).reduce(function(m,p){var x;return Nt(Nt({},m),(x={},x[p]=r[p],x))},{}),g=(n=(t=r.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:kxt;return s.jsx("div",Nt({className:u.join(" "),style:h,dir:a.dir,id:a.id,nonce:r.nonce,title:r.title,lang:r.lang},f,{children:s.jsx(g,{children:o.displayMonths.map(function(m,p){return s.jsx(Cxt,{displayIndex:p,displayMonth:m},p)})})}))}function Pxt(e){var t=e.children,n=Zgt(e,["children"]);return s.jsx(vvt,{initialProps:n,children:s.jsx(_vt,{children:s.jsx(lxt,{initialProps:n,children:s.jsx(Ivt,{initialProps:n,children:s.jsx(zvt,{initialProps:n,children:s.jsx(Gvt,{children:s.jsx(ixt,{children:t})})})})})})})}function Txt(e){return s.jsx(Pxt,Nt({},e,{children:s.jsx(_xt,{initialProps:e})}))}function ZM({className:e,classNames:t,showOutsideDays:n=!0,...r}){return s.jsx(Txt,{showOutsideDays:n,className:Ne("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Ne(r0({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Ne(r0({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({className:a,...i})=>s.jsx(XQ,{className:Ne("h-4 w-4",a),...i}),IconRight:({className:a,...i})=>s.jsx(fv,{className:Ne("h-4 w-4",a),...i})},...r})}ZM.displayName="Calendar";const Axt=[{value:"proposal",label:"Proposal"},{value:"invoice",label:"Invoice"},{value:"contract",label:"Contract"},{value:"presentation",label:"Presentation"},{value:"report",label:"Report"},{value:"agreement",label:"Agreement"},{value:"other",label:"Other"}],Ext=[{value:"draft",label:"Draft"},{value:"active",label:"Active"},{value:"archived",label:"Archived"},{value:"expired",label:"Expired"}],Dxt=[{value:"name",label:"Document Name"},{value:"description",label:"Description"},{value:"fileName",label:"File Name"},{value:"tags",label:"Tags"}];function Oxt({isOpen:e,onOpenChange:t,filters:n,onFiltersChange:r,onSearch:a,onReset:i,clients:o,availableTags:l,savedSearches:c,onSaveSearch:d,onLoadSearch:u}){const[h,f]=b.useState(""),[g,m]=b.useState("created"),p=v=>{if(v===0)return"0 B";const y=1024,j=["B","KB","MB","GB"],N=Math.floor(Math.log(v)/Math.log(y));return parseFloat((v/Math.pow(y,N)).toFixed(1))+" "+j[N]},x=v=>{r({...n,...v})};return s.jsx(ut,{open:e,onOpenChange:t,children:s.jsxs(lt,{className:"max-w-4xl max-h-[90vh] overflow-hidden",children:[s.jsx(ct,{children:s.jsxs(dt,{className:"flex items-center gap-2",children:[s.jsx(Ya,{className:"h-5 w-5"}),"Advanced Search & Filters"]})}),s.jsx(Yi,{className:"max-h-[calc(90vh-120px)]",children:s.jsxs(Kn,{defaultValue:"search",className:"w-full",children:[s.jsxs(Mn,{className:"grid w-full grid-cols-4",children:[s.jsx(Re,{value:"search","data-testid":"tab-search",children:"Search"}),s.jsx(Re,{value:"filters","data-testid":"tab-filters",children:"Filters"}),s.jsx(Re,{value:"dates","data-testid":"tab-dates",children:"Dates & Size"}),s.jsx(Re,{value:"saved","data-testid":"tab-saved",children:"Saved Searches"})]}),s.jsx(Fe,{value:"search",className:"space-y-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"search-query",children:"Search Query"}),s.jsx(te,{id:"search-query","data-testid":"input-search-query",placeholder:"Enter your search terms...",value:n.query,onChange:v=>x({query:v.target.value})})]}),s.jsxs("div",{children:[s.jsx(W,{children:"Search Fields"}),s.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2",children:Dxt.map(v=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(es,{id:`field-${v.value}`,"data-testid":`checkbox-field-${v.value}`,checked:n.searchFields.includes(v.value),onCheckedChange:y=>{const j=y?[...n.searchFields,v.value]:n.searchFields.filter(N=>N!==v.value);x({searchFields:j})}}),s.jsx(W,{htmlFor:`field-${v.value}`,children:v.label})]},v.value))})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(es,{id:"fuzzy-search","data-testid":"checkbox-fuzzy-search",checked:n.fuzzySearch,onCheckedChange:v=>x({fuzzySearch:v})}),s.jsx(W,{htmlFor:"fuzzy-search",children:"Fuzzy Search"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(es,{id:"include-archived","data-testid":"checkbox-include-archived",checked:n.includeArchived,onCheckedChange:v=>x({includeArchived:v})}),s.jsx(W,{htmlFor:"include-archived",children:"Include Archived"})]})]})]})}),s.jsx(Fe,{value:"filters",className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(W,{children:"Document Types"}),s.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2",children:Axt.map(v=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(es,{id:`type-${v.value}`,"data-testid":`checkbox-type-${v.value}`,checked:n.types.includes(v.value),onCheckedChange:y=>{const j=y?[...n.types,v.value]:n.types.filter(N=>N!==v.value);x({types:j})}}),s.jsx(W,{htmlFor:`type-${v.value}`,children:v.label})]},v.value))})]}),s.jsxs("div",{children:[s.jsx(W,{children:"Document Status"}),s.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2",children:Ext.map(v=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(es,{id:`status-${v.value}`,"data-testid":`checkbox-status-${v.value}`,checked:n.statuses.includes(v.value),onCheckedChange:y=>{const j=y?[...n.statuses,v.value]:n.statuses.filter(N=>N!==v.value);x({statuses:j})}}),s.jsx(W,{htmlFor:`status-${v.value}`,children:v.label})]},v.value))})]}),s.jsxs("div",{children:[s.jsx(W,{children:"Clients"}),s.jsx(Yi,{className:"h-32 mt-2 border rounded-md p-2",children:o.map(v=>s.jsxs("div",{className:"flex items-center space-x-2 py-1",children:[s.jsx(es,{id:`client-${v.id}`,"data-testid":`checkbox-client-${v.id}`,checked:n.clientIds.includes(v.id),onCheckedChange:y=>{const j=y?[...n.clientIds,v.id]:n.clientIds.filter(N=>N!==v.id);x({clientIds:j})}}),s.jsxs(W,{htmlFor:`client-${v.id}`,className:"text-sm",children:[v.name,v.company&&s.jsxs("span",{className:"text-muted-foreground",children:[" (",v.company,")"]})]})]},v.id))})]}),s.jsxs("div",{children:[s.jsx(W,{children:"Tags"}),s.jsxs("div",{className:"space-y-2 mt-2",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(D,{variant:n.tagLogic==="AND"?"default":"outline",size:"sm","data-testid":"button-tag-logic-and",onClick:()=>x({tagLogic:"AND"}),children:"All Tags (AND)"}),s.jsx(D,{variant:n.tagLogic==="OR"?"default":"outline",size:"sm","data-testid":"button-tag-logic-or",onClick:()=>x({tagLogic:"OR"}),children:"Any Tag (OR)"})]}),s.jsx(Yi,{className:"h-32 border rounded-md p-2",children:l.map(v=>s.jsxs("div",{className:"flex items-center space-x-2 py-1",children:[s.jsx(es,{id:`tag-${v}`,"data-testid":`checkbox-tag-${v}`,checked:n.tags.includes(v),onCheckedChange:y=>{const j=y?[...n.tags,v]:n.tags.filter(N=>N!==v);x({tags:j})}}),s.jsx(Z,{variant:"secondary",className:"text-xs",children:v})]},v))})]})]})]})}),s.jsx(Fe,{value:"dates",className:"space-y-4",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(W,{children:"Date Range Filter"}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx(D,{variant:g==="created"?"default":"outline",size:"sm","data-testid":"button-date-created",onClick:()=>m("created"),children:"Created Date"}),s.jsx(D,{variant:g==="updated"?"default":"outline",size:"sm","data-testid":"button-date-updated",onClick:()=>m("updated"),children:"Updated Date"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[s.jsxs("div",{children:[s.jsx(W,{children:"From"}),s.jsxs(hS,{children:[s.jsx(fS,{asChild:!0,children:s.jsxs(D,{variant:"outline",className:"w-full justify-start text-left","data-testid":`button-date-from-${g}`,children:[s.jsx(en,{className:"mr-2 h-4 w-4"}),g==="created"?n.createdDateFrom?Me(n.createdDateFrom,"PPP"):"Select date":n.updatedDateFrom?Me(n.updatedDateFrom,"PPP"):"Select date"]})}),s.jsx(o0,{className:"w-auto p-0",children:s.jsx(ZM,{mode:"single",selected:g==="created"?n.createdDateFrom:n.updatedDateFrom,onSelect:v=>{x(g==="created"?{createdDateFrom:v}:{updatedDateFrom:v})},initialFocus:!0})})]})]}),s.jsxs("div",{children:[s.jsx(W,{children:"To"}),s.jsxs(hS,{children:[s.jsx(fS,{asChild:!0,children:s.jsxs(D,{variant:"outline",className:"w-full justify-start text-left","data-testid":`button-date-to-${g}`,children:[s.jsx(en,{className:"mr-2 h-4 w-4"}),g==="created"?n.createdDateTo?Me(n.createdDateTo,"PPP"):"Select date":n.updatedDateTo?Me(n.updatedDateTo,"PPP"):"Select date"]})}),s.jsx(o0,{className:"w-auto p-0",children:s.jsx(ZM,{mode:"single",selected:g==="created"?n.createdDateTo:n.updatedDateTo,onSelect:v=>{x(g==="created"?{createdDateTo:v}:{updatedDateTo:v})},initialFocus:!0})})]})]})]})]}),s.jsx(_s,{}),s.jsxs("div",{children:[s.jsx(W,{children:"File Size Range"}),s.jsxs("div",{className:"space-y-4 mt-2",children:[s.jsx("div",{className:"px-2",children:s.jsx(Sfe,{min:0,max:100*1024*1024,step:1024*1024,value:[n.fileSizeMin||0,n.fileSizeMax||100*1024*1024],onValueChange:([v,y])=>{x({fileSizeMin:v===0?void 0:v,fileSizeMax:y===100*1024*1024?void 0:y})},"data-testid":"slider-file-size"})}),s.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[s.jsx("span",{children:p(n.fileSizeMin||0)}),s.jsx("span",{children:p(n.fileSizeMax||100*1024*1024)})]})]})]})]})}),s.jsx(Fe,{value:"saved",className:"space-y-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(W,{children:"Save Current Search"}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx(te,{placeholder:"Enter search name...",value:h,onChange:v=>f(v.target.value),"data-testid":"input-save-search-name"}),s.jsx(D,{onClick:()=>{h.trim()&&(d(h.trim()),f(""))},disabled:!h.trim(),"data-testid":"button-save-search",children:"Save"})]})]}),s.jsx(_s,{}),s.jsxs("div",{children:[s.jsx(W,{children:"Saved Searches"}),s.jsx(Yi,{className:"h-64 mt-2",children:c.length===0?s.jsx("div",{className:"text-center text-muted-foreground py-8",children:"No saved searches yet"}):s.jsx("div",{className:"space-y-2",children:c.map(v=>s.jsxs("div",{className:"flex items-center justify-between p-2 border rounded-md",children:[s.jsx("span",{"data-testid":`text-saved-search-${v.id}`,children:v.name}),s.jsx(D,{size:"sm",variant:"outline",onClick:()=>u(v.id),"data-testid":`button-load-search-${v.id}`,children:"Load"})]},v.id))})})]})]})})]})}),s.jsxs("div",{className:"flex justify-between pt-4 border-t",children:[s.jsx(D,{variant:"outline",onClick:i,"data-testid":"button-reset-search",children:"Reset All"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(D,{variant:"outline",onClick:()=>t(!1),"data-testid":"button-cancel-search",children:"Cancel"}),s.jsx(D,{onClick:a,"data-testid":"button-apply-search",children:"Apply Search"})]})]})]})})}const Mxt=[{value:"name",label:"Document Name"},{value:"description",label:"Description"},{value:"fileName",label:"File Name"},{value:"type",label:"Document Type"},{value:"status",label:"Status"},{value:"tags",label:"Tags"},{value:"client",label:"Client"},{value:"createdAt",label:"Created Date"},{value:"updatedAt",label:"Updated Date"},{value:"fileSize",label:"File Size"},{value:"metadata",label:"Metadata"}],TN={text:[{value:"contains",label:"Contains"},{value:"equals",label:"Equals"},{value:"startsWith",label:"Starts with"},{value:"endsWith",label:"Ends with"},{value:"notContains",label:"Does not contain"}],select:[{value:"equals",label:"Is"},{value:"notEquals",label:"Is not"},{value:"in",label:"Is one of"}],date:[{value:"equals",label:"Is"},{value:"before",label:"Before"},{value:"after",label:"After"},{value:"between",label:"Between"}],number:[{value:"equals",label:"Equals"},{value:"greaterThan",label:"Greater than"},{value:"lessThan",label:"Less than"},{value:"between",label:"Between"}]},Rxt=[{id:"recent-files",name:"Recent Files",description:"Documents created in the last 7 days",icon:bt,filters:{createdDateFrom:new Date(Date.now()-7*24*60*60*1e3),sortBy:"createdAt",sortOrder:"desc"}},{id:"large-files",name:"Large Files",description:"Files larger than 10MB",icon:cn,filters:{fileSizeMin:10*1024*1024,sortBy:"fileSize",sortOrder:"desc"}},{id:"untagged-docs",name:"Untagged Documents",description:"Documents without any tags",icon:e0,filters:{}},{id:"active-proposals",name:"Active Proposals",description:"Active proposal documents",icon:sS,filters:{types:["proposal"],statuses:["active"],sortBy:"updatedAt",sortOrder:"desc"}}];function $xt({isOpen:e,onOpenChange:t,onSearch:n,clients:r,availableTags:a,savedSearches:i,onSaveSearch:o,onDeleteSearch:l,onStarSearch:c}){const[d,u]=b.useState([]),[h,f]=b.useState(""),[g,m]=b.useState(""),[p,x]=b.useState(!1),v=()=>{const C={id:`rule-${Date.now()}`,field:"name",operator:"contains",value:"",logic:d.length>0?"AND":void 0};u([...d,C])},y=(C,A)=>{u(E=>E.map(I=>I.id===C?{...I,...A}:I))},j=C=>{u(A=>{const E=A.filter(I=>I.id!==C);return E.length>0&&E[0].logic&&(E[0]={...E[0],logic:void 0}),E})},N=C=>{switch(C){case"createdAt":case"updatedAt":return TN.date;case"fileSize":return TN.number;case"type":case"status":case"client":return TN.select;default:return TN.text}},w=()=>{const C={query:"",searchFields:["name","description","fileName","tags"],clientIds:[],types:[],statuses:[],tags:[],tagLogic:"AND",includeArchived:!1,fuzzySearch:!1,page:1,limit:50,sortBy:"createdAt",sortOrder:"desc"};return d.forEach(A=>{switch(A.field){case"name":case"description":case"fileName":A.operator==="contains"&&A.value&&(C.query=A.value,C.searchFields=[A.field]);break;case"type":A.value&&(C.types=[A.value]);break;case"status":A.value&&(C.statuses=[A.value]);break;case"tags":A.value&&(C.tags=[A.value]);break;case"client":A.value&&(C.clientIds=[A.value]);break;case"createdAt":A.operator==="after"&&A.value?C.createdDateFrom=new Date(A.value):A.operator==="before"&&A.value&&(C.createdDateTo=new Date(A.value));break;case"fileSize":A.operator==="greaterThan"&&A.value?C.fileSizeMin=parseInt(A.value)*1024*1024:A.operator==="lessThan"&&A.value&&(C.fileSizeMax=parseInt(A.value)*1024*1024);break}}),C},S=()=>{const C=w();n(C),t(!1)},k=C=>{const A={query:"",searchFields:["name","description","fileName","tags"],clientIds:[],types:[],statuses:[],tags:[],tagLogic:"AND",includeArchived:!1,fuzzySearch:!1,page:1,limit:50,sortBy:"createdAt",sortOrder:"desc",...C.filters};n(A),t(!1)},_=C=>{n(C.filters),t(!1)},T=()=>{h.trim()&&(o(h.trim(),g.trim()||void 0,p),f(""),m(""),x(!1))},P=()=>{u([])};return s.jsx(ut,{open:e,onOpenChange:t,children:s.jsxs(lt,{className:"max-w-5xl max-h-[90vh] overflow-hidden",children:[s.jsx(ct,{children:s.jsxs(dt,{className:"flex items-center gap-2",children:[s.jsx(e0,{className:"h-5 w-5"}),"Search Builder"]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-[calc(90vh-120px)]",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Build Search Query"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(D,{variant:"outline",size:"sm",onClick:P,"data-testid":"button-clear-builder",children:"Clear All"}),s.jsxs(D,{size:"sm",onClick:v,"data-testid":"button-add-rule",children:[s.jsx(st,{className:"h-4 w-4 mr-2"}),"Add Rule"]})]})]}),s.jsx(Yi,{className:"h-96",children:s.jsx("div",{className:"space-y-3",children:d.length===0?s.jsx(B,{className:"border-dashed",children:s.jsxs(q,{className:"p-8 text-center",children:[s.jsx(e0,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("h4",{className:"text-lg font-medium mb-2",children:"No search rules yet"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Add rules to build your custom search query"}),s.jsxs(D,{onClick:v,"data-testid":"button-add-first-rule",children:[s.jsx(st,{className:"h-4 w-4 mr-2"}),"Add First Rule"]})]})}):d.map((C,A)=>s.jsx(B,{children:s.jsx(q,{className:"p-4",children:s.jsxs("div",{className:"space-y-3",children:[A>0&&s.jsx("div",{className:"flex justify-center",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(D,{variant:C.logic==="AND"?"default":"outline",size:"sm",onClick:()=>y(C.id,{logic:"AND"}),"data-testid":`button-logic-and-${C.id}`,children:"AND"}),s.jsx(D,{variant:C.logic==="OR"?"default":"outline",size:"sm",onClick:()=>y(C.id,{logic:"OR"}),"data-testid":`button-logic-or-${C.id}`,children:"OR"})]})}),s.jsxs("div",{className:"grid grid-cols-12 gap-2 items-end",children:[s.jsxs("div",{className:"col-span-3",children:[s.jsx(W,{children:"Field"}),s.jsxs(Ke,{value:C.field,onValueChange:E=>y(C.id,{field:E,operator:"contains",value:""}),children:[s.jsx(He,{"data-testid":`select-field-${C.id}`,children:s.jsx(Ge,{})}),s.jsx(qe,{children:Mxt.map(E=>s.jsx(Q,{value:E.value,children:E.label},E.value))})]})]}),s.jsxs("div",{className:"col-span-3",children:[s.jsx(W,{children:"Operator"}),s.jsxs(Ke,{value:C.operator,onValueChange:E=>y(C.id,{operator:E}),children:[s.jsx(He,{"data-testid":`select-operator-${C.id}`,children:s.jsx(Ge,{})}),s.jsx(qe,{children:N(C.field).map(E=>s.jsx(Q,{value:E.value,children:E.label},E.value))})]})]}),s.jsxs("div",{className:"col-span-5",children:[s.jsx(W,{children:"Value"}),C.field==="client"?s.jsxs(Ke,{value:C.value,onValueChange:E=>y(C.id,{value:E}),children:[s.jsx(He,{"data-testid":`select-value-${C.id}`,children:s.jsx(Ge,{placeholder:"Select client..."})}),s.jsx(qe,{children:r.map(E=>s.jsx(Q,{value:E.id,children:E.name},E.id))})]}):C.field==="tags"?s.jsxs(Ke,{value:C.value,onValueChange:E=>y(C.id,{value:E}),children:[s.jsx(He,{"data-testid":`select-tag-value-${C.id}`,children:s.jsx(Ge,{placeholder:"Select tag..."})}),s.jsx(qe,{children:a.map(E=>s.jsx(Q,{value:E,children:E},E))})]}):C.field==="type"?s.jsxs(Ke,{value:C.value,onValueChange:E=>y(C.id,{value:E}),children:[s.jsx(He,{"data-testid":`select-type-value-${C.id}`,children:s.jsx(Ge,{placeholder:"Select type..."})}),s.jsxs(qe,{children:[s.jsx(Q,{value:"proposal",children:"Proposal"}),s.jsx(Q,{value:"invoice",children:"Invoice"}),s.jsx(Q,{value:"contract",children:"Contract"}),s.jsx(Q,{value:"presentation",children:"Presentation"}),s.jsx(Q,{value:"report",children:"Report"}),s.jsx(Q,{value:"agreement",children:"Agreement"}),s.jsx(Q,{value:"other",children:"Other"})]})]}):C.field==="status"?s.jsxs(Ke,{value:C.value,onValueChange:E=>y(C.id,{value:E}),children:[s.jsx(He,{"data-testid":`select-status-value-${C.id}`,children:s.jsx(Ge,{placeholder:"Select status..."})}),s.jsxs(qe,{children:[s.jsx(Q,{value:"draft",children:"Draft"}),s.jsx(Q,{value:"active",children:"Active"}),s.jsx(Q,{value:"archived",children:"Archived"}),s.jsx(Q,{value:"expired",children:"Expired"})]})]}):s.jsx(te,{placeholder:"Enter value...",value:C.value,onChange:E=>y(C.id,{value:E.target.value}),"data-testid":`input-value-${C.id}`})]}),s.jsx("div",{className:"col-span-1",children:s.jsx(D,{variant:"ghost",size:"sm",onClick:()=>j(C.id),"data-testid":`button-remove-rule-${C.id}`,children:s.jsx(Kt,{className:"h-4 w-4"})})})]})]})})},C.id))})}),s.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[s.jsx(D,{onClick:S,disabled:d.length===0,"data-testid":"button-apply-search-builder",children:"Apply Search"}),d.length>0&&s.jsxs(ut,{children:[s.jsx(Ns,{asChild:!0,children:s.jsxs(D,{variant:"outline","data-testid":"button-save-search-builder",children:[s.jsx(Au,{className:"h-4 w-4 mr-2"}),"Save Search"]})}),s.jsxs(lt,{children:[s.jsx(ct,{children:s.jsx(dt,{children:"Save Search"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"search-name",children:"Search Name"}),s.jsx(te,{id:"search-name",placeholder:"Enter search name...",value:h,onChange:C=>f(C.target.value),"data-testid":"input-save-search-name-builder"})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"search-description",children:"Description (optional)"}),s.jsx(te,{id:"search-description",placeholder:"Enter description...",value:g,onChange:C=>m(C.target.value),"data-testid":"input-save-search-description"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"search-starred",checked:p,onChange:C=>x(C.target.checked),"data-testid":"checkbox-save-search-starred"}),s.jsx(W,{htmlFor:"search-starred",children:"Star this search"})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(D,{variant:"outline",onClick:()=>f(""),children:"Cancel"}),s.jsx(D,{onClick:T,disabled:!h.trim(),children:"Save"})]})]})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs(B,{children:[s.jsx(ae,{children:s.jsx(ie,{className:"text-base",children:"Quick Presets"})}),s.jsx(q,{className:"space-y-2",children:Rxt.map(C=>s.jsxs(D,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>k(C),"data-testid":`button-preset-${C.id}`,children:[s.jsx(C.icon,{className:"h-4 w-4 mr-2"}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-medium",children:C.name}),s.jsx("div",{className:"text-xs text-muted-foreground",children:C.description})]})]},C.id))})]}),s.jsx(_s,{}),s.jsxs(B,{children:[s.jsx(ae,{children:s.jsx(ie,{className:"text-base",children:"Saved Searches"})}),s.jsx(q,{children:s.jsx(Yi,{className:"h-64",children:i.length===0?s.jsx("div",{className:"text-center text-muted-foreground py-4",children:"No saved searches yet"}):s.jsx("div",{className:"space-y-2",children:i.sort((C,A)=>(A.isStarred?1:0)-(C.isStarred?1:0)).map(C=>s.jsxs("div",{className:"flex items-start gap-2 p-2 border rounded-md hover:bg-muted/50",children:[s.jsx(D,{variant:"ghost",size:"sm",onClick:()=>c(C.id,!C.isStarred),"data-testid":`button-star-search-${C.id}`,children:s.jsx(sS,{className:`h-3 w-3 ${C.isStarred?"fill-current text-yellow-500":""}`})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium text-sm truncate","data-testid":`text-search-name-${C.id}`,children:C.name}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(D,{variant:"ghost",size:"sm",onClick:()=>_(C),"data-testid":`button-load-saved-search-${C.id}`,children:"Load"}),s.jsx(D,{variant:"ghost",size:"sm",onClick:()=>l(C.id),"data-testid":`button-delete-search-${C.id}`,children:s.jsx(Kt,{className:"h-3 w-3"})})]})]}),C.description&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:C.description}),s.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-muted-foreground",children:[s.jsxs("span",{children:["Used ",C.usageCount," times"]}),C.lastUsed&&s.jsxs("span",{children:[" Last used ",new Date(C.lastUsed).toLocaleDateString()]})]})]})]},C.id))})})})]})]})]})]})})}function Ixt({filters:e,onRemoveFilter:t,onClearAll:n,clients:r,availableTags:a}){if(!!!(e.query||e.types.length>0||e.statuses.length>0||e.clientIds.length>0||e.tags.length>0||e.createdDateFrom||e.createdDateTo||e.updatedDateFrom||e.updatedDateTo||e.fileSizeMin||e.fileSizeMax||e.includeArchived||e.fuzzySearch))return null;const o=c=>{if(c===0)return"0 B";const d=1024,u=["B","KB","MB","GB"],h=Math.floor(Math.log(c)/Math.log(d));return parseFloat((c/Math.pow(d,h)).toFixed(1))+" "+u[h]},l=c=>{const d=r.find(u=>u.id===c);return(d==null?void 0:d.name)||"Unknown Client"};return s.jsxs("div",{className:"flex flex-wrap items-center gap-2 p-3 bg-muted/50 rounded-lg border","data-testid":"filter-chips-container",children:[s.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Active filters:"}),e.query&&s.jsxs(Z,{variant:"secondary",className:"flex items-center gap-1","data-testid":"chip-search-query",children:[s.jsx(Ya,{className:"h-3 w-3"}),s.jsxs("span",{children:['"',e.query,'"']}),s.jsx(D,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-transparent",onClick:()=>t("query"),"data-testid":"button-remove-query",children:s.jsx(Kt,{className:"h-3 w-3"})})]}),e.types.map(c=>s.jsxs(Z,{variant:"secondary",className:"flex items-center gap-1","data-testid":`chip-type-${c}`,children:[s.jsx(F3,{className:"h-3 w-3"}),s.jsx("span",{children:c}),s.jsx(D,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-transparent",onClick:()=>t("types",c),"data-testid":`button-remove-type-${c}`,children:s.jsx(Kt,{className:"h-3 w-3"})})]},c)),e.statuses.map(c=>s.jsxs(Z,{variant:"secondary",className:"flex items-center gap-1","data-testid":`chip-status-${c}`,children:[s.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-current"}),s.jsx("span",{children:c}),s.jsx(D,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-transparent",onClick:()=>t("statuses",c),"data-testid":`button-remove-status-${c}`,children:s.jsx(Kt,{className:"h-3 w-3"})})]},c)),e.clientIds.map(c=>s.jsxs(Z,{variant:"secondary",className:"flex items-center gap-1","data-testid":`chip-client-${c}`,children:[s.jsx(_u,{className:"h-3 w-3"}),s.jsx("span",{children:l(c)}),s.jsx(D,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-transparent",onClick:()=>t("clientIds",c),"data-testid":`button-remove-client-${c}`,children:s.jsx(Kt,{className:"h-3 w-3"})})]},c)),e.tags.map(c=>s.jsxs(Z,{variant:"secondary",className:"flex items-center gap-1","data-testid":`chip-tag-${c}`,children:[s.jsx(cg,{className:"h-3 w-3"}),s.jsx("span",{children:c}),s.jsx(D,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-transparent",onClick:()=>t("tags",c),"data-testid":`button-remove-tag-${c}`,children:s.jsx(Kt,{className:"h-3 w-3"})})]},c)),(e.createdDateFrom||e.createdDateTo)&&s.jsxs(Z,{variant:"secondary",className:"flex items-center gap-1","data-testid":"chip-created-date",children:[s.jsx(en,{className:"h-3 w-3"}),s.jsxs("span",{children:["Created: ",e.createdDateFrom?Me(e.createdDateFrom,"MMM d"):""," - ",e.createdDateTo?Me(e.createdDateTo,"MMM d"):""]}),s.jsx(D,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-transparent",onClick:()=>t("createdDate"),"data-testid":"button-remove-created-date",children:s.jsx(Kt,{className:"h-3 w-3"})})]}),(e.updatedDateFrom||e.updatedDateTo)&&s.jsxs(Z,{variant:"secondary",className:"flex items-center gap-1","data-testid":"chip-updated-date",children:[s.jsx(en,{className:"h-3 w-3"}),s.jsxs("span",{children:["Updated: ",e.updatedDateFrom?Me(e.updatedDateFrom,"MMM d"):""," - ",e.updatedDateTo?Me(e.updatedDateTo,"MMM d"):""]}),s.jsx(D,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-transparent",onClick:()=>t("updatedDate"),"data-testid":"button-remove-updated-date",children:s.jsx(Kt,{className:"h-3 w-3"})})]}),(e.fileSizeMin||e.fileSizeMax)&&s.jsxs(Z,{variant:"secondary",className:"flex items-center gap-1","data-testid":"chip-file-size",children:[s.jsx(F3,{className:"h-3 w-3"}),s.jsxs("span",{children:["Size: ",e.fileSizeMin?o(e.fileSizeMin):"0"," - ",e.fileSizeMax?o(e.fileSizeMax):""]}),s.jsx(D,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-transparent",onClick:()=>t("fileSize"),"data-testid":"button-remove-file-size",children:s.jsx(Kt,{className:"h-3 w-3"})})]}),e.includeArchived&&s.jsxs(Z,{variant:"secondary",className:"flex items-center gap-1","data-testid":"chip-include-archived",children:[s.jsx("span",{children:"Including archived"}),s.jsx(D,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-transparent",onClick:()=>t("includeArchived"),"data-testid":"button-remove-include-archived",children:s.jsx(Kt,{className:"h-3 w-3"})})]}),e.fuzzySearch&&s.jsxs(Z,{variant:"secondary",className:"flex items-center gap-1","data-testid":"chip-fuzzy-search",children:[s.jsx("span",{children:"Fuzzy search"}),s.jsx(D,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-transparent",onClick:()=>t("fuzzySearch"),"data-testid":"button-remove-fuzzy-search",children:s.jsx(Kt,{className:"h-3 w-3"})})]}),e.tags.length>1&&s.jsxs(Z,{variant:"outline",className:"flex items-center gap-1","data-testid":"chip-tag-logic",children:[s.jsx(cg,{className:"h-3 w-3"}),s.jsxs("span",{children:[e.tagLogic," logic"]})]}),s.jsx(D,{variant:"outline",size:"sm",onClick:n,className:"ml-2","data-testid":"button-clear-all-filters",children:"Clear All"})]})}const d7={query:"",searchFields:["name","description","fileName","tags"],clientIds:[],types:[],statuses:[],tags:[],tagLogic:"AND",includeArchived:!1,fuzzySearch:!1,page:1,limit:25,sortBy:"createdAt",sortOrder:"desc"};function Fxt(){const[e,t]=b.useState(d7),[n,r]=b.useState(!1),[a,i]=b.useState(!1),[o,l]=b.useState([]),[c,d]=b.useState([]),{toast:u}=mt(),h=qr(),{data:f=[],isLoading:g}=he({queryKey:["/api/client-documents"],enabled:!T(e)}),{data:m,isLoading:p,error:x,refetch:v}=he({queryKey:["/api/client-documents/search",e],queryFn:async()=>T(e)?await ke("/api/client-documents/search",{method:"POST",body:JSON.stringify(e)}):null,enabled:T(e),staleTime:3e4,refetchOnWindowFocus:!1}),{data:y=[]}=he({queryKey:["/api/clients"]}),j=g||p,N=T(e),w=b.useMemo(()=>N&&m?m.documents:f.map(Y=>({...Y,createdAt:new Date(Y.createdAt),updatedAt:new Date(Y.updatedAt)})),[N,m,f]),S=b.useMemo(()=>N&&m?m.totalCount:f.length,[N,m,f]),k=b.useMemo(()=>N&&m?m.facets:P(f,y),[N,m,f,y]),_=b.useMemo(()=>{const Y=new Set;return w.forEach(K=>{K.tags&&Array.isArray(K.tags)&&K.tags.forEach(z=>Y.add(z))}),Array.from(Y).sort()},[w]);function T(Y){return!!(Y.query||Y.types.length>0||Y.statuses.length>0||Y.clientIds.length>0||Y.tags.length>0||Y.createdDateFrom||Y.createdDateTo||Y.updatedDateFrom||Y.updatedDateTo||Y.fileSizeMin||Y.fileSizeMax||Y.includeArchived||Y.fuzzySearch)}function P(Y,K){const z=new Map,L=new Map,ee=new Map,le=new Map;return Y.forEach(ve=>{if(ve.type&&z.set(ve.type,(z.get(ve.type)||0)+1),ve.status&&L.set(ve.status,(L.get(ve.status)||0)+1),ve.clientId){const ne=K.find(be=>be.id===ve.clientId);if(ne){const be=ee.get(ve.clientId)||{name:ne.name,count:0};ee.set(ve.clientId,{...be,count:be.count+1})}}ve.tags&&Array.isArray(ve.tags)&&ve.tags.forEach(ne=>{le.set(ne,(le.get(ne)||0)+1)})}),{types:Array.from(z.entries()).map(([ve,ne])=>({value:ve,count:ne})),statuses:Array.from(L.entries()).map(([ve,ne])=>({value:ve,count:ne})),clients:Array.from(ee.entries()).map(([ve,{name:ne,count:be}])=>({id:ve,name:ne,count:be})),tags:Array.from(le.entries()).map(([ve,ne])=>({value:ve,count:ne})),fileSizeRanges:[],dateRanges:[]}}const C=b.useCallback(Y=>{t(K=>({...K,...Y}))},[]),A=b.useCallback(()=>{t(d7)},[]),E=b.useCallback(Y=>{C({query:Y,page:1}),Y.trim()&&!o.includes(Y.trim())&&l(K=>[Y.trim(),...K.slice(0,9)])},[C,o]),I=b.useCallback((Y,K)=>{switch(Y){case"query":C({query:""});break;case"types":C({types:e.types.filter(z=>z!==K)});break;case"statuses":C({statuses:e.statuses.filter(z=>z!==K)});break;case"clientIds":C({clientIds:e.clientIds.filter(z=>z!==K)});break;case"tags":C({tags:e.tags.filter(z=>z!==K)});break;case"createdDate":C({createdDateFrom:void 0,createdDateTo:void 0});break;case"updatedDate":C({updatedDateFrom:void 0,updatedDateTo:void 0});break;case"fileSize":C({fileSizeMin:void 0,fileSizeMax:void 0});break;case"includeArchived":C({includeArchived:!1});break;case"fuzzySearch":C({fuzzySearch:!1});break}},[e,C]),$=b.useCallback((Y,K,z=!1)=>{const L={id:`search-${Date.now()}`,name:Y,description:K,filters:{...e},createdAt:new Date,usageCount:0,isStarred:z};d(ee=>[...ee,L]),u({title:"Search saved successfully"})},[e,u]),U=b.useCallback(Y=>{const K=c.find(z=>z.id===Y);K&&(t(K.filters),d(z=>z.map(L=>L.id===Y?{...L,lastUsed:new Date,usageCount:L.usageCount+1}:L)),u({title:`Loaded search "${K.name}"`}))},[c,u]),M=b.useCallback(Y=>{d(K=>K.filter(z=>z.id!==Y)),u({title:"Search deleted"})},[u]),F=b.useCallback((Y,K)=>{d(z=>z.map(L=>L.id===Y?{...L,isStarred:K}:L))},[]),V=b.useCallback(()=>{N?v():h.invalidateQueries({queryKey:["/api/client-documents"]})},[N,v,h]);return{filters:e,isAdvancedModalOpen:n,isSearchBuilderOpen:a,searchHistory:o,savedSearches:c,results:w,totalCount:S,facets:k,clients:y,availableTags:_,isLoading:j,searchError:x,hasActiveAdvancedSearch:N,updateFilters:C,resetFilters:A,quickSearch:E,removeFilter:I,saveSearch:$,loadSavedSearch:U,deleteSavedSearch:M,starSavedSearch:F,refresh:V,setIsAdvancedModalOpen:r,setIsSearchBuilderOpen:i}}const u7=["bg-blue-100 text-blue-800","bg-green-100 text-green-800","bg-yellow-100 text-yellow-800","bg-red-100 text-red-800","bg-purple-100 text-purple-800","bg-pink-100 text-pink-800","bg-indigo-100 text-indigo-800","bg-gray-100 text-gray-800"];function Rfe({availableTags:e,selectedTags:t,onTagsChange:n,documentId:r}){const[a,i]=b.useState(""),[o,l]=b.useState(!1),{toast:c}=mt(),d=qr(),u=Se({mutationFn:async p=>{if(!r)return;const x=await fetch(`/api/client-documents/${r}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({tags:p})});if(!x.ok)throw new Error("Update failed");return x.json()},onSuccess:()=>{d.invalidateQueries({queryKey:["/api/client-documents"]}),c({title:"Tags updated successfully"})},onError:()=>{c({title:"Failed to update tags",variant:"destructive"})}}),h=p=>{const x=p.trim().toLowerCase();if(!x||t.includes(x))return;const v=[...t,x];n(v),r&&u.mutate(v)},f=p=>{const x=t.filter(v=>v!==p);n(x),r&&u.mutate(x)},g=()=>{a.trim()&&(h(a),i(""),l(!1))},m=p=>{const x=p.split("").reduce((v,y)=>v+y.charCodeAt(0),0);return u7[x%u7.length]};return s.jsxs("div",{className:"space-y-3",children:[s.jsx(W,{className:"text-sm font-medium",children:"Tags"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(p=>s.jsxs(Z,{className:`${m(p)} cursor-pointer`,"data-testid":`tag-${p}`,children:[p,s.jsx(Kt,{className:"h-3 w-3 ml-1 hover:text-red-600",onClick:()=>f(p),"data-testid":`button-remove-tag-${p}`})]},p))}),s.jsx("div",{className:"flex gap-2",children:o?s.jsxs("div",{className:"flex gap-2 flex-1",children:[s.jsx(te,{placeholder:"Enter new tag...",value:a,onChange:p=>i(p.target.value),onKeyPress:p=>p.key==="Enter"&&g(),className:"flex-1",autoFocus:!0,"data-testid":"input-new-tag"}),s.jsx(D,{size:"sm",onClick:g,"data-testid":"button-confirm-new-tag",children:"Add"}),s.jsx(D,{size:"sm",variant:"outline",onClick:()=>l(!1),"data-testid":"button-cancel-new-tag",children:"Cancel"})]}):s.jsxs(hS,{children:[s.jsx(fS,{asChild:!0,children:s.jsxs(D,{variant:"outline",size:"sm","data-testid":"button-add-tag",children:[s.jsx(cg,{className:"h-4 w-4 mr-1"}),"Add Tag"]})}),s.jsx(o0,{className:"w-64","data-testid":"popover-tag-selector",children:s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"font-semibold text-sm",children:"Select Tags"}),s.jsxs("div",{className:"max-h-32 overflow-y-auto space-y-1",children:[e.filter(p=>!t.includes(p)).map(p=>s.jsx("div",{className:`p-2 rounded cursor-pointer hover:bg-gray-50 text-sm ${m(p)}`,onClick:()=>h(p),"data-testid":`available-tag-${p}`,children:p},p)),e.filter(p=>!t.includes(p)).length===0&&s.jsx("p",{className:"text-sm text-gray-500 text-center py-2",children:"No more tags available"})]}),s.jsx("div",{className:"border-t pt-3",children:s.jsxs(D,{variant:"outline",size:"sm",onClick:()=>{var p,x;l(!0),(x=(p=document.querySelector('[data-testid="popover-tag-selector"]'))==null?void 0:p.closest("[data-state]"))==null||x.click()},className:"w-full","data-testid":"button-create-new-tag",children:[s.jsx(st,{className:"h-4 w-4 mr-1"}),"Create New Tag"]})})]})})]})})]})}const h7=["bg-blue-100 text-blue-800 hover:bg-blue-200","bg-green-100 text-green-800 hover:bg-green-200","bg-yellow-100 text-yellow-800 hover:bg-yellow-200","bg-red-100 text-red-800 hover:bg-red-200","bg-purple-100 text-purple-800 hover:bg-purple-200","bg-pink-100 text-pink-800 hover:bg-pink-200","bg-indigo-100 text-indigo-800 hover:bg-indigo-200","bg-gray-100 text-gray-800 hover:bg-gray-200"];function f7({tags:e,selectedTags:t,onTagSelect:n,onTagRemove:r,onClearAll:a}){const i=o=>{const l=o.split("").reduce((c,d)=>c+d.charCodeAt(0),0);return h7[l%h7.length]};return e.length===0?s.jsx("div",{className:"text-center py-4 text-gray-500 text-sm",children:"No tags available"}):s.jsxs("div",{className:"space-y-3",children:[t.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Active Filters:"}),s.jsx(D,{variant:"ghost",size:"sm",onClick:a,"data-testid":"button-clear-all-tags",children:"Clear All"})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(o=>s.jsxs(Z,{className:`${i(o)} cursor-pointer transition-colors`,"data-testid":`selected-tag-${o}`,children:[o,s.jsx(Kt,{className:"h-3 w-3 ml-1 hover:text-red-600",onClick:l=>{l.stopPropagation(),r(o)},"data-testid":`button-remove-filter-${o}`})]},o))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"All Tags:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:e.map(o=>{const l=t.includes(o);return s.jsx(Z,{className:`${i(o)} cursor-pointer transition-colors ${l?"ring-2 ring-blue-500":""}`,onClick:()=>n(o),"data-testid":`tag-cloud-${o}`,children:o},o)})})]})]})}const m7=["bg-blue-100 text-blue-800","bg-green-100 text-green-800","bg-yellow-100 text-yellow-800","bg-red-100 text-red-800","bg-purple-100 text-purple-800","bg-pink-100 text-pink-800","bg-indigo-100 text-indigo-800","bg-gray-100 text-gray-800"];function p7({folders:e,selectedFolder:t,onFolderSelect:n,onCreateFolder:r,onUpdateFolder:a,onDeleteFolder:i,onMoveDocumentToFolder:o}){const[l,c]=b.useState(!1),[d,u]=b.useState(null),[h,f]=b.useState(""),[g,m]=b.useState(""),{toast:p}=mt(),x=w=>{const S=w.split("").reduce((k,_)=>k+_.charCodeAt(0),0);return m7[S%m7.length]},v=()=>{if(!h.trim()){p({title:"Please enter a folder name",variant:"destructive"});return}r(h.trim(),g.trim()||void 0),f(""),m(""),c(!1),p({title:"Folder created successfully"})},y=()=>{if(!d||!h.trim()){p({title:"Please enter a folder name",variant:"destructive"});return}a(d.id,h.trim(),g.trim()||void 0),u(null),f(""),m(""),p({title:"Folder updated successfully"})},j=w=>{i(w),t===w&&n(null),p({title:"Folder deleted successfully"})},N=w=>{u(w),f(w.name),m(w.description||"")};return s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"font-semibold text-sm flex items-center gap-2",children:[s.jsx(f0e,{className:"h-4 w-4"}),"Folders"]}),s.jsxs(ut,{open:l,onOpenChange:c,children:[s.jsx(Ns,{asChild:!0,children:s.jsx(D,{variant:"ghost",size:"sm","data-testid":"button-create-folder",children:s.jsx(h0e,{className:"h-4 w-4"})})}),s.jsxs(lt,{"data-testid":"dialog-create-folder",children:[s.jsx(ct,{children:s.jsx(dt,{children:"Create New Folder"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Folder Name"}),s.jsx(te,{placeholder:"Enter folder name...",value:h,onChange:w=>f(w.target.value),onKeyPress:w=>w.key==="Enter"&&v(),"data-testid":"input-folder-name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Description (Optional)"}),s.jsx(te,{placeholder:"Enter folder description...",value:g,onChange:w=>m(w.target.value),"data-testid":"input-folder-description"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(D,{onClick:v,"data-testid":"button-confirm-create-folder",children:"Create Folder"}),s.jsx(D,{variant:"outline",onClick:()=>c(!1),"data-testid":"button-cancel-create-folder",children:"Cancel"})]})]})]})]})]}),s.jsxs("div",{className:`flex items-center gap-2 p-2 rounded cursor-pointer transition-colors ${t===null?"bg-blue-100 text-blue-800":"hover:bg-gray-100"}`,onClick:()=>n(null),"data-testid":"folder-all-files",children:[s.jsx(ls,{className:"h-4 w-4"}),s.jsx("span",{className:"flex-1",children:"All Files"})]}),s.jsx("div",{className:"space-y-1",children:e.map(w=>s.jsxs("div",{className:`flex items-center gap-2 p-2 rounded cursor-pointer transition-colors group ${t===w.id?x(w.id):"hover:bg-gray-100"}`,onClick:()=>n(w.id),"data-testid":`folder-${w.id}`,children:[s.jsx(Pu,{className:"h-4 w-4"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"truncate",children:w.name}),w.documentCount!==void 0&&s.jsx(Z,{variant:"secondary",className:"text-xs",children:w.documentCount})]}),w.description&&s.jsx("p",{className:"text-xs text-gray-500 truncate",children:w.description})]}),s.jsxs(Zf,{children:[s.jsx(Jf,{asChild:!0,children:s.jsx(D,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 opacity-0 group-hover:opacity-100","data-testid":`button-folder-menu-${w.id}`,children:s.jsx(SR,{className:"h-3 w-3"})})}),s.jsxs(Qu,{align:"end",children:[s.jsxs(Ca,{onClick:()=>N(w),children:[s.jsx(rZ,{className:"h-4 w-4 mr-2"}),"Edit Folder"]}),s.jsx(lp,{}),s.jsxs(fk,{children:[s.jsx(HR,{asChild:!0,children:s.jsxs(Ca,{onSelect:S=>S.preventDefault(),children:[s.jsx(Jn,{className:"h-4 w-4 mr-2"}),"Delete Folder"]})}),s.jsxs(kj,{children:[s.jsxs(_j,{children:[s.jsx(Tj,{children:"Delete Folder"}),s.jsxs(Aj,{children:['Are you sure you want to delete "',w.name,'"? Documents in this folder will be moved to "All Files".']})]}),s.jsxs(Pj,{children:[s.jsx(Ej,{children:"Cancel"}),s.jsx(mk,{onClick:()=>j(w.id),className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})]})]})]})]},w.id))}),s.jsx(ut,{open:!!d,onOpenChange:()=>u(null),children:s.jsxs(lt,{"data-testid":"dialog-edit-folder",children:[s.jsx(ct,{children:s.jsx(dt,{children:"Edit Folder"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Folder Name"}),s.jsx(te,{placeholder:"Enter folder name...",value:h,onChange:w=>f(w.target.value),onKeyPress:w=>w.key==="Enter"&&y(),"data-testid":"input-edit-folder-name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Description (Optional)"}),s.jsx(te,{placeholder:"Enter folder description...",value:g,onChange:w=>m(w.target.value),"data-testid":"input-edit-folder-description"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(D,{onClick:y,"data-testid":"button-confirm-edit-folder",children:"Update Folder"}),s.jsx(D,{variant:"outline",onClick:()=>u(null),"data-testid":"button-cancel-edit-folder",children:"Cancel"})]})]})]})}),e.length===0&&s.jsx("div",{className:"text-center py-4 text-gray-500 text-sm",children:"No folders created yet"})]})}const AN={proposal:[{key:"project_value",type:"number",label:"Project Value"},{key:"client_priority",type:"select",label:"Priority",options:["Low","Medium","High","Urgent"]},{key:"expected_duration",type:"text",label:"Expected Duration"},{key:"requires_approval",type:"boolean",label:"Requires Approval"}],invoice:[{key:"amount",type:"number",label:"Invoice Amount"},{key:"payment_terms",type:"text",label:"Payment Terms"},{key:"due_date",type:"date",label:"Due Date"},{key:"paid",type:"boolean",label:"Paid"}],contract:[{key:"contract_value",type:"number",label:"Contract Value"},{key:"start_date",type:"date",label:"Start Date"},{key:"end_date",type:"date",label:"End Date"},{key:"auto_renew",type:"boolean",label:"Auto Renew"}],presentation:[{key:"presentation_date",type:"date",label:"Presentation Date"},{key:"audience_size",type:"number",label:"Audience Size"},{key:"presentation_type",type:"select",label:"Type",options:["Client Pitch","Internal","Conference","Training"]}]};function $fe({documentId:e,metadata:t,onMetadataChange:n,documentType:r}){const[a,i]=b.useState(!1),[o,l]=b.useState({}),[c,d]=b.useState(""),[u,h]=b.useState("text"),[f,g]=b.useState(!1),{toast:m}=mt(),p=qr(),x=Se({mutationFn:async T=>{if(!e)return;const P=await fetch(`/api/client-documents/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({metadata:T})});if(!P.ok)throw new Error("Update failed");return P.json()},onSuccess:()=>{p.invalidateQueries({queryKey:["/api/client-documents"]}),m({title:"Metadata updated successfully"})},onError:()=>{m({title:"Failed to update metadata",variant:"destructive"})}}),v=()=>{const T={...t,...o};n(T),e&&x.mutate(T),l({}),i(!1)},y=()=>{if(!c.trim())return;const T=u==="boolean"?!1:u==="number"?0:"";l({...o,[c]:T}),d(""),h("text"),g(!1)},j=T=>{const{[T]:P,...C}=o;l(C);const{[T]:A,...E}=t;n(E),e&&x.mutate(E)},N=()=>{if(!r||!AN[r])return;const P=AN[r].reduce((C,A)=>{if(A.key&&!t[A.key]){const E=A.type==="boolean"?!1:A.type==="number"?0:"";C[A.key]=E}return C},{});l({...o,...P})},w=(T,P,C)=>{var E;switch(P.type||"text"){case"number":return s.jsx(te,{type:"number",value:C||"",onChange:I=>l({...o,[T]:parseFloat(I.target.value)||0}),"data-testid":`input-metadata-${T}`});case"date":return s.jsx(te,{type:"date",value:C?Me(new Date(C),"yyyy-MM-dd"):"",onChange:I=>l({...o,[T]:I.target.value}),"data-testid":`input-metadata-${T}`});case"boolean":return s.jsxs(Ke,{value:C?"true":"false",onValueChange:I=>l({...o,[T]:I==="true"}),children:[s.jsx(He,{"data-testid":`select-metadata-${T}`,children:s.jsx(Ge,{})}),s.jsxs(qe,{children:[s.jsx(Q,{value:"true",children:"Yes"}),s.jsx(Q,{value:"false",children:"No"})]})]});case"select":return s.jsxs(Ke,{value:C||"",onValueChange:I=>l({...o,[T]:I}),children:[s.jsx(He,{"data-testid":`select-metadata-${T}`,children:s.jsx(Ge,{placeholder:"Select option..."})}),s.jsx(qe,{children:(E=P.options)==null?void 0:E.map(I=>s.jsx(Q,{value:I,children:I},I))})]});default:return s.jsx(te,{value:C||"",onChange:I=>l({...o,[T]:I.target.value}),"data-testid":`input-metadata-${T}`})}},S=T=>{switch(T){case"number":return s.jsx(au,{className:"h-4 w-4"});case"date":return s.jsx(en,{className:"h-4 w-4"});case"boolean":return s.jsx(aZ,{className:"h-4 w-4"});case"select":return s.jsx(rS,{className:"h-4 w-4"});default:return s.jsx(iZ,{className:"h-4 w-4"})}},k={...t,...o},_=Object.keys(k).length>0;return s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(W,{className:"text-sm font-medium",children:"Custom Fields"}),s.jsxs(ut,{open:a,onOpenChange:i,children:[s.jsx(Ns,{asChild:!0,children:s.jsxs(D,{variant:"outline",size:"sm","data-testid":"button-edit-metadata",children:[s.jsx(lg,{className:"h-4 w-4 mr-1"}),_?"Edit Fields":"Add Fields"]})}),s.jsxs(lt,{className:"max-w-2xl","data-testid":"dialog-metadata-editor",children:[s.jsx(ct,{children:s.jsx(dt,{children:"Manage Custom Fields"})}),s.jsxs("div",{className:"space-y-4",children:[r&&AN[r]&&s.jsxs(B,{children:[s.jsx(ae,{className:"pb-3",children:s.jsx(ie,{className:"text-sm",children:"Quick Template"})}),s.jsx(q,{children:s.jsxs(D,{variant:"outline",size:"sm",onClick:N,"data-testid":"button-apply-template",children:[s.jsx(st,{className:"h-4 w-4 mr-1"}),"Add ",r," fields"]})})]}),s.jsx("div",{className:"space-y-3",children:Object.entries(k).map(([T,P])=>{var A;const C=((A=AN[r||""])==null?void 0:A.find(E=>E.key===T))||{type:"text"};return s.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded",children:[S(C.type||"text"),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx(W,{className:"text-sm font-medium capitalize",children:C.label||T.replace(/_/g," ")}),w(T,C,o[T]!==void 0?o[T]:P)]}),s.jsx(D,{variant:"ghost",size:"sm",onClick:()=>j(T),"data-testid":`button-remove-field-${T}`,children:s.jsx(Kt,{className:"h-4 w-4"})})]},T)})}),f?s.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded border-dashed",children:[s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx(te,{placeholder:"Field name...",value:c,onChange:T=>d(T.target.value),"data-testid":"input-new-field-name"}),s.jsxs(Ke,{value:u,onValueChange:h,children:[s.jsx(He,{"data-testid":"select-new-field-type",children:s.jsx(Ge,{})}),s.jsxs(qe,{children:[s.jsx(Q,{value:"text",children:"Text"}),s.jsx(Q,{value:"number",children:"Number"}),s.jsx(Q,{value:"date",children:"Date"}),s.jsx(Q,{value:"boolean",children:"Yes/No"}),s.jsx(Q,{value:"select",children:"Dropdown"})]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(D,{size:"sm",onClick:y,"data-testid":"button-confirm-add-field",children:"Add"}),s.jsx(D,{variant:"outline",size:"sm",onClick:()=>g(!1),"data-testid":"button-cancel-add-field",children:"Cancel"})]})]}):s.jsxs(D,{variant:"outline",onClick:()=>g(!0),className:"w-full","data-testid":"button-add-custom-field",children:[s.jsx(st,{className:"h-4 w-4 mr-1"}),"Add Custom Field"]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx(D,{onClick:v,"data-testid":"button-save-metadata",children:"Save Changes"}),s.jsx(D,{variant:"outline",onClick:()=>{l({}),i(!1)},"data-testid":"button-cancel-metadata",children:"Cancel"})]})]})]})]})]}),_&&s.jsxs("div",{className:"flex flex-wrap gap-2",children:[Object.entries(k).slice(0,3).map(([T,P])=>s.jsxs(Z,{variant:"secondary",className:"text-xs","data-testid":`metadata-badge-${T}`,children:[T.replace(/_/g," "),": ",String(P)]},T)),Object.keys(k).length>3&&s.jsxs(Z,{variant:"outline",className:"text-xs",children:["+",Object.keys(k).length-3," more"]})]})]})}function Lxt({selectedDocuments:e,documents:t,availableTags:n,folders:r,onSelectAll:a,onDeselectAll:i,onBulkUpdate:o}){const[l,c]=b.useState(null),[d,u]=b.useState([]),[h,f]=b.useState(""),[g,m]=b.useState(""),[p,x]=b.useState({}),{toast:v}=mt(),y=qr(),j=Se({mutationFn:async C=>{const A=await fetch("/api/client-documents/bulk-update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({documentIds:e,updates:C})});if(!A.ok)throw new Error("Bulk update failed");return A.json()},onSuccess:()=>{y.invalidateQueries({queryKey:["/api/client-documents"]}),v({title:"Documents updated successfully"}),o(),c(null)},onError:()=>{v({title:"Failed to update documents",variant:"destructive"})}}),N=Se({mutationFn:async()=>{const C=await fetch("/api/client-documents/bulk-delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({documentIds:e})});if(!C.ok)throw new Error("Bulk delete failed");return C.json()},onSuccess:()=>{y.invalidateQueries({queryKey:["/api/client-documents"]}),v({title:"Documents deleted successfully"}),o()},onError:()=>{v({title:"Failed to delete documents",variant:"destructive"})}}),w=Se({mutationFn:async()=>{const C=await fetch("/api/client-documents/bulk-download",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({documentIds:e})});if(!C.ok)throw new Error("Download failed");const A=await C.blob(),E=window.URL.createObjectURL(A),I=document.createElement("a");I.href=E,I.download=`documents-${new Date().toISOString().split("T")[0]}.zip`,document.body.appendChild(I),I.click(),document.body.removeChild(I),window.URL.revokeObjectURL(E)},onSuccess:()=>{v({title:"Documents downloaded successfully"})},onError:()=>{v({title:"Failed to download documents",variant:"destructive"})}}),S=t.filter(C=>e.includes(C.id)),k=()=>{j.mutate({tags:d})},_=()=>{h&&j.mutate({status:h})},T=()=>{const C=g?{folder:g}:{folder:null};j.mutate({metadata:C})},P=()=>{j.mutate({metadata:p})};return e.length===0?null:s.jsx("div",{className:"sticky top-0 z-10 bg-white border-b shadow-sm",children:s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(es,{checked:e.length===t.length,onCheckedChange:C=>C?a():i(),"data-testid":"checkbox-select-all"}),s.jsxs("span",{className:"text-sm font-medium",children:[e.length," of ",t.length," selected"]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[S.slice(0,3).map(C=>s.jsx(Z,{variant:"secondary",className:"text-xs",children:C.name},C.id)),e.length>3&&s.jsxs(Z,{variant:"outline",className:"text-xs",children:["+",e.length-3," more"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(D,{variant:"outline",size:"sm",onClick:()=>w.mutate(),disabled:w.isPending,"data-testid":"button-bulk-download",children:[s.jsx(kn,{className:"h-4 w-4 mr-1"}),"Download All"]}),s.jsxs(ut,{open:l==="tags",onOpenChange:C=>c(C?"tags":null),children:[s.jsx(Ns,{asChild:!0,children:s.jsxs(D,{variant:"outline",size:"sm","data-testid":"button-bulk-tags",children:[s.jsx(cg,{className:"h-4 w-4 mr-1"}),"Tags"]})}),s.jsxs(lt,{"data-testid":"dialog-bulk-tags",children:[s.jsx(ct,{children:s.jsxs(dt,{children:["Manage Tags for ",e.length," documents"]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(Rfe,{availableTags:n,selectedTags:d,onTagsChange:u}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(D,{onClick:k,disabled:j.isPending,"data-testid":"button-apply-bulk-tags",children:"Apply Tags"}),s.jsx(D,{variant:"outline",onClick:()=>c(null),children:"Cancel"})]})]})]})]}),s.jsxs(ut,{open:l==="status",onOpenChange:C=>c(C?"status":null),children:[s.jsx(Ns,{asChild:!0,children:s.jsxs(D,{variant:"outline",size:"sm","data-testid":"button-bulk-status",children:[s.jsx(GQ,{className:"h-4 w-4 mr-1"}),"Status"]})}),s.jsxs(lt,{"data-testid":"dialog-bulk-status",children:[s.jsx(ct,{children:s.jsxs(dt,{children:["Update Status for ",e.length," documents"]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs(Ke,{value:h,onValueChange:f,children:[s.jsx(He,{"data-testid":"select-bulk-status",children:s.jsx(Ge,{placeholder:"Select new status"})}),s.jsxs(qe,{children:[s.jsx(Q,{value:"draft",children:"Draft"}),s.jsx(Q,{value:"active",children:"Active"}),s.jsx(Q,{value:"archived",children:"Archived"}),s.jsx(Q,{value:"expired",children:"Expired"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(D,{onClick:_,disabled:!h||j.isPending,"data-testid":"button-apply-bulk-status",children:"Update Status"}),s.jsx(D,{variant:"outline",onClick:()=>c(null),children:"Cancel"})]})]})]})]}),s.jsxs(ut,{open:l==="folder",onOpenChange:C=>c(C?"folder":null),children:[s.jsx(Ns,{asChild:!0,children:s.jsxs(D,{variant:"outline",size:"sm","data-testid":"button-bulk-folder",children:[s.jsx(ls,{className:"h-4 w-4 mr-1"}),"Move"]})}),s.jsxs(lt,{"data-testid":"dialog-bulk-folder",children:[s.jsx(ct,{children:s.jsxs(dt,{children:["Move ",e.length," documents to folder"]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs(Ke,{value:g,onValueChange:m,children:[s.jsx(He,{"data-testid":"select-bulk-folder",children:s.jsx(Ge,{placeholder:"Select folder"})}),s.jsxs(qe,{children:[s.jsx(Q,{value:"",children:"No Folder"}),r.map(C=>s.jsx(Q,{value:C.id,children:C.name},C.id))]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(D,{onClick:T,disabled:j.isPending,"data-testid":"button-apply-bulk-folder",children:"Move Documents"}),s.jsx(D,{variant:"outline",onClick:()=>c(null),children:"Cancel"})]})]})]})]}),s.jsxs(ut,{open:l==="metadata",onOpenChange:C=>c(C?"metadata":null),children:[s.jsx(Ns,{asChild:!0,children:s.jsxs(D,{variant:"outline",size:"sm","data-testid":"button-bulk-metadata",children:[s.jsx(lg,{className:"h-4 w-4 mr-1"}),"Fields"]})}),s.jsxs(lt,{className:"max-w-2xl","data-testid":"dialog-bulk-metadata",children:[s.jsx(ct,{children:s.jsxs(dt,{children:["Update Fields for ",e.length," documents"]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx($fe,{metadata:p,onMetadataChange:x}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(D,{onClick:P,disabled:j.isPending,"data-testid":"button-apply-bulk-metadata",children:"Update Fields"}),s.jsx(D,{variant:"outline",onClick:()=>c(null),children:"Cancel"})]})]})]})]}),s.jsxs(fk,{children:[s.jsx(HR,{asChild:!0,children:s.jsxs(D,{variant:"destructive",size:"sm","data-testid":"button-bulk-delete",children:[s.jsx(Jn,{className:"h-4 w-4 mr-1"}),"Delete"]})}),s.jsxs(kj,{children:[s.jsxs(_j,{children:[s.jsx(Tj,{children:"Delete Documents"}),s.jsxs(Aj,{children:["Are you sure you want to delete ",e.length," selected documents? This action cannot be undone."]})]}),s.jsxs(Pj,{children:[s.jsx(Ej,{children:"Cancel"}),s.jsx(mk,{onClick:()=>N.mutate(),className:"bg-red-600 hover:bg-red-700",disabled:N.isPending,children:"Delete Documents"})]})]})]}),s.jsx(D,{variant:"ghost",size:"sm",onClick:i,"data-testid":"button-clear-selection",children:"Clear Selection"})]})]})})})}function zxt(){var Ve,Mt,Pn,xn,lh;const{filters:e,isAdvancedModalOpen:t,isSearchBuilderOpen:n,savedSearches:r,results:a,totalCount:i,facets:o,clients:l,availableTags:c,isLoading:d,hasActiveAdvancedSearch:u,updateFilters:h,resetFilters:f,quickSearch:g,removeFilter:m,saveSearch:p,loadSavedSearch:x,deleteSavedSearch:v,starSavedSearch:y,refresh:j,setIsAdvancedModalOpen:N,setIsSearchBuilderOpen:w}=Fxt(),[S,k]=b.useState("list"),[_,T]=b.useState([]),[P,C]=b.useState(null),[A,E]=b.useState(!1),{toast:I}=mt(),$=qr(),[U,M]=b.useState([{id:"recent",name:"Recent Files",documentCount:0},{id:"favorites",name:"Favorites",documentCount:0},{id:"archived",name:"Archived",documentCount:0}]),[F,V]=b.useState(""),[Y,K]=b.useState([]),[z,L]=b.useState("all"),[ee,le]=b.useState("all"),[ve,ne]=b.useState([]),[be,ge]=b.useState(""),we=b.useMemo(()=>c||[],[c]),Ae=b.useMemo(()=>U.map(ue=>({...ue,documentCount:a.filter(Ie=>{var Et;return((Et=Ie.metadata)==null?void 0:Et.folder)===ue.id}).length})),[U,a]),X=b.useMemo(()=>a.reduce((ue,Ie)=>(ue[Ie.type]=(ue[Ie.type]||0)+1,ue),{}),[a]),xe=Se({mutationFn:async({id:ue,updates:Ie})=>{const Et=await fetch(`/api/client-documents/${ue}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ie)});if(!Et.ok)throw new Error("Update failed");return Et.json()},onSuccess:()=>{$.invalidateQueries({queryKey:["/api/client-documents"]}),j(),I({title:"Document updated successfully"})},onError:()=>{I({title:"Failed to update document",variant:"destructive"})}}),Be=Se({mutationFn:async ue=>{const Ie=await fetch(`/api/client-documents/${ue}`,{method:"DELETE"});if(!Ie.ok)throw new Error("Delete failed");return Ie.json()},onSuccess:()=>{$.invalidateQueries({queryKey:["/api/client-documents"]}),j(),I({title:"Document deleted successfully"})},onError:()=>{I({title:"Failed to delete document",variant:"destructive"})}}),At=(ue,Ie)=>{T(Ie?Et=>[...Et,ue]:Et=>Et.filter(Gr=>Gr!==ue))},Pt=()=>{T(a.map(ue=>ue.id))},sn=()=>{T([])},Kr=()=>{T([])},mr=(ue,Ie)=>{const Et={id:`folder-${Date.now()}`,name:ue,description:Ie,documentCount:0};M(Gr=>[...Gr,Et])},$n=(ue,Ie,Et)=>{M(Gr=>Gr.map(rr=>rr.id===ue?{...rr,name:Ie,description:Et}:rr))},nr=ue=>{M(Ie=>Ie.filter(Et=>Et.id!==ue)),a.filter(Ie=>{var Et;return((Et=Ie.metadata)==null?void 0:Et.folder)===ue}).forEach(Ie=>{xe.mutate({id:Ie.id,updates:{metadata:{...Ie.metadata,folder:null}}})})},J=(ue,Ie)=>{const Et=a.find(Gr=>Gr.id===ue);Et&&xe.mutate({id:ue,updates:{metadata:{...Et.metadata,folder:Ie}}})},oe=(ue,Ie)=>{if(Ie!=null&&Ie.startsWith("image/"))return s.jsx(VP,{className:"h-5 w-5 text-blue-500"});if(Ie!=null&&Ie.includes("pdf"))return s.jsx(nt,{className:"h-5 w-5 text-red-500"});switch(ue){case"proposal":return s.jsx(nt,{className:"h-5 w-5 text-blue-500"});case"invoice":return s.jsx(nt,{className:"h-5 w-5 text-green-500"});case"contract":return s.jsx(nt,{className:"h-5 w-5 text-purple-500"});case"presentation":return s.jsx(nt,{className:"h-5 w-5 text-orange-500"});default:return s.jsx(VP,{className:"h-5 w-5 text-gray-500"})}},pe=ue=>{switch(ue){case"proposal":return"bg-blue-100 text-blue-800";case"invoice":return"bg-green-100 text-green-800";case"contract":return"bg-purple-100 text-purple-800";case"presentation":return"bg-orange-100 text-orange-800";case"report":return"bg-amber-100 text-amber-800";case"agreement":return"bg-indigo-100 text-indigo-800";default:return"bg-gray-100 text-gray-800"}},Le=ue=>{switch(ue){case"draft":return"bg-yellow-100 text-yellow-800";case"active":return"bg-green-100 text-green-800";case"archived":return"bg-gray-100 text-gray-800";case"expired":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},$e=ue=>{if(!ue)return"";if(ue===0)return"0 Bytes";const Ie=1024,Et=["Bytes","KB","MB","GB"],Gr=Math.floor(Math.log(ue)/Math.log(Ie));return parseFloat((ue/Math.pow(Ie,Gr)).toFixed(2))+" "+Et[Gr]},_e=ue=>{var Ie,Et,Gr;return s.jsx(B,{className:`hover:shadow-lg transition-shadow ${_.includes(ue.id)?"ring-2 ring-blue-500":""}`,children:s.jsx(q,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex items-start gap-4 flex-1 min-w-0",children:[s.jsx(es,{checked:_.includes(ue.id),onCheckedChange:rr=>At(ue.id,rr),"data-testid":`checkbox-select-${ue.id}`}),oe(ue.type,ue.mimeType||void 0),s.jsxs("div",{className:"flex-1 min-w-0 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:ue.name}),s.jsx(Z,{className:pe(ue.type),children:ue.type}),s.jsx(Z,{className:Le(ue.status),children:ue.status}),((Ie=ue.metadata)==null?void 0:Ie.folder)&&s.jsxs(Z,{variant:"outline",children:[s.jsx(Pu,{className:"h-3 w-3 mr-1"}),(Et=Ae.find(rr=>{var ml;return rr.id===((ml=ue.metadata)==null?void 0:ml.folder)}))==null?void 0:Et.name]})]}),ue.tags&&ue.tags.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-1",children:[ue.tags.slice(0,3).map(rr=>s.jsxs(Z,{variant:"secondary",className:"text-xs",children:[s.jsx(cg,{className:"h-3 w-3 mr-1"}),rr]},rr)),ue.tags.length>3&&s.jsxs(Z,{variant:"outline",className:"text-xs",children:["+",ue.tags.length-3," more"]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(VP,{className:"h-4 w-4"}),ue.fileName]}),ue.client&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(_u,{className:"h-4 w-4"}),s.jsx(ze,{href:`/client/${ue.clientId}`,className:"hover:text-blue-600",children:ue.client.name})]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Fa,{className:"h-4 w-4"}),((Gr=ue.uploadedBy)==null?void 0:Gr.name)||"Unknown"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(en,{className:"h-4 w-4"}),ue.createdAt?Me(new Date(ue.createdAt),"MMM d, yyyy"):""]})]}),ue.description&&s.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:ue.description}),ue.metadata&&Object.keys(ue.metadata).filter(rr=>rr!=="folder").length>0&&s.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(ue.metadata).filter(([rr])=>rr!=="folder").slice(0,2).map(([rr,ml])=>s.jsxs(Z,{variant:"outline",className:"text-xs",children:[rr.replace(/_/g," "),": ",String(ml)]},rr))})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"text-right text-sm text-gray-600",children:[s.jsx("p",{children:$e(ue.fileSize||void 0)}),s.jsxs("p",{children:["v",ue.version]})]}),s.jsxs(D,{variant:"outline",size:"sm",onClick:()=>window.open(ue.fileUrl,"_blank"),"data-testid":`button-download-${ue.id}`,children:[s.jsx(kn,{className:"h-4 w-4 mr-1"}),"Download"]}),s.jsxs(Zf,{children:[s.jsx(Jf,{asChild:!0,children:s.jsx(D,{variant:"ghost",size:"sm","data-testid":`button-document-menu-${ue.id}`,children:s.jsx(SR,{className:"h-4 w-4"})})}),s.jsxs(Qu,{align:"end",children:[s.jsxs(Ca,{onClick:()=>C(ue),children:[s.jsx(rZ,{className:"h-4 w-4 mr-2"}),"Edit Properties"]}),s.jsxs(Ca,{onClick:()=>window.open(ue.fileUrl,"_blank"),children:[s.jsx(fn,{className:"h-4 w-4 mr-2"}),"View/Preview"]}),s.jsx(lp,{}),s.jsxs(fk,{children:[s.jsx(HR,{asChild:!0,children:s.jsxs(Ca,{onSelect:rr=>rr.preventDefault(),children:[s.jsx(Jn,{className:"h-4 w-4 mr-2"}),"Delete Document"]})}),s.jsxs(kj,{children:[s.jsxs(_j,{children:[s.jsx(Tj,{children:"Delete Document"}),s.jsxs(Aj,{children:['Are you sure you want to delete "',ue.name,'"? This action cannot be undone.']})]}),s.jsxs(Pj,{children:[s.jsx(Ej,{children:"Cancel"}),s.jsx(mk,{onClick:()=>Be.mutate(ue.id),className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})]})]})]})]})]})})},ue.id)};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(pt,{}),s.jsx(Lxt,{selectedDocuments:_,documents:a,availableTags:we,folders:Ae,onSelectAll:Pt,onDeselectAll:sn,onBulkUpdate:Kr}),s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"hidden lg:block w-80 bg-white border-r border-gray-200 h-screen sticky top-0 overflow-y-auto",children:s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ls,{className:"h-6 w-6 text-gray-600"}),s.jsx("h2",{className:"font-semibold text-lg",children:"File Organization"})]}),s.jsx(p7,{folders:Ae,selectedFolder:F,onFolderSelect:V,onCreateFolder:mr,onUpdateFolder:$n,onDeleteFolder:nr,onMoveDocumentToFolder:J}),s.jsx("div",{className:"border-t pt-6",children:s.jsx(f7,{tags:we,selectedTags:Y,onTagSelect:ue=>{Y.includes(ue)?K(Ie=>Ie.filter(Et=>Et!==ue)):K(Ie=>[...Ie,ue])},onTagRemove:ue=>{K(Ie=>Ie.filter(Et=>Et!==ue))},onClearAll:()=>K([])})})]})}),s.jsx(Kce,{open:A,onOpenChange:E,children:s.jsxs(aF,{side:"left",className:"w-80",children:[s.jsx(iF,{children:s.jsxs(oF,{className:"flex items-center gap-2",children:[s.jsx(ls,{className:"h-5 w-5"}),"File Organization"]})}),s.jsxs("div",{className:"mt-6 space-y-6",children:[s.jsx(p7,{folders:Ae,selectedFolder:F,onFolderSelect:ue=>{V(ue),E(!1)},onCreateFolder:mr,onUpdateFolder:$n,onDeleteFolder:nr,onMoveDocumentToFolder:J}),s.jsx("div",{className:"border-t pt-6",children:s.jsx(f7,{tags:we,selectedTags:Y,onTagSelect:ue=>{Y.includes(ue)?K(Ie=>Ie.filter(Et=>Et!==ue)):K(Ie=>[...Ie,ue]),E(!1)},onTagRemove:ue=>{K(Ie=>Ie.filter(Et=>Et!==ue))},onClearAll:()=>{K([]),E(!1)}})})]})]})}),s.jsxs("main",{className:"flex-1 max-w-none px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[s.jsx(D,{variant:"outline",size:"sm",onClick:()=>E(!0),className:"lg:hidden","data-testid":"button-open-sidebar",children:s.jsx(eZ,{className:"h-4 w-4"})}),s.jsx(ze,{href:"/",children:s.jsxs(D,{variant:"outline",size:"sm","data-testid":"button-back-to-dashboard",children:[s.jsx(ln,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ls,{className:"h-8 w-8 text-gray-600"}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Filing Cabinet"})]}),s.jsxs(Z,{variant:"secondary",className:"text-sm",children:[a.length," files"]})]}),s.jsx("p",{className:"text-gray-600",children:"Advanced file organization and management system"})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-4 mb-8",children:Object.entries(X).map(([ue,Ie])=>s.jsx(B,{className:`text-center cursor-pointer transition-colors ${z===ue?"ring-2 ring-blue-500 bg-blue-50":"hover:bg-gray-50"}`,onClick:()=>L(z===ue?"all":ue),children:s.jsx(q,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col items-center",children:[oe(ue),s.jsx("p",{className:"text-sm font-medium text-gray-900 mt-2 capitalize",children:ue}),s.jsx("p",{className:"text-2xl font-bold text-gray-700",children:Ie})]})})},ue))}),s.jsx(B,{className:"mb-8",children:s.jsxs(q,{className:"p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4 mb-4",children:[s.jsxs("div",{className:"relative md:col-span-2",children:[s.jsx(Ya,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(te,{placeholder:"Search files, clients, descriptions...",value:e.query,onChange:ue=>g(ue.target.value),className:"pl-10","data-testid":"input-search-files"})]}),s.jsxs("div",{className:"md:col-span-4 flex flex-wrap gap-2",children:[s.jsxs(D,{variant:e.types.includes("proposal")?"default":"outline",size:"sm",onClick:()=>{const ue=e.types.includes("proposal")?e.types.filter(Ie=>Ie!=="proposal"):[...e.types,"proposal"];h({types:ue})},"data-testid":"filter-proposals",children:["Proposals (",((Ve=o.types.find(ue=>ue.value==="proposal"))==null?void 0:Ve.count)||0,")"]}),s.jsxs(D,{variant:e.types.includes("invoice")?"default":"outline",size:"sm",onClick:()=>{const ue=e.types.includes("invoice")?e.types.filter(Ie=>Ie!=="invoice"):[...e.types,"invoice"];h({types:ue})},"data-testid":"filter-invoices",children:["Invoices (",((Mt=o.types.find(ue=>ue.value==="invoice"))==null?void 0:Mt.count)||0,")"]}),s.jsxs(D,{variant:e.types.includes("contract")?"default":"outline",size:"sm",onClick:()=>{const ue=e.types.includes("contract")?e.types.filter(Ie=>Ie!=="contract"):[...e.types,"contract"];h({types:ue})},"data-testid":"filter-contracts",children:["Contracts (",((Pn=o.types.find(ue=>ue.value==="contract"))==null?void 0:Pn.count)||0,")"]}),s.jsxs(D,{variant:e.statuses.includes("active")?"default":"outline",size:"sm",onClick:()=>{const ue=e.statuses.includes("active")?e.statuses.filter(Ie=>Ie!=="active"):[...e.statuses,"active"];h({statuses:ue})},"data-testid":"filter-active",children:["Active (",((xn=o.statuses.find(ue=>ue.value==="active"))==null?void 0:xn.count)||0,")"]}),s.jsx(D,{variant:e.includeArchived?"default":"outline",size:"sm",onClick:()=>h({includeArchived:!e.includeArchived}),"data-testid":"filter-include-archived",children:"Include Archived"})]})]}),s.jsx(Ixt,{filters:e,onRemoveFilter:m,onClearAll:f,clients:l,availableTags:c}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(D,{variant:"outline",onClick:()=>N(!0),"data-testid":"button-advanced-search",children:[s.jsx(e0,{className:"h-4 w-4 mr-2"}),"Advanced Search"]}),s.jsxs(D,{variant:"outline",onClick:()=>w(!0),"data-testid":"button-search-builder",children:[s.jsx(cn,{className:"h-4 w-4 mr-2"}),"Search Builder"]}),u&&s.jsxs(D,{variant:"outline",onClick:f,"data-testid":"button-clear-all-filters",children:[s.jsx(u0e,{className:"h-4 w-4 mr-2"}),"Clear All"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(D,{variant:S==="list"?"default":"outline",size:"sm",onClick:()=>k("list"),"data-testid":"button-view-list",children:s.jsx(rS,{className:"h-4 w-4"})}),s.jsx(D,{variant:S==="grid"?"default":"outline",size:"sm",onClick:()=>k("grid"),"data-testid":"button-view-grid",children:s.jsx(m0e,{className:"h-4 w-4"})})]})]})]})}),(Y.length>0||F)&&s.jsxs("div",{className:"mb-6 flex flex-wrap gap-2",children:[F&&s.jsxs(Z,{variant:"secondary",className:"flex items-center gap-1",children:[s.jsx(Pu,{className:"h-3 w-3"}),(lh=Ae.find(ue=>ue.id===F))==null?void 0:lh.name,s.jsx("button",{onClick:()=>V(null),className:"ml-1 hover:text-red-600",children:""})]}),Y.map(ue=>s.jsxs(Z,{variant:"secondary",className:"flex items-center gap-1",children:[s.jsx(cg,{className:"h-3 w-3"}),ue,s.jsx("button",{onClick:()=>K(Ie=>Ie.filter(Et=>Et!==ue)),className:"ml-1 hover:text-red-600",children:""})]},ue))]}),d?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Loading files..."})]}):a.length===0?s.jsx(B,{children:s.jsxs(q,{className:"text-center py-12",children:[s.jsx(ls,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:be||z!=="all"||ee!=="all"||ve!=="all"||Y.length>0||F?"No files match your filters":"No files found"}),s.jsx("p",{className:"text-gray-600",children:be||z!=="all"||ee!=="all"||ve!=="all"||Y.length>0||F?"Try adjusting your search criteria or clearing filters":"Files will appear here as they are uploaded and saved"})]})}):s.jsx("div",{className:S==="grid"?"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6":"space-y-4",children:a.map(_e)})]})]}),s.jsx(ut,{open:!!P,onOpenChange:()=>C(null),children:s.jsxs(lt,{className:"max-w-2xl","data-testid":"dialog-edit-document",children:[s.jsx(ct,{children:s.jsx(dt,{children:"Edit Document Properties"})}),P&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium mb-3",children:"Basic Information"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Document Name"}),s.jsx(te,{value:P.name,onChange:ue=>C(Ie=>Ie?{...Ie,name:ue.target.value}:null),"data-testid":"input-document-name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Description"}),s.jsx(te,{value:P.description||"",onChange:ue=>C(Ie=>Ie?{...Ie,description:ue.target.value}:null),"data-testid":"input-document-description"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Status"}),s.jsxs(Ke,{value:P.status,onValueChange:ue=>C(Ie=>Ie?{...Ie,status:ue}:null),children:[s.jsx(He,{"data-testid":"select-document-status",children:s.jsx(Ge,{})}),s.jsxs(qe,{children:[s.jsx(Q,{value:"draft",children:"Draft"}),s.jsx(Q,{value:"active",children:"Active"}),s.jsx(Q,{value:"archived",children:"Archived"}),s.jsx(Q,{value:"expired",children:"Expired"})]})]})]})]})]}),s.jsx("div",{children:s.jsx(Rfe,{availableTags:c,selectedTags:P.tags||[],onTagsChange:ue=>C(Ie=>Ie?{...Ie,tags:ue}:null),documentId:P.id})}),s.jsx("div",{children:s.jsx($fe,{documentId:P.id,metadata:P.metadata||{},onMetadataChange:ue=>C(Ie=>Ie?{...Ie,metadata:ue}:null),documentType:P.type})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(D,{onClick:()=>{P&&(xe.mutate({id:P.id,updates:{name:P.name,description:P.description,status:P.status,tags:P.tags,metadata:P.metadata}}),C(null))},"data-testid":"button-save-document",children:"Save Changes"}),s.jsx(D,{variant:"outline",onClick:()=>C(null),"data-testid":"button-cancel-edit",children:"Cancel"})]})]})]})}),s.jsx(Oxt,{isOpen:t,onOpenChange:N,filters:e,onFiltersChange:h,onSearch:()=>N(!1),onReset:f,clients:l,availableTags:c,savedSearches:r,onSaveSearch:p,onLoadSearch:x}),s.jsx($xt,{isOpen:n,onOpenChange:w,onSearch:h,clients:l,availableTags:c,savedSearches:r,onSaveSearch:p,onDeleteSearch:v,onStarSearch:y})]})}function Bxt(){const[e,t]=b.useState(""),[n,r]=b.useState(""),[a,i]=b.useState(""),[o,l]=b.useState(""),[c,d]=b.useState(""),[u,h]=b.useState(""),[f,g]=b.useState(""),[m,p]=b.useState(""),[x,v]=b.useState(""),[y,j]=b.useState(!1),{toast:N}=mt(),w=Se({mutationFn:async A=>{const E=await fetch("/api/agency/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:A})});if(!E.ok)throw new Error("Failed to generate content");return E.json()},onSuccess:A=>{d(A.content),N({title:"Marketing mockup created!",description:"Your creative content is ready."})},onError:()=>{N({title:"Error",description:"Failed to create content",variant:"destructive"})}}),S=Se({mutationFn:async A=>{const E=await fetch("/api/agency/generate-image",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:A})});if(!E.ok)throw new Error("Failed to generate image");return E.json()},onSuccess:A=>{var E;h(A.imageUrl||A.url||A.path||((E=A==null?void 0:A.data)==null?void 0:E.imageUrl)||""),N({title:"Image generated!",description:"Your marketing visual is ready."})},onError:()=>{N({title:"Error",description:"Failed to generate image",variant:"destructive"})}}),k=async()=>{j(!0);try{const A=await fetch("/api/ai/generate-content",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"marketing_concept_prompt",context:"Generate a detailed marketing concept prompt that includes target audience, brand style, platform specifications, and creative direction. Make it specific and actionable for creating professional marketing mockups."})});if(!A.ok)throw new Error("Failed to generate prompt");const E=await A.json();t(E.content),N({title:"Marketing Prompt Generated!",description:"AI has created a detailed marketing concept prompt."})}catch{N({title:"Generation Failed",description:"Failed to generate marketing prompt. Please try again.",variant:"destructive"})}finally{j(!1)}},_=Se({mutationFn:async A=>{const E=await fetch("/api/agency/write",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:A})});if(!E.ok)throw new Error("Failed to write content");return E.json()},onSuccess:A=>{g(A.content),N({title:"Copy written!",description:"Your marketing copy is ready."})},onError:()=>{N({title:"Error",description:"Failed to write content",variant:"destructive"})}}),T=Se({mutationFn:async A=>{const E=await fetch("/api/agency/promote",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:A})});if(!E.ok)throw new Error("Failed to generate promotion strategy");return E.json()},onSuccess:A=>{p(A.content),N({title:"Promotion strategy ready!",description:"Your advertising strategy is prepared."})},onError:()=>{N({title:"Error",description:"Failed to generate promotion strategy",variant:"destructive"})}}),P=Se({mutationFn:async A=>{const E=await fetch("/api/agency/track",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:A})});if(!E.ok)throw new Error("Failed to analyze data");return E.json()},onSuccess:A=>{v(A.insights),N({title:"Analysis complete!",description:"Your marketing insights are ready."})},onError:()=>{N({title:"Error",description:"Failed to analyze data",variant:"destructive"})}}),C=A=>{navigator.clipboard.writeText(A),N({title:"Copied!",description:"Content copied to clipboard."})};return s.jsxs("div",{className:"min-h-screen bg-[var(--bg)]",children:[s.jsx(pt,{}),s.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx(ze,{href:"/",children:s.jsxs(D,{variant:"outline",size:"sm",className:"flex items-center gap-2","data-testid":"button-back-to-dashboard",children:[s.jsx(ln,{className:"w-4 h-4"}),"Back to My Dashboard"]})}),s.jsx("div",{className:"bg-[var(--surface)] p-3 rounded-lg border border-[color:var(--keyline)]",children:s.jsx(cn,{className:"h-8 w-8 text-[var(--brand)]"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-[var(--text)]",children:"Agency Hub"}),s.jsx("p",{className:"text-[var(--muted)]",children:"AI-powered marketing and creative tools for your business"})]})]})}),s.jsxs(Kn,{defaultValue:"create",className:"space-y-6",children:[s.jsxs(Mn,{className:"grid w-full grid-cols-4",children:[s.jsxs(Re,{value:"create",className:"flex items-center gap-2",children:[s.jsx(Lx,{className:"h-4 w-4"}),"Create"]}),s.jsxs(Re,{value:"write",className:"flex items-center gap-2",children:[s.jsx(ss,{className:"h-4 w-4"}),"Write"]}),s.jsxs(Re,{value:"promote",className:"flex items-center gap-2",children:[s.jsx(Lw,{className:"h-4 w-4"}),"Promote"]}),s.jsxs(Re,{value:"track",className:"flex items-center gap-2",children:[s.jsx(Sn,{className:"h-4 w-4"}),"Track"]})]}),s.jsx(Fe,{value:"create",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs(B,{children:[s.jsx(ae,{children:s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(Lx,{className:"h-5 w-5 text-purple-600"}),"Create Marketing Mockups"]})}),s.jsxs(q,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Describe your marketing concept"}),s.jsxs(D,{variant:"outline",size:"sm",onClick:k,disabled:y,className:"flex items-center gap-2","data-testid":"button-generate-marketing-prompt",children:[y?s.jsx(wr,{className:"w-4 h-4 animate-spin"}):s.jsx(ss,{className:"w-4 h-4"}),y?"Writing...":"Write"]})]}),s.jsx(it,{placeholder:"e.g., Create a social media post for a luxury watch brand targeting young professionals...",value:e,onChange:A=>t(A.target.value),className:"min-h-[120px]","data-testid":"textarea-create-prompt"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(D,{onClick:()=>w.mutate(e),disabled:!e.trim()||w.isPending,className:"w-full bg-[var(--brand)] hover:opacity-90 text-white","data-testid":"button-create-generate",children:w.isPending?s.jsxs(s.Fragment,{children:[s.jsx(wr,{className:"h-4 w-4 mr-2 animate-spin"}),"Creating Concept..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Lx,{className:"h-4 w-4 mr-2"}),"Generate Concept"]})}),s.jsx(D,{onClick:()=>S.mutate(e),disabled:!e.trim()||S.isPending,variant:"outline",className:"w-full border-[color:var(--keyline)] hover:bg-[var(--surface)]","data-testid":"button-generate-image",children:S.isPending?s.jsxs(s.Fragment,{children:[s.jsx(wr,{className:"h-4 w-4 mr-2 animate-spin"}),"Generating Image..."]}):s.jsx(s.Fragment,{children:" Generate Visual"})})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(B,{children:[s.jsxs(ae,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[s.jsx(ie,{children:"Generated Visual"}),u&&s.jsx(D,{variant:"ghost",size:"sm",onClick:()=>h(""),className:"h-8 w-8 p-0 text-gray-700 dark:text-gray-200 hover:bg-neutral-200 dark:hover:bg-neutral-800","data-testid":"button-close-image",children:s.jsx(Kt,{className:"h-4 w-4"})})]}),s.jsx(q,{children:u?s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border",children:s.jsx("img",{src:u,alt:"Generated marketing visual",className:"w-full rounded-lg shadow-md","data-testid":"generated-image"})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(D,{variant:"outline",onClick:()=>window.open(u,"_blank"),className:"flex-1","data-testid":"button-view-image",children:" View Full Size"}),s.jsxs(D,{variant:"outline",onClick:()=>{const A=document.createElement("a");A.href=u,A.download="marketing-visual.png",A.click()},className:"flex-1","data-testid":"button-download-image",children:[s.jsx(kn,{className:"h-4 w-4 mr-2"}),"Download"]}),s.jsxs(D,{variant:"outline",onClick:()=>h(""),className:"flex-1 text-red-600 hover:text-red-700 hover:bg-red-50","data-testid":"button-clear-image",children:[s.jsx(Kt,{className:"h-4 w-4 mr-2"}),"Clear"]})]})]}):s.jsxs("div",{className:"text-center text-gray-500 py-8",children:[" ",s.jsx("p",{className:"mt-2",children:"Your generated visual will appear here"})]})})]}),s.jsxs(B,{children:[s.jsx(ae,{children:s.jsx(ie,{children:"Marketing Concept"})}),s.jsx(q,{children:c?s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border",children:s.jsx("pre",{className:"whitespace-pre-wrap text-sm",children:c})}),s.jsxs(D,{variant:"outline",onClick:()=>C(c),className:"w-full","data-testid":"button-copy-created",children:[s.jsx(Lc,{className:"h-4 w-4 mr-2"}),"Copy Content"]})]}):s.jsxs("div",{className:"text-center text-gray-500 py-8",children:[s.jsx(Lx,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),s.jsx("p",{children:"Your marketing concept will appear here"})]})})]})]})]})}),s.jsx(Fe,{value:"write",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(B,{children:[s.jsx(ae,{children:s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(ss,{className:"h-5 w-5 text-blue-600"}),"Write Creative Copy"]})}),s.jsxs(q,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"What do you need written?"}),s.jsx(it,{placeholder:"e.g., Write a press release for our new product launch, targeting tech journalists...",value:n,onChange:A=>r(A.target.value),className:"min-h-[120px]","data-testid":"textarea-write-prompt"})]}),s.jsx(D,{onClick:()=>_.mutate(n),disabled:!n.trim()||_.isPending,className:"w-full bg-[var(--accent)] hover:opacity-90 text-white","data-testid":"button-write-generate",children:_.isPending?s.jsxs(s.Fragment,{children:[s.jsx(wr,{className:"h-4 w-4 mr-2 animate-spin"}),"Writing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ss,{className:"h-4 w-4 mr-2"}),"Generate Copy"]})})]})]}),s.jsxs(B,{children:[s.jsx(ae,{children:s.jsx(ie,{children:"Generated Copy"})}),s.jsx(q,{children:f?s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border",children:s.jsx("pre",{className:"whitespace-pre-wrap text-sm",children:f})}),s.jsxs(D,{variant:"outline",onClick:()=>C(f),className:"w-full","data-testid":"button-copy-written",children:[s.jsx(Lc,{className:"h-4 w-4 mr-2"}),"Copy Content"]})]}):s.jsxs("div",{className:"text-center text-gray-500 py-8",children:[s.jsx(ss,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),s.jsx("p",{children:"Your generated copy will appear here"})]})})]})]})}),s.jsx(Fe,{value:"promote",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(B,{children:[s.jsx(ae,{children:s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(Lw,{className:"h-5 w-5 text-orange-600"}),"Advertising Strategy"]})}),s.jsxs(q,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Describe your promotion goals"}),s.jsx(it,{placeholder:"e.g., Help me create an advertising strategy for a $10k budget to promote our SaaS product to small businesses...",value:a,onChange:A=>i(A.target.value),className:"min-h-[120px]","data-testid":"textarea-promote-prompt"})]}),s.jsx(D,{onClick:()=>T.mutate(a),disabled:!a.trim()||T.isPending,className:"w-full bg-[var(--signal)] hover:opacity-90 text-white","data-testid":"button-promote-generate",children:T.isPending?s.jsxs(s.Fragment,{children:[s.jsx(wr,{className:"h-4 w-4 mr-2 animate-spin"}),"Strategizing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Lw,{className:"h-4 w-4 mr-2"}),"Generate Strategy"]})})]})]}),s.jsxs(B,{children:[s.jsx(ae,{children:s.jsx(ie,{children:"Promotion Strategy"})}),s.jsx(q,{children:m?s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border",children:s.jsx("pre",{className:"whitespace-pre-wrap text-sm",children:m})}),s.jsxs(D,{variant:"outline",onClick:()=>C(m),className:"w-full","data-testid":"button-copy-promote",children:[s.jsx(Lc,{className:"h-4 w-4 mr-2"}),"Copy Strategy"]})]}):s.jsxs("div",{className:"text-center text-gray-500 py-8",children:[s.jsx(Lw,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),s.jsx("p",{children:"Your promotion strategy will appear here"})]})})]})]})}),s.jsx(Fe,{value:"track",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(B,{children:[s.jsx(ae,{children:s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(Sn,{className:"h-5 w-5 text-green-600"}),"Marketing Analytics"]})}),s.jsxs(q,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Paste your marketing data or describe what you want to track"}),s.jsx(it,{placeholder:"e.g., Analyze my campaign data: 10,000 impressions, 250 clicks, 15 conversions, $500 spent... or describe what metrics you want to track",value:o,onChange:A=>l(A.target.value),className:"min-h-[120px]","data-testid":"textarea-track-data"})]}),s.jsx(D,{onClick:()=>P.mutate(o),disabled:!o.trim()||P.isPending,className:"w-full bg-[var(--success)] hover:opacity-90 text-white","data-testid":"button-track-analyze",children:P.isPending?s.jsxs(s.Fragment,{children:[s.jsx(wr,{className:"h-4 w-4 mr-2 animate-spin"}),"Analyzing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Sn,{className:"h-4 w-4 mr-2"}),"Analyze Data"]})})]})]}),s.jsxs(B,{children:[s.jsx(ae,{children:s.jsx(ie,{children:"Marketing Insights"})}),s.jsx(q,{children:x?s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border",children:s.jsx("pre",{className:"whitespace-pre-wrap text-sm",children:x})}),s.jsxs(D,{variant:"outline",onClick:()=>C(x),className:"w-full","data-testid":"button-copy-insights",children:[s.jsx(Lc,{className:"h-4 w-4 mr-2"}),"Copy Insights"]})]}):s.jsxs("div",{className:"text-center text-gray-500 py-8",children:[s.jsx(Sn,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),s.jsx("p",{children:"Your marketing insights will appear here"})]})})]})]})})]})]})]})}function Uxt(){const[e,t]=b.useState(["getting-started"]),n=a=>{t(i=>i.includes(a)?i.filter(o=>o!==a):[...i,a])},r=[{id:"getting-started",title:"Getting Started",icon:s.jsx(Xo,{className:"h-5 w-5 text-blue-600"}),description:"Basic setup and navigation",content:{overview:"Gigster Garage is your simplified workflow hub for comprehensive task management, client relations, and business operations.",sections:[{title:"Dashboard Overview",content:"The dashboard provides an at-a-glance view of your critical tasks, project status, and quick actions. Key metrics include overdue tasks, due soon alerts, high priority items, and daily completions."},{title:"Navigation",content:"Access all features through the top navigation bar. The dashboard serves as your central hub with quick access cards to all major functions."},{title:"Quick Actions",content:'Use the "New Task" button to quickly create tasks from anywhere in the application. The collapsible task form provides full task creation capabilities.'}],tips:["Start each day by reviewing your dashboard metrics",'Use the "New Task" button for quick task entry',"Click on metric cards to filter and view specific task groups"]}},{id:"task-management",title:"Task Management",icon:s.jsx(sZ,{className:"h-5 w-5 text-green-600"}),description:"Create, manage, and track tasks",content:{overview:"Comprehensive task management with priorities, due dates, assignments, progress tracking, and rich attachments.",sections:[{title:"Creating Tasks",content:'Create tasks using the "New Task" button or form. Include title, description, due date/time, priority level, project assignment, and assignee. Add notes, file attachments, and URL links for complete task context.'},{title:"Task Priorities & Status",content:"Set priority levels (Low, Normal, High) and status (Active, In Progress, Completed, Critical). Status badges provide visual indicators for quick identification."},{title:"Due Dates & Reminders",content:"Set specific due dates and times. The system provides automated reminders: yellow notifications 24 hours before due date, red urgent notifications 1 hour before due date."},{title:"Task Relationships",content:"Create parent-child task hierarchies with subtasks. The system prevents circular dependencies and maintains proper task relationships."},{title:"Progress Tracking",content:"Add progress notes with timestamps and comments to track task advancement. View progress history for accountability and review."}],tips:["Use High priority for urgent items that need immediate attention","Add detailed descriptions to provide context for assignees","Set realistic due dates and times for better planning","Use progress notes to document milestones and updates","Attach relevant files directly to tasks for easy access"]}},{id:"project-organization",title:"Project Organization",icon:s.jsx(Pu,{className:"h-5 w-5 text-purple-600"}),description:"Organize tasks by projects",content:{overview:"Group related tasks into projects for better organization and tracking. Each project provides comprehensive views and progress monitoring.",sections:[{title:"Project Creation",content:"Create projects from the dropdown in task forms or through the project management interface. Projects automatically organize related tasks and provide progress tracking."},{title:"Project Dashboard",content:"Each project has a dedicated dashboard showing outstanding tasks, critical items, overdue tasks, and overall progress percentage. Visual progress bars indicate completion status."},{title:"Project Views",content:"View projects in multiple formats: Kanban boards for workflow visualization, Timeline/Gantt charts for scheduling, and List view for detailed task management."},{title:"Project Status",content:"Projects can be marked as Active, Completed, On-Hold, or Cancelled. Status affects visibility and reporting."}],tips:["Group related tasks into projects for better organization","Use project dashboards to monitor overall progress","Set project status appropriately to manage workflows","Review project progress regularly through the dashboard cards"]}},{id:"client-management",title:"Client Management",icon:s.jsx(gn,{className:"h-5 w-5 text-indigo-600"}),description:"Manage client relationships",content:{overview:"Comprehensive client relationship management with contact information, communication history, and project associations.",sections:[{title:"Client Profiles",content:"Create detailed client profiles with contact information, company details, and relationship notes. Track client history and interactions."},{title:"Client Communication",content:"Track all client communications, including emails, calls, and meetings. Maintain a comprehensive history for reference and follow-up."},{title:"Project Associations",content:"Link clients to specific projects and tasks. View client-specific project progress and deliverables."}],tips:["Keep client contact information up to date","Log all significant client interactions","Review client history before meetings or calls"]}},{id:"messages-email",title:"Messages & Email",icon:s.jsx(Cs,{className:"h-5 w-5 text-blue-600"}),description:"Email communication system",content:{overview:"Integrated email system for client communication with both outbound sending and inbound processing capabilities.",sections:[{title:"Sending Messages",content:"Send professional emails directly from the application. Compose messages with rich formatting, attach files, and maintain communication records."},{title:"Inbound Email Processing",content:"Receive emails through SendGrid integration. Configure your domain to forward emails to the system for centralized communication management."},{title:"Email Templates",content:"Use pre-built templates for common communications like project updates, invoice notifications, and follow-up messages."},{title:"Communication History",content:"All email communications are automatically logged and associated with clients and projects for complete visibility."}],tips:["Use professional email templates for consistency","Configure inbound email forwarding for centralized management","Review communication history before client interactions","Keep email subject lines clear and descriptive"]}},{id:"invoicing",title:"Invoicing System",icon:s.jsx(nt,{className:"h-5 w-5 text-green-600"}),description:"Create and manage invoices",content:{overview:"Professional invoicing system with draft functionality, approval workflows, and automated email delivery.",sections:[{title:"Invoice Creation",content:"Create professional invoices with client information, itemized services, rates, and totals. Include company branding and payment terms."},{title:"Draft System",content:"Save invoices as drafts for review and approval before sending. Edit drafts until ready for final delivery to clients."},{title:"Hour Approval",content:"Review and approve tracked hours before including them in invoices. Ensure accuracy and completeness of billable time."},{title:"Invoice Delivery",content:"Send invoices directly to clients via email with professional formatting. Track delivery status and payment reminders."},{title:"Save to Filing Cabinet",content:'Invoices can be saved directly to the Filing Cabinet from the preview screen. Use the Export PDF dropdown and select "Save to Filing Cabinet" to automatically archive invoices with proper client associations.'}],tips:["Review all invoice details before sending to clients","Use the draft system for internal approval processes","Include clear payment terms and due dates","Track invoice status for follow-up actions","Tip: Invoices integrate with your Client Management system. If no client profile exists for the invoice recipient, one will be automatically created using the client information from the invoice"]}},{id:"proposals",title:"Proposal System",icon:s.jsx(nt,{className:"h-5 w-5 text-blue-600"}),description:"Create and manage client proposals",content:{overview:"Professional proposal creation system with template support, automated client management, and streamlined approval workflows.",sections:[{title:"Proposal Creation",content:"Create professional proposals using templates or direct input. Include project details, timeline, deliverables, pricing, and terms & conditions for comprehensive client presentations."},{title:"Template-Based Proposals",content:"Use pre-built templates to quickly generate proposals. Templates streamline the creation process and ensure consistency across client communications."},{title:"Direct Proposal Creation",content:"Create proposals from scratch with custom content, line items, pricing calculations, and personalized terms. Full control over proposal structure and content."},{title:"Client Integration",content:"Proposals automatically integrate with your client management system. If a client profile doesn't exist, the system will create one automatically when generating proposals."},{title:"Proposal Delivery",content:"Send proposals directly to clients via email with professional formatting. Track proposal status and manage follow-up communications."},{title:"Save to Filing Cabinet",content:'Proposals can be saved directly to the Filing Cabinet from the preview screen. Use the Export PDF dropdown and select "Save to Filing Cabinet" to automatically archive proposals with proper client associations.'}],tips:["Use templates for faster proposal creation and consistency","Include detailed project descriptions and clear timelines","Set appropriate expiration dates for proposals","Tip: Creating a proposal will automatically create a Client Profile if none exists for the provided email address","Review all pricing calculations before sending to clients"]}},{id:"time-tracking",title:"Time Tracking & Productivity",icon:s.jsx(bt,{className:"h-5 w-5 text-orange-600"}),description:"Track time and productivity metrics",content:{overview:"Comprehensive time tracking with project association, productivity insights, and billing integration.",sections:[{title:"Time Entry",content:"Log time spent on tasks and projects with detailed descriptions. Start/stop timers or manually enter time blocks."},{title:"Project Time Allocation",content:"Associate time entries with specific projects and tasks. Track time distribution across different work areas."},{title:"Productivity Reports",content:"Generate reports showing time utilization, project progress, and productivity trends. Identify areas for improvement."},{title:"Billable Hours",content:"Mark time entries as billable or non-billable. Export billable hours for invoice creation and client billing."}],tips:["Log time consistently for accurate tracking","Use descriptive notes for time entries","Review time reports weekly for productivity insights","Mark billable status accurately for proper invoicing"]}},{id:"agency-hub",title:"Agency Hub - AI Marketing Tools",icon:s.jsx(cn,{className:"h-5 w-5 text-purple-600"}),description:"AI-powered marketing and creative tools",content:{overview:"Advanced AI-powered marketing tools for content creation, copywriting, advertising strategy, and analytics.",sections:[{title:"Create Tool - Marketing Mockups",content:"Generate detailed marketing concepts and visual mockups using AI. Features an AI Write button to help craft comprehensive marketing prompts including target audience, brand style, and creative direction. Create both written marketing concepts and actual AI-generated images for campaigns, social media posts, and promotional materials."},{title:"Write Tool - Creative Copy",content:"Generate professional marketing copy, press releases, presentations, and advertising content. AI creates compelling, persuasive content tailored to your specific needs."},{title:"Promote Tool - Advertising Strategy",content:"Develop comprehensive advertising strategies with specific recommendations for platforms, budgets, targeting, and campaign structures. Get actionable marketing plans."},{title:"Track Tool - Marketing Analytics",content:"Analyze marketing data and campaign performance. Get actionable insights, recommendations, and performance assessments from AI analysis."},{title:"Using Generated Content",content:"All generated content can be copied to clipboard, downloaded, or saved for later use. Images can be viewed full-size and downloaded in high quality."}],tips:["Use the AI Write button to generate detailed marketing prompts","Provide detailed prompts for better AI-generated results","Use the Create tool for both concepts and actual visuals","Save generated content for reuse and refinement","Combine different tools for comprehensive marketing campaigns","Wait between image generations if you hit rate limits"]}},{id:"filing-cabinet",title:"Filing Cabinet",icon:s.jsx(ls,{className:"h-5 w-5 text-gray-600"}),description:"Organize files and documents",content:{overview:"Centralized document management system for organizing all business files, contracts, proposals, and client documents. Now includes one-click saving from all document creation pages.",sections:[{title:"Document Organization",content:"Create folders and categories to organize all business documents. Maintain a structured filing system for easy retrieval."},{title:"Save to Filing Cabinet",content:'All document types (invoices, proposals, contracts, presentations) can be saved directly to the Filing Cabinet from their respective creation pages. Use the Export PDF dropdown and select "Save to Filing Cabinet" for instant document archiving.'},{title:"File Upload & Storage",content:"Upload files of various formats including documents, images, spreadsheets, and presentations. Secure cloud storage ensures accessibility."},{title:"Search & Retrieval",content:"Quickly find documents using search functionality. Filter by file type, date, or category for efficient document management."},{title:"Access Control",content:"Manage document access permissions for team members and clients. Control who can view, edit, or download specific documents."}],tips:['Use "Save to Filing Cabinet" from document creation pages for instant archiving',"Create a consistent folder structure for organization","Use descriptive file names for easy identification","Regularly review and archive old documents","Set appropriate access permissions for sensitive files","Save important documents immediately after creation"]}},{id:"admin-features",title:"Admin Features",icon:s.jsx(dr,{className:"h-5 w-5 text-red-600"}),description:"Administrative tools and user management",content:{overview:"Administrative tools for user management, system configuration, and oversight of all platform activities.",sections:[{title:"User Management",content:"Create and manage user accounts with different role assignments (Admin/User). Control access levels and permissions for team members."},{title:"Admin Dashboard",content:"Comprehensive view of all users and their assigned tasks. Monitor system-wide activity and task assignments."},{title:"System Configuration",content:"Configure system settings, notification preferences, and integration parameters. Manage API keys and external service connections."},{title:"User Onboarding",content:"Manage new user signup process and collect notification preferences including email and SMS opt-in settings."}],tips:["Review user permissions regularly for security","Monitor admin dashboard for system oversight","Keep system configurations up to date","Ensure proper user onboarding for new team members"]}},{id:"notifications",title:"Notifications & Reminders",icon:s.jsx(ur,{className:"h-5 w-5 text-yellow-600"}),description:"Stay informed with automated notifications",content:{overview:"Comprehensive notification system with email, SMS, and browser alerts to keep you informed of important deadlines and updates.",sections:[{title:"Email Notifications",content:"Receive email alerts for high priority tasks, due date reminders, and system updates. Emails include complete task details and direct links to the application."},{title:"SMS Notifications",content:"Get text message alerts for critical deadlines and urgent tasks. Configure SMS preferences during onboarding or in user settings."},{title:"Browser Notifications",content:"Real-time browser notifications for immediate alerts while using the application. Visual indicators for due and overdue tasks."},{title:"Reminder Schedule",content:"Automated reminders sent 24 hours and 1 hour before due dates. Color-coded alerts (yellow for 24-hour, red for 1-hour) indicate urgency levels."}],tips:["Configure notification preferences during initial setup","Enable browser notifications for real-time alerts","Review notification settings regularly","Ensure contact information is up to date for delivery"]}},{id:"file-storage",title:"File Storage & Documents",icon:s.jsx(nt,{className:"h-5 w-5 text-indigo-600"}),description:"Secure file storage and document management",content:{overview:"Comprehensive file storage capabilities with secure cloud storage, automatic access controls, and seamless integration with tasks, projects, and client management.",sections:[{title:"Security Features",content:"All files are protected with secure presigned URL uploads, automatic access control policies, private file protection, and user-based permissions. Files are encrypted and backed up automatically."},{title:"File Upload Capabilities",content:"Support for all file types up to 10MB per file. Multiple file uploads with real-time progress tracking. Files are automatically organized and categorized based on context."},{title:"Organization System",content:"Filing Cabinet serves as central repository for client documents. Task attachments for project files. Project-specific document spaces. Client document organization with filtering and search."},{title:"Access Control",content:"Private files accessible only to authorized users. Public files shareable via secure links. Client-specific documents automatically protected. Role-based access controls."},{title:"How to Upload Files",content:"1. Navigate to relevant section (Tasks, Projects, Filing Cabinet) 2. Click upload button to open file modal 3. Drag and drop or select files 4. Monitor upload progress 5. Files automatically secured with proper permissions"}],tips:["Use descriptive file names for easy identification","Organize files by client or project for better management","Upload files directly to tasks/projects for context","All files are automatically backed up and secured","Large files are optimized for fast loading"]}},{id:"payment-tracking",title:"Payment Tracking & Management",icon:s.jsx(Wo,{className:"h-5 w-5 text-green-600"}),description:"Comprehensive payment recording and invoice management",content:{overview:"Advanced payment tracking system that automatically updates invoice statuses, calculates balances, and provides detailed payment history for complete financial management.",sections:[{title:"Payment Recording Features",content:"Record payments with multiple payment methods (Cash, Check, Credit Card, Bank Transfer, PayPal, Stripe). Automatic invoice balance calculations and status updates. Deposit tracking and partial payment support."},{title:"Invoice Integration",content:"Payments automatically link to invoices and update paid amounts. Real-time balance calculations showing total due vs. paid. Automatic status changes from draft  sent  paid based on payment completion."},{title:"Payment Methods Supported",content:"Cash payments for in-person transactions. Check payments with reference tracking. Credit card processing integration. Bank transfers with transaction IDs. PayPal and Stripe online payments. Custom payment methods as needed."},{title:"Reporting & Analytics",content:"Total payment summaries across all invoices. Monthly payment tracking and trends. Deposit vs. final payment analysis. Average payment amounts and timing. Payment method usage statistics."},{title:"How to Record Payments",content:'1. Navigate to Payments page or Invoice Details 2. Click "Record Payment" button 3. Enter payment amount and date 4. Select payment method and add reference 5. Link to specific invoice (optional) 6. Mark as deposit if applicable 7. Add notes for context 8. Invoice status updates automatically'},{title:"Payment History & Search",content:"Complete payment history with client and invoice links. Search by amount, reference, client name, or payment method. Filter by payment method or date range. Export payment data for accounting. Quick access from invoice details pages."}],tips:["Record payments immediately to keep accurate balances","Use reference numbers (check #, transaction ID) for tracking","Mark partial payments as deposits for clarity","Link payments to invoices for automatic status updates","Search payment history by client name or invoice number","Use notes field for important payment context","Review monthly payment summaries for cash flow analysis"]}}];return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(pt,{}),s.jsxs("main",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"bg-green-100 p-3 rounded-lg",children:s.jsx(YQ,{className:"h-8 w-8 text-green-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"User Manual"}),s.jsx("p",{className:"text-gray-600",children:"Complete guide to Gigster Garage features and functionality"})]})]}),s.jsx(ze,{href:"/",children:s.jsxs(D,{variant:"outline","data-testid":"button-back-dashboard",children:[s.jsx(Xo,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})})]})}),s.jsxs(B,{className:"mb-8",children:[s.jsx(ae,{children:s.jsx(ie,{children:"Quick Navigation"})}),s.jsx(q,{children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:r.map(a=>s.jsx(D,{variant:"outline",size:"sm",onClick:()=>{const i=document.getElementById(a.id);i==null||i.scrollIntoView({behavior:"smooth"})},className:"justify-start h-auto py-3 px-4","data-testid":`nav-${a.id}`,children:s.jsxs("div",{className:"flex items-center gap-2",children:[a.icon,s.jsx("span",{className:"text-sm font-medium",children:a.title})]})},a.id))})})]}),s.jsx("div",{className:"space-y-6",children:r.map(a=>s.jsx("div",{id:a.id,children:s.jsxs(B,{className:"border-l-4 border-l-blue-500",children:[s.jsx(ae,{children:s.jsx(i0,{open:e.includes(a.id),onOpenChange:()=>n(a.id),children:s.jsx(s$,{asChild:!0,children:s.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-gray-50 -mx-6 -my-4 px-6 py-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[a.icon,s.jsxs("div",{children:[s.jsx(ie,{className:"text-xl font-bold text-gray-900",children:a.title}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:a.description})]})]}),e.includes(a.id)?s.jsx(mj,{className:"h-5 w-5 text-gray-400"}):s.jsx(Yo,{className:"h-5 w-5 text-gray-400"})]})})})}),s.jsx(i0,{open:e.includes(a.id),onOpenChange:()=>n(a.id),children:s.jsx(yk,{children:s.jsx(q,{className:"pt-0",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border-l-4 border-l-blue-400",children:[s.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Overview"}),s.jsx("p",{className:"text-blue-800",children:a.content.overview})]}),s.jsx("div",{className:"space-y-4",children:a.content.sections.map((i,o)=>s.jsxs("div",{className:"border-l-2 border-gray-200 pl-4",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:i.title}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:i.content})]},o))}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border-l-4 border-l-green-400",children:[s.jsx("h4",{className:"font-semibold text-green-900 mb-3",children:" Helpful Tips"}),s.jsx("ul",{className:"space-y-1",children:a.content.tips.map((i,o)=>s.jsxs("li",{className:"text-green-800 flex items-start",children:[s.jsx("span",{className:"text-green-600 mr-2",children:""}),i]},o))})]})]})})})})]})},a.id))}),s.jsxs(B,{className:"mt-8",children:[s.jsx(ae,{children:s.jsx(ie,{children:"Additional Resources"})}),s.jsx(q,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Getting Help"}),s.jsx("p",{className:"text-gray-600 mb-3",children:"If you need additional assistance:"}),s.jsxs("ul",{className:"space-y-1 text-sm text-gray-600",children:[s.jsx("li",{children:" Review the relevant feature section above"}),s.jsx("li",{children:" Check notification settings for system alerts"}),s.jsx("li",{children:" Ensure all required fields are completed"}),s.jsx("li",{children:" Contact your system administrator for access issues"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Best Practices"}),s.jsxs("ul",{className:"space-y-1 text-sm text-gray-600",children:[s.jsx("li",{children:" Review your dashboard daily for task updates"}),s.jsx("li",{children:" Set realistic due dates and priorities"}),s.jsx("li",{children:" Keep client information up to date"}),s.jsx("li",{children:" Regularly organize files in the Filing Cabinet"}),s.jsx("li",{children:" Use project organization for better workflow"})]})]})]})})]}),s.jsx("div",{className:"text-center mt-8",children:s.jsx(D,{variant:"outline",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),"data-testid":"button-back-to-top",children:"Back to Top"})})]})]})}function Vxt({entityType:e,items:t,selectedItems:n,onSelectionChange:r,onRefresh:a,className:i=""}){const[o,l]=b.useState(!1),[c,d]=b.useState(!1),[u,h]=b.useState(!1),[f,g]=b.useState(!1),[m,p]=b.useState(null),[x,v]=b.useState({}),[y,j]=b.useState(null),[N,w]=b.useState("csv"),{toast:S}=mt(),k=t.length>0&&n.length===t.length,_=n.length>0&&n.length<t.length,T=()=>{r(k?[]:t.map($=>$.id))},P=Se({mutationFn:async $=>(p({total:$.length,completed:0,errors:0,status:"running"}),ke(`/api/bulk/${e}/delete`,{method:"POST",body:JSON.stringify({ids:$})})),onSuccess:$=>{p({...$,status:"completed"}),rt.invalidateQueries({queryKey:[`/api/${e}`]}),r([]),a(),S({title:"Bulk delete completed",description:`${$.completed} items deleted successfully`})},onError:$=>{p(U=>U?{...U,status:"error"}:null),S({title:"Bulk delete failed",description:$.message||"Failed to delete items",variant:"destructive"})}}),C=Se({mutationFn:async({ids:$,updates:U})=>(p({total:$.length,completed:0,errors:0,status:"running"}),ke(`/api/bulk/${e}/edit`,{method:"POST",body:JSON.stringify({ids:$,updates:U})})),onSuccess:$=>{p({...$,status:"completed"}),rt.invalidateQueries({queryKey:[`/api/${e}`]}),r([]),a(),l(!1),v({}),S({title:"Bulk edit completed",description:`${$.completed} items updated successfully`})},onError:$=>{p(U=>U?{...U,status:"error"}:null),S({title:"Bulk edit failed",description:$.message||"Failed to update items",variant:"destructive"})}}),A=Se({mutationFn:async({format:$,ids:U})=>{const M=await fetch(`/api/export/${e}?format=${$}${U?`&ids=${U.join(",")}`:""}`,{method:"GET"});if(!M.ok)throw new Error("Export failed");const F=await M.blob(),V=window.URL.createObjectURL(F),Y=document.createElement("a");return Y.style.display="none",Y.href=V,Y.download=`${e}_export.${$}`,document.body.appendChild(Y),Y.click(),window.URL.revokeObjectURL(V),document.body.removeChild(Y),{success:!0}},onSuccess:()=>{h(!1),S({title:"Export completed",description:"Data exported successfully"})},onError:$=>{S({title:"Export failed",description:$.message||"Failed to export data",variant:"destructive"})}}),E=Se({mutationFn:async $=>{const U=new FormData;U.append("file",$);const M=await fetch(`/api/import/${e}`,{method:"POST",body:U});if(!M.ok)throw new Error("Import failed");return M.json()},onSuccess:$=>{p({...$,status:"completed"}),rt.invalidateQueries({queryKey:[`/api/${e}`]}),a(),g(!1),j(null),S({title:"Import completed",description:`${$.completed} items imported successfully`})},onError:$=>{S({title:"Import failed",description:$.message||"Failed to import data",variant:"destructive"})}}),I=()=>{if(n.length===0)return;const $=Object.fromEntries(Object.entries(x).filter(([U,M])=>M!==void 0&&M!==""));if(Object.keys($).length===0){S({title:"No changes",description:"Please make at least one change to update items",variant:"destructive"});return}C.mutate({ids:n,updates:$})};return b.useEffect(()=>{if((m==null?void 0:m.status)==="completed"){const $=setTimeout(()=>{p(null)},3e3);return()=>clearTimeout($)}},[m==null?void 0:m.status]),n.length===0&&!u&&!f?null:s.jsxs(s.Fragment,{children:[s.jsxs(B,{className:i,children:[s.jsx(ae,{children:s.jsxs(ie,{className:"text-lg flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("button",{onClick:T,className:"flex items-center gap-2 text-sm hover:text-primary transition-colors","data-testid":"button-toggle-all",children:[k?s.jsx(sZ,{className:"w-5 h-5"}):_?s.jsx("div",{className:"w-5 h-5 border-2 border-primary bg-primary/20 rounded-sm flex items-center justify-center",children:s.jsx("div",{className:"w-2 h-2 bg-primary rounded-sm"})}):s.jsx(Q2,{className:"w-5 h-5"}),n.length>0?`${n.length} selected`:"Select All"]}),n.length>0&&s.jsxs(Z,{variant:"secondary",children:[n.length," items"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(D,{variant:"outline",size:"sm",onClick:()=>h(!0),"data-testid":"button-export",children:[s.jsx(kn,{className:"w-4 h-4"}),"Export"]}),s.jsxs(D,{variant:"outline",size:"sm",onClick:()=>g(!0),"data-testid":"button-import",children:[s.jsx(ad,{className:"w-4 h-4"}),"Import"]})]})]})}),n.length>0&&s.jsx(q,{children:s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsxs(D,{variant:"outline",size:"sm",onClick:()=>l(!0),"data-testid":"button-bulk-edit",children:[s.jsx(lg,{className:"w-4 h-4 mr-1"}),"Edit Selected"]}),s.jsxs(D,{variant:"outline",size:"sm",onClick:()=>d(!0),"data-testid":"button-bulk-delete",children:[s.jsx(Jn,{className:"w-4 h-4 mr-1"}),"Delete Selected"]}),s.jsx(D,{variant:"outline",size:"sm",onClick:()=>r([]),"data-testid":"button-clear-selection",children:"Clear Selection"})]})})]}),s.jsx(ut,{open:o,onOpenChange:l,children:s.jsxs(lt,{className:"max-w-md",children:[s.jsxs(ct,{children:[s.jsxs(dt,{children:["Bulk Edit ",n.length," Items"]}),s.jsx(Gt,{children:"Only fill in the fields you want to update. Empty fields will be ignored."})]}),s.jsxs("div",{className:"space-y-4",children:[e==="tasks"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"status",children:"Status"}),s.jsxs(Ke,{onValueChange:$=>v(U=>({...U,status:$})),children:[s.jsx(He,{children:s.jsx(Ge,{placeholder:"Select status"})}),s.jsxs(qe,{children:[s.jsx(Q,{value:"todo",children:"To Do"}),s.jsx(Q,{value:"in_progress",children:"In Progress"}),s.jsx(Q,{value:"review",children:"Review"}),s.jsx(Q,{value:"done",children:"Done"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"priority",children:"Priority"}),s.jsxs(Ke,{onValueChange:$=>v(U=>({...U,priority:$})),children:[s.jsx(He,{children:s.jsx(Ge,{placeholder:"Select priority"})}),s.jsxs(qe,{children:[s.jsx(Q,{value:"low",children:"Low"}),s.jsx(Q,{value:"medium",children:"Medium"}),s.jsx(Q,{value:"high",children:"High"}),s.jsx(Q,{value:"urgent",children:"Urgent"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"dueDate",children:"Due Date"}),s.jsx(te,{type:"datetime-local",onChange:$=>v(U=>({...U,dueDate:$.target.value}))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{htmlFor:"description",children:"Description"}),s.jsx(it,{placeholder:"Update description...",value:x.description||"",onChange:$=>v(U=>({...U,description:$.target.value}))})]})]}),s.jsxs(Ra,{children:[s.jsx(D,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),s.jsxs(D,{onClick:I,disabled:C.isPending,"data-testid":"button-confirm-bulk-edit",children:["Update ",n.length," Items"]})]})]})}),s.jsx(ut,{open:c,onOpenChange:d,children:s.jsxs(lt,{children:[s.jsxs(ct,{children:[s.jsx(dt,{children:"Confirm Bulk Delete"}),s.jsxs(Gt,{children:["Are you sure you want to delete ",n.length," selected items? This action cannot be undone."]})]}),s.jsxs(Ra,{children:[s.jsx(D,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),s.jsxs(D,{variant:"destructive",onClick:()=>{P.mutate(n),d(!1)},disabled:P.isPending,"data-testid":"button-confirm-bulk-delete",children:["Delete ",n.length," Items"]})]})]})}),s.jsx(ut,{open:u,onOpenChange:h,children:s.jsxs(lt,{children:[s.jsxs(ct,{children:[s.jsx(dt,{children:"Export Data"}),s.jsxs(Gt,{children:["Export ",n.length>0?`${n.length} selected items`:"all items"," to file"]})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{children:"Format"}),s.jsxs(Ke,{value:N,onValueChange:$=>w($),children:[s.jsx(He,{children:s.jsx(Ge,{})}),s.jsxs(qe,{children:[s.jsx(Q,{value:"csv",children:"CSV (Comma Separated)"}),s.jsx(Q,{value:"json",children:"JSON (JavaScript Object)"})]})]})]})}),s.jsxs(Ra,{children:[s.jsx(D,{variant:"outline",onClick:()=>h(!1),children:"Cancel"}),s.jsxs(D,{onClick:()=>A.mutate({format:N,ids:n.length>0?n:void 0}),disabled:A.isPending,"data-testid":"button-confirm-export",children:[s.jsx(kn,{className:"w-4 h-4 mr-2"}),"Export ",N.toUpperCase()]})]})]})}),s.jsx(ut,{open:f,onOpenChange:g,children:s.jsxs(lt,{children:[s.jsxs(ct,{children:[s.jsx(dt,{children:"Import Data"}),s.jsxs(Gt,{children:["Upload a CSV file to import ",e]})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(W,{children:"File"}),s.jsx(te,{type:"file",accept:".csv",onChange:$=>{var U;return j(((U=$.target.files)==null?void 0:U[0])||null)}}),y&&s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Selected: ",y.name," (",Math.round(y.size/1024),"KB)"]})]})}),s.jsxs(Ra,{children:[s.jsx(D,{variant:"outline",onClick:()=>g(!1),children:"Cancel"}),s.jsxs(D,{onClick:()=>y&&E.mutate(y),disabled:!y||E.isPending,"data-testid":"button-confirm-import",children:[s.jsx(ad,{className:"w-4 h-4 mr-2"}),"Import Data"]})]})]})}),s.jsx(ut,{open:!!m,onOpenChange:()=>p(null),children:s.jsxs(lt,{children:[s.jsxs(ct,{children:[s.jsxs(dt,{children:[(m==null?void 0:m.status)==="running"&&"Processing...",(m==null?void 0:m.status)==="completed"&&"Operation Completed",(m==null?void 0:m.status)==="error"&&"Operation Failed"]}),s.jsxs(Gt,{children:[(m==null?void 0:m.status)==="running"&&"Please wait while we process your request",(m==null?void 0:m.status)==="completed"&&"The batch operation has been completed successfully",(m==null?void 0:m.status)==="error"&&"The batch operation encountered errors"]})]}),m&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Progress"}),s.jsxs("span",{children:[m.completed," / ",m.total]})]}),s.jsx(bn,{value:m.completed/m.total*100})]}),m.errors>0&&s.jsxs("div",{className:"text-sm text-red-600",children:[m.errors," errors occurred during processing"]})]}),(m==null?void 0:m.status)!=="running"&&s.jsx(Ra,{children:s.jsx(D,{onClick:()=>p(null),children:"Close"})})]})})]})}const b5=b.forwardRef(({className:e,...t},n)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:n,className:Ne("w-full caption-bottom text-sm",e),...t})}));b5.displayName="Table";const j5=b.forwardRef(({className:e,...t},n)=>s.jsx("thead",{ref:n,className:Ne("[&_tr]:border-b",e),...t}));j5.displayName="TableHeader";const w5=b.forwardRef(({className:e,...t},n)=>s.jsx("tbody",{ref:n,className:Ne("[&_tr:last-child]:border-0",e),...t}));w5.displayName="TableBody";const Wxt=b.forwardRef(({className:e,...t},n)=>s.jsx("tfoot",{ref:n,className:Ne("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));Wxt.displayName="TableFooter";const bp=b.forwardRef(({className:e,...t},n)=>s.jsx("tr",{ref:n,className:Ne("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));bp.displayName="TableRow";const Dl=b.forwardRef(({className:e,...t},n)=>s.jsx("th",{ref:n,className:Ne("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Dl.displayName="TableHead";const Eo=b.forwardRef(({className:e,...t},n)=>s.jsx("td",{ref:n,className:Ne("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Eo.displayName="TableCell";const Hxt=b.forwardRef(({className:e,...t},n)=>s.jsx("caption",{ref:n,className:Ne("mt-4 text-sm text-muted-foreground",e),...t}));Hxt.displayName="TableCaption";function bA({entityType:e,title:t,items:n,columns:r,onRefresh:a,onView:i,onEdit:o,onDelete:l,loading:c=!1,className:d=""}){const[u,h]=b.useState([]),f=(v,y)=>{h(y?[...u,v]:u.filter(j=>j!==v))},g=n.length>0&&u.length===n.length,m=u.length>0&&u.length<n.length,p=v=>{h(v?n.map(y=>y.id):[])},x=(v,y)=>{const j=v[y.key];if(y.render)return y.render(j,v);if(typeof j=="boolean")return s.jsx(Z,{variant:j?"default":"secondary",children:j?"Yes":"No"});if(j instanceof Date)return j.toLocaleDateString();if(y.key==="status"){const N={todo:"secondary",in_progress:"default",review:"outline",done:"default",active:"default",inactive:"secondary",archived:"outline"};return s.jsx(Z,{variant:N[j]||"secondary",children:j})}if(y.key==="priority"){const N={low:"secondary",medium:"outline",high:"default",urgent:"destructive"};return s.jsx(Z,{variant:N[j]||"secondary",children:j})}return j||"-"};return c?s.jsxs(B,{className:d,children:[s.jsx(ae,{children:s.jsx(ie,{children:t})}),s.jsx(q,{children:s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:["Loading ",e,"..."]})})]}):s.jsxs("div",{className:`space-y-4 ${d}`,children:[s.jsx(Vxt,{entityType:e,items:n,selectedItems:u,onSelectionChange:h,onRefresh:a}),s.jsxs(B,{children:[s.jsx(ae,{children:s.jsxs(ie,{className:"flex items-center justify-between",children:[t,s.jsxs(Z,{variant:"outline",children:[n.length," items"]})]})}),s.jsx(q,{children:n.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsxs("div",{className:"text-lg mb-2",children:["No ",e," found"]}),s.jsxs("div",{children:["Create your first ",e.slice(0,-1)," to get started"]})]}):s.jsx("div",{className:"rounded-md border",children:s.jsxs(b5,{children:[s.jsx(j5,{children:s.jsxs(bp,{children:[s.jsx(Dl,{className:"w-12",children:s.jsx(es,{checked:g,ref:v=>{v&&(v.indeterminate=m)},onCheckedChange:p,"data-testid":"checkbox-select-all"})}),r.map(v=>s.jsx(Dl,{children:v.title},v.key)),s.jsx(Dl,{className:"w-32",children:"Actions"})]})}),s.jsx(w5,{children:n.map(v=>s.jsxs(bp,{className:u.includes(v.id)?"bg-muted/50":"",children:[s.jsx(Eo,{children:s.jsx(es,{checked:u.includes(v.id),onCheckedChange:y=>f(v.id,y),"data-testid":`checkbox-${v.id}`})}),r.map(y=>s.jsx(Eo,{children:x(v,y)},y.key)),s.jsx(Eo,{children:s.jsxs("div",{className:"flex items-center gap-1",children:[i&&s.jsx(D,{variant:"ghost",size:"sm",onClick:()=>i(v),"data-testid":`button-view-${v.id}`,children:s.jsx(fn,{className:"w-4 h-4"})}),o&&s.jsx(D,{variant:"ghost",size:"sm",onClick:()=>o(v),"data-testid":`button-edit-${v.id}`,children:s.jsx(Or,{className:"w-4 h-4"})}),l&&s.jsx(D,{variant:"ghost",size:"sm",onClick:()=>l(v),"data-testid":`button-delete-${v.id}`,children:s.jsx(Jn,{className:"w-4 h-4"})})]})})]},v.id))})]})})})]})]})}function qxt(){const[e,t]=b.useState("tasks"),{data:n=[],isLoading:r,refetch:a}=he({queryKey:["/api/tasks"]}),{data:i=[],isLoading:o,refetch:l}=he({queryKey:["/api/projects"]}),{data:c=[],isLoading:d,refetch:u}=he({queryKey:["/api/clients"]}),h=[{key:"title",title:"Title",sortable:!0},{key:"description",title:"Description",render:p=>p?s.jsx("div",{className:"max-w-xs truncate",title:p,children:p}):"-"},{key:"status",title:"Status",render:p=>s.jsx(Z,{variant:p==="done"?"default":p==="in_progress"?"secondary":p==="review"?"outline":"secondary",children:p.replace("_"," ")})},{key:"priority",title:"Priority",render:p=>s.jsx(Z,{variant:p==="urgent"?"destructive":p==="high"?"default":p==="medium"?"outline":"secondary",children:p})},{key:"assignedToId",title:"Assigned To",render:p=>p?s.jsx(Z,{variant:"outline",children:p}):"-"},{key:"dueDate",title:"Due Date",render:p=>p?Me(new Date(p),"MMM dd, yyyy"):"-"},{key:"createdAt",title:"Created",render:p=>Me(new Date(p),"MMM dd, yyyy")}],f=[{key:"name",title:"Name",sortable:!0},{key:"description",title:"Description",render:p=>p?s.jsx("div",{className:"max-w-xs truncate",title:p,children:p}):"-"},{key:"status",title:"Status",render:p=>s.jsx(Z,{variant:p==="active"?"default":p==="completed"?"secondary":p==="on_hold"?"outline":"secondary",children:p.replace("_"," ")})},{key:"createdAt",title:"Created",render:p=>Me(new Date(p),"MMM dd, yyyy")},{key:"updatedAt",title:"Updated",render:p=>Me(new Date(p),"MMM dd, yyyy")}],g=[{key:"name",title:"Name",sortable:!0},{key:"email",title:"Email",render:p=>p?s.jsx("a",{href:`mailto:${p}`,className:"text-blue-600 hover:underline",children:p}):"-"},{key:"phone",title:"Phone",render:p=>p||"-"},{key:"company",title:"Company",render:p=>p||"-"},{key:"website",title:"Website",render:p=>p?s.jsx("a",{href:p,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:p}):"-"},{key:"createdAt",title:"Created",render:p=>Me(new Date(p),"MMM dd, yyyy")}],m={tasks:{total:n.length,completed:n.filter(p=>p.status==="done").length,pending:n.filter(p=>p.status!=="done").length,overdue:n.filter(p=>p.dueDate&&new Date(p.dueDate)<new Date&&p.status!=="done").length},projects:{total:i.length,active:i.filter(p=>p.status==="active").length,completed:i.filter(p=>p.status==="completed").length,onHold:i.filter(p=>p.status==="on_hold").length},clients:{total:c.length,withEmail:c.filter(p=>p.email).length,withPhone:c.filter(p=>p.phone).length,withWebsite:c.filter(p=>p.website).length}};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(pt,{}),s.jsxs("main",{className:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-6 xl:px-8 py-4 sm:py-6 lg:py-8",children:[s.jsx("div",{className:"mb-6 md:mb-8",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-3",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Bulk Operations"}),s.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1",children:"Manage multiple items at once with bulk actions, CSV import/export, and batch processing"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Z,{variant:"secondary",className:"gap-1",children:[s.jsx(nt,{className:"w-3 h-3"}),"CSV Support"]}),s.jsxs(Z,{variant:"secondary",className:"gap-1",children:[s.jsx(lg,{className:"w-3 h-3"}),"Bulk Edit"]}),s.jsxs(Z,{variant:"secondary",className:"gap-1",children:[s.jsx(Jn,{className:"w-3 h-3"}),"Mass Delete"]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[s.jsxs(B,{children:[s.jsx(ae,{className:"pb-2",children:s.jsxs(ie,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(nt,{className:"w-4 h-4 text-blue-600"}),"Tasks Overview"]})}),s.jsx(q,{children:s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[s.jsxs("div",{children:["Total: ",s.jsx(Z,{variant:"outline",children:m.tasks.total})]}),s.jsxs("div",{children:["Pending: ",s.jsx(Z,{variant:"secondary",children:m.tasks.pending})]}),s.jsxs("div",{children:["Completed: ",s.jsx(Z,{variant:"default",children:m.tasks.completed})]}),s.jsxs("div",{children:["Overdue: ",s.jsx(Z,{variant:"destructive",children:m.tasks.overdue})]})]})})]}),s.jsxs(B,{children:[s.jsx(ae,{className:"pb-2",children:s.jsxs(ie,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(ls,{className:"w-4 h-4 text-green-600"}),"Projects Overview"]})}),s.jsx(q,{children:s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[s.jsxs("div",{children:["Total: ",s.jsx(Z,{variant:"outline",children:m.projects.total})]}),s.jsxs("div",{children:["Active: ",s.jsx(Z,{variant:"default",children:m.projects.active})]}),s.jsxs("div",{children:["Completed: ",s.jsx(Z,{variant:"secondary",children:m.projects.completed})]}),s.jsxs("div",{children:["On Hold: ",s.jsx(Z,{variant:"outline",children:m.projects.onHold})]})]})})]}),s.jsxs(B,{children:[s.jsx(ae,{className:"pb-2",children:s.jsxs(ie,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(gn,{className:"w-4 h-4 text-purple-600"}),"Clients Overview"]})}),s.jsx(q,{children:s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[s.jsxs("div",{children:["Total: ",s.jsx(Z,{variant:"outline",children:m.clients.total})]}),s.jsxs("div",{children:["With Email: ",s.jsx(Z,{variant:"secondary",children:m.clients.withEmail})]}),s.jsxs("div",{children:["With Phone: ",s.jsx(Z,{variant:"outline",children:m.clients.withPhone})]}),s.jsxs("div",{children:["With Website: ",s.jsx(Z,{variant:"outline",children:m.clients.withWebsite})]})]})})]})]}),s.jsxs(Kn,{value:e,onValueChange:t,className:"space-y-4",children:[s.jsxs(Mn,{className:"grid w-full grid-cols-3",children:[s.jsxs(Re,{value:"tasks",className:"flex items-center gap-2",children:[s.jsx(nt,{className:"w-4 h-4"}),"Tasks (",n.length,")"]}),s.jsxs(Re,{value:"projects",className:"flex items-center gap-2",children:[s.jsx(ls,{className:"w-4 h-4"}),"Projects (",i.length,")"]}),s.jsxs(Re,{value:"clients",className:"flex items-center gap-2",children:[s.jsx(gn,{className:"w-4 h-4"}),"Clients (",c.length,")"]})]}),s.jsx(Fe,{value:"tasks",className:"space-y-4",children:s.jsx(bA,{entityType:"tasks",title:"Task Management",items:n,columns:h,onRefresh:()=>a(),loading:r})}),s.jsx(Fe,{value:"projects",className:"space-y-4",children:s.jsx(bA,{entityType:"projects",title:"Project Management",items:i,columns:f,onRefresh:()=>l(),loading:o})}),s.jsx(Fe,{value:"clients",className:"space-y-4",children:s.jsx(bA,{entityType:"clients",title:"Client Management",items:c,columns:g,onRefresh:()=>u(),loading:d})})]}),s.jsxs(B,{className:"mt-8",children:[s.jsx(ae,{children:s.jsx(ie,{children:"Bulk Operations Features"})}),s.jsx(q,{children:s.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold mb-2 flex items-center gap-2",children:[s.jsx(lg,{className:"w-4 h-4 text-blue-600"}),"Mass Actions"]}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[s.jsx("li",{children:" Select multiple items with checkboxes"}),s.jsx("li",{children:" Bulk edit properties like status and priority"}),s.jsx("li",{children:" Mass delete with confirmation"}),s.jsx("li",{children:" Progress tracking for batch operations"})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold mb-2 flex items-center gap-2",children:[s.jsx(kn,{className:"w-4 h-4 text-green-600"}),"Data Export"]}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[s.jsx("li",{children:" Export to CSV or JSON format"}),s.jsx("li",{children:" Export all items or selected items"}),s.jsx("li",{children:" Automatic file download"}),s.jsx("li",{children:" Structured data with headers"})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold mb-2 flex items-center gap-2",children:[s.jsx(ad,{className:"w-4 h-4 text-purple-600"}),"Data Import"]}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[s.jsx("li",{children:" Import from CSV files"}),s.jsx("li",{children:" Automatic data validation"}),s.jsx("li",{children:" Error handling and reporting"}),s.jsx("li",{children:" Progress tracking for imports"})]})]})]})})]})]})]})}const Kxt=re.object({name:re.string().min(1,"Name is required"),label:re.string().min(1,"Label is required"),type:re.enum(["text","textarea","number","date","boolean","select","multiselect"]),entityType:re.enum(["task","project","client"]),options:re.array(re.string()).default([]),required:re.boolean().default(!1),defaultValue:re.string().optional(),order:re.number().default(0)}),Gxt={text:iZ,textarea:e0e,number:au,date:en,boolean:aZ,select:rS,multiselect:rS},g7={text:"Text",textarea:"Textarea",number:"Number",date:"Date",boolean:"Boolean",select:"Single Select",multiselect:"Multi Select"};function Yxt(){const[e,t]=b.useState("task"),[n,r]=b.useState(!1),[a,i]=b.useState(null),[o,l]=b.useState(""),{toast:c}=mt(),{data:d=[],isLoading:u,refetch:h}=he({queryKey:["/api/custom-fields"]}),f=d.filter(k=>k.entityType==="task"),g=d.filter(k=>k.entityType==="project"),m=d.filter(k=>k.entityType==="client"),p=zC({resolver:BC(Kxt),defaultValues:{name:"",label:"",type:"text",entityType:"task",options:[],required:!1,defaultValue:"",order:0}}),x=Se({mutationFn:async k=>await ke("POST","/api/custom-fields",k),onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/custom-fields"]}),c({title:"Success",description:"Custom field created successfully"}),r(!1),p.reset(),l("")},onError:k=>{c({title:"Error",description:k.message,variant:"destructive"})}}),v=Se({mutationFn:async({id:k,data:_})=>await ke("PUT",`/api/custom-fields/${k}`,_),onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/custom-fields"]}),c({title:"Success",description:"Custom field updated successfully"}),i(null),p.reset(),l("")},onError:k=>{c({title:"Error",description:k.message,variant:"destructive"})}}),y=Se({mutationFn:async k=>await ke("DELETE",`/api/custom-fields/${k}`),onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/custom-fields"]}),c({title:"Success",description:"Custom field deleted successfully"})},onError:k=>{c({title:"Error",description:k.message,variant:"destructive"})}}),j=async k=>{const _=o?o.split(",").map(P=>P.trim()).filter(P=>P.length>0):[],T={...k,options:["select","multiselect"].includes(k.type)?_:[]};a?v.mutate({id:a.id,data:T}):x.mutate(T)},N=k=>{i(k),p.reset({name:k.name,label:k.label,type:k.type,entityType:k.entityType,options:k.options||[],required:k.required??!1,defaultValue:k.defaultValue??"",order:k.order??0}),l((k.options||[]).join(", ")),r(!0)},w=k=>{confirm("Are you sure you want to delete this custom field? This will also remove all associated data.")&&y.mutate(k)},S=k=>s.jsx("div",{className:"rounded-md border",children:s.jsxs(b5,{children:[s.jsx(j5,{children:s.jsxs(bp,{children:[s.jsx(Dl,{children:"Name"}),s.jsx(Dl,{children:"Type"}),s.jsx(Dl,{children:"Required"}),s.jsx(Dl,{children:"Order"}),s.jsx(Dl,{children:"Created"}),s.jsx(Dl,{className:"w-20",children:"Actions"})]})}),s.jsx(w5,{children:k.length===0?s.jsx(bp,{children:s.jsx(Eo,{colSpan:6,className:"text-center py-8 text-muted-foreground",children:"No custom fields defined yet"})}):k.map(_=>{const T=Gxt[_.type];return s.jsxs(bp,{children:[s.jsx(Eo,{children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:_.label}),s.jsx("div",{className:"text-sm text-muted-foreground",children:_.name})]})}),s.jsx(Eo,{children:s.jsxs(Z,{variant:"outline",className:"gap-1",children:[s.jsx(T,{className:"w-3 h-3"}),g7[_.type]]})}),s.jsx(Eo,{children:_.required?s.jsx(Z,{variant:"destructive",children:"Required"}):s.jsx(Z,{variant:"secondary",children:"Optional"})}),s.jsx(Eo,{children:_.order}),s.jsx(Eo,{children:Me(new Date(_.createdAt),"MMM dd, yyyy")}),s.jsx(Eo,{children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(D,{variant:"ghost",size:"sm",onClick:()=>N(_),"data-testid":`button-edit-${_.id}`,children:s.jsx(Or,{className:"w-4 h-4"})}),s.jsx(D,{variant:"ghost",size:"sm",onClick:()=>w(_.id),"data-testid":`button-delete-${_.id}`,children:s.jsx(Jn,{className:"w-4 h-4"})})]})})]},_.id)})})]})});return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(pt,{}),s.jsxs("main",{className:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-6 xl:px-8 py-4 sm:py-6 lg:py-8",children:[s.jsx("div",{className:"mb-6 md:mb-8",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-3",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Custom Fields"}),s.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1",children:"Create and manage user-defined fields for tasks, projects, and clients"})]}),s.jsxs(ut,{open:n,onOpenChange:r,children:[s.jsx(Ns,{asChild:!0,children:s.jsxs(D,{"data-testid":"button-create-field",children:[s.jsx(st,{className:"w-4 h-4 mr-2"}),"New Field"]})}),s.jsxs(lt,{className:"max-w-2xl",children:[s.jsx(ct,{children:s.jsx(dt,{children:a?"Edit Custom Field":"Create Custom Field"})}),s.jsx(UC,{...p,children:s.jsxs("form",{onSubmit:p.handleSubmit(j),className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(xr,{control:p.control,name:"name",render:({field:k})=>s.jsxs(ir,{children:[s.jsx(Un,{children:"Field Name"}),s.jsx(or,{children:s.jsx(te,{placeholder:"field_name",...k})}),s.jsx(Ur,{})]})}),s.jsx(xr,{control:p.control,name:"label",render:({field:k})=>s.jsxs(ir,{children:[s.jsx(Un,{children:"Display Label"}),s.jsx(or,{children:s.jsx(te,{placeholder:"Field Label",...k})}),s.jsx(Ur,{})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(xr,{control:p.control,name:"type",render:({field:k})=>s.jsxs(ir,{children:[s.jsx(Un,{children:"Field Type"}),s.jsxs(Ke,{value:k.value,onValueChange:k.onChange,children:[s.jsx(or,{children:s.jsx(He,{children:s.jsx(Ge,{})})}),s.jsx(qe,{children:Object.entries(g7).map(([_,T])=>s.jsx(Q,{value:_,children:T},_))})]}),s.jsx(Ur,{})]})}),s.jsx(xr,{control:p.control,name:"entityType",render:({field:k})=>s.jsxs(ir,{children:[s.jsx(Un,{children:"Entity Type"}),s.jsxs(Ke,{value:k.value,onValueChange:k.onChange,children:[s.jsx(or,{children:s.jsx(He,{children:s.jsx(Ge,{})})}),s.jsxs(qe,{children:[s.jsx(Q,{value:"task",children:"Tasks"}),s.jsx(Q,{value:"project",children:"Projects"}),s.jsx(Q,{value:"client",children:"Clients"})]})]}),s.jsx(Ur,{})]})})]}),["select","multiselect"].includes(p.watch("type"))&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Options (comma separated)"}),s.jsx(it,{value:o,onChange:k=>l(k.target.value),placeholder:"Option 1, Option 2, Option 3",className:"mt-2"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(xr,{control:p.control,name:"defaultValue",render:({field:k})=>s.jsxs(ir,{children:[s.jsx(Un,{children:"Default Value"}),s.jsx(or,{children:s.jsx(te,{placeholder:"Optional default value",...k})}),s.jsx(Ur,{})]})}),s.jsx(xr,{control:p.control,name:"order",render:({field:k})=>s.jsxs(ir,{children:[s.jsx(Un,{children:"Display Order"}),s.jsx(or,{children:s.jsx(te,{type:"number",placeholder:"0",...k,onChange:_=>k.onChange(parseInt(_.target.value)||0)})}),s.jsx(Ur,{})]})})]}),s.jsx(xr,{control:p.control,name:"required",render:({field:k})=>s.jsxs(ir,{className:"flex items-center justify-between",children:[s.jsx(Un,{children:"Required Field"}),s.jsx(or,{children:s.jsx(jr,{checked:k.value,onCheckedChange:k.onChange})})]})}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(D,{type:"button",variant:"outline",onClick:()=>{r(!1),i(null),p.reset(),l("")},children:"Cancel"}),s.jsxs(D,{type:"submit",disabled:x.isPending||v.isPending,children:[a?"Update":"Create"," Field"]})]})]})})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[s.jsxs(B,{children:[s.jsx(ae,{className:"pb-2",children:s.jsx(ie,{className:"text-sm font-medium",children:"Task Fields"})}),s.jsxs(q,{children:[s.jsx("div",{className:"text-2xl font-bold",children:f.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Custom fields for tasks"})]})]}),s.jsxs(B,{children:[s.jsx(ae,{className:"pb-2",children:s.jsx(ie,{className:"text-sm font-medium",children:"Project Fields"})}),s.jsxs(q,{children:[s.jsx("div",{className:"text-2xl font-bold",children:g.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Custom fields for projects"})]})]}),s.jsxs(B,{children:[s.jsx(ae,{className:"pb-2",children:s.jsx(ie,{className:"text-sm font-medium",children:"Client Fields"})}),s.jsxs(q,{children:[s.jsx("div",{className:"text-2xl font-bold",children:m.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Custom fields for clients"})]})]})]}),s.jsxs(Kn,{value:e,onValueChange:t,className:"space-y-4",children:[s.jsxs(Mn,{className:"grid w-full grid-cols-3",children:[s.jsxs(Re,{value:"task",className:"flex items-center gap-2",children:[s.jsx(dr,{className:"w-4 h-4"}),"Tasks (",f.length,")"]}),s.jsxs(Re,{value:"project",className:"flex items-center gap-2",children:[s.jsx(dr,{className:"w-4 h-4"}),"Projects (",g.length,")"]}),s.jsxs(Re,{value:"client",className:"flex items-center gap-2",children:[s.jsx(dr,{className:"w-4 h-4"}),"Clients (",m.length,")"]})]}),s.jsx(Fe,{value:"task",className:"space-y-4",children:s.jsxs(B,{children:[s.jsx(ae,{children:s.jsx(ie,{children:"Task Custom Fields"})}),s.jsx(q,{children:S(f)})]})}),s.jsx(Fe,{value:"project",className:"space-y-4",children:s.jsxs(B,{children:[s.jsx(ae,{children:s.jsx(ie,{children:"Project Custom Fields"})}),s.jsx(q,{children:S(g)})]})}),s.jsx(Fe,{value:"client",className:"space-y-4",children:s.jsxs(B,{children:[s.jsx(ae,{children:s.jsx(ie,{children:"Client Custom Fields"})}),s.jsx(q,{children:S(m)})]})})]})]})]})}const Xxt=re.object({name:re.string().min(1,"Rule name is required"),description:re.string().optional(),entityType:re.enum(["task","project","client"]),trigger:re.object({event:re.string().min(1,"Trigger event is required"),conditions:re.array(re.object({field:re.string(),operator:re.string(),value:re.any()}))}),actions:re.array(re.object({type:re.string(),config:re.record(re.any())})),isActive:re.boolean().default(!0),priority:re.number().default(0)}),Qxt={task:[{value:"created",label:"Task Created"},{value:"updated",label:"Task Updated"},{value:"status_changed",label:"Status Changed"},{value:"assigned",label:"Task Assigned"},{value:"due_date_approaching",label:"Due Date Approaching"},{value:"overdue",label:"Task Overdue"},{value:"completed",label:"Task Completed"}],project:[{value:"created",label:"Project Created"},{value:"updated",label:"Project Updated"},{value:"status_changed",label:"Status Changed"},{value:"milestone_reached",label:"Milestone Reached"},{value:"deadline_approaching",label:"Deadline Approaching"}],client:[{value:"created",label:"Client Created"},{value:"updated",label:"Client Updated"},{value:"status_changed",label:"Status Changed"},{value:"payment_received",label:"Payment Received"},{value:"invoice_overdue",label:"Invoice Overdue"}]},Zxt=[{value:"equals",label:"Equals"},{value:"not_equals",label:"Not Equals"},{value:"contains",label:"Contains"},{value:"not_contains",label:"Does Not Contain"},{value:"greater_than",label:"Greater Than"},{value:"less_than",label:"Less Than"},{value:"is_empty",label:"Is Empty"},{value:"is_not_empty",label:"Is Not Empty"}],Jxt=[{value:"send_email",label:"Send Email",icon:""},{value:"create_task",label:"Create Task",icon:""},{value:"update_status",label:"Update Status",icon:""},{value:"assign_user",label:"Assign User",icon:""},{value:"add_comment",label:"Add Comment",icon:""},{value:"send_notification",label:"Send Notification",icon:""},{value:"update_priority",label:"Update Priority",icon:""},{value:"set_due_date",label:"Set Due Date",icon:""}];function eyt({onClose:e,existingRule:t}){const{toast:n}=mt(),[r,a]=b.useState((t==null?void 0:t.trigger.conditions)||[]),[i,o]=b.useState((t==null?void 0:t.actions)||[]),l=zC({resolver:BC(Xxt),defaultValues:t?{name:t.name,description:t.description||"",entityType:t.entityType,trigger:t.trigger,actions:t.actions,isActive:t.isActive,priority:t.priority}:{name:"",description:"",entityType:"task",trigger:{event:"",conditions:[]},actions:[],isActive:!0,priority:0}}),c=Se({mutationFn:v=>t?ke("PUT",`/api/workflow-rules/${t.id}`,v):ke("POST","/api/workflow-rules",v),onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/workflow-rules"]}),n({title:t?"Rule updated successfully":"Rule created successfully",description:"Your automation rule is now active."}),e()},onError:v=>{n({title:"Error",description:v.message||"Failed to save rule",variant:"destructive"})}}),d=()=>{a([...r,{field:"",operator:"equals",value:""}])},u=()=>{o([...i,{type:"",config:{}}])},h=v=>{const y=r.filter((j,N)=>N!==v);a(y),l.setValue("trigger.conditions",y)},f=v=>{const y=i.filter((j,N)=>N!==v);o(y),l.setValue("actions",y)},g=(v,y,j)=>{const N=[...r];N[v]={...N[v],[y]:j},a(N),l.setValue("trigger.conditions",N)},m=(v,y,j)=>{const N=[...i];y==="type"?N[v]={type:j,config:{}}:N[v]={...N[v],config:{...N[v].config,[y]:j}},o(N),l.setValue("actions",N)},p=v=>{v.trigger.conditions=r,v.actions=i,c.mutate(v)},x=l.watch("entityType");return s.jsx(UC,{...l,children:s.jsxs("form",{onSubmit:l.handleSubmit(p),className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(xr,{control:l.control,name:"name",render:({field:v})=>s.jsxs(ir,{children:[s.jsx(Un,{children:"Rule Name"}),s.jsx(or,{children:s.jsx(te,{placeholder:"My Automation Rule",...v,"data-testid":"input-rule-name"})}),s.jsx(Ur,{})]})}),s.jsx(xr,{control:l.control,name:"entityType",render:({field:v})=>s.jsxs(ir,{children:[s.jsx(Un,{children:"Entity Type"}),s.jsxs(Ke,{onValueChange:v.onChange,defaultValue:v.value,children:[s.jsx(or,{children:s.jsx(He,{"data-testid":"select-entity-type",children:s.jsx(Ge,{placeholder:"Select entity type"})})}),s.jsxs(qe,{children:[s.jsx(Q,{value:"task",children:"Tasks"}),s.jsx(Q,{value:"project",children:"Projects"}),s.jsx(Q,{value:"client",children:"Clients"})]})]}),s.jsx(Ur,{})]})})]}),s.jsx(xr,{control:l.control,name:"description",render:({field:v})=>s.jsxs(ir,{children:[s.jsx(Un,{children:"Description (Optional)"}),s.jsx(or,{children:s.jsx(it,{placeholder:"Describe what this rule does...",...v,"data-testid":"textarea-description"})}),s.jsx(Ur,{})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("h4",{className:"text-sm font-medium",children:"Trigger"})}),s.jsx(xr,{control:l.control,name:"trigger.event",render:({field:v})=>{var y;return s.jsxs(ir,{children:[s.jsx(Un,{children:"When this happens"}),s.jsxs(Ke,{onValueChange:v.onChange,defaultValue:v.value,children:[s.jsx(or,{children:s.jsx(He,{"data-testid":"select-trigger-event",children:s.jsx(Ge,{placeholder:"Select trigger event"})})}),s.jsx(qe,{children:(y=Qxt[x])==null?void 0:y.map(j=>s.jsx(Q,{value:j.value,children:j.label},j.value))})]}),s.jsx(Ur,{})]})}}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Un,{children:"Conditions (Optional)"}),s.jsxs(D,{type:"button",variant:"outline",size:"sm",onClick:d,"data-testid":"button-add-condition",children:[s.jsx(st,{className:"w-4 h-4 mr-1"}),"Add Condition"]})]}),r.map((v,y)=>s.jsxs("div",{className:"flex items-center gap-2 p-3 border rounded-lg",children:[s.jsx(te,{placeholder:"Field name",value:v.field,onChange:j=>g(y,"field",j.target.value),className:"flex-1","data-testid":`input-condition-field-${y}`}),s.jsxs(Ke,{value:v.operator,onValueChange:j=>g(y,"operator",j),children:[s.jsx(He,{className:"w-32",children:s.jsx(Ge,{})}),s.jsx(qe,{children:Zxt.map(j=>s.jsx(Q,{value:j.value,children:j.label},j.value))})]}),s.jsx(te,{placeholder:"Value",value:v.value,onChange:j=>g(y,"value",j.target.value),className:"flex-1","data-testid":`input-condition-value-${y}`}),s.jsx(D,{type:"button",variant:"ghost",size:"sm",onClick:()=>h(y),"data-testid":`button-remove-condition-${y}`,children:s.jsx(Jn,{className:"w-4 h-4"})})]},y))]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Un,{children:"Actions"}),s.jsxs(D,{type:"button",variant:"outline",size:"sm",onClick:u,"data-testid":"button-add-action",children:[s.jsx(st,{className:"w-4 h-4 mr-1"}),"Add Action"]})]}),i.map((v,y)=>s.jsxs("div",{className:"p-4 border rounded-lg space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Ke,{value:v.type,onValueChange:j=>m(y,"type",j),children:[s.jsx(He,{className:"flex-1",children:s.jsx(Ge,{placeholder:"Select action type"})}),s.jsx(qe,{children:Jxt.map(j=>s.jsxs(Q,{value:j.value,children:[j.icon," ",j.label]},j.value))})]}),s.jsx(D,{type:"button",variant:"ghost",size:"sm",onClick:()=>f(y),"data-testid":`button-remove-action-${y}`,children:s.jsx(Jn,{className:"w-4 h-4"})})]}),v.type==="send_email"&&s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx(te,{placeholder:"To email",value:v.config.to||"",onChange:j=>m(y,"to",j.target.value),"data-testid":`input-email-to-${y}`}),s.jsx(te,{placeholder:"Subject",value:v.config.subject||"",onChange:j=>m(y,"subject",j.target.value),"data-testid":`input-email-subject-${y}`}),s.jsx(it,{placeholder:"Message",value:v.config.message||"",onChange:j=>m(y,"message",j.target.value),className:"col-span-2","data-testid":`textarea-email-message-${y}`})]}),v.type==="create_task"&&s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx(te,{placeholder:"Task title",value:v.config.title||"",onChange:j=>m(y,"title",j.target.value),"data-testid":`input-task-title-${y}`}),s.jsx(te,{placeholder:"Priority",value:v.config.priority||"",onChange:j=>m(y,"priority",j.target.value),"data-testid":`input-task-priority-${y}`}),s.jsx(it,{placeholder:"Task description",value:v.config.description||"",onChange:j=>m(y,"description",j.target.value),className:"col-span-2","data-testid":`textarea-task-description-${y}`})]}),v.type==="update_status"&&s.jsx(te,{placeholder:"New status",value:v.config.status||"",onChange:j=>m(y,"status",j.target.value),"data-testid":`input-new-status-${y}`}),v.type==="add_comment"&&s.jsx(it,{placeholder:"Comment text",value:v.config.text||"",onChange:j=>m(y,"text",j.target.value),"data-testid":`textarea-comment-${y}`})]},y)),i.length===0&&s.jsx("div",{className:"text-center py-6 text-muted-foreground",children:"No actions configured. Add an action to complete your rule."})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(xr,{control:l.control,name:"isActive",render:({field:v})=>s.jsxs(ir,{className:"flex items-center space-x-2",children:[s.jsx(or,{children:s.jsx(jr,{checked:v.value,onCheckedChange:v.onChange,"data-testid":"switch-active"})}),s.jsx(Un,{children:"Active"})]})}),s.jsx(xr,{control:l.control,name:"priority",render:({field:v})=>s.jsxs(ir,{children:[s.jsx(Un,{children:"Priority"}),s.jsx(or,{children:s.jsx(te,{type:"number",...v,value:v.value||0,onChange:y=>v.onChange(parseInt(y.target.value)||0),className:"w-20","data-testid":"input-priority"})})]})})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(D,{type:"button",variant:"outline",onClick:e,"data-testid":"button-cancel",children:"Cancel"}),s.jsx(D,{type:"submit",disabled:c.isPending,"data-testid":"button-save-rule",children:c.isPending?"Saving...":t?"Update Rule":"Create Rule"})]})]})]})})}function tyt(){const{toast:e}=mt(),[t,n]=b.useState(null),[r,a]=b.useState(!1),{data:i=[],isLoading:o}=he({queryKey:["/api/workflow-rules"]}),{data:l=[],isLoading:c}=he({queryKey:["/api/workflow-executions"]}),d=Se({mutationFn:({ruleId:f,isActive:g})=>ke("PUT",`/api/workflow-rules/${f}`,{isActive:g}),onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/workflow-rules"]}),e({title:"Rule updated",description:"Rule status has been changed."})}}),u=Se({mutationFn:f=>ke("DELETE",`/api/workflow-rules/${f}`),onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/workflow-rules"]}),e({title:"Rule deleted",description:"The automation rule has been removed."})}}),h=f=>{switch(f){case"success":return s.jsx(Bt,{className:"w-4 h-4 text-green-500"});case"failed":return s.jsx(hs,{className:"w-4 h-4 text-red-500"});case"partial":return s.jsx(bt,{className:"w-4 h-4 text-yellow-500"});default:return s.jsx(bt,{className:"w-4 h-4 text-gray-500"})}};return s.jsxs("div",{className:"min-h-screen bg-neutral-50",children:[s.jsx(pt,{}),s.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(ze,{href:"/",children:s.jsxs(D,{variant:"outline",className:"flex items-center","data-testid":"button-back-to-dashboard",children:[s.jsx(ln,{size:16,className:"mr-2"}),"Back to Tasks"]})}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center",children:[s.jsx(cn,{className:"mr-3",size:32}),"Workflow Automation"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Automate repetitive tasks with intelligent rules and triggers"})]})]}),s.jsxs(ut,{open:r,onOpenChange:a,children:[s.jsx(Ns,{asChild:!0,children:s.jsxs(D,{className:"bg-[var(--garage-navy)] text-white hover:bg-[var(--ignition-teal)]","data-testid":"button-create-rule",children:[s.jsx(st,{className:"w-4 h-4 mr-2"}),"Create Rule"]})}),s.jsxs(lt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(ct,{children:[s.jsx(dt,{children:t?"Edit Automation Rule":"Create Automation Rule"}),s.jsx(Gt,{children:"Define triggers and actions to automate your workflow processes."})]}),s.jsx(eyt,{onClose:()=>{a(!1),n(null)},existingRule:t||void 0})]})]})]}),s.jsxs(Kn,{defaultValue:"rules",className:"space-y-6",children:[s.jsxs(Mn,{children:[s.jsxs(Re,{value:"rules","data-testid":"tab-rules",children:[s.jsx(cn,{className:"w-4 h-4 mr-2"}),"Automation Rules"]}),s.jsxs(Re,{value:"executions","data-testid":"tab-executions",children:[s.jsx(bt,{className:"w-4 h-4 mr-2"}),"Execution History"]})]}),s.jsx(Fe,{value:"rules",className:"space-y-4",children:o?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(6)].map((f,g)=>s.jsx("div",{className:"h-32 bg-gray-200 rounded-lg animate-pulse"},g))}):i.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(f=>s.jsxs(B,{className:"hover:shadow-md transition-shadow",children:[s.jsx(ae,{className:"pb-2",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(ie,{className:"text-sm font-medium text-[#0B1D3A]",children:f.name}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(Z,{variant:f.entityType==="task"?"default":f.entityType==="project"?"secondary":"outline",children:f.entityType}),s.jsx(Z,{variant:f.isActive?"default":"secondary",children:f.isActive?"Active":"Inactive"})]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(D,{variant:"ghost",size:"sm",onClick:()=>{n(f),a(!0)},"data-testid":`button-edit-rule-${f.id}`,children:s.jsx(dr,{className:"w-4 h-4"})}),s.jsx(jr,{checked:f.isActive,onCheckedChange:g=>d.mutate({ruleId:f.id,isActive:g}),"data-testid":`switch-rule-status-${f.id}`})]})]})}),s.jsxs(q,{children:[s.jsx(Lt,{className:"text-xs mb-3 line-clamp-2",children:f.description||"No description provided"}),s.jsxs("div",{className:"space-y-2 text-xs",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Trigger:"})," ",f.trigger.event.replace(/_/g," ")]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Actions:"})," ",f.actions.length," configured"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Priority:"})," ",f.priority]})]}),s.jsx("div",{className:"mt-3 pt-2 border-t",children:s.jsxs(D,{variant:"outline",size:"sm",className:"w-full text-red-600 hover:text-red-700",onClick:()=>u.mutate(f.id),"data-testid":`button-delete-rule-${f.id}`,children:[s.jsx(Jn,{className:"w-4 h-4 mr-1"}),"Delete"]})})]})]},f.id))}):s.jsx(B,{children:s.jsxs(q,{className:"text-center py-8",children:[s.jsx(cn,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No automation rules yet"}),s.jsx("p",{className:"text-gray-500 mb-4",children:"Create your first automation rule to streamline your workflow."}),s.jsxs(D,{onClick:()=>a(!0),"data-testid":"button-create-first-rule",children:[s.jsx(st,{className:"w-4 h-4 mr-2"}),"Create Your First Rule"]})]})})}),s.jsx(Fe,{value:"executions",className:"space-y-4",children:c?s.jsx("div",{className:"space-y-3",children:[...Array(5)].map((f,g)=>s.jsx("div",{className:"h-16 bg-gray-200 rounded-lg animate-pulse"},g))}):l.length>0?s.jsxs(B,{children:[s.jsxs(ae,{children:[s.jsx(ie,{children:"Recent Executions"}),s.jsx(Lt,{children:"History of automation rule executions"})]}),s.jsx(q,{children:s.jsx(Yi,{className:"h-96",children:s.jsx("div",{className:"space-y-3",children:l.map(f=>{const g=i.find(m=>m.id===f.ruleId);return s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[h(f.status),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-sm",children:(g==null?void 0:g.name)||"Unknown Rule"}),s.jsxs("div",{className:"text-xs text-gray-500",children:[f.entityType,"  ",new Date(f.executedAt).toLocaleString()]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx(Z,{variant:f.status==="success"?"default":f.status==="failed"?"destructive":"secondary",children:f.status}),f.result&&s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[f.result.executedActions," actions executed",f.result.failedActions>0&&`  ${f.result.failedActions} failed`]})]})]},f.id)})})})})]}):s.jsx(B,{children:s.jsxs(q,{className:"text-center py-8",children:[s.jsx(bt,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No executions yet"}),s.jsx("p",{className:"text-gray-500",children:"Automation executions will appear here once your rules start running."})]})})})]})]})]})}const nyt=re.object({notificationEmail:re.string().email("Please enter a valid email"),phone:re.string().optional(),emailOptIn:re.boolean(),smsOptIn:re.boolean()});function ryt({onComplete:e}){const[t,n]=b.useState(""),[r,a]=b.useState(""),[i,o]=b.useState(!0),[l,c]=b.useState(!1),{toast:d}=mt(),u=Se({mutationFn:async f=>(await ke("POST","/api/user/onboarding",f)).json(),onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/auth/user"]}),d({title:"Welcome to Gigster Garage!",description:"Your notification preferences have been saved."}),e()},onError:f=>{d({title:"Setup Error",description:f.message||"Failed to save your preferences",variant:"destructive"})}}),h=f=>{var g,m;f.preventDefault();try{const p=nyt.parse({notificationEmail:t.trim(),phone:r.trim()||void 0,emailOptIn:i,smsOptIn:l&&r.trim()!==""});u.mutate(p)}catch(p){d({title:"Validation Error",description:((m=(g=p.errors)==null?void 0:g[0])==null?void 0:m.message)||"Please check your input",variant:"destructive"})}};return s.jsx("div",{className:"min-h-screen bg-neutral-50 flex items-center justify-center p-4",children:s.jsxs(B,{className:"w-full max-w-md",children:[s.jsxs(ae,{className:"text-center",children:[s.jsx("div",{className:"mx-auto w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mb-4",children:s.jsx(Yf,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ie,{className:"text-2xl font-black text-black",children:"Gigster Garage"}),s.jsx("p",{className:"text-xs text-black font-medium",children:"Simplified Workflow Hub"}),s.jsx("p",{className:"text-gray-600 pt-2",children:"Set up your notification preferences to stay on top of your tasks"})]})]}),s.jsx(q,{children:s.jsxs("form",{onSubmit:h,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(W,{htmlFor:"email",className:"flex items-center text-sm font-medium",children:[s.jsx(Cs,{className:"w-4 h-4 mr-2"}),"Email for Notifications *"]}),s.jsx(te,{id:"email",type:"email",value:t,onChange:f=>n(f.target.value),placeholder:"your.email@example.com",required:!0,className:"w-full"}),s.jsx("p",{className:"text-xs text-gray-500",children:"You'll receive notifications for high priority tasks assigned to you"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(W,{htmlFor:"phone",className:"flex items-center text-sm font-medium",children:[s.jsx(CR,{className:"w-4 h-4 mr-2"}),"Phone Number (Optional)"]}),s.jsx(te,{id:"phone",type:"tel",value:r,onChange:f=>a(f.target.value),placeholder:"+1 (555) 123-4567",className:"w-full"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Required for SMS notifications"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Notification Preferences"}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(es,{id:"email-opt-in",checked:i,onCheckedChange:f=>o(f===!0)}),s.jsxs("div",{className:"flex-1",children:[s.jsxs(W,{htmlFor:"email-opt-in",className:"text-sm flex items-center cursor-pointer",children:[s.jsx(Cs,{className:"w-4 h-4 mr-2"}),"Email Notifications"]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Get email alerts for high priority tasks"})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(es,{id:"sms-opt-in",checked:l&&r.trim()!=="",onCheckedChange:f=>c(f===!0),disabled:r.trim()===""}),s.jsxs("div",{className:"flex-1",children:[s.jsxs(W,{htmlFor:"sms-opt-in",className:`text-sm flex items-center cursor-pointer ${r.trim()===""?"text-gray-400":""}`,children:[s.jsx(li,{className:"w-4 h-4 mr-2"}),"SMS Notifications"]}),s.jsx("p",{className:"text-xs text-gray-500",children:r.trim()===""?"Enter a phone number to enable SMS notifications":"Get text message alerts for urgent tasks"})]})]})]}),s.jsx(D,{type:"submit",className:"w-full",disabled:u.isPending||!t.trim(),children:u.isPending?"Setting up...":s.jsxs(s.Fragment,{children:[s.jsx(Bt,{className:"w-4 h-4 mr-2"}),"Complete Setup"]})}),s.jsx("p",{className:"text-xs text-gray-500 text-center",children:"You can change these preferences later in your account settings"})]})})]})})}function syt(){return s.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:s.jsx(B,{className:"w-full max-w-md mx-4",children:s.jsxs(q,{className:"pt-6",children:[s.jsxs("div",{className:"flex mb-4 gap-2",children:[s.jsx(hs,{className:"h-8 w-8 text-red-500"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),s.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function ayt(){return s.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Test Page"}),s.jsx("p",{className:"mb-4",children:"This is a test page to debug routing."}),s.jsxs("div",{className:"space-x-4",children:[s.jsx(ze,{href:"/",className:"text-brand-teal hover:underline",children:"Home"}),s.jsx(ze,{href:"/login",className:"text-brand-teal hover:underline",children:"Login"}),s.jsx(ze,{href:"/signup",className:"text-brand-teal hover:underline",children:"Signup"})]})]})})}function iyt(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}function nP(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const JM=e=>Array.isArray(e);function Ife(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Eb(e){return typeof e=="string"||Array.isArray(e)}function v7(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function N5(e,t,n,r){if(typeof t=="function"){const[a,i]=v7(r);t=t(n!==void 0?n:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=v7(r);t=t(n!==void 0?n:e.custom,a,i)}return t}function rP(e,t,n){const r=e.getProps();return N5(r,t,n!==void 0?n:r.custom,e)}const S5=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],C5=["initial",...S5],mw=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],om=new Set(mw),Zc=e=>e*1e3,Jc=e=>e/1e3,oyt={type:"spring",stiffness:500,damping:25,restSpeed:10},lyt=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),cyt={type:"keyframes",duration:.8},dyt={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},uyt=(e,{keyframes:t})=>t.length>2?cyt:om.has(e)?e.startsWith("scale")?lyt(t[1]):oyt:dyt;function k5(e,t){return e?e[t]||e.default||e:void 0}const hyt={skipAnimations:!1,useManualTiming:!1},fyt=e=>e!==null;function sP(e,{repeat:t,repeatType:n="loop"},r){const a=e.filter(fyt),i=t&&n!=="loop"&&t%2===1?0:a.length-1;return!i||r===void 0?a[i]:r}const ta=e=>e;let e4=ta;function myt(e){let t=new Set,n=new Set,r=!1,a=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(d){i.has(d)&&(c.schedule(d),e()),d(o)}const c={schedule:(d,u=!1,h=!1)=>{const g=h&&r?t:n;return u&&i.add(d),g.has(d)||g.add(d),d},cancel:d=>{n.delete(d),i.delete(d)},process:d=>{if(o=d,r){a=!0;return}r=!0,[t,n]=[n,t],n.clear(),t.forEach(l),r=!1,a&&(a=!1,c.process(d))}};return c}const EN=["read","resolveKeyframes","update","preRender","render","postRender"],pyt=40;function Ffe(e,t){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=EN.reduce((v,y)=>(v[y]=myt(i),v),{}),{read:l,resolveKeyframes:c,update:d,preRender:u,render:h,postRender:f}=o,g=()=>{const v=performance.now();n=!1,a.delta=r?1e3/60:Math.max(Math.min(v-a.timestamp,pyt),1),a.timestamp=v,a.isProcessing=!0,l.process(a),c.process(a),d.process(a),u.process(a),h.process(a),f.process(a),a.isProcessing=!1,n&&t&&(r=!1,e(g))},m=()=>{n=!0,r=!0,a.isProcessing||e(g)};return{schedule:EN.reduce((v,y)=>{const j=o[y];return v[y]=(N,w=!1,S=!1)=>(n||m(),j.schedule(N,w,S)),v},{}),cancel:v=>{for(let y=0;y<EN.length;y++)o[EN[y]].cancel(v)},state:a,steps:o}}const{schedule:jn,cancel:Vu,state:Ms,steps:jA}=Ffe(typeof requestAnimationFrame<"u"?requestAnimationFrame:ta,!0),Lfe=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,gyt=1e-7,vyt=12;function xyt(e,t,n,r,a){let i,o,l=0;do o=t+(n-t)/2,i=Lfe(o,r,a)-e,i>0?n=o:t=o;while(Math.abs(i)>gyt&&++l<vyt);return o}function pw(e,t,n,r){if(e===t&&n===r)return ta;const a=i=>xyt(i,0,1,e,n);return i=>i===0||i===1?i:Lfe(a(i),t,r)}const zfe=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Bfe=e=>t=>1-e(1-t),Ufe=pw(.33,1.53,.69,.99),_5=Bfe(Ufe),Vfe=zfe(_5),Wfe=e=>(e*=2)<1?.5*_5(e):.5*(2-Math.pow(2,-10*(e-1))),P5=e=>1-Math.sin(Math.acos(e)),Hfe=Bfe(P5),qfe=zfe(P5),Kfe=e=>/^0[^.\s]+$/u.test(e);function yyt(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Kfe(e):!0}const Gfe=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),Yfe=e=>t=>typeof t=="string"&&t.startsWith(e),Xfe=Yfe("--"),byt=Yfe("var(--"),T5=e=>byt(e)?jyt.test(e.split("/*")[0].trim()):!1,jyt=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,wyt=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Nyt(e){const t=wyt.exec(e);if(!t)return[,];const[,n,r,a]=t;return[`--${n??r}`,a]}function Qfe(e,t,n=1){const[r,a]=Nyt(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return Gfe(o)?parseFloat(o):o}return T5(a)?Qfe(a,t,n+1):a}const pd=(e,t,n)=>n>t?t:n<e?e:n,Yv={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Db={...Yv,transform:e=>pd(0,1,e)},DN={...Yv,default:1},gw=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),$d=gw("deg"),tc=gw("%"),xt=gw("px"),Syt=gw("vh"),Cyt=gw("vw"),x7={...tc,parse:e=>tc.parse(e)/100,transform:e=>tc.transform(e*100)},kyt=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),y7=e=>e===Yv||e===xt,b7=(e,t)=>parseFloat(e.split(", ")[t]),j7=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const a=r.match(/^matrix3d\((.+)\)$/u);if(a)return b7(a[1],t);{const i=r.match(/^matrix\((.+)\)$/u);return i?b7(i[1],e):0}},_yt=new Set(["x","y","z"]),Pyt=mw.filter(e=>!_yt.has(e));function Tyt(e){const t=[];return Pyt.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const tv={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:j7(4,13),y:j7(5,14)};tv.translateX=tv.x;tv.translateY=tv.y;const Zfe=e=>t=>t.test(e),Ayt={test:e=>e==="auto",parse:e=>e},Jfe=[Yv,xt,tc,$d,Cyt,Syt,Ayt],w7=e=>Jfe.find(Zfe(e)),vf=new Set;let t4=!1,n4=!1;function eme(){if(n4){const e=Array.from(vf).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const a=Tyt(r);a.length&&(n.set(r,a),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([i,o])=>{var l;(l=r.getValue(i))===null||l===void 0||l.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}n4=!1,t4=!1,vf.forEach(e=>e.complete()),vf.clear()}function tme(){vf.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(n4=!0)})}function Eyt(){tme(),eme()}class A5{constructor(t,n,r,a,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=a,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(vf.add(this),t4||(t4=!0,jn.read(tme),jn.resolveKeyframes(eme))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:a}=this;for(let i=0;i<t.length;i++)if(t[i]===null)if(i===0){const o=a==null?void 0:a.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&n){const c=r.readValue(n,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),a&&o===void 0&&a.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),vf.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,vf.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Dy=e=>Math.round(e*1e5)/1e5,E5=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Dyt(e){return e==null}const Oyt=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,D5=(e,t)=>n=>!!(typeof n=="string"&&Oyt.test(n)&&n.startsWith(e)||t&&!Dyt(n)&&Object.prototype.hasOwnProperty.call(n,t)),nme=(e,t,n)=>r=>{if(typeof r!="string")return r;const[a,i,o,l]=r.match(E5);return{[e]:parseFloat(a),[t]:parseFloat(i),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},Myt=e=>pd(0,255,e),wA={...Yv,transform:e=>Math.round(Myt(e))},Bh={test:D5("rgb","red"),parse:nme("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+wA.transform(e)+", "+wA.transform(t)+", "+wA.transform(n)+", "+Dy(Db.transform(r))+")"};function Ryt(e){let t="",n="",r="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const r4={test:D5("#"),parse:Ryt,transform:Bh.transform},Hm={test:D5("hsl","hue"),parse:nme("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+tc.transform(Dy(t))+", "+tc.transform(Dy(n))+", "+Dy(Db.transform(r))+")"},Ks={test:e=>Bh.test(e)||r4.test(e)||Hm.test(e),parse:e=>Bh.test(e)?Bh.parse(e):Hm.test(e)?Hm.parse(e):r4.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Bh.transform(e):Hm.transform(e)},$yt=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Iyt(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(E5))===null||t===void 0?void 0:t.length)||0)+(((n=e.match($yt))===null||n===void 0?void 0:n.length)||0)>0}const rme="number",sme="color",Fyt="var",Lyt="var(",N7="${}",zyt=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ob(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},a=[];let i=0;const l=t.replace(zyt,c=>(Ks.test(c)?(r.color.push(i),a.push(sme),n.push(Ks.parse(c))):c.startsWith(Lyt)?(r.var.push(i),a.push(Fyt),n.push(c)):(r.number.push(i),a.push(rme),n.push(parseFloat(c))),++i,N7)).split(N7);return{values:n,split:l,indexes:r,types:a}}function ame(e){return Ob(e).values}function ime(e){const{split:t,types:n}=Ob(e),r=t.length;return a=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],a[o]!==void 0){const l=n[o];l===rme?i+=Dy(a[o]):l===sme?i+=Ks.transform(a[o]):i+=a[o]}return i}}const Byt=e=>typeof e=="number"?0:e;function Uyt(e){const t=ame(e);return ime(e)(t.map(Byt))}const Wu={test:Iyt,parse:ame,createTransformer:ime,getAnimatableNone:Uyt},Vyt=new Set(["brightness","contrast","saturate","opacity"]);function Wyt(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(E5)||[];if(!r)return e;const a=n.replace(r,"");let i=Vyt.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+a+")"}const Hyt=/\b([a-z-]*)\(.*?\)/gu,s4={...Wu,getAnimatableNone:e=>{const t=e.match(Hyt);return t?t.map(Wyt).join(" "):e}},qyt={borderWidth:xt,borderTopWidth:xt,borderRightWidth:xt,borderBottomWidth:xt,borderLeftWidth:xt,borderRadius:xt,radius:xt,borderTopLeftRadius:xt,borderTopRightRadius:xt,borderBottomRightRadius:xt,borderBottomLeftRadius:xt,width:xt,maxWidth:xt,height:xt,maxHeight:xt,top:xt,right:xt,bottom:xt,left:xt,padding:xt,paddingTop:xt,paddingRight:xt,paddingBottom:xt,paddingLeft:xt,margin:xt,marginTop:xt,marginRight:xt,marginBottom:xt,marginLeft:xt,backgroundPositionX:xt,backgroundPositionY:xt},Kyt={rotate:$d,rotateX:$d,rotateY:$d,rotateZ:$d,scale:DN,scaleX:DN,scaleY:DN,scaleZ:DN,skew:$d,skewX:$d,skewY:$d,distance:xt,translateX:xt,translateY:xt,translateZ:xt,x:xt,y:xt,z:xt,perspective:xt,transformPerspective:xt,opacity:Db,originX:x7,originY:x7,originZ:xt},S7={...Yv,transform:Math.round},O5={...qyt,...Kyt,zIndex:S7,size:xt,fillOpacity:Db,strokeOpacity:Db,numOctaves:S7},Gyt={...O5,color:Ks,backgroundColor:Ks,outlineColor:Ks,fill:Ks,stroke:Ks,borderColor:Ks,borderTopColor:Ks,borderRightColor:Ks,borderBottomColor:Ks,borderLeftColor:Ks,filter:s4,WebkitFilter:s4},M5=e=>Gyt[e];function ome(e,t){let n=M5(e);return n!==s4&&(n=Wu),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Yyt=new Set(["auto","none","0"]);function Xyt(e,t,n){let r=0,a;for(;r<e.length&&!a;){const i=e[r];typeof i=="string"&&!Yyt.has(i)&&Ob(i).values.length&&(a=e[r]),r++}if(a&&n)for(const i of t)e[i]=ome(n,a)}class lme extends A5{constructor(t,n,r,a,i){super(t,n,r,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let d=t[c];if(typeof d=="string"&&(d=d.trim(),T5(d))){const u=Qfe(d,n.current);u!==void 0&&(t[c]=u),c===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!kyt.has(r)||t.length!==2)return;const[a,i]=t,o=w7(a),l=w7(i);if(o!==l)if(y7(o)&&y7(l))for(let c=0;c<t.length;c++){const d=t[c];typeof d=="string"&&(t[c]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let a=0;a<t.length;a++)yyt(t[a])&&r.push(a);r.length&&Xyt(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=tv[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(r,a).jump(a,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:a}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=a.length-1,l=a[o];a[o]=tv[r](n.measureViewportBox(),window.getComputedStyle(n.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,d])=>{n.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function R5(e){return typeof e=="function"}let S1;function Qyt(){S1=void 0}const nc={now:()=>(S1===void 0&&nc.set(Ms.isProcessing||hyt.useManualTiming?Ms.timestamp:performance.now()),S1),set:e=>{S1=e,queueMicrotask(Qyt)}},C7=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Wu.test(e)||e==="0")&&!e.startsWith("url("));function Zyt(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function Jyt(e,t,n,r){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=C7(a,t),l=C7(i,t);return!o||!l?!1:Zyt(e)||(n==="spring"||R5(n))&&r}const e0t=40;class cme{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=nc.now(),this.options={autoplay:t,delay:n,type:r,repeat:a,repeatDelay:i,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>e0t?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Eyt(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=nc.now(),this.hasAttemptedResolve=!0;const{name:r,type:a,velocity:i,delay:o,onComplete:l,onUpdate:c,isGenerator:d}=this.options;if(!d&&!Jyt(t,r,a,i))if(o)this.options.duration=0;else{c==null||c(sP(t,this.options,n)),l==null||l(),this.resolveFinishedPromise();return}const u=this.initPlayback(t,n);u!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const nv=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},dme=(e,t,n=10)=>{let r="";const a=Math.max(Math.round(t/n),2);for(let i=0;i<a;i++)r+=e(nv(0,a-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function ume(e,t){return t?e*(1e3/t):0}const t0t=5;function hme(e,t,n){const r=Math.max(t-t0t,0);return ume(n-e(r),t-r)}const gr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},NA=.001;function n0t({duration:e=gr.duration,bounce:t=gr.bounce,velocity:n=gr.velocity,mass:r=gr.mass}){let a,i,o=1-t;o=pd(gr.minDamping,gr.maxDamping,o),e=pd(gr.minDuration,gr.maxDuration,Jc(e)),o<1?(a=d=>{const u=d*o,h=u*e,f=u-n,g=a4(d,o),m=Math.exp(-h);return NA-f/g*m},i=d=>{const h=d*o*e,f=h*n+n,g=Math.pow(o,2)*Math.pow(d,2)*e,m=Math.exp(-h),p=a4(Math.pow(d,2),o);return(-a(d)+NA>0?-1:1)*((f-g)*m)/p}):(a=d=>{const u=Math.exp(-d*e),h=(d-n)*e+1;return-NA+u*h},i=d=>{const u=Math.exp(-d*e),h=(n-d)*(e*e);return u*h});const l=5/e,c=s0t(a,i,l);if(e=Zc(e),isNaN(c))return{stiffness:gr.stiffness,damping:gr.damping,duration:e};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:e}}}const r0t=12;function s0t(e,t,n){let r=n;for(let a=1;a<r0t;a++)r=r-e(r)/t(r);return r}function a4(e,t){return e*Math.sqrt(1-t*t)}const i4=2e4;function fme(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<i4;)t+=n,r=e.next(t);return t>=i4?1/0:t}const a0t=["duration","bounce"],i0t=["stiffness","damping","mass"];function k7(e,t){return t.some(n=>e[n]!==void 0)}function o0t(e){let t={velocity:gr.velocity,stiffness:gr.stiffness,damping:gr.damping,mass:gr.mass,isResolvedFromDuration:!1,...e};if(!k7(e,i0t)&&k7(e,a0t))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,i=2*pd(.05,1,1-e.bounce)*Math.sqrt(a);t={...t,mass:gr.mass,stiffness:a,damping:i}}else{const n=n0t(e);t={...t,...n,mass:gr.mass},t.isResolvedFromDuration=!0}return t}function mme(e=gr.visualDuration,t=gr.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:a}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:d,mass:u,duration:h,velocity:f,isResolvedFromDuration:g}=o0t({...n,velocity:-Jc(n.velocity||0)}),m=f||0,p=d/(2*Math.sqrt(c*u)),x=o-i,v=Jc(Math.sqrt(c/u)),y=Math.abs(x)<5;r||(r=y?gr.restSpeed.granular:gr.restSpeed.default),a||(a=y?gr.restDelta.granular:gr.restDelta.default);let j;if(p<1){const w=a4(v,p);j=S=>{const k=Math.exp(-p*v*S);return o-k*((m+p*v*x)/w*Math.sin(w*S)+x*Math.cos(w*S))}}else if(p===1)j=w=>o-Math.exp(-v*w)*(x+(m+v*x)*w);else{const w=v*Math.sqrt(p*p-1);j=S=>{const k=Math.exp(-p*v*S),_=Math.min(w*S,300);return o-k*((m+p*v*x)*Math.sinh(_)+w*x*Math.cosh(_))/w}}const N={calculatedDuration:g&&h||null,next:w=>{const S=j(w);if(g)l.done=w>=h;else{let k=0;p<1&&(k=w===0?Zc(m):hme(j,w,S));const _=Math.abs(k)<=r,T=Math.abs(o-S)<=a;l.done=_&&T}return l.value=l.done?o:S,l},toString:()=>{const w=Math.min(fme(N),i4),S=dme(k=>N.next(w*k).value,w,30);return w+"ms "+S}};return N}function _7({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const h=e[0],f={done:!1,value:h},g=_=>l!==void 0&&_<l||c!==void 0&&_>c,m=_=>l===void 0?c:c===void 0||Math.abs(l-_)<Math.abs(c-_)?l:c;let p=n*t;const x=h+p,v=o===void 0?x:o(x);v!==x&&(p=v-h);const y=_=>-p*Math.exp(-_/r),j=_=>v+y(_),N=_=>{const T=y(_),P=j(_);f.done=Math.abs(T)<=d,f.value=f.done?v:P};let w,S;const k=_=>{g(f.value)&&(w=_,S=mme({keyframes:[f.value,m(f.value)],velocity:hme(j,_,f.value),damping:a,stiffness:i,restDelta:d,restSpeed:u}))};return k(0),{calculatedDuration:null,next:_=>{let T=!1;return!S&&w===void 0&&(T=!0,N(_),k(_)),w!==void 0&&_>=w?S.next(_-w):(!T&&N(_),f)}}}const l0t=pw(.42,0,1,1),c0t=pw(0,0,.58,1),pme=pw(.42,0,.58,1),d0t=e=>Array.isArray(e)&&typeof e[0]!="number",$5=e=>Array.isArray(e)&&typeof e[0]=="number",P7={linear:ta,easeIn:l0t,easeInOut:pme,easeOut:c0t,circIn:P5,circInOut:qfe,circOut:Hfe,backIn:_5,backInOut:Vfe,backOut:Ufe,anticipate:Wfe},T7=e=>{if($5(e)){e4(e.length===4);const[t,n,r,a]=e;return pw(t,n,r,a)}else if(typeof e=="string")return e4(P7[e]!==void 0),P7[e];return e},u0t=(e,t)=>n=>t(e(n)),wu=(...e)=>e.reduce(u0t),cr=(e,t,n)=>e+(t-e)*n;function SA(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function h0t({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let a=0,i=0,o=0;if(!t)a=i=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;a=SA(c,l,e+1/3),i=SA(c,l,e),o=SA(c,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function i2(e,t){return n=>n>0?t:e}const CA=(e,t,n)=>{const r=e*e,a=n*(t*t-r)+r;return a<0?0:Math.sqrt(a)},f0t=[r4,Bh,Hm],m0t=e=>f0t.find(t=>t.test(e));function A7(e){const t=m0t(e);if(!t)return!1;let n=t.parse(e);return t===Hm&&(n=h0t(n)),n}const E7=(e,t)=>{const n=A7(e),r=A7(t);if(!n||!r)return i2(e,t);const a={...n};return i=>(a.red=CA(n.red,r.red,i),a.green=CA(n.green,r.green,i),a.blue=CA(n.blue,r.blue,i),a.alpha=cr(n.alpha,r.alpha,i),Bh.transform(a))},o4=new Set(["none","hidden"]);function p0t(e,t){return o4.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function g0t(e,t){return n=>cr(e,t,n)}function I5(e){return typeof e=="number"?g0t:typeof e=="string"?T5(e)?i2:Ks.test(e)?E7:y0t:Array.isArray(e)?gme:typeof e=="object"?Ks.test(e)?E7:v0t:i2}function gme(e,t){const n=[...e],r=n.length,a=e.map((i,o)=>I5(i)(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=a[o](i);return n}}function v0t(e,t){const n={...e,...t},r={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(r[a]=I5(e[a])(e[a],t[a]));return a=>{for(const i in r)n[i]=r[i](a);return n}}function x0t(e,t){var n;const r=[],a={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],l=e.indexes[o][a[o]],c=(n=e.values[l])!==null&&n!==void 0?n:0;r[i]=c,a[o]++}return r}const y0t=(e,t)=>{const n=Wu.createTransformer(t),r=Ob(e),a=Ob(t);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?o4.has(e)&&!a.values.length||o4.has(t)&&!r.values.length?p0t(e,t):wu(gme(x0t(r,a),a.values),n):i2(e,t)};function vme(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?cr(e,t,n):I5(e)(e,t)}function b0t(e,t,n){const r=[],a=n||vme,i=e.length-1;for(let o=0;o<i;o++){let l=a(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||ta:t;l=wu(c,l)}r.push(l)}return r}function j0t(e,t,{clamp:n=!0,ease:r,mixer:a}={}){const i=e.length;if(e4(i===t.length),i===1)return()=>t[0];if(i===2&&e[0]===e[1])return()=>t[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=b0t(t,r,a),l=o.length,c=d=>{let u=0;if(l>1)for(;u<e.length-2&&!(d<e[u+1]);u++);const h=nv(e[u],e[u+1],d);return o[u](h)};return n?d=>c(pd(e[0],e[i-1],d)):c}function w0t(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const a=nv(0,t,r);e.push(cr(n,1,a))}}function N0t(e){const t=[0];return w0t(t,e.length-1),t}function S0t(e,t){return e.map(n=>n*t)}function C0t(e,t){return e.map(()=>t||pme).splice(0,e.length-1)}function o2({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const a=d0t(r)?r.map(T7):T7(r),i={done:!1,value:t[0]},o=S0t(n&&n.length===t.length?n:N0t(t),e),l=j0t(o,t,{ease:Array.isArray(a)?a:C0t(t,a)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const k0t=e=>{const t=({timestamp:n})=>e(n);return{start:()=>jn.update(t,!0),stop:()=>Vu(t),now:()=>Ms.isProcessing?Ms.timestamp:nc.now()}},_0t={decay:_7,inertia:_7,tween:o2,keyframes:o2,spring:mme},P0t=e=>e/100;class F5 extends cme{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:n,motionValue:r,element:a,keyframes:i}=this.options,o=(a==null?void 0:a.KeyframeResolver)||A5,l=(c,d)=>this.onKeyframesResolved(c,d);this.resolver=new o(i,l,n,r,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:i,velocity:o=0}=this.options,l=R5(n)?n:_0t[n]||o2;let c,d;l!==o2&&typeof t[0]!="number"&&(c=wu(P0t,vme(t[0],t[1])),t=[0,100]);const u=l({...this.options,keyframes:t});i==="mirror"&&(d=l({...this.options,keyframes:[...t].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=fme(u));const{calculatedDuration:h}=u,f=h+a,g=f*(r+1)-a;return{generator:u,mirroredGenerator:d,mapPercentToKeyframes:c,calculatedDuration:h,resolvedDuration:f,totalDuration:g}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:_}=this.options;return{done:!0,value:_[_.length-1]}}const{finalKeyframe:a,generator:i,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:d,totalDuration:u,resolvedDuration:h}=r;if(this.startTime===null)return i.next(0);const{delay:f,repeat:g,repeatType:m,repeatDelay:p,onUpdate:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-u/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const v=this.currentTime-f*(this.speed>=0?1:-1),y=this.speed>=0?v<0:v>u;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let j=this.currentTime,N=i;if(g){const _=Math.min(this.currentTime,u)/h;let T=Math.floor(_),P=_%1;!P&&_>=1&&(P=1),P===1&&T--,T=Math.min(T,g+1),!!(T%2)&&(m==="reverse"?(P=1-P,p&&(P-=p/h)):m==="mirror"&&(N=o)),j=pd(0,1,P)*h}const w=y?{done:!1,value:c[0]}:N.next(j);l&&(w.value=l(w.value));let{done:S}=w;!y&&d!==null&&(S=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return k&&a!==void 0&&(w.value=sP(c,this.options,a)),x&&x(w.value),k&&this.finish(),w}get duration(){const{resolved:t}=this;return t?Jc(t.calculatedDuration):0}get time(){return Jc(this.currentTime)}set time(t){t=Zc(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Jc(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=k0t,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),n&&n();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const T0t=new Set(["opacity","clipPath","filter","transform"]);function L5(e){let t;return()=>(t===void 0&&(t=e()),t)}const A0t={linearEasing:void 0};function E0t(e,t){const n=L5(e);return()=>{var r;return(r=A0t[t])!==null&&r!==void 0?r:n()}}const l2=E0t(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function xme(e){return!!(typeof e=="function"&&l2()||!e||typeof e=="string"&&(e in l4||l2())||$5(e)||Array.isArray(e)&&e.every(xme))}const Jx=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,l4={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Jx([0,.65,.55,1]),circOut:Jx([.55,0,1,.45]),backIn:Jx([.31,.01,.66,-.59]),backOut:Jx([.33,1.53,.69,.99])};function yme(e,t){if(e)return typeof e=="function"&&l2()?dme(e,t):$5(e)?Jx(e):Array.isArray(e)?e.map(n=>yme(n,t)||l4.easeOut):l4[e]}function D0t(e,t,n,{delay:r=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const d={[t]:n};c&&(d.offset=c);const u=yme(l,a);return Array.isArray(u)&&(d.easing=u),e.animate(d,{delay:r,duration:a,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function D7(e,t){e.timeline=t,e.onfinish=null}const O0t=L5(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),c2=10,M0t=2e4;function R0t(e){return R5(e.type)||e.type==="spring"||!xme(e.ease)}function $0t(e,t){const n=new F5({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const a=[];let i=0;for(;!r.done&&i<M0t;)r=n.sample(i),a.push(r.value),i+=c2;return{times:void 0,keyframes:a,duration:i-c2,ease:"linear"}}const bme={anticipate:Wfe,backInOut:Vfe,circInOut:qfe};function I0t(e){return e in bme}class O7 extends cme{constructor(t){super(t);const{name:n,motionValue:r,element:a,keyframes:i}=this.options;this.resolver=new lme(i,(o,l)=>this.onKeyframesResolved(o,l),n,r,a),this.resolver.scheduleResolve()}initPlayback(t,n){var r;let{duration:a=300,times:i,ease:o,type:l,motionValue:c,name:d,startTime:u}=this.options;if(!(!((r=c.owner)===null||r===void 0)&&r.current))return!1;if(typeof o=="string"&&l2()&&I0t(o)&&(o=bme[o]),R0t(this.options)){const{onComplete:f,onUpdate:g,motionValue:m,element:p,...x}=this.options,v=$0t(t,x);t=v.keyframes,t.length===1&&(t[1]=t[0]),a=v.duration,i=v.times,o=v.ease,l="keyframes"}const h=D0t(c.owner.current,d,t,{...this.options,duration:a,times:i,ease:o});return h.startTime=u??this.calcStartTime(),this.pendingTimeline?(D7(h,this.pendingTimeline),this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:f}=this.options;c.set(sP(t,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:a,times:i,type:l,ease:o,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return Jc(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return Jc(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Zc(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return ta;const{animation:r}=n;D7(r,t)}return ta}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:a,type:i,ease:o,times:l}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:u,onComplete:h,element:f,...g}=this.options,m=new F5({...g,keyframes:r,duration:a,type:i,ease:o,times:l,isGenerator:!0}),p=Zc(this.time);d.setWithVelocity(m.sample(p-c2).value,m.sample(p).value,c2)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:a,repeatType:i,damping:o,type:l}=t;return O0t()&&r&&T0t.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!a&&i!=="mirror"&&o!==0&&l!=="inertia"}}const F0t=L5(()=>window.ScrollTimeline!==void 0);class L0t{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}then(t,n){return Promise.all(this.animations).then(t).catch(n)}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(a=>F0t()&&a.attachTimeline?a.attachTimeline(t):n(a));return()=>{r.forEach((a,i)=>{a&&a(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function z0t({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const z5=(e,t,n,r={},a,i)=>o=>{const l=k5(r,e)||{},c=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Zc(c);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:f=>{t.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:a};z0t(l)||(u={...u,...uyt(e,u)}),u.duration&&(u.duration=Zc(u.duration)),u.repeatDelay&&(u.repeatDelay=Zc(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(h=!0)),h&&!i&&t.get()!==void 0){const f=sP(u.keyframes,l);if(f!==void 0)return jn.update(()=>{u.onUpdate(f),u.onComplete()}),new L0t([])}return!i&&O7.supports(u)?new O7(u):new F5(u)},B0t=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),U0t=e=>JM(e)?e[e.length-1]||0:e;function B5(e,t){e.indexOf(t)===-1&&e.push(t)}function U5(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class V5{constructor(){this.subscriptions=[]}add(t){return B5(this.subscriptions,t),()=>U5(this.subscriptions,t)}notify(t,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,r);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const M7=30,V0t=e=>!isNaN(parseFloat(e));class W0t{constructor(t,n={}){this.version="11.13.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,a=!0)=>{const i=nc.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=nc.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=V0t(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new V5);const r=this.events[t].add(n);return t==="change"?()=>{r(),jn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=nc.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>M7)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,M7);return ume(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Mb(e,t){return new W0t(e,t)}function H0t(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Mb(n))}function q0t(e,t){const n=rP(e,t);let{transitionEnd:r={},transition:a={},...i}=n||{};i={...i,...r};for(const o in i){const l=U0t(i[o]);H0t(e,o,l)}}const W5=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),K0t="framerAppearId",jme="data-"+W5(K0t);function wme(e){return e.props[jme]}const Zs=e=>!!(e&&e.getVelocity);function G0t(e){return!!(Zs(e)&&e.add)}function c4(e,t){const n=e.getValue("willChange");if(G0t(n))return n.add(t)}function Y0t({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function Nme(e,t,{delay:n=0,transitionOverride:r,type:a}={}){var i;let{transition:o=e.getDefaultTransition(),transitionEnd:l,...c}=t;r&&(o=r);const d=[],u=a&&e.animationState&&e.animationState.getState()[a];for(const h in c){const f=e.getValue(h,(i=e.latestValues[h])!==null&&i!==void 0?i:null),g=c[h];if(g===void 0||u&&Y0t(u,h))continue;const m={delay:n,...k5(o||{},h)};let p=!1;if(window.MotionHandoffAnimation){const v=wme(e);if(v){const y=window.MotionHandoffAnimation(v,h,jn);y!==null&&(m.startTime=y,p=!0)}}c4(e,h),f.start(z5(h,f,g,e.shouldReduceMotion&&om.has(h)?{type:!1}:m,e,p));const x=f.animation;x&&d.push(x)}return l&&Promise.all(d).then(()=>{jn.update(()=>{l&&q0t(e,l)})}),d}function d4(e,t,n={}){var r;const a=rP(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=a||{};n.transitionOverride&&(i=n.transitionOverride);const o=a?()=>Promise.all(Nme(e,a,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:f}=i;return X0t(e,t,u+d,h,f,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[d,u]=c==="beforeChildren"?[o,l]:[l,o];return d().then(()=>u())}else return Promise.all([o(),l(n.delay)])}function X0t(e,t,n=0,r=0,a=1,i){const o=[],l=(e.variantChildren.size-1)*r,c=a===1?(d=0)=>d*r:(d=0)=>l-d*r;return Array.from(e.variantChildren).sort(Q0t).forEach((d,u)=>{d.notify("AnimationStart",t),o.push(d4(d,t,{...i,delay:n+c(u)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(o)}function Q0t(e,t){return e.sortNodePosition(t)}function Z0t(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const a=t.map(i=>d4(e,i,n));r=Promise.all(a)}else if(typeof t=="string")r=d4(e,t,n);else{const a=typeof t=="function"?rP(e,t,n.custom):t;r=Promise.all(Nme(e,a,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const J0t=C5.length;function Sme(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?Sme(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<J0t;n++){const r=C5[n],a=e.props[r];(Eb(a)||a===!1)&&(t[r]=a)}return t}const ebt=[...S5].reverse(),tbt=S5.length;function nbt(e){return t=>Promise.all(t.map(({animation:n,options:r})=>Z0t(e,n,r)))}function rbt(e){let t=nbt(e),n=R7(),r=!0;const a=c=>(d,u)=>{var h;const f=rP(e,u,c==="exit"?(h=e.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:g,transitionEnd:m,...p}=f;d={...d,...p,...m}}return d};function i(c){t=c(e)}function o(c){const{props:d}=e,u=Sme(e.parent)||{},h=[],f=new Set;let g={},m=1/0;for(let x=0;x<tbt;x++){const v=ebt[x],y=n[v],j=d[v]!==void 0?d[v]:u[v],N=Eb(j),w=v===c?y.isActive:null;w===!1&&(m=x);let S=j===u[v]&&j!==d[v]&&N;if(S&&r&&e.manuallyAnimateOnMount&&(S=!1),y.protectedKeys={...g},!y.isActive&&w===null||!j&&!y.prevProp||nP(j)||typeof j=="boolean")continue;const k=sbt(y.prevProp,j);let _=k||v===c&&y.isActive&&!S&&N||x>m&&N,T=!1;const P=Array.isArray(j)?j:[j];let C=P.reduce(a(v),{});w===!1&&(C={});const{prevResolvedValues:A={}}=y,E={...A,...C},I=M=>{_=!0,f.has(M)&&(T=!0,f.delete(M)),y.needsAnimating[M]=!0;const F=e.getValue(M);F&&(F.liveStyle=!1)};for(const M in E){const F=C[M],V=A[M];if(g.hasOwnProperty(M))continue;let Y=!1;JM(F)&&JM(V)?Y=!Ife(F,V):Y=F!==V,Y?F!=null?I(M):f.add(M):F!==void 0&&f.has(M)?I(M):y.protectedKeys[M]=!0}y.prevProp=j,y.prevResolvedValues=C,y.isActive&&(g={...g,...C}),r&&e.blockInitialAnimation&&(_=!1),_&&(!(S&&k)||T)&&h.push(...P.map(M=>({animation:M,options:{type:v}})))}if(f.size){const x={};f.forEach(v=>{const y=e.getBaseTarget(v),j=e.getValue(v);j&&(j.liveStyle=!0),x[v]=y??null}),h.push({animation:x})}let p=!!h.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(p=!1),r=!1,p?t(h):Promise.resolve()}function l(c,d){var u;if(n[c].isActive===d)return Promise.resolve();(u=e.variantChildren)===null||u===void 0||u.forEach(f=>{var g;return(g=f.animationState)===null||g===void 0?void 0:g.setActive(c,d)}),n[c].isActive=d;const h=o(c);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=R7(),r=!0}}}function sbt(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Ife(t,e):!1}function mh(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function R7(){return{animate:mh(!0),whileInView:mh(),whileHover:mh(),whileTap:mh(),whileDrag:mh(),whileFocus:mh(),exit:mh()}}class oh{constructor(t){this.isMounted=!1,this.node=t}update(){}}class abt extends oh{constructor(t){super(t),t.animationState||(t.animationState=rbt(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();nP(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let ibt=0;class obt extends oh{constructor(){super(...arguments),this.id=ibt++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const lbt={animation:{Feature:abt},exit:{Feature:obt}};function cbt(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let a=document;const i=(r=void 0)!==null&&r!==void 0?r:a.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const vo={x:!1,y:!1};function Cme(){return vo.x||vo.y}function $7(e){return t=>{t.pointerType==="touch"||Cme()||e(t)}}function dbt(e,t,n={}){const r=new AbortController,a={passive:!0,...n,signal:r.signal},i=$7(o=>{const{target:l}=o,c=t(o);if(!c||!l)return;const d=$7(u=>{c(u),l.removeEventListener("pointerleave",d)});l.addEventListener("pointerleave",d,a)});return cbt(e).forEach(o=>{o.addEventListener("pointerenter",i,a)}),()=>r.abort()}function ubt(e){return e==="x"||e==="y"?vo[e]?null:(vo[e]=!0,()=>{vo[e]=!1}):vo.x||vo.y?null:(vo.x=vo.y=!0,()=>{vo.x=vo.y=!1})}const kme=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function vw(e){return{point:{x:e.pageX,y:e.pageY}}}const hbt=e=>t=>kme(t)&&e(t,vw(t));function qc(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Nu(e,t,n,r){return qc(e,t,hbt(n),r)}const I7=(e,t)=>Math.abs(e-t);function fbt(e,t){const n=I7(e.x,t.x),r=I7(e.y,t.y);return Math.sqrt(n**2+r**2)}class _me{constructor(t,n,{transformPagePoint:r,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=_A(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,g=fbt(h.offset,{x:0,y:0})>=3;if(!f&&!g)return;const{point:m}=h,{timestamp:p}=Ms;this.history.push({...m,timestamp:p});const{onStart:x,onMove:v}=this.handlers;f||(x&&x(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=kA(f,this.transformPagePoint),jn.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:g,onSessionEnd:m,resumeAnimation:p}=this.handlers;if(this.dragSnapToOrigin&&p&&p(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=_A(h.type==="pointercancel"?this.lastMoveEventInfo:kA(f,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,x),m&&m(h,x)},!kme(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=a||window;const o=vw(t),l=kA(o,this.transformPagePoint),{point:c}=l,{timestamp:d}=Ms;this.history=[{...c,timestamp:d}];const{onSessionStart:u}=n;u&&u(t,_A(l,this.history)),this.removeListeners=wu(Nu(this.contextWindow,"pointermove",this.handlePointerMove),Nu(this.contextWindow,"pointerup",this.handlePointerUp),Nu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Vu(this.updatePoint)}}function kA(e,t){return t?{point:t(e.point)}:e}function F7(e,t){return{x:e.x-t.x,y:e.y-t.y}}function _A({point:e},t){return{point:e,delta:F7(e,Pme(t)),offset:F7(e,mbt(t)),velocity:pbt(t,.1)}}function mbt(e){return e[0]}function Pme(e){return e[e.length-1]}function pbt(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const a=Pme(e);for(;n>=0&&(r=e[n],!(a.timestamp-r.timestamp>Zc(t)));)n--;if(!r)return{x:0,y:0};const i=Jc(a.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-r.x)/i,y:(a.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function qm(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}const Tme=1e-4,gbt=1-Tme,vbt=1+Tme,Ame=.01,xbt=0-Ame,ybt=0+Ame;function Ni(e){return e.max-e.min}function bbt(e,t,n){return Math.abs(e-t)<=n}function L7(e,t,n,r=.5){e.origin=r,e.originPoint=cr(t.min,t.max,e.origin),e.scale=Ni(n)/Ni(t),e.translate=cr(n.min,n.max,e.origin)-e.originPoint,(e.scale>=gbt&&e.scale<=vbt||isNaN(e.scale))&&(e.scale=1),(e.translate>=xbt&&e.translate<=ybt||isNaN(e.translate))&&(e.translate=0)}function Oy(e,t,n,r){L7(e.x,t.x,n.x,r?r.originX:void 0),L7(e.y,t.y,n.y,r?r.originY:void 0)}function z7(e,t,n){e.min=n.min+t.min,e.max=e.min+Ni(t)}function jbt(e,t,n){z7(e.x,t.x,n.x),z7(e.y,t.y,n.y)}function B7(e,t,n){e.min=t.min-n.min,e.max=e.min+Ni(t)}function My(e,t,n){B7(e.x,t.x,n.x),B7(e.y,t.y,n.y)}function wbt(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?cr(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?cr(n,e,r.max):Math.min(e,n)),e}function U7(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Nbt(e,{top:t,left:n,bottom:r,right:a}){return{x:U7(e.x,n,a),y:U7(e.y,t,r)}}function V7(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function Sbt(e,t){return{x:V7(e.x,t.x),y:V7(e.y,t.y)}}function Cbt(e,t){let n=.5;const r=Ni(e),a=Ni(t);return a>r?n=nv(t.min,t.max-r,e.min):r>a&&(n=nv(e.min,e.max-a,t.min)),pd(0,1,n)}function kbt(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const u4=.35;function _bt(e=u4){return e===!1?e=0:e===!0&&(e=u4),{x:W7(e,"left","right"),y:W7(e,"top","bottom")}}function W7(e,t,n){return{min:H7(e,t),max:H7(e,n)}}function H7(e,t){return typeof e=="number"?e:e[t]||0}const q7=()=>({translate:0,scale:1,origin:0,originPoint:0}),Km=()=>({x:q7(),y:q7()}),K7=()=>({min:0,max:0}),_r=()=>({x:K7(),y:K7()});function Mi(e){return[e("x"),e("y")]}function Eme({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Pbt({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Tbt(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function PA(e){return e===void 0||e===1}function h4({scale:e,scaleX:t,scaleY:n}){return!PA(e)||!PA(t)||!PA(n)}function wh(e){return h4(e)||Dme(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Dme(e){return G7(e.x)||G7(e.y)}function G7(e){return e&&e!=="0%"}function d2(e,t,n){const r=e-n,a=t*r;return n+a}function Y7(e,t,n,r,a){return a!==void 0&&(e=d2(e,a,r)),d2(e,n,r)+t}function f4(e,t=0,n=1,r,a){e.min=Y7(e.min,t,n,r,a),e.max=Y7(e.max,t,n,r,a)}function Ome(e,{x:t,y:n}){f4(e.x,t.translate,t.scale,t.originPoint),f4(e.y,n.translate,n.scale,n.originPoint)}const X7=.999999999999,Q7=1.0000000000001;function Abt(e,t,n,r=!1){const a=n.length;if(!a)return;t.x=t.y=1;let i,o;for(let l=0;l<a;l++){i=n[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Ym(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Ome(e,o)),r&&wh(i.latestValues)&&Ym(e,i.latestValues))}t.x<Q7&&t.x>X7&&(t.x=1),t.y<Q7&&t.y>X7&&(t.y=1)}function Gm(e,t){e.min=e.min+t,e.max=e.max+t}function Z7(e,t,n,r,a=.5){const i=cr(e.min,e.max,a);f4(e,t,n,i,r)}function Ym(e,t){Z7(e.x,t.x,t.scaleX,t.scale,t.originX),Z7(e.y,t.y,t.scaleY,t.scale,t.originY)}function Mme(e,t){return Eme(Tbt(e.getBoundingClientRect(),t))}function Ebt(e,t,n){const r=Mme(e,n),{scroll:a}=t;return a&&(Gm(r.x,a.offset.x),Gm(r.y,a.offset.y)),r}const Rme=({current:e})=>e?e.ownerDocument.defaultView:null,Dbt=new WeakMap;class Obt{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=_r(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(vw(u).point)},i=(u,h)=>{const{drag:f,dragPropagation:g,onDragStart:m}=this.getProps();if(f&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=ubt(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Mi(x=>{let v=this.getAxisMotionValue(x).get()||0;if(tc.test(v)){const{projection:y}=this.visualElement;if(y&&y.layout){const j=y.layout.layoutBox[x];j&&(v=Ni(j)*(parseFloat(v)/100))}}this.originPoint[x]=v}),m&&jn.postRender(()=>m(u,h)),c4(this.visualElement,"transform");const{animationState:p}=this.visualElement;p&&p.setActive("whileDrag",!0)},o=(u,h)=>{const{dragPropagation:f,dragDirectionLock:g,onDirectionLock:m,onDrag:p}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:x}=h;if(g&&this.currentDirection===null){this.currentDirection=Mbt(x),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",h.point,x),this.updateAxis("y",h.point,x),this.visualElement.render(),p&&p(u,h)},l=(u,h)=>this.stop(u,h),c=()=>Mi(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new _me(t,{onSessionStart:a,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:Rme(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&jn.postRender(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:a}=this.getProps();if(!r||!ON(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=wbt(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&qm(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&a?this.constraints=Nbt(a.layoutBox,n):this.constraints=!1,this.elastic=_bt(r),i!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Mi(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=kbt(a.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!qm(t))return!1;const r=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=Ebt(r,a.root,this.visualElement.getTransformPagePoint());let o=Sbt(a.layout.layoutBox,i);if(n){const l=n(Pbt(o));this.hasMutatedConstraints=!!l,l&&(o=Eme(l))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=Mi(u=>{if(!ON(u,n,this.currentDirection))return;let h=c&&c[u]||{};o&&(h={min:0,max:0});const f=a?200:1e6,g=a?40:1e7,m={type:"inertia",velocity:r?t[u]:0,bounceStiffness:f,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(u,m)});return Promise.all(d).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return c4(this.visualElement,t),r.start(z5(t,r,0,n,this.visualElement,!1))}stopAnimation(){Mi(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Mi(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Mi(n=>{const{drag:r}=this.getProps();if(!ON(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(n);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[n];i.set(t[n]-cr(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!qm(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Mi(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();a[o]=Cbt({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Mi(o=>{if(!ON(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(cr(c,d,a[o]))})}addListeners(){if(!this.visualElement.current)return;Dbt.set(this.visualElement,this);const t=this.visualElement.current,n=Nu(t,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();qm(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),jn.read(r);const o=qc(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Mi(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=c[u].translate,h.set(h.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=u4,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function ON(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Mbt(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Rbt extends oh{constructor(t){super(t),this.removeGroupControls=ta,this.removeListeners=ta,this.controls=new Obt(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ta}unmount(){this.removeGroupControls(),this.removeListeners()}}const J7=e=>(t,n)=>{e&&jn.postRender(()=>e(t,n))};class $bt extends oh{constructor(){super(...arguments),this.removePointerDownListener=ta}onPointerDown(t){this.session=new _me(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Rme(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:J7(t),onStart:J7(n),onMove:r,onEnd:(i,o)=>{delete this.session,a&&jn.postRender(()=>a(i,o))}}}mount(){this.removePointerDownListener=Nu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const aP=b.createContext(null);function Ibt(){const e=b.useContext(aP);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,a=b.useId();b.useEffect(()=>r(a),[]);const i=b.useCallback(()=>n&&n(a),[a,n]);return!t&&n?[!1,i]:[!0]}const H5=b.createContext({}),$me=b.createContext({}),C1={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function eW(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ex={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(xt.test(e))e=parseFloat(e);else return e;const n=eW(e,t.target.x),r=eW(e,t.target.y);return`${n}% ${r}%`}},Fbt={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,a=Wu.parse(e);if(a.length>5)return r;const i=Wu.createTransformer(e),o=typeof a[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;a[0+o]/=l,a[1+o]/=c;const d=cr(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=d),typeof a[3+o]=="number"&&(a[3+o]/=d),i(a)}},u2={};function Lbt(e){Object.assign(u2,e)}const{schedule:q5,cancel:o1t}=Ffe(queueMicrotask,!1);class zbt extends b.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:i}=t;Lbt(Bbt),i&&(n.group&&n.group.add(i),r&&r.register&&a&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),C1.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:a,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,a||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||jn.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),q5.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Ime(e){const[t,n]=Ibt(),r=b.useContext(H5);return s.jsx(zbt,{...e,layoutGroup:r,switchLayoutGroup:b.useContext($me),isPresent:t,safeToRemove:n})}const Bbt={borderRadius:{...Ex,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ex,borderTopRightRadius:Ex,borderBottomLeftRadius:Ex,borderBottomRightRadius:Ex,boxShadow:Fbt},Fme=["TopLeft","TopRight","BottomLeft","BottomRight"],Ubt=Fme.length,tW=e=>typeof e=="string"?parseFloat(e):e,nW=e=>typeof e=="number"||xt.test(e);function Vbt(e,t,n,r,a,i){a?(e.opacity=cr(0,n.opacity!==void 0?n.opacity:1,Wbt(r)),e.opacityExit=cr(t.opacity!==void 0?t.opacity:1,0,Hbt(r))):i&&(e.opacity=cr(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<Ubt;o++){const l=`border${Fme[o]}Radius`;let c=rW(t,l),d=rW(n,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||nW(c)===nW(d)?(e[l]=Math.max(cr(tW(c),tW(d),r),0),(tc.test(d)||tc.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||n.rotate)&&(e.rotate=cr(t.rotate||0,n.rotate||0,r))}function rW(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Wbt=Lme(0,.5,Hfe),Hbt=Lme(.5,.95,ta);function Lme(e,t,n){return r=>r<e?0:r>t?1:n(nv(e,t,r))}function sW(e,t){e.min=t.min,e.max=t.max}function Oi(e,t){sW(e.x,t.x),sW(e.y,t.y)}function aW(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function iW(e,t,n,r,a){return e-=t,e=d2(e,1/n,r),a!==void 0&&(e=d2(e,1/a,r)),e}function qbt(e,t=0,n=1,r=.5,a,i=e,o=e){if(tc.test(t)&&(t=parseFloat(t),t=cr(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=cr(i.min,i.max,r);e===i&&(l-=t),e.min=iW(e.min,t,n,l,a),e.max=iW(e.max,t,n,l,a)}function oW(e,t,[n,r,a],i,o){qbt(e,t[n],t[r],t[a],t.scale,i,o)}const Kbt=["x","scaleX","originX"],Gbt=["y","scaleY","originY"];function lW(e,t,n,r){oW(e.x,t,Kbt,n?n.x:void 0,r?r.x:void 0),oW(e.y,t,Gbt,n?n.y:void 0,r?r.y:void 0)}function cW(e){return e.translate===0&&e.scale===1}function zme(e){return cW(e.x)&&cW(e.y)}function dW(e,t){return e.min===t.min&&e.max===t.max}function Ybt(e,t){return dW(e.x,t.x)&&dW(e.y,t.y)}function uW(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Bme(e,t){return uW(e.x,t.x)&&uW(e.y,t.y)}function hW(e){return Ni(e.x)/Ni(e.y)}function fW(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Xbt{constructor(){this.members=[]}add(t){B5(this.members,t),t.scheduleRender()}remove(t){if(U5(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Qbt(e,t,n){let r="";const a=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((a||i||o)&&(r=`translate3d(${a}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:d,rotate:u,rotateX:h,rotateY:f,skewX:g,skewY:m}=n;d&&(r=`perspective(${d}px) ${r}`),u&&(r+=`rotate(${u}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),g&&(r+=`skewX(${g}deg) `),m&&(r+=`skewY(${m}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const Zbt=(e,t)=>e.depth-t.depth;class Jbt{constructor(){this.children=[],this.isDirty=!1}add(t){B5(this.children,t),this.isDirty=!0}remove(t){U5(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Zbt),this.isDirty=!1,this.children.forEach(t)}}function k1(e){const t=Zs(e)?e.get():e;return B0t(t)?t.toValue():t}function ejt(e,t){const n=nc.now(),r=({timestamp:a})=>{const i=a-n;i>=t&&(Vu(r),e(i-t))};return jn.read(r,!0),()=>Vu(r)}function tjt(e){return e instanceof SVGElement&&e.tagName!=="svg"}function njt(e,t,n){const r=Zs(e)?e:Mb(e);return r.start(z5("",r,t,n)),r.animation}const Nh={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},ey=typeof window<"u"&&window.MotionDebug!==void 0,TA=["","X","Y","Z"],rjt={visibility:"hidden"},mW=1e3;let sjt=0;function AA(e,t,n,r){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),r&&(r[e]=0))}function Ume(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=wme(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",jn,!(a||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&Ume(r)}function Vme({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(o={},l=t==null?void 0:t()){this.id=sjt++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ey&&(Nh.totalNodes=Nh.resolvedTargetDeltas=Nh.recalculatedProjection=0),this.nodes.forEach(ojt),this.nodes.forEach(hjt),this.nodes.forEach(fjt),this.nodes.forEach(ljt),ey&&window.MotionDebug.record(Nh)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Jbt)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new V5),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=tjt(o),this.instance=o;const{layoutId:c,layout:d,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||c)&&(this.isLayoutDirty=!0),e){let h;const f=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=ejt(f,250),C1.hasAnimatedSinceResize&&(C1.hasAnimatedSinceResize=!1,this.nodes.forEach(gW))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&u&&(c||d)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:g,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||u.getDefaultTransition()||xjt,{onLayoutAnimationStart:x,onLayoutAnimationComplete:v}=u.getProps(),y=!this.targetLayout||!Bme(this.targetLayout,m)||g,j=!f&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||j||f&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,j);const N={...k5(p,"layout"),onPlay:x,onComplete:v};(u.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N)}else f||gW(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Vu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(mjt),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Ume(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(pW);return}this.isUpdating||this.nodes.forEach(djt),this.isUpdating=!1,this.nodes.forEach(ujt),this.nodes.forEach(ajt),this.nodes.forEach(ijt),this.clearAllSnapshots();const l=nc.now();Ms.delta=pd(0,1e3/60,l-Ms.timestamp),Ms.timestamp=l,Ms.isProcessing=!0,jA.update.process(Ms),jA.preRender.process(Ms),jA.render.process(Ms),Ms.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,q5.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(cjt),this.sharedNodes.forEach(pjt)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,jn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){jn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=_r(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!zme(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&(l||wh(this.latestValues)||u)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),yjt(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return _r();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(bjt))){const{scroll:u}=this.root;u&&(Gm(c.x,u.offset.x),Gm(c.y,u.offset.y))}return c}removeElementScroll(o){var l;const c=_r();if(Oi(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:h,options:f}=u;u!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&Oi(c,o),Gm(c.x,h.offset.x),Gm(c.y,h.offset.y))}return c}applyTransform(o,l=!1){const c=_r();Oi(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Ym(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),wh(u.latestValues)&&Ym(c,u.latestValues)}return wh(this.latestValues)&&Ym(c,this.latestValues),c}removeTransform(o){const l=_r();Oi(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!wh(d.latestValues))continue;h4(d.latestValues)&&d.updateSnapshot();const u=_r(),h=d.measurePageBox();Oi(u,h),lW(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return wh(this.latestValues)&&lW(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ms.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Ms.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_r(),this.relativeTargetOrigin=_r(),My(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Oi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=_r(),this.targetWithTransforms=_r()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),jbt(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Oi(this.target,this.layout.layoutBox),Ome(this.target,this.targetDelta)):Oi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_r(),this.relativeTargetOrigin=_r(),My(this.relativeTargetOrigin,this.target,g.target),Oi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ey&&Nh.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||h4(this.parent.latestValues)||Dme(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Ms.timestamp&&(d=!1),d)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;Oi(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,g=this.treeScale.y;Abt(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=_r());const{target:m}=l;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(aW(this.prevProjectionDelta.x,this.projectionDelta.x),aW(this.prevProjectionDelta.y,this.projectionDelta.y)),Oy(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==g||!fW(this.projectionDelta.x,this.prevProjectionDelta.x)||!fW(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),ey&&Nh.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Km(),this.projectionDelta=Km(),this.projectionDeltaWithTransform=Km()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},h=Km();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=_r(),g=c?c.source:void 0,m=this.layout?this.layout.source:void 0,p=g!==m,x=this.getStack(),v=!x||x.members.length<=1,y=!!(p&&!v&&this.options.crossfade===!0&&!this.path.some(vjt));this.animationProgress=0;let j;this.mixTargetDelta=N=>{const w=N/1e3;vW(h.x,o.x,w),vW(h.y,o.y,w),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(My(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),gjt(this.relativeTarget,this.relativeTargetOrigin,f,w),j&&Ybt(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=_r()),Oi(j,this.relativeTarget)),p&&(this.animationValues=u,Vbt(u,d,this.latestValues,w,y,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Vu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=jn.update(()=>{C1.hasAnimatedSinceResize=!0,this.currentAnimation=njt(0,mW,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(mW),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&Wme(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||_r();const h=Ni(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const f=Ni(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}Oi(l,c),Ym(l,u),Oy(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Xbt),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&AA("z",o,d,this.animationValues);for(let u=0;u<TA.length;u++)AA(`rotate${TA[u]}`,o,d,this.animationValues),AA(`skew${TA[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return rjt;const d={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=k1(o==null?void 0:o.pointerEvents)||"",d.transform=u?u(this.latestValues,""):"none",d;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const p={};return this.options.layoutId&&(p.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,p.pointerEvents=k1(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!wh(this.latestValues)&&(p.transform=u?u({},""):"none",this.hasProjected=!1),p}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),d.transform=Qbt(this.projectionDeltaWithTransform,this.treeScale,f),u&&(d.transform=u(f,d.transform));const{x:g,y:m}=this.projectionDelta;d.transformOrigin=`${g.origin*100}% ${m.origin*100}% 0`,h.animationValues?d.opacity=h===this?(c=(l=f.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:d.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const p in u2){if(f[p]===void 0)continue;const{correct:x,applyTo:v}=u2[p],y=d.transform==="none"?f[p]:x(f[p],h);if(v){const j=v.length;for(let N=0;N<j;N++)d[v[N]]=y}else d[p]=y}return this.options.layoutId&&(d.pointerEvents=h===this?k1(o==null?void 0:o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(pW),this.root.sharedNodes.clear()}}}function ajt(e){e.updateLayout()}function ijt(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;i==="size"?Mi(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],g=Ni(f);f.min=r[h].min,f.max=f.min+g}):Wme(i,n.layoutBox,r)&&Mi(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],g=Ni(r[h]);f.max=f.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+g)});const l=Km();Oy(l,r,n.layoutBox);const c=Km();o?Oy(c,e.applyTransform(a,!0),n.measuredBox):Oy(c,r,n.layoutBox);const d=!zme(l);let u=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:g}=h;if(f&&g){const m=_r();My(m,n.layoutBox,f.layoutBox);const p=_r();My(p,r,g.layoutBox),Bme(m,p)||(u=!0),h.options.layoutRoot&&(e.relativeTarget=p,e.relativeTargetOrigin=m,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function ojt(e){ey&&Nh.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function ljt(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function cjt(e){e.clearSnapshot()}function pW(e){e.clearMeasurements()}function djt(e){e.isLayoutDirty=!1}function ujt(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function gW(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function hjt(e){e.resolveTargetDelta()}function fjt(e){e.calcProjection()}function mjt(e){e.resetSkewAndRotation()}function pjt(e){e.removeLeadSnapshot()}function vW(e,t,n){e.translate=cr(t.translate,0,n),e.scale=cr(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function xW(e,t,n,r){e.min=cr(t.min,n.min,r),e.max=cr(t.max,n.max,r)}function gjt(e,t,n,r){xW(e.x,t.x,n.x,r),xW(e.y,t.y,n.y,r)}function vjt(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const xjt={duration:.45,ease:[.4,0,.1,1]},yW=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),bW=yW("applewebkit/")&&!yW("chrome/")?Math.round:ta;function jW(e){e.min=bW(e.min),e.max=bW(e.max)}function yjt(e){jW(e.x),jW(e.y)}function Wme(e,t,n){return e==="position"||e==="preserve-aspect"&&!bbt(hW(t),hW(n),.2)}function bjt(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const jjt=Vme({attachResizeListener:(e,t)=>qc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),EA={current:void 0},Hme=Vme({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!EA.current){const e=new jjt({});e.mount(window),e.setOptions({layoutScroll:!0}),EA.current=e}return EA.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),wjt={pan:{Feature:$bt},drag:{Feature:Rbt,ProjectionNode:Hme,MeasureLayout:Ime}};function wW(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n);const a=r[n?"onHoverStart":"onHoverEnd"];a&&jn.postRender(()=>a(t,vw(t)))}class Njt extends oh{mount(){const{current:t,props:n}=this.node;t&&(this.unmount=dbt(t,r=>(wW(this.node,r,!0),a=>wW(this.node,a,!1)),{passive:!n.onHoverStart&&!n.onHoverEnd}))}unmount(){}}class Sjt extends oh{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=wu(qc(this.node.current,"focus",()=>this.onFocus()),qc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const qme=(e,t)=>t?e===t?!0:qme(e,t.parentElement):!1;function DA(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,vw(n))}class Cjt extends oh{constructor(){super(...arguments),this.removeStartListeners=ta,this.removeEndListeners=ta,this.removeAccessibleListeners=ta,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=Nu(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:d,onTapCancel:u,globalTapTarget:h}=this.node.getProps(),f=!h&&!qme(this.node.current,l.target)?u:d;f&&jn.update(()=>f(l,c))},{passive:!(r.onTap||r.onPointerUp)}),o=Nu(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=wu(i,o),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=l=>{l.key!=="Enter"||!this.checkPressEnd()||DA("up",(c,d)=>{const{onTap:u}=this.node.getProps();u&&jn.postRender(()=>u(c,d))})};this.removeEndListeners(),this.removeEndListeners=qc(this.node.current,"keyup",o),DA("down",(l,c)=>{this.startPress(l,c)})},n=qc(this.node.current,"keydown",t),r=()=>{this.isPressing&&DA("cancel",(i,o)=>this.cancelPress(i,o))},a=qc(this.node.current,"blur",r);this.removeAccessibleListeners=wu(n,a)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:a}=this.node.getProps();a&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&jn.postRender(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Cme()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&jn.postRender(()=>r(t,n))}mount(){const t=this.node.getProps(),n=Nu(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=qc(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=wu(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const m4=new WeakMap,OA=new WeakMap,kjt=e=>{const t=m4.get(e.target);t&&t(e)},_jt=e=>{e.forEach(kjt)};function Pjt({root:e,...t}){const n=e||document;OA.has(n)||OA.set(n,{});const r=OA.get(n),a=JSON.stringify(t);return r[a]||(r[a]=new IntersectionObserver(_jt,{root:e,...t})),r[a]}function Tjt(e,t,n){const r=Pjt(t);return m4.set(e,n),r.observe(e),()=>{m4.delete(e),r.unobserve(e)}}const Ajt={some:0,all:1};class Ejt extends oh{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:Ajt[a]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),f=d?u:h;f&&f(c)};return Tjt(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Djt(t,n))&&this.startObserver()}unmount(){}}function Djt({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Ojt={inView:{Feature:Ejt},tap:{Feature:Cjt},focus:{Feature:Sjt},hover:{Feature:Njt}},Mjt={layout:{ProjectionNode:Hme,MeasureLayout:Ime}},K5=b.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),iP=b.createContext({}),G5=typeof window<"u",Kme=G5?b.useLayoutEffect:b.useEffect,Gme=b.createContext({strict:!1});function Rjt(e,t,n,r,a){var i,o;const{visualElement:l}=b.useContext(iP),c=b.useContext(Gme),d=b.useContext(aP),u=b.useContext(K5).reducedMotion,h=b.useRef();r=r||c.renderer,!h.current&&r&&(h.current=r(e,{visualState:t,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:u}));const f=h.current,g=b.useContext($me);f&&!f.projection&&a&&(f.type==="html"||f.type==="svg")&&$jt(h.current,n,a,g);const m=b.useRef(!1);b.useInsertionEffect(()=>{f&&m.current&&f.update(n,d)});const p=n[jme],x=b.useRef(!!p&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,p))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,p)));return Kme(()=>{f&&(m.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),q5.render(f.render),x.current&&f.animationState&&f.animationState.animateChanges())}),b.useEffect(()=>{f&&(!x.current&&f.animationState&&f.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)===null||v===void 0||v.call(window,p)}),x.current=!1))}),f}function $jt(e,t,n,r){const{layoutId:a,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Yme(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!o||l&&qm(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:c,layoutRoot:d})}function Yme(e){if(e)return e.options.allowProjection!==!1?e.projection:Yme(e.parent)}function Ijt(e,t,n){return b.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):qm(n)&&(n.current=r))},[t])}function oP(e){return nP(e.animate)||C5.some(t=>Eb(e[t]))}function Xme(e){return!!(oP(e)||e.variants)}function Fjt(e,t){if(oP(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Eb(n)?n:void 0,animate:Eb(r)?r:void 0}}return e.inherit!==!1?t:{}}function Ljt(e){const{initial:t,animate:n}=Fjt(e,b.useContext(iP));return b.useMemo(()=>({initial:t,animate:n}),[NW(t),NW(n)])}function NW(e){return Array.isArray(e)?e.join(" "):e}const SW={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},rv={};for(const e in SW)rv[e]={isEnabled:t=>SW[e].some(n=>!!t[n])};function zjt(e){for(const t in e)rv[t]={...rv[t],...e[t]}}const Bjt=Symbol.for("motionComponentSymbol");function Ujt({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:a}){e&&zjt(e);function i(l,c){let d;const u={...b.useContext(K5),...l,layoutId:Vjt(l)},{isStatic:h}=u,f=Ljt(l),g=r(l,h);if(!h&&G5){Wjt();const m=Hjt(u);d=m.MeasureLayout,f.visualElement=Rjt(a,g,u,t,m.ProjectionNode)}return s.jsxs(iP.Provider,{value:f,children:[d&&f.visualElement?s.jsx(d,{visualElement:f.visualElement,...u}):null,n(a,l,Ijt(g,f.visualElement,c),g,h,f.visualElement)]})}const o=b.forwardRef(i);return o[Bjt]=a,o}function Vjt({layoutId:e}){const t=b.useContext(H5).id;return t&&e!==void 0?t+"-"+e:e}function Wjt(e,t){b.useContext(Gme).strict}function Hjt(e){const{drag:t,layout:n}=rv;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const qjt=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Y5(e){return typeof e!="string"||e.includes("-")?!1:!!(qjt.indexOf(e)>-1||/[A-Z]/u.test(e))}function Qme(e,{style:t,vars:n},r,a){Object.assign(e.style,t,a&&a.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const Zme=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Jme(e,t,n,r){Qme(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(Zme.has(a)?a:W5(a),t.attrs[a])}function epe(e,{layout:t,layoutId:n}){return om.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!u2[e]||e==="opacity")}function X5(e,t,n){var r;const{style:a}=e,i={};for(const o in a)(Zs(a[o])||t.style&&Zs(t.style[o])||epe(o,e)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[o]=a[o]);return i}function tpe(e,t,n){const r=X5(e,t,n);for(const a in e)if(Zs(e[a])||Zs(t[a])){const i=mw.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[i]=e[a]}return r}function Q5(e){const t=b.useRef(null);return t.current===null&&(t.current=e()),t.current}function Kjt({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,a,i){const o={latestValues:Gjt(r,a,i,e),renderState:t()};return n&&(o.mount=l=>n(r,l,o)),o}const npe=e=>(t,n)=>{const r=b.useContext(iP),a=b.useContext(aP),i=()=>Kjt(e,t,r,a);return n?i():Q5(i)};function Gjt(e,t,n,r){const a={},i=r(e,{});for(const f in i)a[f]=k1(i[f]);let{initial:o,animate:l}=e;const c=oP(e),d=Xme(e);t&&d&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const h=u?l:o;if(h&&typeof h!="boolean"&&!nP(h)){const f=Array.isArray(h)?h:[h];for(let g=0;g<f.length;g++){const m=N5(e,f[g]);if(m){const{transitionEnd:p,transition:x,...v}=m;for(const y in v){let j=v[y];if(Array.isArray(j)){const N=u?j.length-1:0;j=j[N]}j!==null&&(a[y]=j)}for(const y in p)a[y]=p[y]}}}return a}const Z5=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),rpe=()=>({...Z5(),attrs:{}}),spe=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Yjt={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Xjt=mw.length;function Qjt(e,t,n){let r="",a=!0;for(let i=0;i<Xjt;i++){const o=mw[i],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const d=spe(l,O5[o]);if(!c){a=!1;const u=Yjt[o]||o;r+=`${u}(${d}) `}n&&(t[o]=d)}}return r=r.trim(),n?r=n(t,a?"":r):a&&(r="none"),r}function J5(e,t,n){const{style:r,vars:a,transformOrigin:i}=e;let o=!1,l=!1;for(const c in t){const d=t[c];if(om.has(c)){o=!0;continue}else if(Xfe(c)){a[c]=d;continue}else{const u=spe(d,O5[c]);c.startsWith("origin")?(l=!0,i[c]=u):r[c]=u}}if(t.transform||(o||n?r.transform=Qjt(t,e.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=i;r.transformOrigin=`${c} ${d} ${u}`}}function CW(e,t,n){return typeof e=="string"?e:xt.transform(t+n*e)}function Zjt(e,t,n){const r=CW(t,e.x,e.width),a=CW(n,e.y,e.height);return`${r} ${a}`}const Jjt={offset:"stroke-dashoffset",array:"stroke-dasharray"},ewt={offset:"strokeDashoffset",array:"strokeDasharray"};function twt(e,t,n=1,r=0,a=!0){e.pathLength=1;const i=a?Jjt:ewt;e[i.offset]=xt.transform(-r);const o=xt.transform(t),l=xt.transform(n);e[i.array]=`${o} ${l}`}function e6(e,{attrX:t,attrY:n,attrScale:r,originX:a,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...d},u,h){if(J5(e,d,h),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:g,dimensions:m}=e;f.transform&&(m&&(g.transform=f.transform),delete f.transform),m&&(a!==void 0||i!==void 0||g.transform)&&(g.transformOrigin=Zjt(m,a!==void 0?a:.5,i!==void 0?i:.5)),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),o!==void 0&&twt(f,o,l,c,!1)}const t6=e=>typeof e=="string"&&e.toLowerCase()==="svg",nwt={useVisualState:npe({scrapeMotionValuesFromProps:tpe,createRenderState:rpe,onMount:(e,t,{renderState:n,latestValues:r})=>{jn.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),jn.render(()=>{e6(n,r,t6(t.tagName),e.transformTemplate),Jme(t,n)})}})},rwt={useVisualState:npe({scrapeMotionValuesFromProps:X5,createRenderState:Z5})};function ape(e,t,n){for(const r in t)!Zs(t[r])&&!epe(r,n)&&(e[r]=t[r])}function swt({transformTemplate:e},t){return b.useMemo(()=>{const n=Z5();return J5(n,t,e),Object.assign({},n.vars,n.style)},[t])}function awt(e,t){const n=e.style||{},r={};return ape(r,n,e),Object.assign(r,swt(e,t)),r}function iwt(e,t){const n={},r=awt(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const owt=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function h2(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||owt.has(e)}let ipe=e=>!h2(e);function lwt(e){e&&(ipe=t=>t.startsWith("on")?!h2(t):e(t))}try{lwt(require("@emotion/is-prop-valid").default)}catch{}function cwt(e,t,n){const r={};for(const a in e)a==="values"&&typeof e.values=="object"||(ipe(a)||n===!0&&h2(a)||!t&&!h2(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}function dwt(e,t,n,r){const a=b.useMemo(()=>{const i=rpe();return e6(i,t,t6(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};ape(i,e.style,e),a.style={...i,...a.style}}return a}function uwt(e=!1){return(n,r,a,{latestValues:i},o)=>{const c=(Y5(n)?dwt:iwt)(r,i,o,n),d=cwt(r,typeof n=="string",e),u=n!==b.Fragment?{...d,...c,ref:a}:{},{children:h}=r,f=b.useMemo(()=>Zs(h)?h.get():h,[h]);return b.createElement(n,{...u,children:f})}}function hwt(e,t){return function(r,{forwardMotionProps:a}={forwardMotionProps:!1}){const o={...Y5(r)?nwt:rwt,preloadedFeatures:e,useRender:uwt(a),createVisualElement:t,Component:r};return Ujt(o)}}const p4={current:null},ope={current:!1};function fwt(){if(ope.current=!0,!!G5)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>p4.current=e.matches;e.addListener(t),t()}else p4.current=!1}function mwt(e,t,n){for(const r in t){const a=t[r],i=n[r];if(Zs(a))e.addValue(r,a);else if(Zs(i))e.addValue(r,Mb(a,{owner:e}));else if(i!==a)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=e.getStaticValue(r);e.addValue(r,Mb(o!==void 0?o:a,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const kW=new WeakMap,pwt=[...Jfe,Ks,Wu],gwt=e=>pwt.find(Zfe(e)),_W=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class vwt{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=A5,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=nc.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,jn.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=oP(n),this.isVariantNode=Xme(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const g=h[f];c[f]!==void 0&&Zs(g)&&g.set(c[f],!1)}}mount(t){this.current=t,kW.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),ope.current||fwt(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:p4.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){kW.delete(this.current),this.projection&&this.projection.unmount(),Vu(this.notifyUpdate),Vu(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=om.has(t),a=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&jn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in rv){const n=rv[t];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[t]&&a&&r(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):_r()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<_W.length;r++){const a=_W[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,o=t[i];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=mwt(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Mb(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&(Gfe(a)||Kfe(a))?a=parseFloat(a):!gwt(a)&&Wu.test(n)&&(a=ome(t,n)),this.setBaseTarget(t,Zs(a)?a.get():a)),Zs(a)?a.get():a}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let a;if(typeof r=="string"||typeof r=="object"){const o=N5(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(a=o[t])}if(r&&a!==void 0)return a;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Zs(i)?i:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new V5),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class lpe extends vwt{constructor(){super(...arguments),this.KeyframeResolver=lme}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Zs(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function xwt(e){return window.getComputedStyle(e)}class ywt extends lpe{constructor(){super(...arguments),this.type="html",this.renderInstance=Qme}readValueFromInstance(t,n){if(om.has(n)){const r=M5(n);return r&&r.default||0}else{const r=xwt(t),a=(Xfe(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Mme(t,n)}build(t,n,r){J5(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return X5(t,n,r)}}class bwt extends lpe{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=_r}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(om.has(n)){const r=M5(n);return r&&r.default||0}return n=Zme.has(n)?n:W5(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return tpe(t,n,r)}build(t,n,r){e6(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,a){Jme(t,n,r,a)}mount(t){this.isSVGTag=t6(t.tagName),super.mount(t)}}const jwt=(e,t)=>Y5(e)?new bwt(t):new ywt(t,{allowProjection:e!==b.Fragment}),wwt=hwt({...lbt,...Ojt,...wjt,...Mjt},jwt),n6=iyt(wwt);class Nwt extends b.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Swt({children:e,isPresent:t}){const n=b.useId(),r=b.useRef(null),a=b.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=b.useContext(K5);return b.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:d}=a.current;if(t||!r.current||!o||!l)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return i&&(u.nonce=i),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${d}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),s.jsx(Nwt,{isPresent:t,childRef:r,sizeRef:a,children:b.cloneElement(e,{ref:r})})}const Cwt=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:a,presenceAffectsLayout:i,mode:o})=>{const l=Q5(kwt),c=b.useId(),d=b.useCallback(h=>{l.set(h,!0);for(const f of l.values())if(!f)return;r&&r()},[l,r]),u=b.useMemo(()=>({id:c,initial:t,isPresent:n,custom:a,onExitComplete:d,register:h=>(l.set(h,!1),()=>l.delete(h))}),i?[Math.random(),d]:[n,d]);return b.useMemo(()=>{l.forEach((h,f)=>l.set(f,!1))},[n]),b.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(e=s.jsx(Swt,{isPresent:n,children:e})),s.jsx(aP.Provider,{value:u,children:e})};function kwt(){return new Map}const MN=e=>e.key||"";function PW(e){const t=[];return b.Children.forEach(e,n=>{b.isValidElement(n)&&t.push(n)}),t}const _wt=({children:e,exitBeforeEnter:t,custom:n,initial:r=!0,onExitComplete:a,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const l=b.useMemo(()=>PW(e),[e]),c=l.map(MN),d=b.useRef(!0),u=b.useRef(l),h=Q5(()=>new Map),[f,g]=b.useState(l),[m,p]=b.useState(l);Kme(()=>{d.current=!1,u.current=l;for(let y=0;y<m.length;y++){const j=MN(m[y]);c.includes(j)?h.delete(j):h.get(j)!==!0&&h.set(j,!1)}},[m,c.length,c.join("-")]);const x=[];if(l!==f){let y=[...l];for(let j=0;j<m.length;j++){const N=m[j],w=MN(N);c.includes(w)||(y.splice(j,0,N),x.push(N))}o==="wait"&&x.length&&(y=x),p(PW(y)),g(l);return}const{forceRender:v}=b.useContext(H5);return s.jsx(s.Fragment,{children:m.map(y=>{const j=MN(y),N=l===m||c.includes(j),w=()=>{if(h.has(j))h.set(j,!0);else return;let S=!0;h.forEach(k=>{k||(S=!1)}),S&&(v==null||v(),p(u.current),a&&a())};return s.jsx(Cwt,{isPresent:N,initial:!d.current||r?void 0:!1,custom:N?void 0:n,presenceAffectsLayout:i,mode:o,onExitComplete:N?void 0:w,children:y},j)})})};function Pwt(){const{user:e}=er(),[t,n]=b.useState(!1),[r,a]=b.useState([{id:"m1",role:"assistant",text:"Hey! I can help you draft proposals, plan your day, analyze your task pipeline, or provide growth insights. What would you like to focus on?"}]),[i,o]=b.useState(""),{data:l=[]}=he({queryKey:["/api/tasks"]}),{data:c=[]}=he({queryKey:["/api/projects"]});he({queryKey:["/api/users"]});const d=b.useMemo(()=>{const f=Hn(new Date),g=Jr(f,1),m=l.filter(w=>w.assignedToId===(e==null?void 0:e.id)),p=m.filter(w=>!w.completed&&w.dueDate&&pg(f,new Date(w.dueDate))),x=m.filter(w=>!w.completed&&w.dueDate&&Hn(new Date(w.dueDate)).getTime()===f.getTime()),v=m.filter(w=>!w.completed&&w.dueDate&&Hn(new Date(w.dueDate)).getTime()===g.getTime()),y=c.filter(w=>w.status==="active").length,j=m.filter(w=>w.completed).length,N=m.filter(w=>!w.completed).length;return{overdueTasks:p,dueTodayTasks:x,dueTomorrowTasks:v,activeProjects:y,completedTasks:j,pendingTasks:N,totalTasks:m.length}},[l,c,e==null?void 0:e.id]),u=b.useMemo(()=>{const f=[];if(d.overdueTasks.length>0&&f.push({id:"overdue",title:`${d.overdueTasks.length} task${d.overdueTasks.length>1?"s":""} overdue  need help prioritizing?`,cta:"Review & Plan",action:()=>alert("Opening task prioritization helper..."),priority:"high"}),d.dueTodayTasks.length>0&&f.push({id:"today",title:`${d.dueTodayTasks.length} task${d.dueTodayTasks.length>1?"s":""} due today  want me to create your focus plan?`,cta:"Create Plan",action:()=>alert("Generating today's focus plan..."),priority:"medium"}),d.activeProjects>3&&f.push({id:"projects",title:`You have ${d.activeProjects} active projects. Consider consolidating for better focus?`,cta:"Analyze Projects",action:()=>alert("Opening project analysis..."),priority:"low"}),d.completedTasks>0&&d.pendingTasks>0){const g=Math.round(d.completedTasks/d.totalTasks*100);f.push({id:"progress",title:`You're ${g}% done with your tasks this week. Want to see detailed insights?`,cta:"View Analytics",action:()=>alert("Opening detailed analytics..."),priority:"low"})}return f.slice(0,3)},[d]),h=f=>{if(!f.trim())return;const g={id:crypto.randomUUID(),role:"user",text:f};a(m=>[...m,g]),setTimeout(()=>{a(m=>[...m,{id:crypto.randomUUID(),role:"assistant",text:Dwt(f,d)}])},600)};return b.useEffect(()=>{const f=g=>{g.key==="Escape"&&t&&n(!1)};return window.addEventListener("keydown",f),()=>window.removeEventListener("keydown",f)},[t]),s.jsxs("div",{className:"min-h-screen bg-neutral-50",children:[s.jsx(pt,{}),s.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(ze,{href:"/",children:s.jsxs(D,{variant:"outline",className:"flex items-center",children:[s.jsx(ln,{size:16,className:"mr-2"}),"Back to Tasks"]})}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center",children:[s.jsx(fj,{className:"mr-3 text-[var(--garage-navy)]",size:32}),"Garage Assistant"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"AI-powered insights and guidance for your projects"})]})]}),s.jsx(ze,{href:"/create-proposal",children:s.jsxs(D,{className:"bg-[var(--garage-navy)] text-white hover:bg-[var(--ignition-teal)]","data-testid":"button-new-proposal",children:[s.jsx(st,{className:"h-4 w-4 mr-1"}),"New Proposal"]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[s.jsxs("main",{className:"lg:col-span-8",children:[s.jsxs("section",{className:"mb-8",children:[s.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[s.jsx(kR,{className:"mr-2 text-[var(--workshop-amber)]",size:20}),"Smart Insights"]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:[u.map(f=>s.jsx(Awt,{title:f.title,cta:f.cta,action:f.action,priority:f.priority},f.id)),u.length===0&&s.jsxs("div",{className:"col-span-full text-center py-8 text-gray-500",children:[s.jsx(ji,{className:"mx-auto mb-2 text-green-500",size:32}),"All caught up! Your tasks are well organized."]})]})]}),s.jsxs("section",{children:[s.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[s.jsx(Sn,{className:"mr-2 text-[var(--garage-navy)]",size:20}),"Your Performance"]}),s.jsx(B,{children:s.jsx(q,{className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(RN,{label:"Active Projects",value:d.activeProjects,color:"text-[var(--garage-navy)]"}),s.jsx(RN,{label:"Completed Tasks",value:d.completedTasks,color:"text-green-600"}),s.jsx(RN,{label:"Pending Tasks",value:d.pendingTasks,color:"text-blue-600"}),s.jsx(RN,{label:"Overdue",value:d.overdueTasks.length,color:"text-red-600"})]})})})]})]}),s.jsx("aside",{className:"lg:col-span-4",children:s.jsx(Twt,{insights:d})})]}),s.jsx(Ewt,{open:t,onOpen:()=>n(!0),onClose:()=>n(!1),messages:r,input:i,setInput:o,onSend:f=>{o(""),h(f)}})]})]})}function Twt({insights:e}){const t=[{id:1,label:"Draft Proposal",icon:nt,href:"/create-proposal"},{id:2,label:"View Analytics",icon:Sn,href:"/analytics"},{id:3,label:"Team Collaboration",icon:gn,href:"/team-collaboration"},{id:4,label:"Workflow Automation",icon:kR,href:"/workflow-automation"}],n=[{id:1,label:`${e.dueTodayTasks.length} tasks due today`,icon:en,urgent:e.dueTodayTasks.length>0},{id:2,label:`${e.overdueTasks.length} overdue items`,icon:ur,urgent:e.overdueTasks.length>0},{id:3,label:`${e.activeProjects} active projects`,icon:nt,urgent:!1}];return s.jsxs(n6.div,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{duration:.3},className:"sticky top-24 space-y-6",children:[s.jsx(B,{children:s.jsx(ae,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-[var(--garage-navy)] to-[var(--ignition-teal)] text-white shadow-sm",children:s.jsx(fj,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx(ie,{className:"text-base",children:"Garage Assistant"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Always-on guidance"})]})]})})}),s.jsxs(B,{children:[s.jsx(ae,{children:s.jsx(ie,{className:"text-sm font-semibold uppercase tracking-wide text-gray-500",children:"Daily Priorities"})}),s.jsx(q,{className:"space-y-2",children:n.map(({id:r,label:a,icon:i,urgent:o})=>s.jsxs("div",{className:`flex items-center gap-3 rounded-lg border p-3 text-sm ${o?"border-red-200 bg-red-50 text-red-800":"border-gray-200 bg-gray-50"}`,children:[s.jsx(i,{className:`h-4 w-4 ${o?"text-red-600":"text-[var(--garage-navy)]"}`}),s.jsx("span",{children:a})]},r))})]}),s.jsxs(B,{children:[s.jsx(ae,{children:s.jsx(ie,{className:"text-sm font-semibold uppercase tracking-wide text-gray-500",children:"Quick Actions"})}),s.jsx(q,{children:s.jsx("div",{className:"grid grid-cols-1 gap-2",children:t.map(({id:r,label:a,icon:i,href:o})=>s.jsx(ze,{href:o,children:s.jsxs(D,{variant:"ghost",className:"w-full justify-start gap-2 hover:bg-[var(--garage-navy)]/10","data-testid":`button-${a.toLowerCase().replace(/\s+/g,"-")}`,children:[s.jsx(i,{className:"h-4 w-4 text-[var(--garage-navy)]"}),a]})},r))})})]})]})}function Awt({title:e,cta:t,action:n,priority:r}){const a=()=>{switch(r){case"high":return"border-red-200 bg-red-50";case"medium":return"border-[var(--workshop-amber)]/30 bg-[var(--workshop-amber)]/5";default:return"border-gray-200 bg-white"}};return s.jsxs(n6.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},transition:{duration:.25},className:`rounded-lg border p-4 ${a()}`,children:[s.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[s.jsx("div",{className:"mt-0.5 flex h-6 w-6 items-center justify-center rounded-lg bg-gradient-to-br from-[var(--garage-navy)] to-[var(--ignition-teal)] text-white shadow-sm",children:s.jsx(kR,{className:"h-3.5 w-3.5"})}),s.jsx("p",{className:"text-sm text-gray-800 flex-1",children:e})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(D,{onClick:n,size:"sm",className:"bg-[var(--garage-navy)] text-white hover:bg-[var(--ignition-teal)]",children:[t," ",s.jsx(fv,{className:"h-3.5 w-3.5 ml-1"})]}),s.jsx(ji,{className:"h-5 w-5 text-emerald-500"})]})]})}function RN({label:e,value:t,color:n}){return s.jsxs("div",{className:"text-center rounded-lg border border-gray-200 bg-white p-4",children:[s.jsx("p",{className:"text-xs text-gray-500",children:e}),s.jsx("p",{className:`mt-1 text-xl font-semibold ${n}`,children:t})]})}function Ewt({open:e,onOpen:t,onClose:n,messages:r,input:a,setInput:i,onSend:o}){const l=b.useRef(null);b.useEffect(()=>{e&&l.current&&l.current.focus()},[e]);const c=d=>{d.preventDefault(),a.trim()&&o(a)};return e?s.jsx(_wt,{children:s.jsxs(n6.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},className:"fixed right-6 bottom-6 z-50 w-96 max-w-[calc(100vw-2rem)] rounded-2xl border border-gray-200 bg-white shadow-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between rounded-t-2xl bg-gradient-to-r from-[var(--garage-navy)] to-[var(--ignition-teal)] px-4 py-3 text-white",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(fj,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"AI Assistant"})]}),s.jsx("button",{onClick:n,className:"rounded-full p-1 hover:bg-white/20","aria-label":"Close chat",children:s.jsx(Kt,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"max-h-80 overflow-y-auto p-4 space-y-3",children:r.map(d=>s.jsx("div",{className:`flex ${d.role==="user"?"justify-end":"justify-start"}`,children:s.jsx("div",{className:`max-w-[80%] rounded-lg px-3 py-2 text-sm ${d.role==="user"?"bg-[var(--garage-navy)] text-white":"bg-gray-100 text-gray-900"}`,children:d.text})},d.id))}),s.jsx("form",{onSubmit:c,className:"border-t border-gray-200 p-4",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(te,{ref:l,value:a,onChange:d=>i(d.target.value),placeholder:"Ask me anything...",className:"flex-1"}),s.jsx(D,{type:"submit",size:"sm",className:"bg-[var(--garage-navy)] hover:bg-[var(--ignition-teal)]",children:s.jsx(Hr,{className:"h-4 w-4"})})]})})]})}):s.jsx("button",{onClick:t,className:"fixed right-6 bottom-6 z-50 flex h-14 w-14 items-center justify-center rounded-full bg-gradient-to-br from-[var(--garage-navy)] to-[var(--ignition-teal)] text-white shadow-lg hover:shadow-xl transition-all duration-200","aria-label":"Open AI Assistant",children:s.jsx(li,{className:"h-6 w-6"})})}function Dwt(e,t){const n=e.toLowerCase();return n.includes("proposal")||n.includes("draft")?`I can help you create a professional proposal! Based on your current workload of ${t.activeProjects} active projects, I'd recommend focusing on clear deliverables and realistic timelines. Would you like me to open the proposal creator?`:n.includes("task")||n.includes("priority")?`Looking at your tasks, you have ${t.overdueTasks.length} overdue items and ${t.dueTodayTasks.length} due today. I suggest tackling the overdue items first. Would you like me to help you create a priority plan?`:n.includes("insight")||n.includes("analytics")?`Your completion rate is ${t.totalTasks>0?Math.round(t.completedTasks/t.totalTasks*100):0}% with ${t.completedTasks} completed out of ${t.totalTasks} total tasks. You're doing great! Would you like detailed analytics or suggestions for improvement?`:`I understand you're asking about "${e}". I can help with proposal drafting, task prioritization, project insights, or growth analytics. What specific aspect would you like to explore?`}function Owt(){const[,e]=Fs();return s.jsxs("div",{className:"min-h-screen bg-neutral-50",children:[s.jsx(pt,{}),s.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-8",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(D,{variant:"outline",onClick:()=>e("/"),className:"flex items-center",children:[s.jsx(ln,{size:16,className:"mr-2"}),"Back to Tasks"]}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center",children:[s.jsx(Sn,{className:"mr-3",size:32}),"Analytics & Insights"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Comprehensive productivity analytics and performance metrics"})]})]})}),s.jsx(rce,{})]})]})}const TW={productivity:ra,financial:is,project:sc,workflow:rc,opportunity:rp},AW={high:"destructive",medium:"default",low:"secondary"};function Mwt(){const{user:e}=er(),[t,n]=b.useState(!1),[r,a]=b.useState(null),{data:i=[],refetch:o,isLoading:l}=he({queryKey:["/api/ai-insights"],enabled:!!e}),{data:c=[]}=he({queryKey:["/api/ai-insights/recommendations"],enabled:!!e}),d=async()=>{n(!0);try{await ke("POST","/api/ai-insights/refresh"),await o()}catch(h){console.error("Failed to refresh insights:",h)}finally{n(!1)}},u=i.reduce((h,f)=>(h[f.type]||(h[f.type]=[]),h[f.type].push(f),h),{});return l?s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-teal-50 to-amber-50",children:[s.jsx(pt,{}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ya,{className:"h-12 w-12 animate-pulse text-teal-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Generating AI insights..."})]})})})]}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-teal-50 to-amber-50",children:[s.jsx(pt,{}),s.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"AI-Powered Insights"}),s.jsx("p",{className:"text-gray-600",children:"Intelligent analytics and recommendations powered by GPT-4"})]}),s.jsxs(D,{onClick:d,disabled:t,className:"bg-teal-600 hover:bg-teal-700","data-testid":"button-refresh-insights",children:[s.jsx(ya,{className:`h-4 w-4 mr-2 ${t?"animate-spin":""}`}),t?"Analyzing...":"Refresh Insights"]})]}),c.length>0&&s.jsxs(B,{className:"mb-8 border-teal-200 bg-gradient-to-r from-teal-50 to-teal-100",children:[s.jsxs(ae,{children:[s.jsxs(ie,{className:"flex items-center text-teal-800",children:[s.jsx(rp,{className:"h-5 w-5 mr-2"}),"Smart Recommendations"]}),s.jsx(Lt,{className:"text-teal-700",children:"AI-generated tasks based on your current workload"})]}),s.jsx(q,{children:s.jsx("div",{className:"grid gap-3",children:c.map((h,f)=>s.jsxs("div",{className:"flex items-center p-3 bg-white rounded-lg border border-teal-200",children:[s.jsx(Bt,{className:"h-5 w-5 text-teal-600 mr-3"}),s.jsx("span",{className:"text-gray-800",children:h})]},f))})})]}),s.jsxs(Kn,{defaultValue:"all",className:"space-y-6",children:[s.jsxs(Mn,{className:"grid w-full grid-cols-6",children:[s.jsx(Re,{value:"all",children:"All Insights"}),s.jsx(Re,{value:"productivity",children:"Productivity"}),s.jsx(Re,{value:"financial",children:"Financial"}),s.jsx(Re,{value:"project",children:"Projects"}),s.jsx(Re,{value:"workflow",children:"Workflow"}),s.jsx(Re,{value:"opportunity",children:"Opportunities"})]}),s.jsx(Fe,{value:"all",children:s.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:i.map(h=>{const f=TW[h.type];return s.jsxs(B,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>a(h),"data-testid":`card-insight-${h.id}`,children:[s.jsxs(ae,{className:"pb-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(f,{className:"h-6 w-6 text-teal-600"}),s.jsx(Z,{variant:AW[h.priority],children:h.priority})]}),s.jsx(ie,{className:"text-lg",children:h.title}),s.jsx(Lt,{children:h.description})]}),s.jsx(q,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-sm text-gray-700 mb-1",children:"Recommendation"}),s.jsx("p",{className:"text-sm text-gray-600",children:h.recommendation})]}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[s.jsxs("span",{children:["Confidence: ",(h.confidence*100).toFixed(0),"%"]}),s.jsx("span",{children:new Date(h.createdAt).toLocaleDateString()})]})]})})]},h.id)})})}),Object.entries(u).map(([h,f])=>s.jsx(Fe,{value:h,children:s.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:f.map(g=>{const m=TW[g.type];return s.jsxs(B,{className:"hover:shadow-lg transition-shadow",children:[s.jsxs(ae,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(m,{className:"h-6 w-6 text-teal-600"}),s.jsx(Z,{variant:AW[g.priority],children:g.priority})]}),s.jsx(ie,{children:g.title}),s.jsx(Lt,{children:g.description})]}),s.jsxs(q,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-sm text-gray-700 mb-2",children:"Recommendation"}),s.jsx("p",{className:"text-sm text-gray-600",children:g.recommendation})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-sm text-gray-700 mb-2",children:"Expected Impact"}),s.jsx("p",{className:"text-sm text-gray-600",children:g.impact})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-sm text-gray-700 mb-2",children:"Action Items"}),s.jsx("ul",{className:"space-y-1",children:g.actionItems.map((p,x)=>s.jsxs("li",{className:"flex items-start text-sm text-gray-600",children:[s.jsx(ur,{className:"h-3 w-3 mt-1 mr-2 text-amber-500"}),p]},x))})]}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 pt-2 border-t",children:[s.jsxs("span",{children:["Confidence: ",(g.confidence*100).toFixed(0),"%"]}),s.jsx("span",{children:new Date(g.createdAt).toLocaleDateString()})]})]})]},g.id)})})},h))]}),i.length===0&&s.jsx(B,{className:"text-center py-12",children:s.jsxs(q,{children:[s.jsx(ya,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Insights Yet"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Generate your first AI insights by clicking the refresh button above"}),s.jsxs(D,{onClick:d,disabled:t,className:"bg-teal-600 hover:bg-teal-700",children:[s.jsx(ya,{className:"h-4 w-4 mr-2"}),"Generate Insights"]})]})})]})]})}function Rwt({channelId:e,channelName:t,projectId:n,taskId:r,initialMinimized:a=!1,className:i}){const{user:o}=er(),[l,c]=b.useState(null),[d,u]=b.useState(!1),[h,f]=b.useState([]),[g,m]=b.useState([]),[p,x]=b.useState(new Set),[v,y]=b.useState(""),[j,N]=b.useState(a),[w,S]=b.useState(0),[k,_]=b.useState(!1),T=b.useRef(null),P=b.useRef();b.useRef(""),b.useEffect(()=>{if(!o)return;const F=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws/collaboration?userId=${o.id}&userName=${encodeURIComponent(o.name||"Unknown")}`,V=new WebSocket(F);return V.onopen=()=>{console.log(" Connected to collaboration service"),u(!0),c(V),V.send(JSON.stringify({type:"join_channel",data:{channelId:e}}))},V.onmessage=Y=>{const K=JSON.parse(Y.data);C(K)},V.onclose=()=>{console.log(" Disconnected from collaboration service"),u(!1),c(null)},V.onerror=Y=>{console.error("WebSocket error:",Y),u(!1)},()=>{V.readyState===WebSocket.OPEN&&(V.send(JSON.stringify({type:"leave_channel",data:{channelId:e}})),V.close())}},[o,e]);const C=M=>{switch(M.type){case"connection_established":m(M.data.onlineUsers);break;case"channel_messages":M.data.channelId===e&&f(M.data.messages.map(F=>({...F,timestamp:new Date(F.timestamp)})));break;case"new_message":case"task_comment":if(M.data.channelId===e||M.data.taskId===r){const F={...M.data,timestamp:new Date(M.data.timestamp)};f(V=>[...V,F]),j&&M.data.userId!==(o==null?void 0:o.id)&&S(V=>V+1)}break;case"typing_start":M.data.channelId===e&&M.data.userId!==(o==null?void 0:o.id)&&x(F=>new Set(Array.from(F).concat(M.data.userName)));break;case"typing_stop":M.data.channelId===e&&x(F=>{const V=new Set(F),Y=g.find(K=>K.userId===M.data.userId);return Y&&V.delete(Y.userName),V});break;case"user_joined":case"user_left":case"user_status_update":M.type==="user_joined"?m(F=>[...F.filter(V=>V.userId!==M.data.userId),{userId:M.data.userId,userName:M.data.userName,lastSeen:new Date}]):M.type==="user_left"&&m(F=>F.filter(V=>V.userId!==M.data.userId));break}},A=()=>{if(!l||!v.trim()||l.readyState!==WebSocket.OPEN)return;const M={type:r?"task_comment":"send_message",data:{content:v.trim(),channelId:e,projectId:n,taskId:r,type:"text"}};l.send(JSON.stringify(M)),y(""),I()},E=()=>{!l||l.readyState!==WebSocket.OPEN||k||(_(!0),l.send(JSON.stringify({type:"typing_start",data:{channelId:e}})),P.current&&clearTimeout(P.current),P.current=setTimeout(()=>{I()},3e3))},I=()=>{!l||!k||(_(!1),l.send(JSON.stringify({type:"typing_stop",data:{channelId:e}})),P.current&&clearTimeout(P.current))};b.useEffect(()=>{var M;(M=T.current)==null||M.scrollIntoView({behavior:"smooth"})},[h]),b.useEffect(()=>{j||S(0)},[j]);const $=M=>M.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),U=M=>M.split(" ").map(F=>F[0]).join("").toUpperCase().slice(0,2);return j?s.jsx(B,{className:Ne("fixed bottom-4 right-4 w-80 z-50 shadow-lg",i),children:s.jsx(ae,{className:"cursor-pointer p-3 bg-teal-600 text-white rounded-t-lg",onClick:()=>N(!1),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Vd,{className:"h-4 w-4"}),s.jsx("span",{className:"font-medium text-sm",children:t}),d&&s.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[w>0&&s.jsx(Z,{variant:"destructive",className:"text-xs",children:w}),s.jsx(D,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-white hover:bg-white/20",onClick:()=>N(!1),children:s.jsx(b0e,{className:"h-3 w-3"})})]})]})})}):s.jsxs(B,{className:Ne("fixed bottom-4 right-4 w-96 h-96 z-50 shadow-lg flex flex-col",i),children:[s.jsx(ae,{className:"p-3 bg-teal-600 text-white rounded-t-lg flex-shrink-0",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(au,{className:"h-4 w-4"}),s.jsx("span",{className:"font-medium text-sm",children:t}),d?s.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full",title:"Connected"}):s.jsx("div",{className:"w-2 h-2 bg-red-400 rounded-full",title:"Disconnected"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(Z,{variant:"secondary",className:"text-xs bg-white/20 text-white",children:[g.length," online"]}),s.jsx(D,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-white hover:bg-white/20",onClick:()=>N(!0),children:s.jsx(j0e,{className:"h-3 w-3"})})]})]})}),s.jsx(q,{className:"flex-1 p-0 overflow-hidden",children:s.jsx(Yi,{className:"h-full p-3",children:s.jsxs("div",{className:"space-y-3",children:[h.map(M=>s.jsxs("div",{className:Ne("flex space-x-2",M.userId===(o==null?void 0:o.id)?"justify-end":"justify-start"),children:[M.userId!==(o==null?void 0:o.id)&&s.jsx(Fu,{className:"h-6 w-6 mt-1",children:s.jsx(Lu,{className:"text-xs bg-teal-100 text-teal-800",children:U(M.userName)})}),s.jsxs("div",{className:Ne("max-w-[70%] rounded-lg p-2",M.userId===(o==null?void 0:o.id)?"bg-teal-600 text-white":"bg-gray-100 text-gray-900"),children:[M.userId!==(o==null?void 0:o.id)&&s.jsx("div",{className:"text-xs font-medium mb-1 opacity-75",children:M.userName}),s.jsx("div",{className:"text-sm",children:M.content}),s.jsx("div",{className:Ne("text-xs mt-1 opacity-75",M.userId===(o==null?void 0:o.id)?"text-white/75":"text-gray-500"),children:$(M.timestamp)})]})]},M.id)),p.size>0&&s.jsxs("div",{className:"flex items-center space-x-2 text-gray-500 text-sm",children:[s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),s.jsxs("span",{children:[Array.from(p).join(", ")," ",p.size===1?"is":"are"," typing..."]})]}),s.jsx("div",{ref:T})]})})}),s.jsx("div",{className:"p-3 border-t flex-shrink-0",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(te,{value:v,onChange:M=>{y(M.target.value),M.target.value.trim()&&!k?E():!M.target.value.trim()&&k&&I()},onKeyPress:M=>{M.key==="Enter"&&!M.shiftKey&&(M.preventDefault(),A())},placeholder:`Message ${t}...`,className:"flex-1 text-sm",disabled:!d,"data-testid":"input-chat-message"}),s.jsx(D,{onClick:A,disabled:!d||!v.trim(),size:"sm",className:"bg-teal-600 hover:bg-teal-700","data-testid":"button-send-message",children:s.jsx(Hr,{className:"h-4 w-4"})})]})})]})}function $wt(){const{user:e,isAdmin:t}=er(),[n,r]=b.useState(null),[a,i]=b.useState(!1),[o,l]=b.useState(""),[c,d]=b.useState("channels"),{data:u=[]}=he({queryKey:["/api/projects"]}),{data:h=[]}=he({queryKey:["/api/tasks"]}),{data:f=[]}=he({queryKey:["/api/users"]}),m=[{id:"general",name:"General",type:"general",description:"Company-wide discussions",participants:f.map(j=>j.id),unreadCount:0},...u.map(j=>({id:`project_${j.id}`,name:`# ${j.name}`,type:"project",description:`Project discussions for ${j.name}`,participants:f.filter(N=>h.some(w=>w.projectId===j.id&&w.assignedToId===N.id)).map(N=>N.id),unreadCount:0})),...h.filter(j=>j.assignedToId).map(j=>({id:`task_${j.id}`,name:`Task: ${j.title}`,type:"task",description:`Discussion for ${j.title}`,participants:[j.assignedToId,j.createdById||""].filter(Boolean),unreadCount:0}))].filter(j=>{var N;return j.name.toLowerCase().includes(o.toLowerCase())||((N=j.description)==null?void 0:N.toLowerCase().includes(o.toLowerCase()))}),p=f.filter(j=>j.id!==(e==null?void 0:e.id)),x=j=>j.split(" ").map(N=>N[0]).join("").toUpperCase().slice(0,2),v=j=>{switch(j){case"general":return au;case"project":return au;case"task":return Vd;case"direct":return Vd;default:return au}},y=j=>{switch(j){case"general":return"bg-blue-500";case"project":return"bg-green-500";case"task":return"bg-amber-500";case"direct":return"bg-purple-500";default:return"bg-gray-500"}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-teal-50 to-amber-50",children:[s.jsx(pt,{}),s.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Team Collaboration"}),s.jsx("p",{className:"text-gray-600",children:"Real-time chat, task discussions, and team coordination"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs(Z,{variant:"secondary",className:"bg-green-100 text-green-800",children:[f.length," team members"]}),s.jsxs(D,{className:"bg-teal-600 hover:bg-teal-700",children:[s.jsx(oZ,{className:"h-4 w-4 mr-2"}),"Invite Team"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsxs(B,{children:[s.jsxs(ae,{className:"pb-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ie,{className:"text-lg",children:"Channels & Teams"}),s.jsx(D,{variant:"ghost",size:"sm",children:s.jsx(st,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Ya,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(te,{placeholder:"Search channels...",value:o,onChange:j=>l(j.target.value),className:"pl-10 text-sm","data-testid":"input-search-channels"})]})]}),s.jsx(q,{className:"p-0",children:s.jsxs(Kn,{value:c,onValueChange:d,children:[s.jsxs(Mn,{className:"grid w-full grid-cols-2 mx-3 mb-3",children:[s.jsx(Re,{value:"channels",children:"Channels"}),s.jsx(Re,{value:"people",children:"People"})]}),s.jsx(Fe,{value:"channels",className:"space-y-1 px-3 pb-3",children:m.map(j=>(v(j.type),s.jsxs("div",{className:Ne("flex items-center justify-between p-2 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",(n==null?void 0:n.id)===j.id?"bg-teal-50 border border-teal-200":""),onClick:()=>{r(j),i(!0)},"data-testid":`channel-${j.id}`,children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:Ne("w-2 h-2 rounded-full",y(j.type))}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-sm",children:j.name}),j.description&&s.jsx("div",{className:"text-xs text-gray-500 truncate",children:j.description})]})]}),j.unreadCount>0&&s.jsx(Z,{variant:"destructive",className:"h-5 w-5 p-0 text-xs",children:j.unreadCount})]},j.id)))}),s.jsx(Fe,{value:"people",className:"space-y-2 px-3 pb-3",children:p.map(j=>s.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg cursor-pointer hover:bg-gray-50",onClick:()=>{const N={id:`direct_${j.id}`,name:j.name,type:"direct",description:`Direct message with ${j.name}`,participants:[(e==null?void 0:e.id)||"",j.id]};r(N),i(!0)},"data-testid":`user-${j.id}`,children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Fu,{className:"h-8 w-8",children:s.jsx(Lu,{className:"text-xs bg-teal-100 text-teal-800",children:x(j.name)})}),s.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-green-400 border-2 border-white rounded-full"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-sm",children:j.name}),s.jsxs("div",{className:"text-xs text-gray-500",children:["@",j.username]})]})]}),j.role==="admin"&&s.jsx(Z,{variant:"secondary",className:"text-xs",children:"Admin"})]},j.id))})]})})]})}),s.jsx("div",{className:"lg:col-span-3",children:n?s.jsxs(B,{className:"h-[600px]",children:[s.jsx(ae,{className:"border-b",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:Ne("w-3 h-3 rounded-full",y(n.type))}),s.jsxs("div",{children:[s.jsx(ie,{className:"text-lg",children:n.name}),n.description&&s.jsx(Lt,{children:n.description})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(Z,{variant:"secondary",children:[n.participants.length," members"]}),s.jsx(D,{variant:"ghost",size:"sm",children:s.jsx(D0e,{className:"h-4 w-4"})}),s.jsx(D,{variant:"ghost",size:"sm",children:s.jsx(k0e,{className:"h-4 w-4"})}),s.jsx(D,{variant:"ghost",size:"sm",children:s.jsx(dr,{className:"h-4 w-4"})})]})]})}),s.jsx(q,{className:"h-full p-0",children:s.jsx("div",{className:"h-full flex items-center justify-center text-gray-500",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Vd,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Start a conversation"}),s.jsx("p",{className:"text-sm",children:"Click the chat button below to open the messaging widget"}),s.jsxs(D,{className:"mt-4 bg-teal-600 hover:bg-teal-700",onClick:()=>i(!0),"data-testid":"button-open-chat",children:[s.jsx(Vd,{className:"h-4 w-4 mr-2"}),"Open Chat"]})]})})})]}):s.jsx(B,{className:"h-[600px]",children:s.jsx(q,{className:"h-full flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(gn,{className:"h-24 w-24 mx-auto mb-6 text-gray-300"}),s.jsx("h3",{className:"text-2xl font-semibold text-gray-700 mb-3",children:"Welcome to Team Collaboration"}),s.jsx("p",{className:"text-gray-500 max-w-md mx-auto mb-6",children:"Select a channel or team member from the sidebar to start collaborating in real-time. Share ideas, discuss projects, and coordinate tasks seamlessly."}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 max-w-md mx-auto",children:[s.jsxs(B,{className:"p-4 border-2 border-dashed border-gray-200 hover:border-teal-300 transition-colors cursor-pointer",children:[s.jsx(au,{className:"h-8 w-8 mx-auto mb-2 text-teal-600"}),s.jsx("h4",{className:"font-semibold text-sm mb-1",children:"Join Channels"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Participate in topic-based discussions"})]}),s.jsxs(B,{className:"p-4 border-2 border-dashed border-gray-200 hover:border-teal-300 transition-colors cursor-pointer",children:[s.jsx(Vd,{className:"h-8 w-8 mx-auto mb-2 text-teal-600"}),s.jsx("h4",{className:"font-semibold text-sm mb-1",children:"Direct Messages"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Have private conversations"})]})]})]})})})})]}),s.jsxs(B,{className:"mt-6",children:[s.jsx(ae,{children:s.jsxs(ie,{className:"flex items-center",children:[s.jsx(Yf,{className:"h-5 w-5 mr-2"}),"Recent Team Activity"]})}),s.jsx(q,{children:s.jsx("div",{className:"space-y-4",children:[{user:"Sarah Johnson",action:"commented on",target:"Website Redesign Project",time:"5 minutes ago",type:"comment"},{user:"Mike Chen",action:"completed task",target:"Database Migration",time:"12 minutes ago",type:"task"},{user:"Alex Rivera",action:"joined channel",target:"#marketing",time:"18 minutes ago",type:"join"},{user:"Lisa Wong",action:"shared file",target:"Project Requirements.pdf",time:"25 minutes ago",type:"file"}].map((j,N)=>s.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-50",children:[s.jsx(Fu,{className:"h-8 w-8",children:s.jsx(Lu,{className:"text-xs bg-gray-100",children:x(j.user)})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("p",{className:"text-sm",children:[s.jsx("span",{className:"font-medium",children:j.user}),s.jsxs("span",{className:"text-gray-600",children:[" ",j.action," "]}),s.jsx("span",{className:"font-medium text-teal-600",children:j.target})]}),s.jsx("p",{className:"text-xs text-gray-500",children:j.time})]}),s.jsx(Z,{variant:j.type==="comment"?"default":"secondary",className:"text-xs",children:j.type})]},N))})})]})]}),a&&n&&s.jsx(Rwt,{channelId:n.id,channelName:n.name,projectId:n.type==="project"?n.id.replace("project_",""):void 0,taskId:n.type==="task"?n.id.replace("task_",""):void 0},n.id)]})}function Iwt(){er();const{toast:e}=mt(),[t,n]=b.useState(""),[r,a]=b.useState({start:cp(new Date,30),end:new Date}),[i,o]=b.useState([]),[l,c]=b.useState([]),[d,u]=b.useState(null),[h,f]=b.useState(!1);b.useState("templates");const{data:g=[]}=he({queryKey:["/api/projects"]}),{data:m=[]}=he({queryKey:["/api/users"]});he({queryKey:["/api/reports"]});const p=[{id:"productivity",name:"Team Productivity",description:"Task completion rates and team performance metrics",type:"productivity",icon:ra,color:"bg-green-500"},{id:"financial",name:"Financial Performance",description:"Revenue tracking and payment analytics",type:"financial",icon:is,color:"bg-blue-500"},{id:"time",name:"Time Tracking",description:"Time allocation and utilization analysis",type:"time",icon:bt,color:"bg-purple-500"},{id:"project",name:"Project Analytics",description:"Project progress and milestone tracking",type:"project",icon:sc,color:"bg-amber-500"},{id:"team",name:"Team Performance",description:"Individual and team performance metrics",type:"team",icon:gn,color:"bg-teal-500"}],x=Se({mutationFn:async k=>(await ke("POST","/api/reports/generate",k)).json(),onSuccess:k=>{u(k),f(!1),e({title:"Report Generated",description:`Report generated successfully in ${k.executionTime}ms`})},onError:k=>{f(!1),e({title:"Generation Failed",description:"Failed to generate report. Please try again.",variant:"destructive"})}}),v=()=>{if(!t){e({title:"Template Required",description:"Please select a report template first.",variant:"destructive"});return}f(!0),x.mutate({template:t,timeRange:{start:r.start.toISOString(),end:r.end.toISOString()},filters:{projectIds:i,userIds:l}})},y=k=>{if(!d)return;const _={reportData:d,format:k,filename:`${t}_report_${k(new Date,"yyyy-MM-dd")}`},T=document.createElement("a");T.href=`data:application/json;charset=utf-8,${encodeURIComponent(JSON.stringify(_))}`,T.download=`${_.filename}.json`,T.click(),e({title:"Export Started",description:`Report exported as ${k.toUpperCase()}`})},j=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8","#82ca9d"],N=k=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(k),w=k=>new Intl.NumberFormat("en-US").format(k),S=k=>`${k.toFixed(1)}%`;return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-teal-50 to-amber-50",children:[s.jsx(pt,{}),s.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Advanced Reporting"}),s.jsx("p",{className:"text-gray-600",children:"Custom analytics and business intelligence dashboards"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[d&&s.jsxs(s.Fragment,{children:[s.jsxs(D,{variant:"outline",onClick:()=>y("pdf"),"data-testid":"button-export-pdf",children:[s.jsx(kn,{className:"h-4 w-4 mr-2"}),"Export PDF"]}),s.jsxs(D,{variant:"outline",onClick:()=>y("excel"),"data-testid":"button-export-excel",children:[s.jsx(kn,{className:"h-4 w-4 mr-2"}),"Export Excel"]})]}),s.jsxs(D,{className:"bg-teal-600 hover:bg-teal-700",children:[s.jsx(st,{className:"h-4 w-4 mr-2"}),"Create Custom Report"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsxs(B,{children:[s.jsx(ae,{children:s.jsx(ie,{className:"text-lg",children:"Report Configuration"})}),s.jsxs(q,{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(W,{className:"text-sm font-medium mb-3 block",children:"Report Template"}),s.jsx("div",{className:"space-y-2",children:p.map(k=>{const _=k.icon;return s.jsx("div",{className:`p-3 rounded-lg cursor-pointer border transition-all ${t===k.id?"border-teal-500 bg-teal-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>n(k.id),"data-testid":`template-${k.id}`,children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:`w-8 h-8 rounded-lg ${k.color} flex items-center justify-center`,children:s.jsx(_,{className:"h-4 w-4 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-sm",children:k.name}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:k.description})]})]})},k.id)})})]}),s.jsxs("div",{children:[s.jsx(W,{className:"text-sm font-medium mb-3 block",children:"Time Period"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(D,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>a({start:cp(new Date,7),end:new Date}),children:[s.jsx(en,{className:"h-4 w-4 mr-2"}),"Last 7 Days"]}),s.jsxs(D,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>a({start:cp(new Date,30),end:new Date}),children:[s.jsx(en,{className:"h-4 w-4 mr-2"}),"Last 30 Days"]}),s.jsxs(D,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>a({start:ka(new Date),end:Rj(new Date)}),children:[s.jsx(en,{className:"h-4 w-4 mr-2"}),"This Month"]})]})]}),s.jsxs("div",{children:[s.jsx(W,{className:"text-sm font-medium mb-3 block",children:"Filters"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx(W,{className:"text-xs text-gray-600 mb-2 block",children:"Projects"}),s.jsxs(Ke,{children:[s.jsx(He,{className:"w-full",children:s.jsx(Ge,{placeholder:"All Projects"})}),s.jsxs(qe,{children:[s.jsx(Q,{value:"all",children:"All Projects"}),g.map(k=>s.jsx(Q,{value:k.id,children:k.name},k.id))]})]})]}),s.jsxs("div",{children:[s.jsx(W,{className:"text-xs text-gray-600 mb-2 block",children:"Team Members"}),s.jsxs(Ke,{children:[s.jsx(He,{className:"w-full",children:s.jsx(Ge,{placeholder:"All Members"})}),s.jsxs(qe,{children:[s.jsx(Q,{value:"all",children:"All Members"}),m.map(k=>s.jsx(Q,{value:k.id,children:k.name},k.id))]})]})]})]})]}),s.jsx(D,{onClick:v,disabled:!t||h,className:"w-full bg-teal-600 hover:bg-teal-700","data-testid":"button-generate-report",children:h?s.jsxs(s.Fragment,{children:[s.jsx(us,{className:"h-4 w-4 mr-2 animate-spin"}),"Generating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Tu,{className:"h-4 w-4 mr-2"}),"Generate Report"]})})]})]})}),s.jsx("div",{className:"lg:col-span-3",children:d?s.jsxs("div",{className:"space-y-6",children:[s.jsx(B,{children:s.jsx(ae,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(ie,{className:"text-xl capitalize",children:[t," Report"]}),s.jsxs(Lt,{children:["Generated on ",Me(new Date(d.generatedAt),"PPP"),"  Execution time: ",d.executionTime,"ms"]})]}),s.jsx(Z,{variant:"secondary",className:"bg-green-100 text-green-800",children:"Live Data"})]})})}),d.data.metrics&&s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries(d.data.metrics).map(([k,_])=>s.jsx(B,{className:"p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-teal-600",children:_.unit==="USD"?N(_.value):_.type==="percentage"?S(_.value):w(_.value)}),s.jsx("div",{className:"text-sm text-gray-600 mt-1",children:_.name})]})},k))}),d.data.timeSeries&&Object.keys(d.data.timeSeries).length>0&&s.jsxs(B,{children:[s.jsx(ae,{children:s.jsx(ie,{children:"Trends Over Time"})}),s.jsx(q,{children:s.jsx("div",{className:"h-80",children:s.jsx(df,{width:"100%",height:"100%",children:s.jsxs(WI,{data:Object.values(d.data.timeSeries)[0],children:[s.jsx(zl,{strokeDasharray:"3 3"}),s.jsx(Ba,{dataKey:"date"}),s.jsx(Na,{}),s.jsx(Gs,{}),s.jsx(Gl,{}),s.jsx(Ji,{type:"monotone",dataKey:"value",stroke:"#0D9488",fill:"#0D9488",fillOpacity:.6})]})})})})]}),d.data.aggregated&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.data.aggregated.tasksByStatus&&s.jsxs(B,{children:[s.jsx(ae,{children:s.jsx(ie,{children:"Tasks by Status"})}),s.jsx(q,{children:s.jsx("div",{className:"h-64",children:s.jsx(df,{width:"100%",height:"100%",children:s.jsxs(eXe,{children:[s.jsx(bd,{data:Object.entries(d.data.aggregated.tasksByStatus).map(([k,_])=>({name:k,value:_})),cx:"50%",cy:"50%",labelLine:!1,label:({name:k,percent:_})=>`${k} ${(_*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:Object.entries(d.data.aggregated.tasksByStatus).map((k,_)=>s.jsx(r_,{fill:j[_%j.length]},`cell-${_}`))}),s.jsx(Gs,{})]})})})})]}),d.data.aggregated.timeByProject&&s.jsxs(B,{children:[s.jsx(ae,{children:s.jsx(ie,{children:"Time by Project"})}),s.jsx(q,{children:s.jsx("div",{className:"h-64",children:s.jsx(df,{width:"100%",height:"100%",children:s.jsxs(KO,{data:Object.entries(d.data.aggregated.timeByProject).map(([k,_])=>({project:k.length>15?k.substring(0,15)+"...":k,hours:parseFloat(_)})),children:[s.jsx(zl,{strokeDasharray:"3 3"}),s.jsx(Ba,{dataKey:"project"}),s.jsx(Na,{}),s.jsx(Gs,{}),s.jsx(Zl,{dataKey:"hours",fill:"#0D9488"})]})})})})]})]})]}):s.jsx(B,{className:"h-96",children:s.jsx(q,{className:"h-full flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Sn,{className:"h-24 w-24 mx-auto mb-6 text-gray-300"}),s.jsx("h3",{className:"text-2xl font-semibold text-gray-700 mb-3",children:"Advanced Analytics"}),s.jsx("p",{className:"text-gray-500 max-w-md mx-auto mb-6",children:"Select a report template and configure your parameters to generate comprehensive business intelligence dashboards with interactive charts and insights."}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 max-w-md mx-auto",children:[s.jsxs(B,{className:"p-4 border-2 border-dashed border-gray-200",children:[s.jsx(ra,{className:"h-8 w-8 mx-auto mb-2 text-teal-600"}),s.jsx("h4",{className:"font-semibold text-sm",children:"Performance Tracking"})]}),s.jsxs(B,{className:"p-4 border-2 border-dashed border-gray-200",children:[s.jsx(i0e,{className:"h-8 w-8 mx-auto mb-2 text-teal-600"}),s.jsx("h4",{className:"font-semibold text-sm",children:"Visual Analytics"})]})]})]})})})})]})]})]})}const Fwt=[{id:"task.created",label:"Task Created",category:"Tasks"},{id:"task.updated",label:"Task Updated",category:"Tasks"},{id:"task.completed",label:"Task Completed",category:"Tasks"},{id:"task.deleted",label:"Task Deleted",category:"Tasks"},{id:"project.created",label:"Project Created",category:"Projects"},{id:"project.updated",label:"Project Updated",category:"Projects"},{id:"project.completed",label:"Project Completed",category:"Projects"},{id:"invoice.created",label:"Invoice Created",category:"Finance"},{id:"invoice.paid",label:"Invoice Paid",category:"Finance"},{id:"invoice.overdue",label:"Invoice Overdue",category:"Finance"},{id:"proposal.sent",label:"Proposal Sent",category:"Business"},{id:"proposal.accepted",label:"Proposal Accepted",category:"Business"},{id:"proposal.rejected",label:"Proposal Rejected",category:"Business"},{id:"user.invited",label:"User Invited",category:"Team"},{id:"user.joined",label:"User Joined",category:"Team"},{id:"time.logged",label:"Time Logged",category:"Productivity"},{id:"milestone.reached",label:"Milestone Reached",category:"Projects"},{id:"deadline.approaching",label:"Deadline Approaching",category:"Alerts"},{id:"report.generated",label:"Report Generated",category:"Analytics"}],EW=[{id:"slack",name:"Slack",icon:_0e,color:"bg-purple-500",description:"Send notifications to Slack channels"},{id:"teams",name:"Microsoft Teams",icon:li,color:"bg-blue-500",description:"Send notifications to Teams channels"},{id:"discord",name:"Discord",icon:tZ,color:"bg-indigo-500",description:"Send notifications to Discord channels"},{id:"zapier",name:"Zapier",icon:cn,color:"bg-orange-500",description:"Trigger Zapier workflows"},{id:"custom",name:"Custom Webhook",icon:_R,color:"bg-gray-500",description:"Custom HTTP webhook endpoint"}];function Lwt(){er();const{toast:e}=mt(),[t,n]=b.useState("webhooks"),[r,a]=b.useState(!1),[i,o]=b.useState(!1);b.useState(null);const[l,c]=b.useState(null),[d,u]=b.useState({name:"",url:"",secret:"",events:[],active:!0,maxRetries:3,initialDelay:1e3,backoffMultiplier:2}),[h,f]=b.useState({type:"",name:"",webhookUrl:"",channelId:"",events:[]}),{data:g=[]}=he({queryKey:["/api/webhooks"]}),{data:m=[]}=he({queryKey:["/api/integrations"]}),{data:p=[]}=he({queryKey:["/api/webhooks/deliveries"]});he({queryKey:["/api/projects"]}),he({queryKey:["/api/users"]});const x=Se({mutationFn:async C=>(await ke("POST","/api/webhooks",C)).json(),onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/webhooks"]}),a(!1),u({name:"",url:"",secret:"",events:[],active:!0,maxRetries:3,initialDelay:1e3,backoffMultiplier:2}),e({title:"Webhook Created",description:"Webhook has been created successfully"})}}),v=Se({mutationFn:async C=>(await ke("POST","/api/integrations",C)).json(),onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/integrations"]}),o(!1),f({type:"",name:"",webhookUrl:"",channelId:"",events:[]}),e({title:"Integration Created",description:"Integration has been created successfully"})}}),y=Se({mutationFn:async C=>(await ke("POST",`/api/webhooks/${C}/test`)).json(),onSuccess:()=>{e({title:"Test Sent",description:"Test webhook has been sent successfully"})}}),j=Se({mutationFn:async({id:C,active:A})=>(await ke("PATCH",`/api/webhooks/${C}`,{active:A})).json(),onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/webhooks"]})}}),N=()=>{if(!d.name||!d.url||d.events.length===0){e({title:"Missing Information",description:"Please fill in all required fields",variant:"destructive"});return}x.mutate({name:d.name,url:d.url,secret:d.secret||void 0,events:d.events,active:d.active,retryPolicy:{maxRetries:d.maxRetries,initialDelay:d.initialDelay,backoffMultiplier:d.backoffMultiplier}})},w=()=>{if(!h.type||!h.name||!h.webhookUrl){e({title:"Missing Information",description:"Please fill in all required fields",variant:"destructive"});return}v.mutate({type:h.type,name:h.name,config:{webhookUrl:h.webhookUrl,channelId:h.channelId||void 0},eventMappings:h.events.map(C=>({event:C,template:"{{event}} triggered: {{title || name}}",enabled:!0})),active:!0})},S=C=>{c(C),y.mutate(C),setTimeout(()=>c(null),2e3)},k=C=>{navigator.clipboard.writeText(C),e({title:"Copied",description:"Webhook URL copied to clipboard"})},_=C=>{switch(C){case"delivered":return"bg-green-500";case"failed":return"bg-red-500";case"pending":return"bg-yellow-500";default:return"bg-gray-500"}},T=C=>{switch(C){case"delivered":return Bt;case"failed":return hs;case"pending":return bt;default:return us}},P=Fwt.reduce((C,A)=>(C[A.category]||(C[A.category]=[]),C[A.category].push(A),C),{});return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-teal-50 to-amber-50",children:[s.jsx(pt,{}),s.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"API Webhooks & Integrations"}),s.jsx("p",{className:"text-gray-600",children:"Connect with external services and automate workflows"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs(Z,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:[g.length," webhooks"]}),s.jsxs(Z,{variant:"secondary",className:"bg-green-100 text-green-800",children:[m.length," integrations"]}),s.jsxs(D,{onClick:()=>a(!0),className:"bg-teal-600 hover:bg-teal-700",children:[s.jsx(st,{className:"h-4 w-4 mr-2"}),"Add Webhook"]})]})]}),s.jsxs(Kn,{value:t,onValueChange:n,children:[s.jsxs(Mn,{className:"grid w-full grid-cols-4",children:[s.jsx(Re,{value:"webhooks",children:"Webhooks"}),s.jsx(Re,{value:"integrations",children:"Integrations"}),s.jsx(Re,{value:"deliveries",children:"Delivery Log"}),s.jsx(Re,{value:"analytics",children:"Analytics"})]}),s.jsx(Fe,{value:"webhooks",className:"space-y-6",children:s.jsx("div",{className:"grid gap-6",children:g.length===0?s.jsxs(B,{className:"p-12 text-center",children:[s.jsx(_R,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Webhooks Yet"}),s.jsx("p",{className:"text-gray-500 mb-6",children:"Create your first webhook to start receiving event notifications"}),s.jsxs(D,{onClick:()=>a(!0),className:"bg-teal-600 hover:bg-teal-700",children:[s.jsx(st,{className:"h-4 w-4 mr-2"}),"Create Webhook"]})]}):g.map(C=>s.jsxs(B,{className:"overflow-hidden",children:[s.jsx(ae,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${C.active?"bg-green-500":"bg-gray-400"}`}),s.jsxs("div",{children:[s.jsx(ie,{className:"text-lg",children:C.name}),s.jsxs(Lt,{className:"flex items-center space-x-2",children:[s.jsx("span",{children:C.url}),s.jsx(D,{variant:"ghost",size:"sm",onClick:()=>k(C.url),className:"h-6 w-6 p-0",children:s.jsx(Lc,{className:"h-3 w-3"})})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(jr,{checked:C.active,onCheckedChange:A=>j.mutate({id:C.id,active:A})}),s.jsx(D,{variant:"outline",size:"sm",onClick:()=>S(C.id),disabled:l===C.id,"data-testid":`button-test-webhook-${C.id}`,children:l===C.id?s.jsx(us,{className:"h-4 w-4 animate-spin"}):s.jsx(Tu,{className:"h-4 w-4"})}),s.jsx(D,{variant:"ghost",size:"sm",children:s.jsx(Or,{className:"h-4 w-4"})}),s.jsx(D,{variant:"ghost",size:"sm",children:s.jsx(Jn,{className:"h-4 w-4 text-red-500"})})]})]})}),s.jsxs(q,{children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx(W,{className:"text-sm text-gray-600",children:"Events"}),s.jsxs("div",{className:"text-sm font-medium",children:[C.events.length," subscribed"]})]}),s.jsxs("div",{children:[s.jsx(W,{className:"text-sm text-gray-600",children:"Retry Policy"}),s.jsxs("div",{className:"text-sm font-medium",children:[C.retryPolicy.maxRetries," retries"]})]}),s.jsxs("div",{children:[s.jsx(W,{className:"text-sm text-gray-600",children:"Created"}),s.jsx("div",{className:"text-sm font-medium",children:new Date(C.createdAt).toLocaleDateString()})]}),s.jsxs("div",{children:[s.jsx(W,{className:"text-sm text-gray-600",children:"Status"}),s.jsx(Z,{variant:C.active?"default":"secondary",children:C.active?"Active":"Inactive"})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx(W,{className:"text-sm text-gray-600 mb-2 block",children:"Subscribed Events"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:C.events.map(A=>s.jsx(Z,{variant:"outline",className:"text-xs",children:A},A))})]})]})]},C.id))})}),s.jsx(Fe,{value:"integrations",className:"space-y-6",children:s.jsxs("div",{className:"grid gap-6",children:[s.jsxs(B,{children:[s.jsxs(ae,{children:[s.jsx(ie,{children:"Popular Integrations"}),s.jsx(Lt,{children:"Quick setup for popular services"})]}),s.jsx(q,{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:EW.map(C=>{const A=C.icon;return s.jsx(B,{className:"p-4 cursor-pointer hover:shadow-md transition-shadow border-2 border-dashed border-gray-200 hover:border-teal-300",onClick:()=>{f(E=>({...E,type:C.id,name:C.name})),o(!0)},children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`w-12 h-12 mx-auto mb-3 rounded-lg ${C.color} flex items-center justify-center`,children:s.jsx(A,{className:"h-6 w-6 text-white"})}),s.jsx("h4",{className:"font-semibold text-sm mb-1",children:C.name}),s.jsx("p",{className:"text-xs text-gray-500",children:C.description})]})},C.id)})})})]}),m.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Active Integrations"}),m.map(C=>{const A=EW.find(I=>I.id===C.type),E=(A==null?void 0:A.icon)||Y2;return s.jsx(B,{children:s.jsxs(q,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:`w-10 h-10 rounded-lg ${(A==null?void 0:A.color)||"bg-gray-500"} flex items-center justify-center`,children:s.jsx(E,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold",children:C.name}),s.jsxs("p",{className:"text-sm text-gray-500 capitalize",children:[C.type," Integration"]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Z,{variant:C.active?"default":"secondary",children:C.active?"Active":"Inactive"}),s.jsx(D,{variant:"ghost",size:"sm",children:s.jsx(dr,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx(W,{className:"text-gray-600",children:"Events"}),s.jsxs("div",{className:"font-medium",children:[C.eventMappings.length," mapped"]})]}),s.jsxs("div",{children:[s.jsx(W,{className:"text-gray-600",children:"Channel"}),s.jsx("div",{className:"font-medium",children:C.config.channelId||"Default"})]}),s.jsxs("div",{children:[s.jsx(W,{className:"text-gray-600",children:"Created"}),s.jsx("div",{className:"font-medium",children:new Date(C.createdAt).toLocaleDateString()})]})]})]})},C.id)})]})]})}),s.jsx(Fe,{value:"deliveries",className:"space-y-6",children:s.jsxs(B,{children:[s.jsxs(ae,{children:[s.jsx(ie,{children:"Recent Deliveries"}),s.jsx(Lt,{children:"Webhook delivery attempts and status"})]}),s.jsx(q,{children:p.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(us,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"No Deliveries Yet"}),s.jsx("p",{className:"text-gray-500",children:"Webhook deliveries will appear here once events are triggered"})]}):s.jsx("div",{className:"space-y-4",children:p.slice(0,20).map(C=>{const A=T(C.status),E=g.find(I=>I.id===C.webhookId);return s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:`w-8 h-8 rounded-full ${_(C.status)} flex items-center justify-center`,children:s.jsx(A,{className:"h-4 w-4 text-white"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:(E==null?void 0:E.name)||"Unknown Webhook"}),s.jsxs("div",{className:"text-sm text-gray-500",children:[C.event,"  ",C.attempts.length," attempts"]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx(Z,{variant:C.status==="delivered"?"default":"secondary",children:C.status}),s.jsx("div",{className:"text-sm text-gray-500 mt-1",children:new Date(C.createdAt).toLocaleString()})]})]},C.id)})})})]})}),s.jsxs(Fe,{value:"analytics",className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx(B,{children:s.jsxs(q,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-teal-600 mb-2",children:p.length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Deliveries"})]})}),s.jsx(B,{children:s.jsxs(q,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:p.filter(C=>C.status==="delivered").length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Successful"})]})}),s.jsx(B,{children:s.jsxs(q,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-red-600 mb-2",children:p.filter(C=>C.status==="failed").length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Failed"})]})})]}),s.jsxs(B,{children:[s.jsx(ae,{children:s.jsx(ie,{children:"Delivery Success Rate"})}),s.jsx(q,{children:s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Sn,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-gray-500",children:"Detailed analytics coming soon"})]})})]})]})]}),s.jsx(ut,{open:r,onOpenChange:a,children:s.jsxs(lt,{className:"max-w-2xl",children:[s.jsxs(ct,{children:[s.jsx(dt,{children:"Create New Webhook"}),s.jsx(Gt,{children:"Configure a webhook to receive event notifications"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"webhook-name",children:"Name"}),s.jsx(te,{id:"webhook-name",value:d.name,onChange:C=>u(A=>({...A,name:C.target.value})),placeholder:"My Webhook","data-testid":"input-webhook-name"})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"webhook-url",children:"Endpoint URL"}),s.jsx(te,{id:"webhook-url",value:d.url,onChange:C=>u(A=>({...A,url:C.target.value})),placeholder:"https://example.com/webhook","data-testid":"input-webhook-url"})]})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"webhook-secret",children:"Secret (Optional)"}),s.jsx(te,{id:"webhook-secret",type:"password",value:d.secret,onChange:C=>u(A=>({...A,secret:C.target.value})),placeholder:"Webhook signing secret"})]}),s.jsxs("div",{children:[s.jsx(W,{className:"text-base font-medium mb-3 block",children:"Events to Subscribe"}),s.jsx("div",{className:"space-y-4 max-h-60 overflow-y-auto",children:Object.entries(P).map(([C,A])=>s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm text-gray-700 mb-2",children:C}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:A.map(E=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(es,{id:E.id,checked:d.events.includes(E.id),onCheckedChange:I=>{u(I?$=>({...$,events:[...$.events,E.id]}):$=>({...$,events:$.events.filter(U=>U!==E.id)}))}}),s.jsx(W,{htmlFor:E.id,className:"text-sm",children:E.label})]},E.id))})]},C))})]}),s.jsxs("div",{children:[s.jsx(W,{className:"text-base font-medium mb-3 block",children:"Retry Policy"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"max-retries",children:"Max Retries"}),s.jsx(te,{id:"max-retries",type:"number",value:d.maxRetries,onChange:C=>u(A=>({...A,maxRetries:parseInt(C.target.value)})),min:"0",max:"10"})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"initial-delay",children:"Initial Delay (ms)"}),s.jsx(te,{id:"initial-delay",type:"number",value:d.initialDelay,onChange:C=>u(A=>({...A,initialDelay:parseInt(C.target.value)})),min:"100"})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"backoff-multiplier",children:"Backoff Multiplier"}),s.jsx(te,{id:"backoff-multiplier",type:"number",value:d.backoffMultiplier,onChange:C=>u(A=>({...A,backoffMultiplier:parseFloat(C.target.value)})),min:"1",step:"0.1"})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(jr,{checked:d.active,onCheckedChange:C=>u(A=>({...A,active:C}))}),s.jsx(W,{children:"Active"})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx(D,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),s.jsx(D,{onClick:N,disabled:x.isPending,className:"bg-teal-600 hover:bg-teal-700","data-testid":"button-create-webhook",children:"Create Webhook"})]})]})]})]})}),s.jsx(ut,{open:i,onOpenChange:o,children:s.jsxs(lt,{className:"max-w-lg",children:[s.jsxs(ct,{children:[s.jsxs(dt,{children:["Create ",h.type," Integration"]}),s.jsxs(Gt,{children:["Connect with ",h.type," to receive notifications"]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"integration-name",children:"Integration Name"}),s.jsx(te,{id:"integration-name",value:h.name,onChange:C=>f(A=>({...A,name:C.target.value})),placeholder:"My Integration"})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"webhook-url",children:"Webhook URL"}),s.jsx(te,{id:"webhook-url",value:h.webhookUrl,onChange:C=>f(A=>({...A,webhookUrl:C.target.value})),placeholder:"https://hooks.slack.com/services/..."})]}),h.type!=="zapier"&&s.jsxs("div",{children:[s.jsx(W,{htmlFor:"channel-id",children:"Channel ID (Optional)"}),s.jsx(te,{id:"channel-id",value:h.channelId,onChange:C=>f(A=>({...A,channelId:C.target.value})),placeholder:"#general"})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx(D,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),s.jsx(D,{onClick:w,disabled:v.isPending,className:"bg-teal-600 hover:bg-teal-700",children:"Create Integration"})]})]})]})})]})]})}function zwt(){er();const{toast:e}=mt(),[t,n]=b.useState("providers"),[r,a]=b.useState(!1);b.useState(null),b.useState(null);const[i,o]=b.useState(!1),[l,c]=b.useState({name:"",type:"saml",entryPoint:"",issuer:"",cert:"",clientID:"",clientSecret:"",authorizationURL:"",tokenURL:"",callbackURL:"",emailAttribute:"email",firstNameAttribute:"firstName",lastNameAttribute:"lastName",groupsAttribute:"",domainRestrictions:"",autoProvision:!0,defaultRole:"user",isActive:!0}),{data:d=[]}=he({queryKey:["/api/sso/providers"]}),{data:u=[]}=he({queryKey:["/api/sso/templates"]}),{data:h}=he({queryKey:["/api/sso/statistics"]}),{data:f=[]}=he({queryKey:["/api/sso/audit-logs"]}),g=Se({mutationFn:async k=>(await ke("POST","/api/sso/providers",k)).json(),onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/sso/providers"]}),rt.invalidateQueries({queryKey:["/api/sso/statistics"]}),a(!1),j(),e({title:"SSO Provider Created",description:"SSO provider has been created successfully"})}}),m=Se({mutationFn:async({id:k,data:_})=>(await ke("PATCH",`/api/sso/providers/${k}`,_)).json(),onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/sso/providers"]}),rt.invalidateQueries({queryKey:["/api/sso/statistics"]})}}),p=()=>{if(!l.name||!l.type){e({title:"Missing Information",description:"Please fill in all required fields",variant:"destructive"});return}const k={name:l.name,type:l.type,protocol:l.type==="saml"?"SAML 2.0":l.type==="oidc"?"OpenID Connect":"OAuth 2.0",configuration:{...l.type==="saml"&&{entryPoint:l.entryPoint,issuer:l.issuer,cert:l.cert},...l.type!=="saml"&&{clientID:l.clientID,clientSecret:l.clientSecret,authorizationURL:l.authorizationURL,tokenURL:l.tokenURL},callbackURL:l.callbackURL||`${window.location.origin}/sso/${l.name.toLowerCase().replace(/\s+/g,"-")}/callback`,attributeMapping:{email:l.emailAttribute,firstName:l.firstNameAttribute,lastName:l.lastNameAttribute,...l.groupsAttribute&&{groups:l.groupsAttribute}}},domainRestrictions:l.domainRestrictions?l.domainRestrictions.split(",").map(_=>_.trim()):void 0,autoProvision:l.autoProvision,defaultRole:l.defaultRole,isActive:l.isActive};g.mutate(k)},x=k=>{c({...l,name:k.name,type:k.type,emailAttribute:k.configuration.attributeMapping.email,firstNameAttribute:k.configuration.attributeMapping.firstName,lastNameAttribute:k.configuration.attributeMapping.lastName,groupsAttribute:k.configuration.attributeMapping.groups||"",autoProvision:k.autoProvision,defaultRole:k.defaultRole}),o(!1),a(!0)},v=k=>{m.mutate({id:k.id,data:{isActive:!k.isActive}})},y=k=>{navigator.clipboard.writeText(k.configuration.callbackURL),e({title:"Copied",description:"Callback URL copied to clipboard"})},j=()=>{c({name:"",type:"saml",entryPoint:"",issuer:"",cert:"",clientID:"",clientSecret:"",authorizationURL:"",tokenURL:"",callbackURL:"",emailAttribute:"email",firstNameAttribute:"firstName",lastNameAttribute:"lastName",groupsAttribute:"",domainRestrictions:"",autoProvision:!0,defaultRole:"user",isActive:!0})},N=k=>{switch(k){case"saml":return fi;case"oauth2":return X2;case"oidc":return Y2;default:return KE}},w=k=>{switch(k){case"login_success":return Bt;case"login_failure":return hs;case"logout":return g0e;case"provision_user":return gn;default:return us}},S=k=>{switch(k){case"login_success":return"text-green-600";case"login_failure":return"text-red-600";case"logout":return"text-blue-600";case"provision_user":return"text-purple-600";default:return"text-gray-600"}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-teal-50 to-amber-50",children:[s.jsx(pt,{}),s.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Single Sign-On (SSO)"}),s.jsx("p",{className:"text-gray-600",children:"Enterprise authentication and identity management"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[h&&s.jsxs(s.Fragment,{children:[s.jsxs(Z,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:[h.activeProviders," active"]}),s.jsxs(Z,{variant:"secondary",className:"bg-green-100 text-green-800",children:[h.activeSessions," sessions"]})]}),s.jsxs(D,{onClick:()=>o(!0),variant:"outline",children:[s.jsx(nt,{className:"h-4 w-4 mr-2"}),"Templates"]}),s.jsxs(D,{onClick:()=>a(!0),className:"bg-teal-600 hover:bg-teal-700",children:[s.jsx(st,{className:"h-4 w-4 mr-2"}),"Add Provider"]})]})]}),s.jsxs(Kn,{value:t,onValueChange:n,children:[s.jsxs(Mn,{className:"grid w-full grid-cols-4",children:[s.jsx(Re,{value:"providers",children:"Providers"}),s.jsx(Re,{value:"statistics",children:"Statistics"}),s.jsx(Re,{value:"audit",children:"Audit Logs"}),s.jsx(Re,{value:"settings",children:"Settings"})]}),s.jsx(Fe,{value:"providers",className:"space-y-6",children:s.jsx("div",{className:"grid gap-6",children:d.length===0?s.jsxs(B,{className:"p-12 text-center",children:[s.jsx(fi,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No SSO Providers"}),s.jsx("p",{className:"text-gray-500 mb-6",children:"Configure enterprise SSO providers for seamless authentication"}),s.jsxs(D,{onClick:()=>a(!0),className:"bg-teal-600 hover:bg-teal-700",children:[s.jsx(st,{className:"h-4 w-4 mr-2"}),"Add SSO Provider"]})]}):d.map(k=>{var T;const _=N(k.type);return s.jsxs(B,{className:"overflow-hidden",children:[s.jsx(ae,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-teal-100 flex items-center justify-center",children:s.jsx(_,{className:"h-5 w-5 text-teal-600"})}),s.jsxs("div",{children:[s.jsx(ie,{className:"text-lg",children:k.name}),s.jsxs(Lt,{className:"flex items-center space-x-2",children:[s.jsx("span",{children:k.protocol}),s.jsx(Z,{variant:"outline",className:"text-xs",children:k.type.toUpperCase()})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(jr,{checked:k.isActive,onCheckedChange:()=>v(k)}),s.jsx(D,{variant:"outline",size:"sm",onClick:()=>y(k),"data-testid":`button-copy-callback-${k.id}`,children:s.jsx(Lc,{className:"h-4 w-4"})}),s.jsx(D,{variant:"ghost",size:"sm",children:s.jsx(Or,{className:"h-4 w-4"})}),s.jsx(D,{variant:"ghost",size:"sm",children:s.jsx(Jn,{className:"h-4 w-4 text-red-500"})})]})]})}),s.jsxs(q,{children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx(W,{className:"text-sm text-gray-600",children:"Auto Provision"}),s.jsx("div",{className:"text-sm font-medium",children:k.autoProvision?"Enabled":"Disabled"})]}),s.jsxs("div",{children:[s.jsx(W,{className:"text-sm text-gray-600",children:"Default Role"}),s.jsx("div",{className:"text-sm font-medium capitalize",children:k.defaultRole})]}),s.jsxs("div",{children:[s.jsx(W,{className:"text-sm text-gray-600",children:"Domain Restrictions"}),s.jsx("div",{className:"text-sm font-medium",children:(T=k.domainRestrictions)!=null&&T.length?`${k.domainRestrictions.length} domains`:"None"})]}),s.jsxs("div",{children:[s.jsx(W,{className:"text-sm text-gray-600",children:"Status"}),s.jsx(Z,{variant:k.isActive?"default":"secondary",children:k.isActive?"Active":"Inactive"})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx(W,{className:"text-sm text-gray-600 mb-2 block",children:"Callback URL"}),s.jsx("div",{className:"bg-gray-50 p-2 rounded text-sm font-mono text-gray-700",children:k.configuration.callbackURL})]})]})]},k.id)})})}),s.jsx(Fe,{value:"statistics",className:"space-y-6",children:h&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx(B,{children:s.jsxs(q,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-teal-600 mb-2",children:h.totalProviders}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Providers"})]})}),s.jsx(B,{children:s.jsxs(q,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:h.activeProviders}),s.jsx("div",{className:"text-sm text-gray-600",children:"Active Providers"})]})}),s.jsx(B,{children:s.jsxs(q,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:h.activeSessions}),s.jsx("div",{className:"text-sm text-gray-600",children:"Active Sessions"})]})}),s.jsx(B,{children:s.jsxs(q,{className:"p-6 text-center",children:[s.jsxs("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:[Math.round(h.statistics24h.loginSuccesses/Math.max(h.statistics24h.loginAttempts,1)*100),"%"]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Success Rate (24h)"})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(B,{children:[s.jsx(ae,{children:s.jsx(ie,{children:"Last 24 Hours"})}),s.jsxs(q,{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Login Attempts"}),s.jsx("span",{className:"font-medium",children:h.statistics24h.loginAttempts})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Successful Logins"}),s.jsx("span",{className:"font-medium text-green-600",children:h.statistics24h.loginSuccesses})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Failed Logins"}),s.jsx("span",{className:"font-medium text-red-600",children:h.statistics24h.loginFailures})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Logouts"}),s.jsx("span",{className:"font-medium",children:h.statistics24h.logouts})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Users Provisioned"}),s.jsx("span",{className:"font-medium text-purple-600",children:h.statistics24h.provisioned})]})]})]}),s.jsxs(B,{children:[s.jsx(ae,{children:s.jsx(ie,{children:"Last 7 Days"})}),s.jsxs(q,{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Login Attempts"}),s.jsx("span",{className:"font-medium",children:h.statistics7d.loginAttempts})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Successful Logins"}),s.jsx("span",{className:"font-medium text-green-600",children:h.statistics7d.loginSuccesses})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Failed Logins"}),s.jsx("span",{className:"font-medium text-red-600",children:h.statistics7d.loginFailures})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Logouts"}),s.jsx("span",{className:"font-medium",children:h.statistics7d.logouts})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Users Provisioned"}),s.jsx("span",{className:"font-medium text-purple-600",children:h.statistics7d.provisioned})]})]})]})]}),s.jsxs(B,{children:[s.jsx(ae,{children:s.jsx(ie,{children:"Provider Usage"})}),s.jsx(q,{children:s.jsx("div",{className:"space-y-4",children:h.providerStats.map(k=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:k.name}),s.jsx("div",{className:"text-sm text-gray-500",children:k.type.toUpperCase()})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"font-medium",children:k.loginCount}),s.jsx("div",{className:"text-sm text-gray-500",children:"logins"})]})]},k.id))})})]})]})}),s.jsx(Fe,{value:"audit",className:"space-y-6",children:s.jsxs(B,{children:[s.jsxs(ae,{children:[s.jsx(ie,{children:"Security Audit Logs"}),s.jsx(Lt,{children:"Complete activity tracking for compliance"})]}),s.jsx(q,{children:s.jsx("div",{className:"space-y-4",children:f.slice(0,50).map(k=>{var P;const _=w(k.event),T=S(k.event);return s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(_,{className:`h-5 w-5 ${T}`}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium capitalize",children:k.event.replace("_"," ")}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Provider: ",((P=d.find(C=>C.id===k.providerId))==null?void 0:P.name)||"Unknown",k.details.email&&`  ${k.details.email}`]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-sm text-gray-600",children:new Date(k.timestamp).toLocaleString()}),s.jsx("div",{className:"text-xs text-gray-500",children:k.ipAddress})]})]},k.id)})})})]})}),s.jsx(Fe,{value:"settings",className:"space-y-6",children:s.jsxs(B,{children:[s.jsxs(ae,{children:[s.jsx(ie,{children:"SSO Configuration"}),s.jsx(Lt,{children:"Global SSO settings and security policies"})]}),s.jsxs(q,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx(W,{className:"text-base font-medium mb-3 block",children:"Session Settings"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(W,{htmlFor:"session-timeout",children:"Session Timeout (hours)"}),s.jsx(te,{id:"session-timeout",type:"number",defaultValue:"8",className:"w-20"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(W,{htmlFor:"max-sessions",children:"Max Sessions per User"}),s.jsx(te,{id:"max-sessions",type:"number",defaultValue:"3",className:"w-20"})]})]})]}),s.jsxs("div",{children:[s.jsx(W,{className:"text-base font-medium mb-3 block",children:"Security Settings"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(W,{htmlFor:"require-mfa",children:"Require MFA for SSO"}),s.jsx(jr,{id:"require-mfa"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(W,{htmlFor:"audit-all",children:"Audit All Events"}),s.jsx(jr,{id:"audit-all",defaultChecked:!0})]})]})]})]}),s.jsxs("div",{children:[s.jsx(W,{className:"text-base font-medium mb-3 block",children:"SAML Service Provider Metadata"}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Metadata URL"}),s.jsxs(D,{variant:"outline",size:"sm",children:[s.jsx(Lc,{className:"h-4 w-4 mr-2"}),"Copy"]})]}),s.jsxs("div",{className:"text-sm font-mono text-gray-800",children:[window.location.origin,"/sso/saml/metadata"]})]})]})]})]})})]}),s.jsx(ut,{open:r,onOpenChange:a,children:s.jsxs(lt,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[s.jsxs(ct,{children:[s.jsx(dt,{children:"Create SSO Provider"}),s.jsx(Gt,{children:"Configure a new SSO provider for enterprise authentication"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"provider-name",children:"Provider Name"}),s.jsx(te,{id:"provider-name",value:l.name,onChange:k=>c(_=>({..._,name:k.target.value})),placeholder:"My Company SSO","data-testid":"input-provider-name"})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"provider-type",children:"Protocol Type"}),s.jsxs(Ke,{value:l.type,onValueChange:k=>c(_=>({..._,type:k})),children:[s.jsx(He,{children:s.jsx(Ge,{})}),s.jsxs(qe,{children:[s.jsx(Q,{value:"saml",children:"SAML 2.0"}),s.jsx(Q,{value:"oauth2",children:"OAuth 2.0"}),s.jsx(Q,{value:"oidc",children:"OpenID Connect"})]})]})]})]}),l.type==="saml"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-medium",children:"SAML Configuration"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"entry-point",children:"Entry Point URL"}),s.jsx(te,{id:"entry-point",value:l.entryPoint,onChange:k=>c(_=>({..._,entryPoint:k.target.value})),placeholder:"https://idp.company.com/sso"})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"issuer",children:"Issuer"}),s.jsx(te,{id:"issuer",value:l.issuer,onChange:k=>c(_=>({..._,issuer:k.target.value})),placeholder:"https://idp.company.com"})]})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"certificate",children:"X.509 Certificate"}),s.jsx(it,{id:"certificate",value:l.cert,onChange:k=>c(_=>({..._,cert:k.target.value})),placeholder:"-----BEGIN CERTIFICATE-----...",rows:4})]})]}),(l.type==="oauth2"||l.type==="oidc")&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-medium",children:"OAuth Configuration"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"client-id",children:"Client ID"}),s.jsx(te,{id:"client-id",value:l.clientID,onChange:k=>c(_=>({..._,clientID:k.target.value})),placeholder:"your-client-id"})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"client-secret",children:"Client Secret"}),s.jsx(te,{id:"client-secret",type:"password",value:l.clientSecret,onChange:k=>c(_=>({..._,clientSecret:k.target.value})),placeholder:"your-client-secret"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"auth-url",children:"Authorization URL"}),s.jsx(te,{id:"auth-url",value:l.authorizationURL,onChange:k=>c(_=>({..._,authorizationURL:k.target.value})),placeholder:"https://provider.com/oauth/authorize"})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"token-url",children:"Token URL"}),s.jsx(te,{id:"token-url",value:l.tokenURL,onChange:k=>c(_=>({..._,tokenURL:k.target.value})),placeholder:"https://provider.com/oauth/token"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-medium",children:"Attribute Mapping"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"email-attr",children:"Email Attribute"}),s.jsx(te,{id:"email-attr",value:l.emailAttribute,onChange:k=>c(_=>({..._,emailAttribute:k.target.value})),placeholder:"email"})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"firstname-attr",children:"First Name Attribute"}),s.jsx(te,{id:"firstname-attr",value:l.firstNameAttribute,onChange:k=>c(_=>({..._,firstNameAttribute:k.target.value})),placeholder:"firstName"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"lastname-attr",children:"Last Name Attribute"}),s.jsx(te,{id:"lastname-attr",value:l.lastNameAttribute,onChange:k=>c(_=>({..._,lastNameAttribute:k.target.value})),placeholder:"lastName"})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"groups-attr",children:"Groups Attribute (Optional)"}),s.jsx(te,{id:"groups-attr",value:l.groupsAttribute,onChange:k=>c(_=>({..._,groupsAttribute:k.target.value})),placeholder:"groups"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-medium",children:"Provider Settings"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"domain-restrictions",children:"Domain Restrictions (comma-separated)"}),s.jsx(te,{id:"domain-restrictions",value:l.domainRestrictions,onChange:k=>c(_=>({..._,domainRestrictions:k.target.value})),placeholder:"company.com, subsidiary.com"})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"default-role",children:"Default Role"}),s.jsxs(Ke,{value:l.defaultRole,onValueChange:k=>c(_=>({..._,defaultRole:k})),children:[s.jsx(He,{children:s.jsx(Ge,{})}),s.jsxs(qe,{children:[s.jsx(Q,{value:"user",children:"User"}),s.jsx(Q,{value:"manager",children:"Manager"}),s.jsx(Q,{value:"admin",children:"Admin"})]})]})]})]}),s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(jr,{checked:l.autoProvision,onCheckedChange:k=>c(_=>({..._,autoProvision:k}))}),s.jsx(W,{children:"Auto-provision new users"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(jr,{checked:l.isActive,onCheckedChange:k=>c(_=>({..._,isActive:k}))}),s.jsx(W,{children:"Active"})]})]})})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx(D,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),s.jsx(D,{onClick:p,disabled:g.isPending,className:"bg-teal-600 hover:bg-teal-700","data-testid":"button-create-provider",children:"Create Provider"})]})]})]})}),s.jsx(ut,{open:i,onOpenChange:o,children:s.jsxs(lt,{className:"max-w-2xl",children:[s.jsxs(ct,{children:[s.jsx(dt,{children:"Choose SSO Template"}),s.jsx(Gt,{children:"Start with a pre-configured template for common enterprise providers"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:u.map((k,_)=>s.jsx(B,{className:"cursor-pointer hover:shadow-md transition-shadow border-2 border-dashed border-gray-200 hover:border-teal-300",onClick:()=>x(k),children:s.jsxs(q,{className:"p-4 text-center",children:[s.jsx("div",{className:"w-12 h-12 mx-auto mb-3 rounded-lg bg-teal-100 flex items-center justify-center",children:s.jsx(fi,{className:"h-6 w-6 text-teal-600"})}),s.jsx("h4",{className:"font-semibold text-sm mb-1",children:k.name}),s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:k.protocol}),s.jsx(Z,{variant:"outline",className:"text-xs",children:k.type.toUpperCase()})]})},_))})]})})]})]})}function Bwt(){er();const{toast:e}=mt(),[t,n]=b.useState("permissions"),[r,a]=b.useState(!1),[i,o]=b.useState(!1),[l,c]=b.useState(!1),[d,u]=b.useState(null),[h,f]=b.useState(""),[g,m]=b.useState("all"),[p,x]=b.useState({name:"",description:"",category:"",resource:"",action:""}),[v,y]=b.useState({name:"",description:"",permissions:[],priority:500,restrictions:[]}),{data:j=[]}=he({queryKey:["/api/permissions"]}),{data:N={}}=he({queryKey:["/api/permissions/by-category"]}),{data:w=[]}=he({queryKey:["/api/roles"]}),{data:S}=he({queryKey:["/api/permissions/statistics"]}),{data:k=[]}=he({queryKey:["/api/permissions/audit-logs"]}),{data:_=[]}=he({queryKey:["/api/users"]}),T=Se({mutationFn:async z=>(await ke("POST","/api/permissions",z)).json(),onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/permissions"]}),rt.invalidateQueries({queryKey:["/api/permissions/by-category"]}),rt.invalidateQueries({queryKey:["/api/permissions/statistics"]}),a(!1),$(),e({title:"Permission Created",description:"Custom permission has been created successfully"})}}),P=Se({mutationFn:async z=>(await ke("POST","/api/roles",z)).json(),onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/roles"]}),rt.invalidateQueries({queryKey:["/api/permissions/statistics"]}),o(!1),U(),e({title:"Role Created",description:"Custom role has been created successfully"})}});Se({mutationFn:async({id:z,data:L})=>(await ke("PATCH",`/api/roles/${z}`,L)).json(),onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/roles"]})}});const C=Se({mutationFn:async({userId:z,roleId:L})=>(await ke("POST",`/api/users/${z}/roles/${L}`,{})).json(),onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/users"]}),e({title:"Role Assigned",description:"Role has been assigned to user successfully"})}}),A=()=>{if(!p.name||!p.category||!p.resource||!p.action){e({title:"Missing Information",description:"Please fill in all required fields",variant:"destructive"});return}T.mutate(p)},E=()=>{if(!v.name||v.permissions.length===0){e({title:"Missing Information",description:"Please provide role name and select at least one permission",variant:"destructive"});return}P.mutate(v)},I=z=>{y(L=>({...L,permissions:L.permissions.includes(z)?L.permissions.filter(ee=>ee!==z):[...L.permissions,z]}))},$=()=>{x({name:"",description:"",category:"",resource:"",action:""})},U=()=>{y({name:"",description:"",permissions:[],priority:500,restrictions:[]})},M=Array.from(new Set(j.map(z=>z.category))),F=j.filter(z=>{const L=z.name.toLowerCase().includes(h.toLowerCase())||z.description.toLowerCase().includes(h.toLowerCase()),ee=g==="all"||z.category===g;return L&&ee}),V=z=>{switch(z){case"create":return st;case"read":return fn;case"update":return Or;case"delete":return Jn;case"manage":return dr;case"export":return kn;case"import":return ad;default:return X2}},Y=z=>{switch(z){case"grant":return Bt;case"revoke":return E0e;case"check":return fn;case"create":return st;case"update":return Or;default:return fi}},K=z=>{switch(z){case"grant":return"text-green-600";case"revoke":return"text-red-600";case"check":return"text-blue-600";case"create":return"text-purple-600";case"update":return"text-orange-600";default:return"text-gray-600"}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-teal-50 to-amber-50",children:[s.jsx(pt,{}),s.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Advanced Permissions"}),s.jsx("p",{className:"text-gray-600",children:"Role-based access control and permission management"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[S&&s.jsxs(s.Fragment,{children:[s.jsxs(Z,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:[S.totalRoles," roles"]}),s.jsxs(Z,{variant:"secondary",className:"bg-green-100 text-green-800",children:[S.totalPermissions," permissions"]})]}),s.jsxs(D,{onClick:()=>o(!0),variant:"outline",children:[s.jsx(gn,{className:"h-4 w-4 mr-2"}),"New Role"]}),s.jsxs(D,{onClick:()=>a(!0),className:"bg-teal-600 hover:bg-teal-700",children:[s.jsx(st,{className:"h-4 w-4 mr-2"}),"New Permission"]})]})]}),s.jsxs(Kn,{value:t,onValueChange:n,children:[s.jsxs(Mn,{className:"grid w-full grid-cols-5",children:[s.jsx(Re,{value:"permissions",children:"Permissions"}),s.jsx(Re,{value:"roles",children:"Roles"}),s.jsx(Re,{value:"users",children:"User Access"}),s.jsx(Re,{value:"audit",children:"Audit Logs"}),s.jsx(Re,{value:"statistics",children:"Statistics"})]}),s.jsxs(Fe,{value:"permissions",className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(Ya,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx(te,{placeholder:"Search permissions...",value:h,onChange:z=>f(z.target.value),className:"pl-10"})]})}),s.jsxs(Ke,{value:g,onValueChange:m,children:[s.jsx(He,{className:"w-48",children:s.jsx(Ge,{placeholder:"Filter by category"})}),s.jsxs(qe,{children:[s.jsx(Q,{value:"all",children:"All Categories"}),M.map(z=>s.jsx(Q,{value:z,children:z},z))]})]})]}),s.jsx("div",{className:"space-y-6",children:Object.entries(N).map(([z,L])=>{const ee=L.filter(le=>F.includes(le));return ee.length===0?null:s.jsxs(B,{children:[s.jsx(ae,{children:s.jsxs(ie,{className:"flex items-center justify-between",children:[s.jsx("span",{children:z}),s.jsxs(Z,{variant:"outline",children:[ee.length," permissions"]})]})}),s.jsx(q,{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ee.map(le=>{const ve=V(le.action);return s.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ve,{className:"h-4 w-4 text-teal-600"}),s.jsx("span",{className:"font-medium text-sm",children:le.name})]}),le.isSystem&&s.jsx(Z,{variant:"secondary",className:"text-xs",children:"System"})]}),s.jsx("p",{className:"text-xs text-gray-600 mb-2",children:le.description}),s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsxs("span",{className:"text-gray-500",children:[le.resource,".",le.action]}),s.jsx(D,{variant:"ghost",size:"sm",className:"h-6 px-2",children:s.jsx(Or,{className:"h-3 w-3"})})]})]},le.id)})})})]},z)})})]}),s.jsx(Fe,{value:"roles",className:"space-y-6",children:s.jsx("div",{className:"grid gap-6",children:w.map(z=>s.jsxs(B,{className:"overflow-hidden",children:[s.jsx(ae,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-10 h-10 rounded-lg ${z.isSystem?"bg-blue-100":"bg-purple-100"} flex items-center justify-center`,children:z.isSystem?s.jsx(fi,{className:"h-5 w-5 text-blue-600"}):s.jsx(I3,{className:"h-5 w-5 text-purple-600"})}),s.jsxs("div",{children:[s.jsx(ie,{className:"text-lg",children:z.name}),s.jsx(Lt,{children:z.description})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(Z,{variant:"outline",children:[z.permissions.length," permissions"]}),s.jsx(Z,{variant:"secondary",className:z.isSystem?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800",children:z.isSystem?"System":"Custom"}),s.jsx(D,{variant:"outline",size:"sm",children:s.jsx(fn,{className:"h-4 w-4"})}),!z.isSystem&&s.jsxs(s.Fragment,{children:[s.jsx(D,{variant:"ghost",size:"sm",children:s.jsx(Or,{className:"h-4 w-4"})}),s.jsx(D,{variant:"ghost",size:"sm",children:s.jsx(Jn,{className:"h-4 w-4 text-red-500"})})]})]})]})}),s.jsx(q,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsxs("div",{children:[s.jsx(W,{className:"text-sm text-gray-600",children:"Priority"}),s.jsx("div",{className:"text-sm font-medium",children:z.priority})]}),s.jsxs("div",{children:[s.jsx(W,{className:"text-sm text-gray-600",children:"Created"}),s.jsx("div",{className:"text-sm font-medium",children:new Date(z.createdAt).toLocaleDateString()})]}),z.restrictions&&z.restrictions.length>0&&s.jsxs("div",{children:[s.jsx(W,{className:"text-sm text-gray-600",children:"Restrictions"}),s.jsxs("div",{className:"text-sm font-medium text-orange-600",children:[z.restrictions.length," active"]})]})]}),s.jsxs(D,{onClick:()=>{u(z),c(!0)},size:"sm",className:"bg-teal-600 hover:bg-teal-700",children:[s.jsx(A0e,{className:"h-4 w-4 mr-2"}),"Assign"]})]})})]},z.id))})}),s.jsx(Fe,{value:"users",className:"space-y-6",children:s.jsxs(B,{children:[s.jsxs(ae,{children:[s.jsx(ie,{children:"User Access Management"}),s.jsx(Lt,{children:"Manage user roles and permissions"})]}),s.jsx(q,{children:s.jsx("div",{className:"space-y-4",children:_.map(z=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-teal-100 flex items-center justify-center",children:s.jsx(User,{className:"h-5 w-5 text-teal-600"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:z.name}),s.jsx("div",{className:"text-sm text-gray-500",children:z.email})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Z,{variant:"outline",className:"capitalize",children:z.role}),s.jsxs(D,{variant:"outline",size:"sm",children:[s.jsx(Or,{className:"h-4 w-4 mr-2"}),"Manage"]})]})]},z.id))})})]})}),s.jsx(Fe,{value:"audit",className:"space-y-6",children:s.jsxs(B,{children:[s.jsxs(ae,{children:[s.jsx(ie,{children:"Permission Audit Logs"}),s.jsx(Lt,{children:"Complete activity tracking for compliance"})]}),s.jsx(q,{children:s.jsx("div",{className:"space-y-4",children:k.slice(0,50).map(z=>{const L=Y(z.action),ee=K(z.action);return s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(L,{className:`h-5 w-5 ${ee}`}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium capitalize",children:z.action.replace("_"," ")}),s.jsxs("div",{className:"text-sm text-gray-500",children:[z.reason&&`${z.reason}  `,z.result!==void 0&&s.jsx("span",{className:z.result?"text-green-600":"text-red-600",children:z.result?"Success":"Failed"})]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-sm text-gray-600",children:new Date(z.timestamp).toLocaleString()}),s.jsx("div",{className:"text-xs text-gray-500",children:z.ipAddress})]})]},z.id)})})})]})}),s.jsx(Fe,{value:"statistics",className:"space-y-6",children:S&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx(B,{children:s.jsxs(q,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-teal-600 mb-2",children:S.totalPermissions}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Permissions"}),s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[S.systemPermissions," system + ",S.customPermissions," custom"]})]})}),s.jsx(B,{children:s.jsxs(q,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:S.totalRoles}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Roles"}),s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[S.systemRoles," system + ",S.customRoles," custom"]})]})}),s.jsx(B,{children:s.jsxs(q,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:S.statistics24h.permissionChecks}),s.jsx("div",{className:"text-sm text-gray-600",children:"Permission Checks (24h)"})]})}),s.jsx(B,{children:s.jsxs(q,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:S.statistics24h.permissionsGranted}),s.jsx("div",{className:"text-sm text-gray-600",children:"Permissions Granted (24h)"})]})})]}),s.jsxs(B,{children:[s.jsx(ae,{children:s.jsx(ie,{children:"Permission Categories"})}),s.jsx(q,{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:S.categoryStats.map(z=>s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsx("div",{className:"font-medium",children:z.category}),s.jsx("div",{className:"text-2xl font-bold text-teal-600",children:z.permissionCount}),s.jsx("div",{className:"text-sm text-gray-500",children:"permissions"})]},z.category))})})]}),s.jsxs(B,{children:[s.jsx(ae,{children:s.jsx(ie,{children:"Role Usage Statistics"})}),s.jsx(q,{children:s.jsx("div",{className:"space-y-4",children:S.roleUsage.map(z=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[z.isSystem?s.jsx(fi,{className:"h-5 w-5 text-blue-600"}):s.jsx(I3,{className:"h-5 w-5 text-purple-600"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:z.name}),s.jsx("div",{className:"text-sm text-gray-500",children:z.isSystem?"System Role":"Custom Role"})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"font-medium",children:z.permissionCount}),s.jsx("div",{className:"text-sm text-gray-500",children:"permissions"})]})]},z.id))})})]})]})})]}),s.jsx(ut,{open:r,onOpenChange:a,children:s.jsxs(lt,{className:"max-w-2xl",children:[s.jsxs(ct,{children:[s.jsx(dt,{children:"Create Custom Permission"}),s.jsx(Gt,{children:"Define a new permission for granular access control"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"perm-name",children:"Permission Name"}),s.jsx(te,{id:"perm-name",value:p.name,onChange:z=>x(L=>({...L,name:z.target.value})),placeholder:"tasks.approve","data-testid":"input-permission-name"})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"perm-category",children:"Category"}),s.jsx(te,{id:"perm-category",value:p.category,onChange:z=>x(L=>({...L,category:z.target.value})),placeholder:"Task Management"})]})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"perm-description",children:"Description"}),s.jsx(it,{id:"perm-description",value:p.description,onChange:z=>x(L=>({...L,description:z.target.value})),placeholder:"Approve or reject task submissions",rows:3})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"perm-resource",children:"Resource"}),s.jsx(te,{id:"perm-resource",value:p.resource,onChange:z=>x(L=>({...L,resource:z.target.value})),placeholder:"task"})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"perm-action",children:"Action"}),s.jsxs(Ke,{value:p.action,onValueChange:z=>x(L=>({...L,action:z})),children:[s.jsx(He,{children:s.jsx(Ge,{placeholder:"Select action"})}),s.jsxs(qe,{children:[s.jsx(Q,{value:"create",children:"Create"}),s.jsx(Q,{value:"read",children:"Read"}),s.jsx(Q,{value:"update",children:"Update"}),s.jsx(Q,{value:"delete",children:"Delete"}),s.jsx(Q,{value:"approve",children:"Approve"}),s.jsx(Q,{value:"manage",children:"Manage"}),s.jsx(Q,{value:"export",children:"Export"}),s.jsx(Q,{value:"import",children:"Import"})]})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx(D,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),s.jsx(D,{onClick:A,disabled:T.isPending,className:"bg-teal-600 hover:bg-teal-700","data-testid":"button-create-permission",children:"Create Permission"})]})]})]})}),s.jsx(ut,{open:i,onOpenChange:o,children:s.jsxs(lt,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[s.jsxs(ct,{children:[s.jsx(dt,{children:"Create Custom Role"}),s.jsx(Gt,{children:"Define a new role with specific permissions"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"role-name",children:"Role Name"}),s.jsx(te,{id:"role-name",value:v.name,onChange:z=>y(L=>({...L,name:z.target.value})),placeholder:"Project Coordinator","data-testid":"input-role-name"})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"role-priority",children:"Priority"}),s.jsx(te,{id:"role-priority",type:"number",value:v.priority,onChange:z=>y(L=>({...L,priority:parseInt(z.target.value)||500})),placeholder:"500"})]})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"role-description",children:"Description"}),s.jsx(it,{id:"role-description",value:v.description,onChange:z=>y(L=>({...L,description:z.target.value})),placeholder:"Coordinates project activities and manages team resources",rows:2})]}),s.jsxs("div",{children:[s.jsx(W,{className:"text-base font-medium mb-3 block",children:"Permissions"}),s.jsx("div",{className:"border rounded-lg p-4 max-h-96 overflow-y-auto",children:Object.entries(N).map(([z,L])=>s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"font-medium text-sm text-gray-700 mb-3",children:z}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:L.map(ee=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(es,{id:`perm-${ee.id}`,checked:v.permissions.includes(ee.id),onCheckedChange:()=>I(ee.id)}),s.jsx(W,{htmlFor:`perm-${ee.id}`,className:"text-sm",children:ee.name})]},ee.id))})]},z))}),s.jsxs("div",{className:"text-sm text-gray-500 mt-2",children:["Selected: ",v.permissions.length," permissions"]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx(D,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),s.jsx(D,{onClick:E,disabled:P.isPending,className:"bg-teal-600 hover:bg-teal-700","data-testid":"button-create-role",children:"Create Role"})]})]})]})}),s.jsx(ut,{open:l,onOpenChange:c,children:s.jsxs(lt,{children:[s.jsxs(ct,{children:[s.jsxs(dt,{children:["Assign Role: ",d==null?void 0:d.name]}),s.jsx(Gt,{children:"Select users to assign this role to"})]}),s.jsx("div",{className:"space-y-4",children:_.map(z=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-teal-100 flex items-center justify-center",children:s.jsx(User,{className:"h-4 w-4 text-teal-600"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-sm",children:z.name}),s.jsx("div",{className:"text-xs text-gray-500",children:z.email})]})]}),s.jsx(D,{size:"sm",onClick:()=>{d&&C.mutate({userId:z.id,roleId:d.id})},disabled:C.isPending,children:"Assign"})]},z.id))})]})})]})]})}function Uwt(){var _,T;er();const{toast:e}=mt(),[t,n]=b.useState("events"),[r,a]=b.useState(""),[i,o]=b.useState({source:"",category:"",outcome:"",severity:"",startDate:"",endDate:""}),[l,c]=b.useState(!1),[d,u]=b.useState(!1),[h,f]=b.useState(""),{data:g=[],isLoading:m}=he({queryKey:["/api/audit/events",i,r],queryFn:async()=>{const P=new URLSearchParams;return r&&P.append("searchTerm",r),i.source&&P.append("source",i.source),i.category&&P.append("category",i.category),i.outcome&&P.append("outcome",i.outcome),i.severity&&P.append("severity",i.severity),i.startDate&&P.append("startDate",i.startDate),i.endDate&&P.append("endDate",i.endDate),(await ke("GET",`/api/audit/events?${P.toString()}`)).json()}}),{data:p}=he({queryKey:["/api/audit/statistics"]}),{data:x=[]}=he({queryKey:["/api/audit/compliance-reports"]}),v=Se({mutationFn:async P=>{const C=new URLSearchParams;return r&&C.append("searchTerm",r),i.source&&C.append("source",i.source),i.category&&C.append("category",i.category),i.outcome&&C.append("outcome",i.outcome),i.severity&&C.append("severity",i.severity),i.startDate&&C.append("startDate",i.startDate),i.endDate&&C.append("endDate",i.endDate),C.append("format",P),(await ke("POST",`/api/audit/export?${C.toString()}`,{})).json()},onSuccess:P=>{const C=new Blob([P.data],{type:P.contentType}),A=window.URL.createObjectURL(C),E=document.createElement("a");E.href=A,E.download=P.filename,document.body.appendChild(E),E.click(),window.URL.revokeObjectURL(A),document.body.removeChild(E),c(!1),e({title:"Export Complete",description:`Audit data exported as ${P.filename}`})}}),y=Se({mutationFn:async({regulation:P,startDate:C,endDate:A})=>(await ke("POST","/api/audit/compliance-reports",{regulation:P,startDate:C,endDate:A})).json(),onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/audit/compliance-reports"]}),u(!1),e({title:"Compliance Report Generated",description:"The compliance report has been generated successfully"})}}),j=P=>{switch(P){case"critical":return"bg-red-100 text-red-800 border-red-200";case"high":return"bg-orange-100 text-orange-800 border-orange-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},N=P=>{switch(P){case"success":return Bt;case"failure":return QQ;case"partial":return hs;default:return us}},w=P=>{switch(P){case"success":return"text-green-600";case"failure":return"text-red-600";case"partial":return"text-yellow-600";default:return"text-gray-600"}},S=P=>{switch(P){case"user":return Fa;case"api":return cn;case"system":return dr;case"sso":return fi;case"permissions":return KE;default:return us}},k=P=>{switch(P){case"authentication":return fi;case"authorization":return KE;case"data_access":return fn;case"data_modification":return nS;case"system_config":return dr;case"security":return ur;default:return us}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-teal-50 to-amber-50",children:[s.jsx(pt,{}),s.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Audit Logging & Compliance"}),s.jsx("p",{className:"text-gray-600",children:"Complete activity tracking and compliance reporting"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[p&&s.jsxs(s.Fragment,{children:[s.jsxs(Z,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:[p.totalEvents.toLocaleString()," events"]}),s.jsxs(Z,{variant:"secondary",className:"bg-red-100 text-red-800",children:[p.securityEvents.critical," critical"]})]}),s.jsxs(D,{onClick:()=>u(!0),variant:"outline",children:[s.jsx(Jy,{className:"h-4 w-4 mr-2"}),"Generate Report"]}),s.jsxs(D,{onClick:()=>c(!0),className:"bg-teal-600 hover:bg-teal-700",children:[s.jsx(kn,{className:"h-4 w-4 mr-2"}),"Export Data"]})]})]}),s.jsxs(Kn,{value:t,onValueChange:n,children:[s.jsxs(Mn,{className:"grid w-full grid-cols-4",children:[s.jsx(Re,{value:"events",children:"Audit Events"}),s.jsx(Re,{value:"statistics",children:"Analytics"}),s.jsx(Re,{value:"compliance",children:"Compliance Reports"}),s.jsx(Re,{value:"settings",children:"Settings"})]}),s.jsxs(Fe,{value:"events",className:"space-y-6",children:[s.jsx(B,{children:s.jsx(q,{className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[s.jsx("div",{className:"md:col-span-2",children:s.jsxs("div",{className:"relative",children:[s.jsx(Ya,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx(te,{placeholder:"Search events...",value:r,onChange:P=>a(P.target.value),className:"pl-10","data-testid":"input-search-events"})]})}),s.jsxs(Ke,{value:i.source,onValueChange:P=>o(C=>({...C,source:P})),children:[s.jsx(He,{children:s.jsx(Ge,{placeholder:"Source"})}),s.jsxs(qe,{children:[s.jsx(Q,{value:"",children:"All Sources"}),s.jsx(Q,{value:"user",children:"User"}),s.jsx(Q,{value:"api",children:"API"}),s.jsx(Q,{value:"system",children:"System"}),s.jsx(Q,{value:"sso",children:"SSO"}),s.jsx(Q,{value:"permissions",children:"Permissions"})]})]}),s.jsxs(Ke,{value:i.category,onValueChange:P=>o(C=>({...C,category:P})),children:[s.jsx(He,{children:s.jsx(Ge,{placeholder:"Category"})}),s.jsxs(qe,{children:[s.jsx(Q,{value:"",children:"All Categories"}),s.jsx(Q,{value:"authentication",children:"Authentication"}),s.jsx(Q,{value:"authorization",children:"Authorization"}),s.jsx(Q,{value:"data_access",children:"Data Access"}),s.jsx(Q,{value:"data_modification",children:"Data Modification"}),s.jsx(Q,{value:"system_config",children:"System Config"}),s.jsx(Q,{value:"security",children:"Security"})]})]}),s.jsxs(Ke,{value:i.outcome,onValueChange:P=>o(C=>({...C,outcome:P})),children:[s.jsx(He,{children:s.jsx(Ge,{placeholder:"Outcome"})}),s.jsxs(qe,{children:[s.jsx(Q,{value:"",children:"All Outcomes"}),s.jsx(Q,{value:"success",children:"Success"}),s.jsx(Q,{value:"failure",children:"Failure"}),s.jsx(Q,{value:"partial",children:"Partial"})]})]}),s.jsxs(Ke,{value:i.severity,onValueChange:P=>o(C=>({...C,severity:P})),children:[s.jsx(He,{children:s.jsx(Ge,{placeholder:"Severity"})}),s.jsxs(qe,{children:[s.jsx(Q,{value:"",children:"All Severities"}),s.jsx(Q,{value:"low",children:"Low"}),s.jsx(Q,{value:"medium",children:"Medium"}),s.jsx(Q,{value:"high",children:"High"}),s.jsx(Q,{value:"critical",children:"Critical"})]})]})]})})}),s.jsx("div",{className:"space-y-4",children:m?s.jsxs(B,{className:"p-12 text-center",children:[s.jsx(rc,{className:"h-8 w-8 mx-auto mb-4 text-gray-400 animate-spin"}),s.jsx("p",{className:"text-gray-500",children:"Loading audit events..."})]}):((_=g.events)==null?void 0:_.length)===0?s.jsxs(B,{className:"p-12 text-center",children:[s.jsx(nt,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Audit Events"}),s.jsx("p",{className:"text-gray-500",children:"No events match your current filters"})]}):(T=g.events)==null?void 0:T.map(P=>{const C=N(P.outcome),A=S(P.source);return k(P.category),s.jsx(B,{className:"overflow-hidden",children:s.jsx(q,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(C,{className:`h-5 w-5 ${w(P.outcome)}`}),s.jsx(A,{className:"h-4 w-4 text-gray-500"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("h4",{className:"font-semibold text-lg",children:P.action}),s.jsx(Z,{variant:"outline",className:j(P.severity),children:P.severity}),s.jsx(Z,{variant:"secondary",children:P.category})]}),s.jsx("p",{className:"text-gray-600 mb-3",children:P.details.description}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx(W,{className:"text-xs text-gray-500",children:"Actor"}),s.jsx("div",{className:"font-medium",children:P.actor.name}),s.jsx("div",{className:"text-xs text-gray-500",children:P.actor.type})]}),s.jsxs("div",{children:[s.jsx(W,{className:"text-xs text-gray-500",children:"Resource"}),s.jsx("div",{className:"font-medium",children:P.resource.type}),P.resource.name&&s.jsx("div",{className:"text-xs text-gray-500",children:P.resource.name})]}),s.jsxs("div",{children:[s.jsx(W,{className:"text-xs text-gray-500",children:"Compliance"}),s.jsx("div",{className:"font-medium",children:P.compliance.dataClassification}),P.compliance.regulations.length>0&&s.jsx("div",{className:"text-xs text-gray-500",children:P.compliance.regulations.join(", ")})]}),s.jsxs("div",{children:[s.jsx(W,{className:"text-xs text-gray-500",children:"Timestamp"}),s.jsx("div",{className:"font-medium",children:Me(new Date(P.timestamp),"MMM d, HH:mm:ss")}),s.jsx("div",{className:"text-xs text-gray-500",children:P.actor.ipAddress})]})]})]})]}),s.jsx(D,{variant:"ghost",size:"sm",children:s.jsx(fn,{className:"h-4 w-4"})})]})})},P.id)})}),g.hasMore&&s.jsx("div",{className:"text-center",children:s.jsx(D,{variant:"outline",children:"Load More Events"})})]}),s.jsx(Fe,{value:"statistics",className:"space-y-6",children:p&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx(B,{children:s.jsxs(q,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-teal-600 mb-2",children:p.overview.last24Hours.toLocaleString()}),s.jsx("div",{className:"text-sm text-gray-600",children:"Events (24h)"})]})}),s.jsx(B,{children:s.jsxs(q,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:p.overview.last7Days.toLocaleString()}),s.jsx("div",{className:"text-sm text-gray-600",children:"Events (7d)"})]})}),s.jsx(B,{children:s.jsxs(q,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-red-600 mb-2",children:p.securityEvents.critical}),s.jsx("div",{className:"text-sm text-gray-600",children:"Critical Security Events"})]})}),s.jsx(B,{children:s.jsxs(q,{className:"p-6 text-center",children:[s.jsxs("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:[p.trends.failureRate.toFixed(1),"%"]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Failure Rate"})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(B,{children:[s.jsx(ae,{children:s.jsx(ie,{children:"Events by Source"})}),s.jsx(q,{children:s.jsx("div",{className:"space-y-3",children:Object.entries(p.bySource).map(([P,C])=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("span",{className:"capitalize",children:P})}),s.jsx("span",{className:"font-medium",children:C.toLocaleString()})]},P))})})]}),s.jsxs(B,{children:[s.jsx(ae,{children:s.jsx(ie,{children:"Events by Category"})}),s.jsx(q,{children:s.jsx("div",{className:"space-y-3",children:Object.entries(p.byCategory).map(([P,C])=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"capitalize",children:P.replace("_"," ")}),s.jsx("span",{className:"font-medium",children:C.toLocaleString()})]},P))})})]}),s.jsxs(B,{children:[s.jsx(ae,{children:s.jsx(ie,{children:"Compliance Events"})}),s.jsx(q,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"GDPR"}),s.jsx("span",{className:"font-medium",children:p.complianceEvents.gdpr})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"SOX"}),s.jsx("span",{className:"font-medium",children:p.complianceEvents.sox})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"HIPAA"}),s.jsx("span",{className:"font-medium",children:p.complianceEvents.hipaa})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"PCI-DSS"}),s.jsx("span",{className:"font-medium",children:p.complianceEvents.pciDss})]})]})})]}),s.jsxs(B,{children:[s.jsx(ae,{children:s.jsx(ie,{children:"Data Classification"})}),s.jsx(q,{children:s.jsx("div",{className:"space-y-3",children:Object.entries(p.dataClassification).map(([P,C])=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"capitalize",children:P}),s.jsx("span",{className:"font-medium",children:C.toLocaleString()})]},P))})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(B,{children:[s.jsx(ae,{children:s.jsx(ie,{children:"Top Actors"})}),s.jsx(q,{children:s.jsx("div",{className:"space-y-3",children:p.topActors.map((P,C)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("span",{className:"text-sm text-gray-500",children:["#",C+1]}),s.jsx("span",{children:P.name})]}),s.jsx("span",{className:"font-medium",children:P.count})]},P.name))})})]}),s.jsxs(B,{children:[s.jsx(ae,{children:s.jsx(ie,{children:"Top Resources"})}),s.jsx(q,{children:s.jsx("div",{className:"space-y-3",children:p.topResources.map((P,C)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("span",{className:"text-sm text-gray-500",children:["#",C+1]}),s.jsx("span",{className:"capitalize",children:P.type})]}),s.jsx("span",{className:"font-medium",children:P.count})]},P.type))})})]})]})]})}),s.jsx(Fe,{value:"compliance",className:"space-y-6",children:x.length===0?s.jsxs(B,{className:"p-12 text-center",children:[s.jsx(Jy,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Compliance Reports"}),s.jsx("p",{className:"text-gray-500 mb-6",children:"Generate compliance reports for regulatory requirements"}),s.jsx(D,{onClick:()=>u(!0),className:"bg-teal-600 hover:bg-teal-700",children:"Generate Your First Report"})]}):s.jsx("div",{className:"grid gap-6",children:x.map(P=>s.jsxs(B,{children:[s.jsx(ae,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ie,{children:P.title}),s.jsxs(Lt,{children:[Me(new Date(P.period.start),"MMM d, yyyy")," - ",Me(new Date(P.period.end),"MMM d, yyyy")]})]}),s.jsx(Z,{variant:P.status==="approved"?"default":"secondary",children:P.status})]})}),s.jsxs(q,{children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx(W,{className:"text-sm text-gray-600",children:"Total Events"}),s.jsx("div",{className:"text-lg font-semibold",children:P.summary.totalEvents})]}),s.jsxs("div",{children:[s.jsx(W,{className:"text-sm text-gray-600",children:"Successful"}),s.jsx("div",{className:"text-lg font-semibold text-green-600",children:P.summary.successfulEvents})]}),s.jsxs("div",{children:[s.jsx(W,{className:"text-sm text-gray-600",children:"Failed"}),s.jsx("div",{className:"text-lg font-semibold text-red-600",children:P.summary.failedEvents})]}),s.jsxs("div",{children:[s.jsx(W,{className:"text-sm text-gray-600",children:"Security Events"}),s.jsx("div",{className:"text-lg font-semibold text-orange-600",children:P.summary.securityEvents})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-gray-500",children:["Generated ",Me(new Date(P.generatedAt),"MMM d, yyyy HH:mm")]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(D,{variant:"outline",size:"sm",children:[s.jsx(fn,{className:"h-4 w-4 mr-2"}),"View"]}),s.jsxs(D,{variant:"outline",size:"sm",children:[s.jsx(kn,{className:"h-4 w-4 mr-2"}),"Download"]})]})]})]})]},P.id))})}),s.jsx(Fe,{value:"settings",className:"space-y-6",children:s.jsxs(B,{children:[s.jsxs(ae,{children:[s.jsx(ie,{children:"Audit Settings"}),s.jsx(Lt,{children:"Configure audit logging and retention policies"})]}),s.jsxs(q,{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(W,{className:"text-base font-medium mb-3 block",children:"Retention Policies"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"font-medium",children:"GDPR Compliance"}),s.jsx(Z,{variant:"default",children:"Active"})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"EU GDPR data retention requirements"}),s.jsx("div",{className:"text-sm text-gray-500",children:"Retention: 7 years  Encryption: Required"})]}),s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"font-medium",children:"Security Events"}),s.jsx(Z,{variant:"default",children:"Active"})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Security and authentication events retention"}),s.jsx("div",{className:"text-sm text-gray-500",children:"Retention: 6 years  Encryption: Required"})]}),s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"font-medium",children:"General System Events"}),s.jsx(Z,{variant:"default",children:"Active"})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Standard system operation events"}),s.jsx("div",{className:"text-sm text-gray-500",children:"Retention: 1 year  Archive after: 90 days"})]})]})]}),s.jsxs("div",{children:[s.jsx(W,{className:"text-base font-medium mb-3 block",children:"Export Settings"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(W,{htmlFor:"include-personal",children:"Include Personal Data in Exports"}),s.jsx("input",{type:"checkbox",id:"include-personal"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(W,{htmlFor:"encrypt-exports",children:"Encrypt Exported Files"}),s.jsx("input",{type:"checkbox",id:"encrypt-exports",defaultChecked:!0})]})]})]})]})]})})]}),s.jsx(ut,{open:l,onOpenChange:c,children:s.jsxs(lt,{children:[s.jsxs(ct,{children:[s.jsx(dt,{children:"Export Audit Data"}),s.jsx(Gt,{children:"Export filtered audit events in your preferred format"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(W,{children:"Export Format"}),s.jsxs(Ke,{onValueChange:P=>v.mutate(P),children:[s.jsx(He,{children:s.jsx(Ge,{placeholder:"Select format"})}),s.jsxs(qe,{children:[s.jsx(Q,{value:"json",children:"JSON"}),s.jsx(Q,{value:"csv",children:"CSV"}),s.jsx(Q,{value:"pdf",children:"PDF Report"})]})]})]}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Current filters will be applied to the export.",g.total&&` Approximately ${g.total} events will be exported.`]})]})]})}),s.jsx(ut,{open:d,onOpenChange:u,children:s.jsxs(lt,{children:[s.jsxs(ct,{children:[s.jsx(dt,{children:"Generate Compliance Report"}),s.jsx(Gt,{children:"Create a compliance report for regulatory requirements"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(W,{children:"Regulation"}),s.jsxs(Ke,{value:h,onValueChange:f,children:[s.jsx(He,{children:s.jsx(Ge,{placeholder:"Select regulation"})}),s.jsxs(qe,{children:[s.jsx(Q,{value:"GDPR",children:"GDPR (General Data Protection Regulation)"}),s.jsx(Q,{value:"SOX",children:"SOX (Sarbanes-Oxley Act)"}),s.jsx(Q,{value:"HIPAA",children:"HIPAA (Health Insurance Portability)"}),s.jsx(Q,{value:"PCI-DSS",children:"PCI-DSS (Payment Card Industry)"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(W,{children:"Start Date"}),s.jsx(te,{type:"date"})]}),s.jsxs("div",{children:[s.jsx(W,{children:"End Date"}),s.jsx(te,{type:"date"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx(D,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),s.jsx(D,{onClick:()=>{y.mutate({regulation:h,startDate:"2024-01-01",endDate:"2024-12-31"})},disabled:!h||y.isPending,className:"bg-teal-600 hover:bg-teal-700","data-testid":"button-generate-report",children:"Generate Report"})]})]})]})})]})]})}function Vwt(){er();const{toast:e}=mt(),[t,n]=b.useState("tenants"),[r,a]=b.useState(!1),[i,o]=b.useState(!1),[l,c]=b.useState(null);b.useState(!1);const[d,u]=b.useState({name:"",subdomain:"",customDomain:"",primaryColor:"#004C6D",secondaryColor:"#0B1D3A",companyName:"",tagline:"",theme:"light"}),[h,f]=b.useState(""),{data:g=[]}=he({queryKey:["/api/white-label/tenants"]}),{data:m=[]}=he({queryKey:["/api/white-label/templates"]}),{data:p=[]}=he({queryKey:["/api/white-label/domains"]}),x=Se({mutationFn:async _=>(await ke("POST","/api/white-label/tenants",_)).json(),onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/white-label/tenants"]}),a(!1),S(),e({title:"Tenant Created",description:"White-label tenant has been created successfully"})}}),v=Se({mutationFn:async({id:_,data:T})=>(await ke("PATCH",`/api/white-label/tenants/${_}`,T)).json(),onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/white-label/tenants"]}),e({title:"Tenant Updated",description:"Tenant configuration has been updated successfully"})}}),y=Se({mutationFn:async _=>(await ke("POST",`/api/white-label/tenants/${_}/generate-css`)).json(),onSuccess:_=>{f(_.css),e({title:"CSS Generated",description:"Custom CSS has been generated from branding settings"})}}),j=Se({mutationFn:async _=>(await ke("POST",`/api/white-label/tenants/${_}/preview`)).json(),onSuccess:_=>{window.open(_.previewUrl,"_blank")}}),N=()=>{if(!d.name||!d.subdomain||!d.companyName){e({title:"Missing Information",description:"Please fill in all required fields",variant:"destructive"});return}const _={name:d.name,subdomain:d.subdomain,customDomain:d.customDomain||void 0,settings:{branding:{primaryColor:d.primaryColor,secondaryColor:d.secondaryColor,companyName:d.companyName,tagline:d.tagline||void 0,theme:d.theme},features:{sso:!0,api:!0,advancedReporting:!0,whiteLabel:!0,customDomains:!!d.customDomain,auditLogs:!0,multiUser:!0},limits:{users:50,projects:100,storage:10,apiCalls:1e4},email:{fromName:d.companyName,fromEmail:`noreply@${d.subdomain}.gigstergarage.com`,replyTo:`support@${d.subdomain}.gigstergarage.com`,customTemplates:!0}}};x.mutate(_)},w=_=>{if(l){const T={...l.settings,branding:{...l.settings.branding,primaryColor:_.preview.primaryColor,secondaryColor:_.preview.secondaryColor,customCSS:_.customCSS,theme:_.preview.theme}};v.mutate({id:l.id,data:{settings:T}})}o(!1)},S=()=>{u({name:"",subdomain:"",customDomain:"",primaryColor:"#004C6D",secondaryColor:"#0B1D3A",companyName:"",tagline:"",theme:"light"})},k=_=>{switch(_){case"verified":return s.jsx(Z,{className:"bg-green-100 text-green-800",children:"Verified"});case"pending":return s.jsx(Z,{className:"bg-yellow-100 text-yellow-800",children:"Pending"});case"failed":return s.jsx(Z,{className:"bg-red-100 text-red-800",children:"Failed"});default:return s.jsx(Z,{variant:"secondary",children:"Unknown"})}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-teal-50 to-amber-50",children:[s.jsx(pt,{}),s.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"White-label Management"}),s.jsx("p",{className:"text-gray-600",children:"Multi-tenant branding and customization platform"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs(Z,{variant:"secondary",className:"bg-purple-100 text-purple-800",children:[g.length," tenants"]}),s.jsxs(Z,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:[p.filter(_=>_.isVerified).length," domains"]}),s.jsxs(D,{onClick:()=>o(!0),variant:"outline",children:[s.jsx($3,{className:"h-4 w-4 mr-2"}),"Templates"]}),s.jsxs(D,{onClick:()=>a(!0),className:"bg-teal-600 hover:bg-teal-700",children:[s.jsx(st,{className:"h-4 w-4 mr-2"}),"New Tenant"]})]})]}),s.jsxs(Kn,{value:t,onValueChange:n,children:[s.jsxs(Mn,{className:"grid w-full grid-cols-4",children:[s.jsx(Re,{value:"tenants",children:"Tenants"}),s.jsx(Re,{value:"branding",children:"Branding"}),s.jsx(Re,{value:"domains",children:"Domains"}),s.jsx(Re,{value:"css-editor",children:"CSS Editor"})]}),s.jsx(Fe,{value:"tenants",className:"space-y-6",children:s.jsx("div",{className:"grid gap-6",children:g.length===0?s.jsxs(B,{className:"p-12 text-center",children:[s.jsx(_u,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Tenants"}),s.jsx("p",{className:"text-gray-500 mb-6",children:"Create your first white-label tenant to get started"}),s.jsxs(D,{onClick:()=>a(!0),className:"bg-teal-600 hover:bg-teal-700",children:[s.jsx(st,{className:"h-4 w-4 mr-2"}),"Create Tenant"]})]}):g.map(_=>s.jsxs(B,{className:"overflow-hidden",children:[s.jsx(ae,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:_.settings.branding.primaryColor},children:s.jsx(_u,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{children:[s.jsx(ie,{className:"text-lg",children:_.settings.branding.companyName}),s.jsxs(Lt,{children:[_.subdomain,".gigstergarage.com",_.customDomain&&s.jsxs("span",{children:["  ",_.customDomain]})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(D,{variant:"outline",size:"sm",onClick:()=>j.mutate(_.id),"data-testid":`button-preview-${_.id}`,children:s.jsx(fn,{className:"h-4 w-4"})}),s.jsx(D,{variant:"ghost",size:"sm",onClick:()=>c(_),"data-testid":`button-edit-${_.id}`,children:s.jsx(Or,{className:"h-4 w-4"})}),s.jsx(jr,{checked:_.isActive,onCheckedChange:T=>{v.mutate({id:_.id,data:{isActive:T}})},"data-testid":`switch-active-${_.id}`})]})]})}),s.jsxs(q,{children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx(W,{className:"text-sm text-gray-600",children:"Theme"}),s.jsx("div",{className:"text-sm font-medium capitalize",children:_.settings.branding.theme})]}),s.jsxs("div",{children:[s.jsx(W,{className:"text-sm text-gray-600",children:"Users Limit"}),s.jsx("div",{className:"text-sm font-medium",children:_.settings.limits.users})]}),s.jsxs("div",{children:[s.jsx(W,{className:"text-sm text-gray-600",children:"Features"}),s.jsxs("div",{className:"text-sm font-medium",children:[Object.values(_.settings.features).filter(Boolean).length," enabled"]})]}),s.jsxs("div",{children:[s.jsx(W,{className:"text-sm text-gray-600",children:"Status"}),s.jsx(Z,{variant:_.isActive?"default":"secondary",children:_.isActive?"Active":"Inactive"})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx(W,{className:"text-sm text-gray-600 mb-2 block",children:"Brand Colors"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-gray-300",style:{backgroundColor:_.settings.branding.primaryColor},title:"Primary Color"}),s.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-gray-300",style:{backgroundColor:_.settings.branding.secondaryColor},title:"Secondary Color"}),s.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:[_.settings.branding.primaryColor,"  ",_.settings.branding.secondaryColor]})]})]})]})]},_.id))})}),s.jsx(Fe,{value:"branding",className:"space-y-6",children:l?s.jsxs(B,{children:[s.jsxs(ae,{children:[s.jsx(ie,{children:"Branding Configuration"}),s.jsxs(Lt,{children:["Customize the look and feel for ",l.settings.branding.companyName]})]}),s.jsxs(q,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"primaryColor",children:"Primary Color"}),s.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[s.jsx(te,{id:"primaryColor",type:"color",value:l.settings.branding.primaryColor,onChange:_=>{const T={...l.settings,branding:{...l.settings.branding,primaryColor:_.target.value}};c(P=>P?{...P,settings:T}:null)},className:"w-16 h-10 rounded border"}),s.jsx(te,{value:l.settings.branding.primaryColor,onChange:_=>{const T={...l.settings,branding:{...l.settings.branding,primaryColor:_.target.value}};c(P=>P?{...P,settings:T}:null)},className:"flex-1 font-mono"})]})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"secondaryColor",children:"Secondary Color"}),s.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[s.jsx(te,{id:"secondaryColor",type:"color",value:l.settings.branding.secondaryColor,onChange:_=>{const T={...l.settings,branding:{...l.settings.branding,secondaryColor:_.target.value}};c(P=>P?{...P,settings:T}:null)},className:"w-16 h-10 rounded border"}),s.jsx(te,{value:l.settings.branding.secondaryColor,onChange:_=>{const T={...l.settings,branding:{...l.settings.branding,secondaryColor:_.target.value}};c(P=>P?{...P,settings:T}:null)},className:"flex-1 font-mono"})]})]})]}),s.jsxs("div",{children:[s.jsx(W,{children:"Theme"}),s.jsxs(Ke,{value:l.settings.branding.theme,onValueChange:_=>{const T={...l.settings,branding:{...l.settings.branding,theme:_}};c(P=>P?{...P,settings:T}:null)},children:[s.jsx(He,{className:"mt-1",children:s.jsx(Ge,{})}),s.jsxs(qe,{children:[s.jsx(Q,{value:"light",children:"Light"}),s.jsx(Q,{value:"dark",children:"Dark"}),s.jsx(Q,{value:"auto",children:"Auto"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"companyName",children:"Company Name"}),s.jsx(te,{id:"companyName",value:l.settings.branding.companyName,onChange:_=>{const T={...l.settings,branding:{...l.settings.branding,companyName:_.target.value}};c(P=>P?{...P,settings:T}:null)},className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"tagline",children:"Tagline"}),s.jsx(te,{id:"tagline",value:l.settings.branding.tagline||"",onChange:_=>{const T={...l.settings,branding:{...l.settings.branding,tagline:_.target.value}};c(P=>P?{...P,settings:T}:null)},className:"mt-1"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3 pt-4",children:[s.jsxs(D,{onClick:()=>{v.mutate({id:l.id,data:{settings:l.settings}})},className:"bg-teal-600 hover:bg-teal-700",children:[s.jsx(Au,{className:"h-4 w-4 mr-2"}),"Save Changes"]}),s.jsxs(D,{variant:"outline",onClick:()=>y.mutate(l.id),children:[s.jsx(l0e,{className:"h-4 w-4 mr-2"}),"Generate CSS"]}),s.jsxs(D,{variant:"outline",onClick:()=>j.mutate(l.id),children:[s.jsx(fn,{className:"h-4 w-4 mr-2"}),"Preview"]})]})]})]}):s.jsxs(B,{className:"p-12 text-center",children:[s.jsx($3,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Select a Tenant"}),s.jsx("p",{className:"text-gray-500",children:"Choose a tenant from the list to customize branding"})]})}),s.jsx(Fe,{value:"domains",className:"space-y-6",children:s.jsx("div",{className:"grid gap-4",children:p.map(_=>s.jsx(B,{children:s.jsx(q,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Y2,{className:"h-8 w-8 text-teal-600"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-lg",children:_.domain}),s.jsxs("div",{className:"text-sm text-gray-500",children:["CNAME: ",_.cname]})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[k(_.status),s.jsx(Z,{variant:_.sslEnabled?"default":"secondary",children:_.sslEnabled?"SSL Enabled":"SSL Disabled"}),s.jsx(D,{variant:"ghost",size:"sm",children:s.jsx(dr,{className:"h-4 w-4"})})]})]})})},_.id))})}),s.jsx(Fe,{value:"css-editor",className:"space-y-6",children:s.jsxs(B,{children:[s.jsxs(ae,{children:[s.jsx(ie,{children:"Advanced CSS Customization"}),s.jsx(Lt,{children:"Write custom CSS to fully control the appearance of your tenant"})]}),s.jsx(q,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx(it,{value:h,onChange:_=>f(_.target.value),placeholder:"/* Write your custom CSS here */\\n.custom-header {\\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\\n}\\n\\n.custom-button {\\n  border-radius: 8px;\\n  transition: all 0.3s ease;\\n}",className:"font-mono text-sm min-h-[400px]"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs(D,{onClick:()=>{if(l){const _={...l.settings,branding:{...l.settings.branding,customCSS:h}};v.mutate({id:l.id,data:{settings:_}})}},disabled:!l,className:"bg-teal-600 hover:bg-teal-700",children:[s.jsx(Au,{className:"h-4 w-4 mr-2"}),"Apply CSS"]}),s.jsxs(D,{variant:"outline",onClick:()=>{l&&y.mutate(l.id)},disabled:!l,children:[s.jsx(rc,{className:"h-4 w-4 mr-2"}),"Auto Generate"]})]})]})})]})})]}),s.jsx(ut,{open:r,onOpenChange:a,children:s.jsxs(lt,{className:"max-w-2xl",children:[s.jsxs(ct,{children:[s.jsx(dt,{children:"Create New Tenant"}),s.jsx(Gt,{children:"Set up a new white-label tenant with custom branding"})]}),s.jsxs("div",{className:"grid gap-6 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"name",children:"Tenant Name *"}),s.jsx(te,{id:"name",value:d.name,onChange:_=>u(T=>({...T,name:_.target.value})),placeholder:"Acme Corp","data-testid":"input-tenant-name"})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"subdomain",children:"Subdomain *"}),s.jsx(te,{id:"subdomain",value:d.subdomain,onChange:_=>u(T=>({...T,subdomain:_.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"")})),placeholder:"acme","data-testid":"input-subdomain"}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Will create: ",d.subdomain||"subdomain",".gigstergarage.com"]})]})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"customDomain",children:"Custom Domain (Optional)"}),s.jsx(te,{id:"customDomain",value:d.customDomain,onChange:_=>u(T=>({...T,customDomain:_.target.value})),placeholder:"app.acmecorp.com","data-testid":"input-custom-domain"})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"companyName",children:"Company Name *"}),s.jsx(te,{id:"companyName",value:d.companyName,onChange:_=>u(T=>({...T,companyName:_.target.value})),placeholder:"Acme Corporation","data-testid":"input-company-name"})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"tagline",children:"Tagline"}),s.jsx(te,{id:"tagline",value:d.tagline,onChange:_=>u(T=>({...T,tagline:_.target.value})),placeholder:"Simplified Workflow Solutions","data-testid":"input-tagline"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"primaryColor",children:"Primary Color"}),s.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[s.jsx(te,{type:"color",value:d.primaryColor,onChange:_=>u(T=>({...T,primaryColor:_.target.value})),className:"w-16 h-10 rounded border"}),s.jsx(te,{value:d.primaryColor,onChange:_=>u(T=>({...T,primaryColor:_.target.value})),className:"flex-1 font-mono","data-testid":"input-primary-color"})]})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"secondaryColor",children:"Secondary Color"}),s.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[s.jsx(te,{type:"color",value:d.secondaryColor,onChange:_=>u(T=>({...T,secondaryColor:_.target.value})),className:"w-16 h-10 rounded border"}),s.jsx(te,{value:d.secondaryColor,onChange:_=>u(T=>({...T,secondaryColor:_.target.value})),className:"flex-1 font-mono","data-testid":"input-secondary-color"})]})]})]}),s.jsxs("div",{children:[s.jsx(W,{children:"Theme"}),s.jsxs(Ke,{value:d.theme,onValueChange:_=>u(T=>({...T,theme:_})),children:[s.jsx(He,{className:"mt-1","data-testid":"select-theme",children:s.jsx(Ge,{})}),s.jsxs(qe,{children:[s.jsx(Q,{value:"light",children:"Light"}),s.jsx(Q,{value:"dark",children:"Dark"}),s.jsx(Q,{value:"auto",children:"Auto"})]})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(D,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),s.jsx(D,{onClick:N,disabled:x.isPending,className:"bg-teal-600 hover:bg-teal-700","data-testid":"button-create-tenant",children:x.isPending?"Creating...":"Create Tenant"})]})]})}),s.jsx(ut,{open:i,onOpenChange:o,children:s.jsxs(lt,{className:"max-w-4xl",children:[s.jsxs(ct,{children:[s.jsx(dt,{children:"Branding Templates"}),s.jsx(Gt,{children:"Choose from pre-designed templates to quickly set up your tenant branding"})]}),s.jsx("div",{className:"grid grid-cols-2 gap-6 py-4",children:m.map(_=>s.jsx(B,{className:"cursor-pointer hover:shadow-md transition-shadow",children:s.jsxs(q,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"font-semibold",children:_.name}),s.jsx(Z,{variant:"secondary",children:_.category})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:_.description}),s.jsxs("div",{className:"mb-4 p-4 border rounded-lg",style:{background:`linear-gradient(135deg, ${_.preview.primaryColor}20 0%, ${_.preview.secondaryColor}20 100%)`},children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx("div",{className:"w-6 h-6 rounded",style:{backgroundColor:_.preview.primaryColor}}),s.jsx("div",{className:"w-6 h-6 rounded",style:{backgroundColor:_.preview.secondaryColor}}),s.jsx("span",{className:"text-sm capitalize",children:_.preview.theme})]}),s.jsxs("div",{className:"text-xs font-mono text-gray-600",children:["Primary: ",_.preview.primaryColor,s.jsx("br",{}),"Secondary: ",_.preview.secondaryColor]})]}),s.jsx(D,{onClick:()=>w(_),disabled:!l,className:"w-full",size:"sm",children:"Apply Template"})]})},_.id))}),s.jsx("div",{className:"flex justify-end",children:s.jsx(D,{variant:"outline",onClick:()=>o(!1),children:"Close"})})]})})]})]})}function Wwt(){er();const{toast:e}=mt(),[t,n]=b.useState("schedule"),[r,a]=b.useState("all"),[i,o]=b.useState({timeframe:{start:Me(new Date,"yyyy-MM-dd"),end:Me(Jr(new Date,30),"yyyy-MM-dd")},constraints:{workingHours:{start:"09:00",end:"17:00"},workingDays:[1,2,3,4,5],maxHoursPerDay:8}}),[l,c]=b.useState(!1),[d,u]=b.useState(!1),{data:h=[]}=he({queryKey:["/api/projects"]}),{data:f=[]}=he({queryKey:["/api/tasks"]}),{data:g,refetch:m}=he({queryKey:["/api/smart-scheduling/schedule",r],enabled:!1}),{data:p=[]}=he({queryKey:["/api/smart-scheduling/workload-predictions"]}),{data:x=[]}=he({queryKey:["/api/smart-scheduling/recommendations"]}),{data:v}=he({queryKey:["/api/smart-scheduling/statistics"]}),y=Se({mutationFn:async()=>{u(!0);const _=r==="all"?f:f.filter(P=>P.projectId===r);return(await ke("POST","/api/smart-scheduling/generate",{tasks:_,context:{projectId:r!=="all"?r:void 0,timeframe:i.timeframe,constraints:i.constraints,priorities:{urgentDeadlines:!0,teamAvailability:!0,taskDependencies:!0,resourceOptimization:!0,workloadBalancing:!0}}})).json()},onSuccess:_=>{u(!1),c(!1),m(),rt.invalidateQueries({queryKey:["/api/smart-scheduling"]}),e({title:"AI Schedule Generated",description:`Optimized schedule for ${_.scheduledTasks.length} tasks with ${Math.round(_.confidence)}% confidence`})},onError:_=>{u(!1),e({title:"Schedule Generation Failed",description:_.message,variant:"destructive"})}}),j=Se({mutationFn:async _=>(await ke("POST",`/api/smart-scheduling/recommendations/${_}/apply`,{})).json(),onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/smart-scheduling"]}),e({title:"Recommendation Applied",description:"Scheduling optimization has been implemented"})}}),N=_=>{switch(_){case"urgent":return"bg-red-100 text-red-800 border-red-200";case"high":return"bg-orange-100 text-orange-800 border-orange-200";case"medium":return"bg-blue-100 text-blue-800 border-blue-200";case"low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},w=_=>_>=80?"text-green-600":_>=60?"text-yellow-600":"text-red-600",S=_=>_>100?"text-red-600":_>90?"text-orange-600":_>80?"text-yellow-600":"text-green-600",k=_=>{switch(_){case"increasing":return s.jsx(ra,{className:"h-4 w-4 text-green-600"});case"stable":return s.jsx(us,{className:"h-4 w-4 text-blue-600"});case"decreasing":return s.jsx(ra,{className:"h-4 w-4 text-red-600 transform rotate-180"});default:return s.jsx(us,{className:"h-4 w-4 text-gray-600"})}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50",children:[s.jsx(pt,{}),s.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Smart Scheduling"}),s.jsx("p",{className:"text-gray-600",children:"AI-powered task scheduling and resource optimization"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[v&&s.jsxs(s.Fragment,{children:[s.jsxs(Z,{variant:"secondary",className:"bg-purple-100 text-purple-800",children:[s.jsx(fj,{className:"h-3 w-3 mr-1"}),v.activeRecommendations," active insights"]}),s.jsxs(Z,{variant:"secondary",className:"bg-green-100 text-green-800",children:[s.jsx(Bt,{className:"h-3 w-3 mr-1"}),v.implementedRecommendations," optimizations applied"]})]}),s.jsxs(D,{onClick:()=>c(!0),className:"bg-purple-600 hover:bg-purple-700","data-testid":"button-generate-schedule",children:[s.jsx(ya,{className:"h-4 w-4 mr-2"}),"Generate AI Schedule"]})]})]}),s.jsxs(Kn,{value:t,onValueChange:n,children:[s.jsxs(Mn,{className:"grid w-full grid-cols-4",children:[s.jsx(Re,{value:"schedule",children:"AI Schedule"}),s.jsx(Re,{value:"workload",children:"Workload Analysis"}),s.jsx(Re,{value:"recommendations",children:"AI Insights"}),s.jsx(Re,{value:"analytics",children:"Analytics"})]}),s.jsxs(Fe,{value:"schedule",className:"space-y-6",children:[s.jsx(B,{children:s.jsx(q,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(W,{className:"text-base font-medium",children:"Project Scope"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Select project for AI scheduling optimization"})]}),s.jsxs(Ke,{value:r,onValueChange:a,children:[s.jsx(He,{className:"w-64",children:s.jsx(Ge,{placeholder:"Select project"})}),s.jsxs(qe,{children:[s.jsx(Q,{value:"all",children:"All Projects"}),h.map(_=>s.jsx(Q,{value:_.id,children:_.name},_.id))]})]})]})})}),g?s.jsxs("div",{className:"grid gap-6",children:[s.jsxs(B,{children:[s.jsx(ae,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(ie,{className:"flex items-center",children:[s.jsx(ZQ,{className:"h-5 w-5 mr-2 text-purple-600"}),"AI-Generated Schedule"]}),s.jsxs(Lt,{children:["Completion by ",Me(ci(g.estimatedCompletionDate),"MMM d, yyyy")]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:g.scheduledTasks.length}),s.jsx("div",{className:"text-xs text-gray-500",children:"Tasks Scheduled"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[g.totalEstimatedHours,"h"]}),s.jsx("div",{className:"text-xs text-gray-500",children:"Total Hours"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:`text-2xl font-bold ${w(g.confidence)}`,children:[Math.round(g.confidence),"%"]}),s.jsx("div",{className:"text-xs text-gray-500",children:"AI Confidence"})]})]})]})}),s.jsx(q,{children:s.jsx("div",{className:"space-y-4",children:g.scheduledTasks.map(_=>s.jsx("div",{className:"border rounded-lg p-4",children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("h4",{className:"font-semibold",children:_.title}),s.jsx(Z,{variant:"outline",className:N(_.priority),children:_.priority}),s.jsxs(Z,{variant:"secondary",children:[s.jsx(gj,{className:"h-3 w-3 mr-1"}),_.estimatedHours,"h"]})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:_.reasoning}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx(W,{className:"text-xs text-gray-500",children:"Scheduled Start"}),s.jsx("div",{className:"font-medium",children:Me(ci(_.scheduledStart),"MMM d, HH:mm")})]}),s.jsxs("div",{children:[s.jsx(W,{className:"text-xs text-gray-500",children:"Scheduled End"}),s.jsx("div",{className:"font-medium",children:Me(ci(_.scheduledEnd),"MMM d, HH:mm")})]}),s.jsxs("div",{children:[s.jsx(W,{className:"text-xs text-gray-500",children:"Assigned To"}),s.jsxs("div",{className:"font-medium flex items-center",children:[s.jsx(Fa,{className:"h-3 w-3 mr-1"}),_.assignedUser||"Unassigned"]})]}),s.jsxs("div",{children:[s.jsx(W,{className:"text-xs text-gray-500",children:"AI Confidence"}),s.jsxs("div",{className:`font-medium ${w(_.confidence)}`,children:[Math.round(_.confidence),"%"]})]})]}),_.requiredSkills.length>0&&s.jsxs("div",{className:"mt-3",children:[s.jsx(W,{className:"text-xs text-gray-500",children:"Required Skills"}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:_.requiredSkills.map(T=>s.jsx(Z,{variant:"outline",className:"text-xs",children:T},T))})]})]})})},_.taskId))})})]}),s.jsxs(B,{children:[s.jsx(ae,{children:s.jsxs(ie,{className:"flex items-center",children:[s.jsx(gn,{className:"h-5 w-5 mr-2 text-blue-600"}),"Resource Allocation"]})}),s.jsx(q,{children:s.jsx("div",{className:"grid gap-4",children:g.resourceAllocations.map(_=>s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("div",{className:"flex items-center space-x-3",children:s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold",children:_.userName}),s.jsxs("p",{className:"text-sm text-gray-600",children:[_.assignments.length," tasks assigned"]})]})}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:`text-lg font-bold ${S(_.currentWorkload)}`,children:[Math.round(_.currentWorkload),"%"]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Workload"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{children:["Allocated: ",_.availability.allocatedHours,"h"]}),s.jsxs("span",{children:["Available: ",_.availability.remainingHours,"h"]})]}),s.jsx(bn,{value:_.currentWorkload,className:"h-2"})]}),_.skills.length>0&&s.jsxs("div",{className:"mt-3",children:[s.jsx(W,{className:"text-xs text-gray-500",children:"Skills"}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:_.skills.map(T=>s.jsx(Z,{variant:"secondary",className:"text-xs",children:T},T))})]})]},_.userId))})})]})]}):s.jsxs(B,{className:"p-12 text-center",children:[s.jsx(ya,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No AI Schedule Generated"}),s.jsx("p",{className:"text-gray-500 mb-6",children:"Generate an AI-powered schedule to optimize your team's productivity"}),s.jsxs(D,{onClick:()=>c(!0),className:"bg-purple-600 hover:bg-purple-700",children:[s.jsx(ya,{className:"h-4 w-4 mr-2"}),"Generate Smart Schedule"]})]})]}),s.jsx(Fe,{value:"workload",className:"space-y-6",children:p.length===0?s.jsxs(B,{className:"p-12 text-center",children:[s.jsx(JQ,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Workload Data"}),s.jsx("p",{className:"text-gray-500",children:"Workload predictions will appear here once team activity is tracked"})]}):s.jsx("div",{className:"grid gap-6",children:p.map(_=>s.jsxs(B,{children:[s.jsx(ae,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-3",children:s.jsxs("div",{children:[s.jsxs(ie,{className:"flex items-center",children:[s.jsx(Fa,{className:"h-5 w-5 mr-2"}),_.userName]}),s.jsx(Lt,{children:"Workload Analysis & Predictions"})]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[k(_.currentPeriod.productivityTrend),s.jsx("span",{className:"text-sm text-gray-600",children:_.currentPeriod.productivityTrend})]})]})}),s.jsxs(q,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:"Current Period"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Utilization"}),s.jsxs("span",{className:`font-medium ${S(_.currentPeriod.utilization)}`,children:[_.currentPeriod.utilization,"%"]})]}),s.jsx(bn,{value:_.currentPeriod.utilization,className:"h-2"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Burnout Risk"}),s.jsxs("span",{className:`font-medium ${_.currentPeriod.burnoutRisk>70?"text-red-600":"text-green-600"}`,children:[_.currentPeriod.burnoutRisk,"%"]})]}),s.jsx(bn,{value:_.currentPeriod.burnoutRisk,className:"h-2"})]}),_.currentPeriod.overallocation>0&&s.jsx("div",{className:"p-2 bg-red-50 rounded-lg",children:s.jsxs("div",{className:"flex items-center text-red-800",children:[s.jsx(ur,{className:"h-4 w-4 mr-1"}),s.jsxs("span",{className:"text-sm font-medium",children:["Overallocated by ",_.currentPeriod.overallocation,"h"]})]})})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:"Next Week Prediction"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Predicted Utilization"}),s.jsxs("span",{className:`font-medium ${S(_.nextWeek.predictedUtilization)}`,children:[_.nextWeek.predictedUtilization,"%"]})]}),s.jsx(bn,{value:_.nextWeek.predictedUtilization,className:"h-2"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Predicted Burnout Risk"}),s.jsxs("span",{className:`font-medium ${_.nextWeek.predictedBurnoutRisk>70?"text-red-600":"text-green-600"}`,children:[_.nextWeek.predictedBurnoutRisk,"%"]})]}),s.jsx(bn,{value:_.nextWeek.predictedBurnoutRisk,className:"h-2"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:"Next Month Prediction"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Predicted Utilization"}),s.jsxs("span",{className:`font-medium ${S(_.nextMonth.predictedUtilization)}`,children:[_.nextMonth.predictedUtilization,"%"]})]}),s.jsx(bn,{value:_.nextMonth.predictedUtilization,className:"h-2"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Predicted Burnout Risk"}),s.jsxs("span",{className:`font-medium ${_.nextMonth.predictedBurnoutRisk>70?"text-red-600":"text-green-600"}`,children:[_.nextMonth.predictedBurnoutRisk,"%"]})]}),s.jsx(bn,{value:_.nextMonth.predictedBurnoutRisk,className:"h-2"})]})]})]})]}),_.recommendations.length>0&&s.jsxs("div",{className:"mt-6",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"AI Recommendations"}),s.jsx("div",{className:"space-y-2",children:_.recommendations.map((T,P)=>s.jsxs("div",{className:"flex items-start p-3 bg-blue-50 rounded-lg",children:[s.jsx(rp,{className:"h-4 w-4 text-blue-600 mt-0.5 mr-2 flex-shrink-0"}),s.jsx("span",{className:"text-sm text-blue-800",children:T})]},P))})]})]})]},_.userId))})}),s.jsx(Fe,{value:"recommendations",className:"space-y-6",children:x.length===0?s.jsxs(B,{className:"p-12 text-center",children:[s.jsx(rp,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No AI Insights Available"}),s.jsx("p",{className:"text-gray-500",children:"Generate a schedule to receive AI-powered optimization recommendations"})]}):s.jsx("div",{className:"space-y-4",children:x.map(_=>s.jsx(B,{children:s.jsx(q,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[s.jsx(Z,{variant:"outline",className:_.priority==="critical"?"bg-red-100 text-red-800 border-red-200":_.priority==="high"?"bg-orange-100 text-orange-800 border-orange-200":_.priority==="medium"?"bg-yellow-100 text-yellow-800 border-yellow-200":"bg-green-100 text-green-800 border-green-200",children:_.priority}),s.jsx(Z,{variant:"secondary",children:_.type.replace("_"," ")}),s.jsx(Z,{variant:_.status==="pending"?"default":"secondary",className:_.status==="implemented"?"bg-green-100 text-green-800":"",children:_.status})]}),s.jsx("h4",{className:"text-lg font-semibold mb-2",children:_.title}),s.jsx("p",{className:"text-gray-600 mb-4",children:_.description}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[s.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[s.jsxs("div",{className:"text-lg font-bold text-green-600",children:[_.impact.timelineSaving,"h"]}),s.jsx("div",{className:"text-xs text-green-700",children:"Time Saved"})]}),_.impact.qualityImprovement&&s.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[s.jsxs("div",{className:"text-lg font-bold text-blue-600",children:[_.impact.qualityImprovement,"%"]}),s.jsx("div",{className:"text-xs text-blue-700",children:"Quality Boost"})]}),_.impact.riskReduction&&s.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[s.jsxs("div",{className:"text-lg font-bold text-purple-600",children:[_.impact.riskReduction,"%"]}),s.jsx("div",{className:"text-xs text-purple-700",children:"Risk Reduction"})]}),_.impact.costSaving&&s.jsxs("div",{className:"text-center p-3 bg-yellow-50 rounded-lg",children:[s.jsxs("div",{className:"text-lg font-bold text-yellow-600",children:["$",_.impact.costSaving]}),s.jsx("div",{className:"text-xs text-yellow-700",children:"Cost Saved"})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx(W,{className:"text-sm font-medium text-gray-700",children:"Action Required:"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:_.actionRequired})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx(W,{className:"text-sm font-medium text-gray-700",children:"Implementation Steps:"}),s.jsx("ul",{className:"text-sm text-gray-600 mt-2 space-y-1",children:_.implementationSteps.map((T,P)=>s.jsxs("li",{className:"flex items-start",children:[s.jsx(Qs,{className:"h-3 w-3 mr-2 mt-1 flex-shrink-0"}),T]},P))})]})]}),s.jsxs("div",{className:"ml-4",children:[_.status==="pending"&&s.jsxs(D,{onClick:()=>j.mutate(_.id),disabled:j.isPending,className:"bg-purple-600 hover:bg-purple-700","data-testid":`button-apply-recommendation-${_.id}`,children:[s.jsx(cn,{className:"h-4 w-4 mr-2"}),"Apply"]}),_.status==="implemented"&&s.jsxs("div",{className:"flex items-center text-green-600",children:[s.jsx(Bt,{className:"h-4 w-4 mr-2"}),s.jsx("span",{className:"text-sm font-medium",children:"Applied"})]})]})]})})},_.id))})}),s.jsxs(Fe,{value:"analytics",className:"space-y-6",children:[v&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(B,{children:s.jsxs(q,{className:"p-6 text-center",children:[s.jsx(en,{className:"h-8 w-8 mx-auto mb-3 text-purple-600"}),s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:v.totalSchedules}),s.jsx("div",{className:"text-sm text-gray-600",children:"AI Schedules Generated"})]})}),s.jsx(B,{children:s.jsxs(q,{className:"p-6 text-center",children:[s.jsx(rp,{className:"h-8 w-8 mx-auto mb-3 text-orange-600"}),s.jsx("div",{className:"text-2xl font-bold text-orange-600",children:v.activeRecommendations}),s.jsx("div",{className:"text-sm text-gray-600",children:"Active Recommendations"})]})}),s.jsx(B,{children:s.jsxs(q,{className:"p-6 text-center",children:[s.jsx(Bt,{className:"h-8 w-8 mx-auto mb-3 text-green-600"}),s.jsx("div",{className:"text-2xl font-bold text-green-600",children:v.implementedRecommendations}),s.jsx("div",{className:"text-sm text-gray-600",children:"Optimizations Applied"})]})}),s.jsx(B,{children:s.jsxs(q,{className:"p-6 text-center",children:[s.jsx(bt,{className:"h-8 w-8 mx-auto mb-3 text-blue-600"}),s.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[v.optimizationImpact.totalTimeSaved,"h"]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Time Saved"})]})})]}),(v==null?void 0:v.workloadInsights)&&s.jsxs(B,{children:[s.jsx(ae,{children:s.jsxs(ie,{className:"flex items-center",children:[s.jsx(Sn,{className:"h-5 w-5 mr-2 text-blue-600"}),"Team Workload Overview"]})}),s.jsx(q,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:[Math.round(v.workloadInsights.averageUtilization),"%"]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Average Team Utilization"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:v.workloadInsights.overallocatedUsers}),s.jsx("div",{className:"text-sm text-gray-600",children:"Overallocated Members"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-red-600 mb-2",children:v.workloadInsights.highBurnoutRisk}),s.jsx("div",{className:"text-sm text-gray-600",children:"High Burnout Risk"})]})]})})]})]})]}),s.jsx(ut,{open:l,onOpenChange:c,children:s.jsxs(lt,{className:"max-w-2xl",children:[s.jsxs(ct,{children:[s.jsxs(dt,{className:"flex items-center",children:[s.jsx(ya,{className:"h-5 w-5 mr-2 text-purple-600"}),"Generate AI-Powered Schedule"]}),s.jsx(Gt,{children:"Configure scheduling parameters for AI optimization"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(W,{children:"Start Date"}),s.jsx(te,{type:"date",value:i.timeframe.start,onChange:_=>o(T=>({...T,timeframe:{...T.timeframe,start:_.target.value}}))})]}),s.jsxs("div",{children:[s.jsx(W,{children:"End Date"}),s.jsx(te,{type:"date",value:i.timeframe.end,onChange:_=>o(T=>({...T,timeframe:{...T.timeframe,end:_.target.value}}))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(W,{children:"Working Hours Start"}),s.jsx(te,{type:"time",value:i.constraints.workingHours.start,onChange:_=>o(T=>({...T,constraints:{...T.constraints,workingHours:{...T.constraints.workingHours,start:_.target.value}}}))})]}),s.jsxs("div",{children:[s.jsx(W,{children:"Working Hours End"}),s.jsx(te,{type:"time",value:i.constraints.workingHours.end,onChange:_=>o(T=>({...T,constraints:{...T.constraints,workingHours:{...T.constraints.workingHours,end:_.target.value}}}))})]})]}),s.jsxs("div",{children:[s.jsx(W,{children:"Max Hours Per Day"}),s.jsx(te,{type:"number",min:"1",max:"12",value:i.constraints.maxHoursPerDay,onChange:_=>o(T=>({...T,constraints:{...T.constraints,maxHoursPerDay:parseInt(_.target.value)}}))})]}),s.jsxs("div",{className:"text-sm text-gray-600",children:["The AI will analyze ",f.length," tasks and optimize scheduling based on priorities, dependencies, and team availability."]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx(D,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),s.jsx(D,{onClick:()=>y.mutate(),disabled:d,className:"bg-purple-600 hover:bg-purple-700","data-testid":"button-generate-ai-schedule",children:d?s.jsxs(s.Fragment,{children:[s.jsx(rc,{className:"h-4 w-4 mr-2 animate-spin"}),"Generating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ya,{className:"h-4 w-4 mr-2"}),"Generate Schedule"]})})]})]})})]})]})}function Hwt(){er();const{toast:e}=mt(),[t,n]=b.useState("predictions"),[r,a]=b.useState("all"),[i,o]=b.useState(!1),[l,c]=b.useState("project_forecast"),{data:d=[]}=he({queryKey:["/api/projects"]}),{data:u=[],refetch:h}=he({queryKey:["/api/predictive-analytics/project-predictions",r]}),{data:f=[]}=he({queryKey:["/api/predictive-analytics/project-risks",r]}),{data:g=[]}=he({queryKey:["/api/predictive-analytics/team-performance"]});he({queryKey:["/api/predictive-analytics/market-intelligence"]});const{data:m}=he({queryKey:["/api/predictive-analytics/statistics"]}),{data:p=[]}=he({queryKey:["/api/predictive-analytics/reports"]}),x=Se({mutationFn:async()=>(await ke("POST","/api/predictive-analytics/generate-predictions",{projectIds:r==="all"?void 0:[r]})).json(),onSuccess:()=>{h(),rt.invalidateQueries({queryKey:["/api/predictive-analytics"]}),e({title:"Predictions Generated",description:"AI-powered project predictions have been updated"})}}),v=Se({mutationFn:async()=>(await ke("POST","/api/predictive-analytics/generate-report",{type:l,parameters:{projectIds:r==="all"?void 0:[r]}})).json(),onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/predictive-analytics/reports"]}),o(!1),e({title:"Report Generated",description:"Predictive analytics report has been created"})}}),y=S=>{switch(S){case"on_track":return"bg-green-100 text-green-800 border-green-200";case"at_risk":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"delayed":return"bg-orange-100 text-orange-800 border-orange-200";case"critical":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},j=S=>S>=90?"text-green-600":S>=80?"text-green-500":S>=70?"text-yellow-600":S>=60?"text-orange-600":"text-red-600",N=S=>{switch(S){case"critical":return"bg-red-100 text-red-800 border-red-200";case"high":return"bg-orange-100 text-orange-800 border-orange-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},w=S=>{switch(S){case"improving":case"increasing":case"ahead":return s.jsx(ra,{className:"h-4 w-4 text-green-600"});case"declining":case"decreasing":case"behind":return s.jsx(T0e,{className:"h-4 w-4 text-red-600"});default:return s.jsx(us,{className:"h-4 w-4 text-blue-600"})}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50",children:[s.jsx(pt,{}),s.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Predictive Analytics"}),s.jsx("p",{className:"text-gray-600",children:"AI-powered project predictions and risk assessment"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[m&&s.jsxs(s.Fragment,{children:[s.jsxs(Z,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:[s.jsx(fn,{className:"h-3 w-3 mr-1"}),m.projects.total," projects analyzed"]}),s.jsxs(Z,{variant:"secondary",className:"bg-red-100 text-red-800",children:[s.jsx(ur,{className:"h-3 w-3 mr-1"}),m.risks.critical," critical risks"]})]}),s.jsxs(D,{onClick:()=>o(!0),variant:"outline","data-testid":"button-generate-report",children:[s.jsx(nt,{className:"h-4 w-4 mr-2"}),"Generate Report"]}),s.jsx(D,{onClick:()=>x.mutate(),disabled:x.isPending,className:"bg-purple-600 hover:bg-purple-700","data-testid":"button-update-predictions",children:x.isPending?s.jsxs(s.Fragment,{children:[s.jsx(rc,{className:"h-4 w-4 mr-2 animate-spin"}),"Analyzing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ya,{className:"h-4 w-4 mr-2"}),"Update Predictions"]})})]})]}),m&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx(B,{children:s.jsxs(q,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Project Health"}),s.jsxs("div",{className:"flex items-center mt-2",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:m.projects.onTrack}),s.jsxs("div",{className:"text-sm text-gray-500 ml-2",children:["/ ",m.projects.total]})]})]}),s.jsx("div",{className:"h-12 w-12 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(Bt,{className:"h-6 w-6 text-green-600"})})]}),s.jsx("div",{className:"mt-4",children:s.jsx(bn,{value:m.projects.onTrack/m.projects.total*100,className:"h-2"})})]})}),s.jsx(B,{children:s.jsxs(q,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Risk Level"}),s.jsxs("div",{className:"flex items-center mt-2",children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:m.risks.critical}),s.jsx("div",{className:"text-sm text-gray-500 ml-2",children:"critical"})]})]}),s.jsx("div",{className:"h-12 w-12 bg-red-100 rounded-full flex items-center justify-center",children:s.jsx(ur,{className:"h-6 w-6 text-red-600"})})]}),s.jsx("div",{className:"mt-4",children:s.jsxs("div",{className:"text-xs text-gray-500",children:[m.risks.high," high, ",m.risks.medium," medium risks"]})})]})}),s.jsx(B,{children:s.jsxs(q,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Team Performance"}),s.jsxs("div",{className:"flex items-center mt-2",children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[m.performance.averageEfficiency,"%"]}),s.jsx("div",{className:"text-sm text-gray-500 ml-2",children:"avg efficiency"})]})]}),s.jsx("div",{className:"h-12 w-12 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(gn,{className:"h-6 w-6 text-blue-600"})})]}),s.jsx("div",{className:"mt-4",children:s.jsxs("div",{className:"text-xs text-gray-500",children:[m.performance.highPerformers," high performers"]})})]})}),s.jsx(B,{children:s.jsxs(q,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Prediction Accuracy"}),s.jsxs("div",{className:"flex items-center mt-2",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"85%"}),s.jsx("div",{className:"text-sm text-gray-500 ml-2",children:"accuracy"})]})]}),s.jsx("div",{className:"h-12 w-12 bg-purple-100 rounded-full flex items-center justify-center",children:s.jsx(sc,{className:"h-6 w-6 text-purple-600"})})]}),s.jsx("div",{className:"mt-4",children:s.jsx(bn,{value:85,className:"h-2"})})]})})]}),s.jsx(B,{className:"mb-6",children:s.jsx(q,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Analysis Scope"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Select project scope for detailed analytics"})]}),s.jsxs(Ke,{value:r,onValueChange:a,children:[s.jsx(He,{className:"w-64",children:s.jsx(Ge,{placeholder:"Select project"})}),s.jsxs(qe,{children:[s.jsx(Q,{value:"all",children:"All Projects"}),d.map(S=>s.jsx(Q,{value:S.id,children:S.name},S.id))]})]})]})})}),s.jsxs(Kn,{value:t,onValueChange:n,children:[s.jsxs(Mn,{className:"grid w-full grid-cols-4",children:[s.jsx(Re,{value:"predictions",children:"Project Predictions"}),s.jsx(Re,{value:"risks",children:"Risk Analysis"}),s.jsx(Re,{value:"performance",children:"Team Performance"}),s.jsx(Re,{value:"reports",children:"Analytics Reports"})]}),s.jsx(Fe,{value:"predictions",className:"space-y-6",children:u.length===0?s.jsxs(B,{className:"p-12 text-center",children:[s.jsx(ya,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Predictions Generated"}),s.jsx("p",{className:"text-gray-500 mb-6",children:"Generate AI-powered predictions to see project forecasts and insights"}),s.jsxs(D,{onClick:()=>x.mutate(),className:"bg-purple-600 hover:bg-purple-700",children:[s.jsx(ya,{className:"h-4 w-4 mr-2"}),"Generate Predictions"]})]}):s.jsx("div",{className:"grid gap-6",children:u.map(S=>s.jsxs(B,{children:[s.jsx(ae,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(ie,{className:"flex items-center space-x-3",children:[S.projectName,s.jsx(Z,{variant:"outline",className:y(S.currentStatus),children:S.currentStatus.replace("_"," ")})]}),s.jsxs(Lt,{children:["Predicted completion: ",Me(ci(S.completion.predictedDate),"MMM d, yyyy"),S.completion.daysFromOriginalPlan!==0&&s.jsxs("span",{className:S.completion.daysFromOriginalPlan>0?"text-red-600":"text-green-600",children:[" ","(",S.completion.daysFromOriginalPlan>0?"+":"",S.completion.daysFromOriginalPlan," days from plan)"]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[S.completion.confidenceLevel,"%"]}),s.jsx("div",{className:"text-sm text-gray-500",children:"AI Confidence"})]})]})}),s.jsxs(q,{children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:`text-2xl font-bold ${j(S.health.overallScore)}`,children:[S.health.overallScore,"%"]}),s.jsx("div",{className:"text-xs text-gray-500",children:"Overall Health"}),s.jsx(bn,{value:S.health.overallScore,className:"h-2 mt-1"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:`text-lg font-semibold ${j(S.health.scheduleHealth)}`,children:[S.health.scheduleHealth,"%"]}),s.jsx("div",{className:"text-xs text-gray-500",children:"Schedule"}),s.jsx(bn,{value:S.health.scheduleHealth,className:"h-1 mt-1"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:`text-lg font-semibold ${j(S.health.budgetHealth)}`,children:[S.health.budgetHealth,"%"]}),s.jsx("div",{className:"text-xs text-gray-500",children:"Budget"}),s.jsx(bn,{value:S.health.budgetHealth,className:"h-1 mt-1"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:`text-lg font-semibold ${j(S.health.teamHealth)}`,children:[S.health.teamHealth,"%"]}),s.jsx("div",{className:"text-xs text-gray-500",children:"Team"}),s.jsx(bn,{value:S.health.teamHealth,className:"h-1 mt-1"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:`text-lg font-semibold ${j(S.health.qualityHealth)}`,children:[S.health.qualityHealth,"%"]}),s.jsx("div",{className:"text-xs text-gray-500",children:"Quality"}),s.jsx(bn,{value:S.health.qualityHealth,className:"h-1 mt-1"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium",children:"Velocity Trend"}),s.jsx("div",{className:"text-xs text-gray-500",children:S.trends.velocityTrend})]}),w(S.trends.velocityTrend)]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium",children:"Burndown"}),s.jsx("div",{className:"text-xs text-gray-500",children:S.trends.burndownTrend})]}),w(S.trends.burndownTrend)]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium",children:"Productivity"}),s.jsx("div",{className:"text-xs text-gray-500",children:S.trends.teamProductivity})]}),w(S.trends.teamProductivity)]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[s.jsx(fn,{className:"h-4 w-4 mr-2 text-blue-600"}),"Key Findings"]}),s.jsx("div",{className:"space-y-2",children:S.insights.keyFindings.map((k,_)=>s.jsxs("div",{className:"flex items-start p-2 bg-blue-50 rounded",children:[s.jsx(Qs,{className:"h-3 w-3 text-blue-600 mt-1 mr-2 flex-shrink-0"}),s.jsx("span",{className:"text-sm text-blue-800",children:k})]},_))})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[s.jsx(rp,{className:"h-4 w-4 mr-2 text-green-600"}),"Recommendations"]}),s.jsx("div",{className:"space-y-2",children:S.insights.recommendations.map((k,_)=>s.jsxs("div",{className:"flex items-start p-2 bg-green-50 rounded",children:[s.jsx(Qs,{className:"h-3 w-3 text-green-600 mt-1 mr-2 flex-shrink-0"}),s.jsx("span",{className:"text-sm text-green-800",children:k})]},_))})]}),S.insights.warningSignals.length>0&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[s.jsx(ur,{className:"h-4 w-4 mr-2 text-red-600"}),"Warning Signals"]}),s.jsx("div",{className:"space-y-2",children:S.insights.warningSignals.map((k,_)=>s.jsxs("div",{className:"flex items-start p-2 bg-red-50 rounded",children:[s.jsx(Qs,{className:"h-3 w-3 text-red-600 mt-1 mr-2 flex-shrink-0"}),s.jsx("span",{className:"text-sm text-red-800",children:k})]},_))})]}),S.insights.opportunities.length>0&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[s.jsx(sS,{className:"h-4 w-4 mr-2 text-purple-600"}),"Opportunities"]}),s.jsx("div",{className:"space-y-2",children:S.insights.opportunities.map((k,_)=>s.jsxs("div",{className:"flex items-start p-2 bg-purple-50 rounded",children:[s.jsx(Qs,{className:"h-3 w-3 text-purple-600 mt-1 mr-2 flex-shrink-0"}),s.jsx("span",{className:"text-sm text-purple-800",children:k})]},_))})]})]}),s.jsxs("div",{className:"mt-6",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Completion Probability"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[s.jsx("div",{className:"text-lg font-bold text-green-600",children:Me(ci(S.completion.probabilityDistribution.optimistic),"MMM d")}),s.jsx("div",{className:"text-sm text-green-700",children:"Optimistic (25%)"})]}),s.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[s.jsx("div",{className:"text-lg font-bold text-blue-600",children:Me(ci(S.completion.probabilityDistribution.likely),"MMM d")}),s.jsx("div",{className:"text-sm text-blue-700",children:"Most Likely (50%)"})]}),s.jsxs("div",{className:"text-center p-3 bg-red-50 rounded-lg",children:[s.jsx("div",{className:"text-lg font-bold text-red-600",children:Me(ci(S.completion.probabilityDistribution.pessimistic),"MMM d")}),s.jsx("div",{className:"text-sm text-red-700",children:"Pessimistic (75%)"})]})]})]})]})]},S.projectId))})}),s.jsx(Fe,{value:"risks",className:"space-y-6",children:f.length===0?s.jsxs(B,{className:"p-12 text-center",children:[s.jsx(fi,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Risks Identified"}),s.jsx("p",{className:"text-gray-500",children:"Risk assessment will appear here once projects are analyzed"})]}):s.jsx("div",{className:"grid gap-4",children:f.map(S=>s.jsx(B,{children:s.jsx(q,{className:"p-6",children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[s.jsx("h4",{className:"font-semibold text-lg",children:S.title}),s.jsx(Z,{variant:"outline",className:N(S.severity),children:S.severity}),s.jsx(Z,{variant:"secondary",children:S.type}),s.jsx(Z,{variant:S.status==="mitigated"?"default":"outline",className:S.status==="mitigated"?"bg-green-100 text-green-800":"",children:S.status})]}),s.jsx("p",{className:"text-gray-600 mb-4",children:S.description}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[s.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[s.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[S.probability,"%"]}),s.jsx("div",{className:"text-sm text-orange-700",children:"Probability"})]}),s.jsxs("div",{className:"text-center p-3 bg-red-50 rounded-lg",children:[s.jsxs("div",{className:"text-2xl font-bold text-red-600",children:[S.impact,"%"]}),s.jsx("div",{className:"text-sm text-red-700",children:"Impact"})]}),s.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:S.riskScore}),s.jsx("div",{className:"text-sm text-purple-700",children:"Risk Score"})]})]}),s.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[s.jsx("h5",{className:"font-medium text-blue-900 mb-2",children:"Mitigation Strategy"}),s.jsx("p",{className:"text-sm text-blue-800",children:S.mitigation})]})]})})})},S.id))})}),s.jsx(Fe,{value:"performance",className:"space-y-6",children:g.length===0?s.jsxs(B,{className:"p-12 text-center",children:[s.jsx(gn,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Performance Data"}),s.jsx("p",{className:"text-gray-500",children:"Team performance analytics will appear here once data is collected"})]}):s.jsx("div",{className:"grid gap-6",children:g.map(S=>s.jsxs(B,{children:[s.jsx(ae,{children:s.jsxs(ie,{className:"flex items-center justify-between",children:[s.jsxs("span",{children:["Team Member ",S.userId]}),s.jsxs(Z,{variant:"secondary",children:["Period: ",S.period]})]})}),s.jsx(q,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Productivity"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Tasks Completed"}),s.jsx("span",{className:"font-medium",children:S.productivity.tasksCompleted})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Avg Task Time"}),s.jsxs("span",{className:"font-medium",children:[S.productivity.averageTaskTime.toFixed(1),"h"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Efficiency Score"}),s.jsxs("span",{className:`font-medium ${j(S.productivity.efficiencyScore)}`,children:[S.productivity.efficiencyScore,"%"]})]}),s.jsx(bn,{value:S.productivity.efficiencyScore,className:"h-2"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Quality"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Defect Rate"}),s.jsxs("span",{className:"font-medium",children:[S.quality.defectRate.toFixed(1),"%"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Rework Rate"}),s.jsxs("span",{className:"font-medium",children:[S.quality.reworkRate.toFixed(1),"%"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Customer Satisfaction"}),s.jsxs("span",{className:`font-medium ${j(S.quality.customerSatisfaction)}`,children:[S.quality.customerSatisfaction,"%"]})]}),s.jsx(bn,{value:S.quality.customerSatisfaction,className:"h-2"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Collaboration"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Communication"}),s.jsxs("span",{className:"font-medium",children:[S.collaboration.communicationFrequency,"/day"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Knowledge Sharing"}),s.jsxs("span",{className:`font-medium ${j(S.collaboration.knowledgeSharingScore)}`,children:[S.collaboration.knowledgeSharingScore,"%"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Team Synergy"}),s.jsxs("span",{className:`font-medium ${j(S.collaboration.teamSynergyIndex)}`,children:[S.collaboration.teamSynergyIndex,"%"]})]}),s.jsx(bn,{value:S.collaboration.teamSynergyIndex,className:"h-2"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Predictions"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Next Period Productivity"}),s.jsxs("span",{className:"font-medium",children:[S.predictions.nextPeriodProductivity,"%"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Burnout Risk"}),s.jsxs("span",{className:`font-medium ${S.predictions.burnoutProbability>70?"text-red-600":"text-green-600"}`,children:[S.predictions.burnoutProbability,"%"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Retention"}),s.jsxs("span",{className:`font-medium ${j(S.predictions.retentionProbability)}`,children:[S.predictions.retentionProbability,"%"]})]}),S.predictions.burnoutProbability>70&&s.jsx("div",{className:"p-2 bg-red-50 rounded-lg mt-3",children:s.jsxs("div",{className:"flex items-center text-red-800",children:[s.jsx(Sh,{className:"h-4 w-4 mr-1"}),s.jsx("span",{className:"text-sm font-medium",children:"High Burnout Risk"})]})}),S.productivity.efficiencyScore>90&&s.jsx("div",{className:"p-2 bg-green-50 rounded-lg mt-3",children:s.jsxs("div",{className:"flex items-center text-green-800",children:[s.jsx(r0e,{className:"h-4 w-4 mr-1"}),s.jsx("span",{className:"text-sm font-medium",children:"Top Performer"})]})})]})]})]})})]},S.userId))})}),s.jsxs(Fe,{value:"reports",className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Generated Reports"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Comprehensive analytics reports and insights"})]}),s.jsxs(D,{onClick:()=>o(!0),"data-testid":"button-create-report",children:[s.jsx(nt,{className:"h-4 w-4 mr-2"}),"Create Report"]})]}),p.length===0?s.jsxs(B,{className:"p-12 text-center",children:[s.jsx(nt,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Reports Generated"}),s.jsx("p",{className:"text-gray-500 mb-6",children:"Create comprehensive analytics reports to share insights"}),s.jsxs(D,{onClick:()=>o(!0),className:"bg-purple-600 hover:bg-purple-700",children:[s.jsx(nt,{className:"h-4 w-4 mr-2"}),"Generate First Report"]})]}):s.jsx("div",{className:"grid gap-4",children:p.map(S=>s.jsx(B,{children:s.jsx(q,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("h4",{className:"font-semibold text-lg",children:S.title}),s.jsx(Z,{variant:"outline",children:S.type.replace("_"," ")}),s.jsxs(Z,{variant:"secondary",children:[s.jsx(sS,{className:"h-3 w-3 mr-1"}),S.summary.confidenceScore,"% confidence"]})]}),s.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Generated ",Me(ci(S.generatedAt),"MMM d, yyyy HH:mm")]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Key Insights"}),s.jsx("div",{className:"space-y-1",children:S.summary.keyInsights.map((k,_)=>s.jsxs("div",{className:"flex items-start",children:[s.jsx(Qs,{className:"h-3 w-3 text-blue-600 mt-1 mr-2 flex-shrink-0"}),s.jsx("span",{className:"text-sm text-gray-700",children:k})]},_))})]}),S.summary.criticalActions.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Critical Actions"}),s.jsx("div",{className:"space-y-1",children:S.summary.criticalActions.map((k,_)=>s.jsxs("div",{className:"flex items-start",children:[s.jsx(ur,{className:"h-3 w-3 text-red-600 mt-1 mr-2 flex-shrink-0"}),s.jsx("span",{className:"text-sm text-gray-700",children:k})]},_))})]})]}),s.jsx("div",{className:"ml-4",children:s.jsxs(D,{variant:"outline",size:"sm","data-testid":`button-download-report-${S.id}`,children:[s.jsx(kn,{className:"h-4 w-4 mr-2"}),"Download"]})})]})})},S.id))})]})]}),s.jsx(ut,{open:i,onValueChange:o,children:s.jsxs(lt,{children:[s.jsxs(ct,{children:[s.jsxs(dt,{className:"flex items-center",children:[s.jsx(nt,{className:"h-5 w-5 mr-2 text-purple-600"}),"Generate Analytics Report"]}),s.jsx(Gt,{children:"Create a comprehensive analytics report with AI-powered insights"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Report Type"}),s.jsxs(Ke,{value:l,onValueChange:c,children:[s.jsx(He,{children:s.jsx(Ge,{})}),s.jsxs(qe,{children:[s.jsx(Q,{value:"project_forecast",children:"Project Forecast"}),s.jsx(Q,{value:"risk_assessment",children:"Risk Assessment"}),s.jsx(Q,{value:"team_performance",children:"Team Performance"}),s.jsx(Q,{value:"market_analysis",children:"Market Analysis"})]})]})]}),s.jsx("div",{className:"text-sm text-gray-600",children:"This will generate a comprehensive report with AI-powered insights, predictions, and recommendations."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx(D,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),s.jsx(D,{onClick:()=>v.mutate(),disabled:v.isPending,className:"bg-purple-600 hover:bg-purple-700","data-testid":"button-create-analytics-report",children:v.isPending?s.jsxs(s.Fragment,{children:[s.jsx(rc,{className:"h-4 w-4 mr-2 animate-spin"}),"Generating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ya,{className:"h-4 w-4 mr-2"}),"Generate Report"]})})]})]})})]})]})}const qwt=uv("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),r6=b.forwardRef(({className:e,variant:t,...n},r)=>s.jsx("div",{ref:r,role:"alert",className:Ne(qwt({variant:t}),e),...n}));r6.displayName="Alert";const Kwt=b.forwardRef(({className:e,...t},n)=>s.jsx("h5",{ref:n,className:Ne("mb-1 font-medium leading-none tracking-tight",e),...t}));Kwt.displayName="AlertTitle";const s6=b.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Ne("text-sm [&_p]:leading-relaxed",e),...t}));s6.displayName="AlertDescription";function Gwt(){er();const{toast:e}=mt(),[t,n]=b.useState("overview"),[r,a]=b.useState(!1),[i,o]=b.useState(!1);b.useState(null);const[l,c]=b.useState(""),[d,u]=b.useState({name:"",description:"",fromEmail:"",subject:"",assignToUser:"",priority:"medium",autoReply:!1,autoReplyTemplate:"",createTask:!1}),[h,f]=b.useState({fromEmail:"test@example.com",subject:"Test Email Subject",content:"This is a test email content for parser validation."}),{data:g}=he({queryKey:["/api/messages/email-config"]}),{data:m=[]}=he({queryKey:["/api/emails/inbound"],refetchInterval:1e4}),{data:p=[]}=he({queryKey:["/api/emails/routing-rules"]}),{data:x=[]}=he({queryKey:["/api/users"]}),v=Se({mutationFn:async P=>(await ke("POST","/api/emails/routing-rules",P)).json(),onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/emails/routing-rules"]}),a(!1),S(),e({title:"Routing Rule Created",description:"Email routing rule has been created successfully"})}}),y=Se({mutationFn:async({id:P,data:C})=>(await ke("PATCH",`/api/emails/routing-rules/${P}`,C)).json(),onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/emails/routing-rules"]})}}),j=Se({mutationFn:async P=>(await ke("POST","/api/emails/test-parser",P)).json(),onSuccess:P=>{o(!1),e({title:"Parser Test Successful",description:`Email parsed successfully: ${P.subject} from ${P.fromEmail}`})},onError:()=>{e({title:"Parser Test Failed",description:"Failed to parse test email data",variant:"destructive"})}}),N=Se({mutationFn:async P=>(await ke("POST",`/api/emails/inbound/${P}/reprocess`)).json(),onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/emails/inbound"]}),e({title:"Email Reprocessed",description:"Email has been reprocessed successfully"})}}),w=()=>{if(!d.name||!d.assignToUser){e({title:"Missing Information",description:"Please provide rule name and assign to user",variant:"destructive"});return}const P={name:d.name,description:d.description,conditions:{fromEmail:d.fromEmail||void 0,subject:d.subject||void 0},actions:{assignToUser:d.assignToUser,priority:d.priority,autoReply:d.autoReply,autoReplyTemplate:d.autoReplyTemplate||void 0,createTask:d.createTask},isActive:!0};v.mutate(P)},S=()=>{u({name:"",description:"",fromEmail:"",subject:"",assignToUser:"",priority:"medium",autoReply:!1,autoReplyTemplate:"",createTask:!1})},k=P=>{switch(P){case"processed":return"bg-green-100 text-green-800 border-green-200";case"failed":return"bg-red-100 text-red-800 border-red-200";case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},_=P=>{switch(P){case"urgent":return"bg-red-100 text-red-800 border-red-200";case"high":return"bg-orange-100 text-orange-800 border-orange-200";case"medium":return"bg-blue-100 text-blue-800 border-blue-200";case"low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},T=m.filter(P=>P.fromEmail.toLowerCase().includes(l.toLowerCase())||P.subject.toLowerCase().includes(l.toLowerCase())||P.content.toLowerCase().includes(l.toLowerCase()));return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50",children:[s.jsx(pt,{}),s.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Email Management"}),s.jsx("p",{className:"text-gray-600",children:"Inbound email processing and routing configuration"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[g&&s.jsxs(s.Fragment,{children:[s.jsxs(Z,{variant:g.outbound.enabled?"default":"secondary",children:[s.jsx(Hr,{className:"h-3 w-3 mr-1"}),g.outbound.enabled?"Outbound Active":"Outbound Disabled"]}),s.jsxs(Z,{variant:g.inbound.status.includes("Ready")?"default":"secondary",children:[s.jsx(WP,{className:"h-3 w-3 mr-1"}),g.inbound.status.includes("Ready")?"Webhook Ready":"Webhook Pending"]})]}),s.jsxs(D,{onClick:()=>o(!0),variant:"outline","data-testid":"button-test-parser",children:[s.jsx(cn,{className:"h-4 w-4 mr-2"}),"Test Parser"]}),s.jsxs(D,{onClick:()=>a(!0),className:"bg-blue-600 hover:bg-blue-700","data-testid":"button-create-rule",children:[s.jsx(st,{className:"h-4 w-4 mr-2"}),"New Rule"]})]})]}),g&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx(B,{children:s.jsx(q,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Processed"}),s.jsx("div",{className:"text-2xl font-bold text-blue-600 mt-1",children:g.statistics.totalProcessed})]}),s.jsx("div",{className:"h-12 w-12 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(Cs,{className:"h-6 w-6 text-blue-600"})})]})})}),s.jsx(B,{children:s.jsx(q,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Today's Emails"}),s.jsx("div",{className:"text-2xl font-bold text-green-600 mt-1",children:g.statistics.todayProcessed})]}),s.jsx("div",{className:"h-12 w-12 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(WP,{className:"h-6 w-6 text-green-600"})})]})})}),s.jsx(B,{children:s.jsx(q,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Success Rate"}),s.jsxs("div",{className:"text-2xl font-bold text-green-600 mt-1",children:[Math.round((1-g.statistics.failureRate)*100),"%"]})]}),s.jsx("div",{className:"h-12 w-12 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(Bt,{className:"h-6 w-6 text-green-600"})})]})})}),s.jsx(B,{children:s.jsx(q,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Processing"}),s.jsxs("div",{className:"text-2xl font-bold text-purple-600 mt-1",children:[g.statistics.averageProcessingTime,"ms"]})]}),s.jsx("div",{className:"h-12 w-12 bg-purple-100 rounded-full flex items-center justify-center",children:s.jsx(bt,{className:"h-6 w-6 text-purple-600"})})]})})})]}),s.jsxs(Kn,{value:t,onValueChange:n,children:[s.jsxs(Mn,{className:"grid w-full grid-cols-4",children:[s.jsx(Re,{value:"overview",children:"Configuration"}),s.jsx(Re,{value:"emails",children:"Inbound Emails"}),s.jsx(Re,{value:"rules",children:"Routing Rules"}),s.jsx(Re,{value:"templates",children:"Templates"})]}),s.jsx(Fe,{value:"overview",className:"space-y-6",children:g&&s.jsxs(s.Fragment,{children:[s.jsxs(B,{children:[s.jsxs(ae,{children:[s.jsx(ie,{children:"Email Integration Status"}),s.jsx(Lt,{children:"Current configuration and setup status for email processing"})]}),s.jsxs(q,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`h-10 w-10 rounded-full flex items-center justify-center ${g.outbound.enabled?"bg-green-100":"bg-gray-100"}`,children:s.jsx(Hr,{className:`h-5 w-5 ${g.outbound.enabled?"text-green-600":"text-gray-600"}`})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:"Outbound Email"}),s.jsx("div",{className:"text-sm text-gray-600",children:g.outbound.status})]})]}),s.jsx(Z,{variant:g.outbound.enabled?"default":"secondary",children:g.outbound.enabled?"Active":"Disabled"})]}),s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(WP,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:"Inbound Email Processing"}),s.jsx("div",{className:"text-sm text-gray-600",children:g.inbound.status})]})]}),s.jsx(Z,{variant:"outline",children:"Webhook Ready"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx(W,{className:"text-sm text-gray-600",children:"Email Address"}),s.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[s.jsx(te,{value:g.inbound.emailAddress,readOnly:!0,className:"font-mono text-sm"}),s.jsx(D,{variant:"outline",size:"sm",onClick:()=>{navigator.clipboard.writeText(g.inbound.emailAddress),e({title:"Copied!",description:"Email address copied to clipboard"})},children:s.jsx(Lc,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{children:[s.jsx(W,{className:"text-sm text-gray-600",children:"Webhook URL"}),s.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[s.jsx(te,{value:g.inbound.webhookUrl,readOnly:!0,className:"font-mono text-sm"}),s.jsx(D,{variant:"outline",size:"sm",onClick:()=>{navigator.clipboard.writeText(g.inbound.webhookUrl),e({title:"Copied!",description:"Webhook URL copied to clipboard"})},children:s.jsx(Lc,{className:"h-4 w-4"})})]})]}),s.jsxs(r6,{children:[s.jsx(hs,{className:"h-4 w-4"}),s.jsxs(s6,{children:[s.jsx("strong",{children:"Setup Instructions:"}),s.jsx("ol",{className:"list-decimal list-inside mt-2 space-y-1 text-sm",children:g.inbound.setupInstructions.map((P,C)=>s.jsx("li",{children:P},C))})]})]})]})]})]})]}),s.jsxs(B,{children:[s.jsxs(ae,{children:[s.jsx(ie,{children:"Processing Settings"}),s.jsx(Lt,{children:"Configure how inbound emails are processed and handled"})]}),s.jsx(q,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(W,{className:"font-medium",children:"Auto Routing"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Automatically route emails based on rules"})]}),s.jsx(jr,{checked:g.parsing.autoRouting,onCheckedChange:P=>{}})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(W,{className:"font-medium",children:"Spam Filtering"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Filter out potential spam emails"})]}),s.jsx(jr,{checked:g.parsing.spamFiltering,onCheckedChange:P=>{}})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(W,{className:"font-medium",children:"Attachment Handling"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Process and store email attachments"})]}),s.jsx(jr,{checked:g.parsing.attachmentHandling,onCheckedChange:P=>{}})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(W,{className:"font-medium",children:"Email Parsing"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Parse email content and metadata"})]}),s.jsx(jr,{checked:g.parsing.enabled,onCheckedChange:P=>{}})]})]})})]})]})}),s.jsxs(Fe,{value:"emails",className:"space-y-6",children:[s.jsx(B,{children:s.jsx(q,{className:"p-6",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Ya,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(te,{placeholder:"Search emails by sender, subject, or content...",value:l,onChange:P=>c(P.target.value),className:"pl-10","data-testid":"input-search-emails"})]}),s.jsxs(D,{variant:"outline",onClick:()=>rt.invalidateQueries({queryKey:["/api/emails/inbound"]}),children:[s.jsx(rc,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})})}),s.jsx("div",{className:"space-y-4",children:T.length===0?s.jsxs(B,{className:"p-12 text-center",children:[s.jsx(Cs,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Emails Found"}),s.jsx("p",{className:"text-gray-500 mb-6",children:l?"No emails match your search criteria":"No inbound emails have been processed yet"}),!l&&s.jsxs(D,{variant:"outline",onClick:()=>o(!0),children:[s.jsx(cn,{className:"h-4 w-4 mr-2"}),"Test Email Parser"]})]}):T.map(P=>s.jsx(B,{children:s.jsx(q,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("div",{className:"h-8 w-8 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(Cs,{className:"h-4 w-4 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:P.subject}),s.jsxs("div",{className:"text-sm text-gray-600",children:["From: ",P.fromEmail,"  To: ",P.toEmail]})]})]}),s.jsxs("div",{className:"ml-11",children:[s.jsx("p",{className:"text-gray-700 text-sm mb-3 line-clamp-2",children:P.content}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[s.jsxs("span",{children:["Parsed: ",Me(ci(P.parsedAt),"MMM d, yyyy h:mm a")]}),P.attachments.length>0&&s.jsxs("span",{children:[P.attachments.length," attachment(s)"]}),P.assignedUser&&s.jsxs("span",{children:["Assigned to: ",P.assignedUser]})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Z,{className:k(P.status),children:P.status}),P.status==="failed"&&s.jsx(D,{variant:"outline",size:"sm",onClick:()=>N.mutate(P.id),disabled:N.isPending,children:s.jsx(rc,{className:"h-4 w-4"})}),s.jsx(D,{variant:"ghost",size:"sm",children:s.jsx(fn,{className:"h-4 w-4"})})]})]})})},P.id))})]}),s.jsx(Fe,{value:"rules",className:"space-y-6",children:s.jsx("div",{className:"space-y-4",children:p.length===0?s.jsxs(B,{className:"p-12 text-center",children:[s.jsx(dr,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Routing Rules"}),s.jsx("p",{className:"text-gray-500 mb-6",children:"Create rules to automatically route incoming emails"}),s.jsxs(D,{onClick:()=>a(!0),className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(st,{className:"h-4 w-4 mr-2"}),"Create First Rule"]})]}):p.map(P=>s.jsx(B,{children:s.jsx(q,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("div",{className:"h-8 w-8 bg-purple-100 rounded-full flex items-center justify-center",children:s.jsx(Qs,{className:"h-4 w-4 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:P.name}),s.jsx("div",{className:"text-sm text-gray-600",children:P.description})]})]}),s.jsx("div",{className:"ml-11",children:s.jsxs("div",{className:"text-sm space-y-1",children:[P.conditions.fromEmail&&s.jsxs("div",{children:["From: ",s.jsx("span",{className:"font-mono",children:P.conditions.fromEmail})]}),P.conditions.subject&&s.jsxs("div",{children:["Subject contains: ",s.jsx("span",{className:"font-mono",children:P.conditions.subject})]}),s.jsxs("div",{className:"text-gray-500 mt-2",children:["Matched ",P.matchCount," emails  Created ",Me(ci(P.createdAt),"MMM d, yyyy")]})]})})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Z,{variant:"outline",className:_(P.actions.priority),children:P.actions.priority}),s.jsx(jr,{checked:P.isActive,onCheckedChange:C=>{y.mutate({id:P.id,data:{isActive:C}})}}),s.jsx(D,{variant:"ghost",size:"sm",children:s.jsx(fn,{className:"h-4 w-4"})})]})]})})},P.id))})}),s.jsx(Fe,{value:"templates",className:"space-y-6",children:s.jsxs(B,{className:"p-12 text-center",children:[s.jsx(nt,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Email Templates"}),s.jsx("p",{className:"text-gray-500 mb-6",children:"Manage auto-reply templates and email signatures"}),s.jsxs(D,{variant:"outline",children:[s.jsx(st,{className:"h-4 w-4 mr-2"}),"Create Template"]})]})})]}),s.jsx(ut,{open:r,onOpenChange:a,children:s.jsxs(lt,{className:"max-w-2xl",children:[s.jsxs(ct,{children:[s.jsx(dt,{children:"Create Routing Rule"}),s.jsx(Gt,{children:"Set up automatic email routing based on sender, subject, or content patterns"})]}),s.jsxs("div",{className:"grid gap-6 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"ruleName",children:"Rule Name *"}),s.jsx(te,{id:"ruleName",value:d.name,onChange:P=>u(C=>({...C,name:P.target.value})),placeholder:"Support Emails","data-testid":"input-rule-name"})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"assignToUser",children:"Assign To *"}),s.jsxs(Ke,{value:d.assignToUser,onValueChange:P=>u(C=>({...C,assignToUser:P})),children:[s.jsx(He,{"data-testid":"select-assign-user",children:s.jsx(Ge,{placeholder:"Select user"})}),s.jsx(qe,{children:x.map(P=>s.jsxs(Q,{value:P.id,children:[P.name," (",P.email,")"]},P.id))})]})]})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"description",children:"Description"}),s.jsx(it,{id:"description",value:d.description,onChange:P=>u(C=>({...C,description:P.target.value})),placeholder:"Route support emails to support team"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"fromEmail",children:"From Email (Optional)"}),s.jsx(te,{id:"fromEmail",value:d.fromEmail,onChange:P=>u(C=>({...C,fromEmail:P.target.value})),placeholder:"support@company.com or *@company.com"})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"subject",children:"Subject Contains (Optional)"}),s.jsx(te,{id:"subject",value:d.subject,onChange:P=>u(C=>({...C,subject:P.target.value})),placeholder:"support, help, bug"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(W,{children:"Priority"}),s.jsxs(Ke,{value:d.priority,onValueChange:P=>u(C=>({...C,priority:P})),children:[s.jsx(He,{children:s.jsx(Ge,{})}),s.jsxs(qe,{children:[s.jsx(Q,{value:"low",children:"Low"}),s.jsx(Q,{value:"medium",children:"Medium"}),s.jsx(Q,{value:"high",children:"High"}),s.jsx(Q,{value:"urgent",children:"Urgent"})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(jr,{id:"autoReply",checked:d.autoReply,onCheckedChange:P=>u(C=>({...C,autoReply:P}))}),s.jsx(W,{htmlFor:"autoReply",children:"Send Auto-Reply"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(jr,{id:"createTask",checked:d.createTask,onCheckedChange:P=>u(C=>({...C,createTask:P}))}),s.jsx(W,{htmlFor:"createTask",children:"Create Task"})]})]})]}),d.autoReply&&s.jsxs("div",{children:[s.jsx(W,{htmlFor:"autoReplyTemplate",children:"Auto-Reply Template"}),s.jsx(it,{id:"autoReplyTemplate",value:d.autoReplyTemplate,onChange:P=>u(C=>({...C,autoReplyTemplate:P.target.value})),placeholder:"Thank you for contacting us. We'll respond within 24 hours."})]})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(D,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),s.jsx(D,{onClick:w,disabled:v.isPending,className:"bg-blue-600 hover:bg-blue-700","data-testid":"button-save-rule",children:v.isPending?"Creating...":"Create Rule"})]})]})}),s.jsx(ut,{open:i,onOpenChange:o,children:s.jsxs(lt,{className:"max-w-2xl",children:[s.jsxs(ct,{children:[s.jsx(dt,{children:"Test Email Parser"}),s.jsx(Gt,{children:"Test the email parser with sample email data to verify parsing functionality"})]}),s.jsxs("div",{className:"grid gap-6 py-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"testFromEmail",children:"From Email"}),s.jsx(te,{id:"testFromEmail",value:h.fromEmail,onChange:P=>f(C=>({...C,fromEmail:P.target.value})),placeholder:"sender@example.com"})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"testSubject",children:"Subject"}),s.jsx(te,{id:"testSubject",value:h.subject,onChange:P=>f(C=>({...C,subject:P.target.value})),placeholder:"Test email subject"})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"testContent",children:"Email Content"}),s.jsx(it,{id:"testContent",value:h.content,onChange:P=>f(C=>({...C,content:P.target.value})),placeholder:"Test email content goes here...",rows:4})]})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(D,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),s.jsx(D,{onClick:()=>j.mutate(h),disabled:j.isPending,className:"bg-blue-600 hover:bg-blue-700",children:j.isPending?"Testing...":"Test Parser"})]})]})})]})]})}const DW=[{event:"task.created",label:"Task Created",category:"Tasks",defaultTemplate:" New task created: {{title}} assigned to {{assignee}}",variables:["title","assignee","priority","project"]},{event:"task.completed",label:"Task Completed",category:"Tasks",defaultTemplate:" Task completed: {{title}} by {{completedBy}}",variables:["title","completedBy","duration","project"]},{event:"project.created",label:"Project Created",category:"Projects",defaultTemplate:" New project started: {{name}} with {{teamSize}} team members",variables:["name","teamSize","deadline","owner"]},{event:"invoice.paid",label:"Invoice Paid",category:"Finance",defaultTemplate:" Invoice paid: {{invoiceNumber}} for ${{amount}}",variables:["invoiceNumber","amount","client","paymentMethod"]},{event:"proposal.accepted",label:"Proposal Accepted",category:"Business",defaultTemplate:" Proposal accepted: {{title}} worth ${{value}}",variables:["title","value","client","acceptedBy"]},{event:"user.joined",label:"User Joined",category:"Team",defaultTemplate:" {{name}} joined the team as {{role}}",variables:["name","role","department","startDate"]},{event:"deadline.approaching",label:"Deadline Approaching",category:"Alerts",defaultTemplate:" Deadline approaching: {{title}} due in {{daysRemaining}} days",variables:["title","daysRemaining","assignee","priority"]},{event:"milestone.reached",label:"Milestone Reached",category:"Projects",defaultTemplate:" Milestone achieved: {{milestone}} for {{project}}",variables:["milestone","project","progress","team"]}];function Ywt(){er();const{toast:e}=mt(),[t,n]=b.useState("integrations"),[r,a]=b.useState(!1);b.useState(!1);const[i,o]=b.useState(!1),[l,c]=b.useState(null),[d,u]=b.useState(null),[h,f]=b.useState({name:"",workspaceName:"",webhookUrl:"",defaultChannel:"#general",botToken:""});b.useState({name:"",description:"",isPrivate:!1});const[g,m]=b.useState({event:"task.created",channel:"#general",template:" Test notification from Gigster Garage",data:{title:"Test Task",assignee:"John Doe",priority:"high"}}),{data:p=[]}=he({queryKey:["/api/slack/integrations"]}),{data:x=[]}=he({queryKey:["/api/slack/notifications"],refetchInterval:5e3}),{data:v}=he({queryKey:["/api/slack/statistics"]}),y=Se({mutationFn:async P=>(await ke("POST","/api/slack/integrations",P)).json(),onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/slack/integrations"]}),a(!1),k(),e({title:"Slack Integration Created",description:"Integration has been configured successfully"})}}),j=Se({mutationFn:async({id:P,data:C})=>(await ke("PATCH",`/api/slack/integrations/${P}`,C)).json(),onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/slack/integrations"]})}}),N=Se({mutationFn:async({integrationId:P,data:C})=>(await ke("POST",`/api/slack/integrations/${P}/test`,C)).json(),onSuccess:()=>{e({title:"Test Message Sent",description:"Test notification has been sent to Slack successfully"})},onError:()=>{e({title:"Test Failed",description:"Failed to send test notification. Check your configuration.",variant:"destructive"})}}),w=Se({mutationFn:async P=>(await ke("POST","/api/slack/validate-webhook",{webhookUrl:P})).json(),onSuccess:P=>{e({title:"Webhook Validated",description:`Connected to workspace: ${P.workspaceName}`}),f(C=>({...C,workspaceName:P.workspaceName}))},onError:()=>{e({title:"Webhook Validation Failed",description:"Invalid webhook URL or connection failed",variant:"destructive"})}}),S=()=>{if(!h.name||!h.webhookUrl){e({title:"Missing Information",description:"Please provide integration name and webhook URL",variant:"destructive"});return}const P={name:h.name,workspaceName:h.workspaceName,webhookUrl:h.webhookUrl,defaultChannel:h.defaultChannel,botToken:h.botToken||void 0,eventMappings:DW.slice(0,3).map(C=>({event:C.event,channel:h.defaultChannel,template:C.defaultTemplate,enabled:!0,priority:"medium"}))};y.mutate(P)},k=()=>{f({name:"",workspaceName:"",webhookUrl:"",defaultChannel:"#general",botToken:""})},_=(P,C,A)=>{const E=p.find($=>$.id===P);if(!E)return;const I=E.eventMappings.map($=>$.event===C?{...$,...A}:$);j.mutate({id:P,data:{eventMappings:I}})},T=P=>{switch(P){case"sent":return"bg-green-100 text-green-800 border-green-200";case"failed":return"bg-red-100 text-red-800 border-red-200";case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-pink-50",children:[s.jsx(pt,{}),s.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Slack Integration"}),s.jsx("p",{className:"text-gray-600",children:"Connect your workspace to receive notifications and updates"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[v&&s.jsxs(s.Fragment,{children:[s.jsxs(Z,{variant:"secondary",className:"bg-purple-100 text-purple-800",children:[s.jsx(li,{className:"h-3 w-3 mr-1"}),p.length," workspace(s)"]}),s.jsxs(Z,{variant:"secondary",className:"bg-green-100 text-green-800",children:[s.jsx(Bt,{className:"h-3 w-3 mr-1"}),v.totalSent," sent today"]})]}),s.jsxs(D,{onClick:()=>a(!0),className:"bg-purple-600 hover:bg-purple-700","data-testid":"button-add-integration",children:[s.jsx(st,{className:"h-4 w-4 mr-2"}),"Add Integration"]})]})]}),v&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx(B,{children:s.jsx(q,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Integrations"}),s.jsx("div",{className:"text-2xl font-bold text-purple-600 mt-1",children:p.filter(P=>P.isActive).length})]}),s.jsx("div",{className:"h-12 w-12 bg-purple-100 rounded-full flex items-center justify-center",children:s.jsx(li,{className:"h-6 w-6 text-purple-600"})})]})})}),s.jsx(B,{children:s.jsx(q,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Messages Sent"}),s.jsx("div",{className:"text-2xl font-bold text-green-600 mt-1",children:v.totalSent})]}),s.jsx("div",{className:"h-12 w-12 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(Hr,{className:"h-6 w-6 text-green-600"})})]})})}),s.jsx(B,{children:s.jsx(q,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Success Rate"}),s.jsxs("div",{className:"text-2xl font-bold text-green-600 mt-1",children:[Math.round(v.successRate),"%"]})]}),s.jsx("div",{className:"h-12 w-12 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(Bt,{className:"h-6 w-6 text-green-600"})})]})})}),s.jsx(B,{children:s.jsx(q,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Failed Today"}),s.jsx("div",{className:"text-2xl font-bold text-red-600 mt-1",children:v.failedToday||0})]}),s.jsx("div",{className:"h-12 w-12 bg-red-100 rounded-full flex items-center justify-center",children:s.jsx(hs,{className:"h-6 w-6 text-red-600"})})]})})})]}),s.jsxs(Kn,{value:t,onValueChange:n,children:[s.jsxs(Mn,{className:"grid w-full grid-cols-4",children:[s.jsx(Re,{value:"integrations",children:"Integrations"}),s.jsx(Re,{value:"events",children:"Event Mapping"}),s.jsx(Re,{value:"notifications",children:"Notifications"}),s.jsx(Re,{value:"templates",children:"Templates"})]}),s.jsx(Fe,{value:"integrations",className:"space-y-6",children:s.jsx("div",{className:"space-y-4",children:p.length===0?s.jsxs(B,{className:"p-12 text-center",children:[s.jsx(li,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Slack Integrations"}),s.jsx("p",{className:"text-gray-500 mb-6",children:"Connect your Slack workspace to receive notifications"}),s.jsxs(D,{onClick:()=>a(!0),className:"bg-purple-600 hover:bg-purple-700",children:[s.jsx(st,{className:"h-4 w-4 mr-2"}),"Add First Integration"]})]}):p.map(P=>s.jsx(B,{children:s.jsx(q,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[s.jsx("div",{className:"h-10 w-10 bg-purple-100 rounded-full flex items-center justify-center",children:s.jsx(li,{className:"h-5 w-5 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-lg",children:P.name}),s.jsxs("div",{className:"text-sm text-gray-600",children:["Workspace: ",P.workspaceName,"  Default: ",P.defaultChannel]})]})]}),s.jsxs("div",{className:"ml-13 grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx(W,{className:"text-sm text-gray-600",children:"Messages Sent"}),s.jsx("div",{className:"text-sm font-medium",children:P.statistics.totalSent})]}),s.jsxs("div",{children:[s.jsx(W,{className:"text-sm text-gray-600",children:"Success Rate"}),s.jsxs("div",{className:"text-sm font-medium",children:[Math.round(P.statistics.successRate),"%"]})]}),s.jsxs("div",{children:[s.jsx(W,{className:"text-sm text-gray-600",children:"Active Events"}),s.jsx("div",{className:"text-sm font-medium",children:P.eventMappings.filter(C=>C.enabled).length})]}),s.jsxs("div",{children:[s.jsx(W,{className:"text-sm text-gray-600",children:"Last Sent"}),s.jsx("div",{className:"text-sm font-medium",children:P.statistics.lastSent?Me(ci(P.statistics.lastSent),"MMM d, h:mm a"):"Never"})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(D,{variant:"outline",size:"sm",onClick:()=>{c(P),N.mutate({integrationId:P.id,data:g})},disabled:N.isPending,children:s.jsx(cn,{className:"h-4 w-4"})}),s.jsx(jr,{checked:P.isActive,onCheckedChange:C=>{j.mutate({id:P.id,data:{isActive:C}})},"data-testid":`switch-integration-${P.id}`}),s.jsx(D,{variant:"ghost",size:"sm",children:s.jsx(fn,{className:"h-4 w-4"})})]})]})})},P.id))})}),s.jsx(Fe,{value:"events",className:"space-y-6",children:p.length===0?s.jsxs(B,{className:"p-12 text-center",children:[s.jsx(dr,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Integrations Available"}),s.jsx("p",{className:"text-gray-500 mb-6",children:"Create a Slack integration first to configure event mappings"}),s.jsxs(D,{onClick:()=>a(!0),children:[s.jsx(st,{className:"h-4 w-4 mr-2"}),"Add Integration"]})]}):s.jsx("div",{className:"space-y-6",children:p.map(P=>s.jsxs(B,{children:[s.jsxs(ae,{children:[s.jsxs(ie,{className:"flex items-center space-x-2",children:[s.jsx(li,{className:"h-5 w-5"}),s.jsx("span",{children:P.name}),s.jsx(Z,{variant:P.isActive?"default":"secondary",children:P.isActive?"Active":"Inactive"})]}),s.jsx(Lt,{children:"Configure which events trigger Slack notifications for this workspace"})]}),s.jsx(q,{children:s.jsx("div",{className:"space-y-4",children:DW.map(C=>{const A=P.eventMappings.find(E=>E.event===C.event)||{event:C.event,channel:P.defaultChannel,template:C.defaultTemplate,enabled:!1,priority:"medium"};return s.jsxs("div",{className:"flex items-center space-x-4 p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(es,{checked:A.enabled,onCheckedChange:E=>{_(P.id,C.event,{enabled:E})}}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:C.label}),s.jsx("div",{className:"text-sm text-gray-500",children:C.category})]})]}),A.enabled&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex-1",children:s.jsxs(Ke,{value:A.channel,onValueChange:E=>{_(P.id,C.event,{channel:E})},children:[s.jsx(He,{className:"w-full",children:s.jsx(Ge,{placeholder:"Select channel"})}),s.jsxs(qe,{children:[s.jsx(Q,{value:"#general",children:"#general"}),s.jsx(Q,{value:"#notifications",children:"#notifications"}),s.jsx(Q,{value:"#alerts",children:"#alerts"}),s.jsx(Q,{value:"#team",children:"#team"})]})]})}),s.jsx("div",{children:s.jsxs(Ke,{value:A.priority,onValueChange:E=>{_(P.id,C.event,{priority:E})},children:[s.jsx(He,{className:"w-32",children:s.jsx(Ge,{})}),s.jsxs(qe,{children:[s.jsx(Q,{value:"low",children:"Low"}),s.jsx(Q,{value:"medium",children:"Medium"}),s.jsx(Q,{value:"high",children:"High"}),s.jsx(Q,{value:"urgent",children:"Urgent"})]})]})}),s.jsx(D,{variant:"outline",size:"sm",onClick:()=>{u(C),o(!0)},children:s.jsx(Or,{className:"h-4 w-4"})})]})]},C.event)})})})]},P.id))})}),s.jsxs(Fe,{value:"notifications",className:"space-y-6",children:[s.jsx(B,{children:s.jsx(q,{className:"p-6",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Ya,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(te,{placeholder:"Search notifications...",className:"pl-10"})]}),s.jsxs(D,{variant:"outline",children:[s.jsx(rc,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})})}),s.jsx("div",{className:"space-y-4",children:x.length===0?s.jsxs(B,{className:"p-12 text-center",children:[s.jsx(Yf,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Notifications"}),s.jsx("p",{className:"text-gray-500",children:"Slack notifications will appear here once events are triggered"})]}):x.map(P=>s.jsx(B,{children:s.jsx(q,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("div",{className:"h-8 w-8 bg-purple-100 rounded-full flex items-center justify-center",children:s.jsx(au,{className:"h-4 w-4 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:P.event}),s.jsxs("div",{className:"text-sm text-gray-600",children:["Channel: ",P.channel]})]})]}),s.jsxs("div",{className:"ml-11",children:[s.jsx("p",{className:"text-gray-700 text-sm mb-3",children:P.message}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[s.jsx("span",{children:P.sentAt?Me(ci(P.sentAt),"MMM d, yyyy h:mm a"):"Not sent yet"}),s.jsxs("span",{children:["Attempts: ",P.attempts]}),P.error&&s.jsxs("span",{className:"text-red-600",children:["Error: ",P.error]})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Z,{className:T(P.status),children:P.status}),s.jsx(D,{variant:"ghost",size:"sm",children:s.jsx(fn,{className:"h-4 w-4"})})]})]})})},P.id))})]}),s.jsx(Fe,{value:"templates",className:"space-y-6",children:s.jsxs(B,{className:"p-12 text-center",children:[s.jsx(nt,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Message Templates"}),s.jsx("p",{className:"text-gray-500 mb-6",children:"Customize notification messages for different events"}),s.jsxs(D,{variant:"outline",children:[s.jsx(st,{className:"h-4 w-4 mr-2"}),"Create Template"]})]})})]}),s.jsx(ut,{open:r,onOpenChange:a,children:s.jsxs(lt,{className:"max-w-2xl",children:[s.jsxs(ct,{children:[s.jsx(dt,{children:"Add Slack Integration"}),s.jsx(Gt,{children:"Connect your Slack workspace to receive notifications"})]}),s.jsxs("div",{className:"grid gap-6 py-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"integrationName",children:"Integration Name *"}),s.jsx(te,{id:"integrationName",value:h.name,onChange:P=>f(C=>({...C,name:P.target.value})),placeholder:"Team Notifications","data-testid":"input-integration-name"})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"webhookUrl",children:"Slack Webhook URL *"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(te,{id:"webhookUrl",value:h.webhookUrl,onChange:P=>f(C=>({...C,webhookUrl:P.target.value})),placeholder:"https://hooks.slack.com/services/...",className:"font-mono text-sm","data-testid":"input-webhook-url"}),s.jsx(D,{variant:"outline",onClick:()=>w.mutate(h.webhookUrl),disabled:!h.webhookUrl||w.isPending,children:w.isPending?"Validating...":"Validate"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Create an incoming webhook in your Slack workspace settings"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"workspaceName",children:"Workspace Name"}),s.jsx(te,{id:"workspaceName",value:h.workspaceName,onChange:P=>f(C=>({...C,workspaceName:P.target.value})),placeholder:"My Team"})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"defaultChannel",children:"Default Channel"}),s.jsx(te,{id:"defaultChannel",value:h.defaultChannel,onChange:P=>f(C=>({...C,defaultChannel:P.target.value})),placeholder:"#general"})]})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"botToken",children:"Bot Token (Optional)"}),s.jsx(te,{id:"botToken",value:h.botToken,onChange:P=>f(C=>({...C,botToken:P.target.value})),placeholder:"xoxb-...",className:"font-mono text-sm"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"For advanced features like channel listing and user mentions"})]}),s.jsxs(r6,{children:[s.jsx(hs,{className:"h-4 w-4"}),s.jsxs(s6,{children:[s.jsx("strong",{children:"Setup Instructions:"}),s.jsxs("ol",{className:"list-decimal list-inside mt-2 space-y-1 text-sm",children:[s.jsx("li",{children:"Go to your Slack workspace settings"}),s.jsx("li",{children:"Navigate to Apps  Incoming Webhooks"}),s.jsx("li",{children:"Create a new webhook for your desired channel"}),s.jsx("li",{children:"Copy the webhook URL and paste it above"})]})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(D,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),s.jsx(D,{onClick:S,disabled:y.isPending,className:"bg-purple-600 hover:bg-purple-700","data-testid":"button-create-integration",children:y.isPending?"Creating...":"Create Integration"})]})]})}),s.jsx(ut,{open:i,onOpenChange:o,children:s.jsxs(lt,{className:"max-w-2xl",children:[s.jsxs(ct,{children:[s.jsx(dt,{children:"Edit Message Template"}),s.jsxs(Gt,{children:["Customize the notification message for ",d==null?void 0:d.label]})]}),d&&s.jsxs("div",{className:"grid gap-6 py-4",children:[s.jsxs("div",{children:[s.jsx(W,{children:"Available Variables"}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:d.variables.map(P=>s.jsx(Z,{variant:"outline",className:"font-mono text-xs",children:`{{${P}}}`},P))})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"template",children:"Message Template"}),s.jsx(it,{id:"template",defaultValue:d.defaultTemplate,placeholder:"Enter your custom template...",rows:4,className:"font-mono text-sm"})]}),s.jsxs("div",{children:[s.jsx(W,{children:"Preview"}),s.jsx("div",{className:"p-3 border rounded-lg bg-gray-50 font-mono text-sm",children:d.defaultTemplate.replace(/\{\{(\w+)\}\}/g,(P,C)=>({title:"Fix login bug",assignee:"John Doe",priority:"high",project:"Website Redesign",amount:"2,500",client:"Acme Corp"})[C]||P)})]})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(D,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),s.jsx(D,{className:"bg-purple-600 hover:bg-purple-700",children:"Save Template"})]})]})})]})]})}function Xwt(){er();const{toast:e}=mt(),[t,n]=b.useState("overview"),[r,a]=b.useState("60"),[i,o]=b.useState(!1),[l,c]=b.useState("*"),[d,u]=b.useState(""),{data:h}=he({queryKey:["/api/performance/metrics"],refetchInterval:5e3}),{data:f=[]}=he({queryKey:["/api/performance/metrics/history",r],refetchInterval:3e4}),{data:g=[]}=he({queryKey:["/api/performance/alerts"],refetchInterval:1e4}),{data:m}=he({queryKey:["/api/performance/summary"],refetchInterval:3e4}),{data:p}=he({queryKey:["/api/cache/stats"],refetchInterval:1e4}),{data:x}=he({queryKey:["/api/cache/keys",l],enabled:i}),v=Se({mutationFn:async C=>(await ke("POST",`/api/performance/alerts/${C}/resolve`,{})).json(),onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/performance/alerts"]}),e({title:"Alert Resolved",description:"Performance alert has been resolved"})}}),y=Se({mutationFn:async()=>(await ke("POST","/api/cache/flush",{})).json(),onSuccess:()=>{rt.invalidateQueries({queryKey:["/api/cache"]}),e({title:"Cache Flushed",description:"All cache entries have been cleared"})}}),j=Se({mutationFn:async()=>{const C={};return l&&l!=="*"&&(C.pattern=l),d.trim()&&(C.tags=d.split(",").map(E=>E.trim())),(await ke("POST","/api/cache/invalidate",C)).json()},onSuccess:C=>{rt.invalidateQueries({queryKey:["/api/cache"]}),o(!1),e({title:"Cache Invalidated",description:C.message})}}),N=Se({mutationFn:async C=>{const A=await fetch(`/api/performance/export?format=${C}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!A.ok)throw new Error("Export failed");const E=await A.blob(),I=window.URL.createObjectURL(E),$=document.createElement("a");$.href=I,$.download=`performance-metrics.${C==="prometheus"?"txt":"json"}`,document.body.appendChild($),$.click(),document.body.removeChild($),window.URL.revokeObjectURL(I)},onSuccess:()=>{e({title:"Export Complete",description:"Performance metrics have been exported"})}}),w=C=>{switch(C){case"critical":return"bg-red-100 text-red-800 border-red-200";case"high":return"bg-orange-100 text-orange-800 border-orange-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},S=C=>C>=90?"text-green-600":C>=80?"text-green-500":C>=70?"text-yellow-600":C>=60?"text-orange-600":"text-red-600",k=C=>{if(C===0)return"0 B";const A=1024,E=["B","KB","MB","GB"],I=Math.floor(Math.log(C)/Math.log(A));return parseFloat((C/Math.pow(A,I)).toFixed(2))+" "+E[I]},_=f.map(C=>({time:Me(new Date(C.timestamp),"HH:mm"),average:C.responseTime.average,p95:C.responseTime.p95,p99:C.responseTime.p99})),T=f.map(C=>({time:Me(new Date(C.timestamp),"HH:mm"),rps:C.throughput.requestsPerSecond,errorRate:C.errors.rate})),P=f.map(C=>({time:Me(new Date(C.timestamp),"HH:mm"),cpu:C.resources.cpuUsage,memory:C.resources.memoryUsage,disk:C.resources.diskUsage}));return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50",children:[s.jsx(pt,{}),s.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Performance Dashboard"}),s.jsx("p",{className:"text-gray-600",children:"Real-time system performance monitoring and optimization"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[m&&s.jsxs(s.Fragment,{children:[s.jsxs(Z,{variant:"secondary",className:`${m.health.status==="healthy"?"bg-green-100 text-green-800":m.health.status==="warning"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[s.jsx(us,{className:"h-3 w-3 mr-1"}),m.health.status]}),s.jsxs(Z,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:[s.jsx(JQ,{className:"h-3 w-3 mr-1"}),"Health: ",m.health.score,"%"]})]}),s.jsxs(Ke,{value:r,onValueChange:a,children:[s.jsx(He,{className:"w-32",children:s.jsx(Ge,{})}),s.jsxs(qe,{children:[s.jsx(Q,{value:"30",children:"30m"}),s.jsx(Q,{value:"60",children:"1h"}),s.jsx(Q,{value:"180",children:"3h"}),s.jsx(Q,{value:"360",children:"6h"}),s.jsx(Q,{value:"720",children:"12h"}),s.jsx(Q,{value:"1440",children:"24h"})]})]}),s.jsxs(D,{onClick:()=>N.mutate("json"),variant:"outline",size:"sm","data-testid":"button-export-metrics",children:[s.jsx(kn,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),h&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx(B,{children:s.jsx(q,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Response Time"}),s.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[Math.round(h.responseTime.average),"ms"]}),s.jsxs("p",{className:"text-xs text-gray-500",children:["P95: ",Math.round(h.responseTime.p95),"ms"]})]}),s.jsx("div",{className:"h-12 w-12 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(bt,{className:"h-6 w-6 text-blue-600"})})]})})}),s.jsx(B,{children:s.jsx(q,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Throughput"}),s.jsx("div",{className:"text-2xl font-bold text-green-600",children:h.throughput.requestsPerSecond.toFixed(1)}),s.jsx("p",{className:"text-xs text-gray-500",children:"req/sec"})]}),s.jsx("div",{className:"h-12 w-12 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(cn,{className:"h-6 w-6 text-green-600"})})]})})}),s.jsx(B,{children:s.jsx(q,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Error Rate"}),s.jsxs("div",{className:`text-2xl font-bold ${h.errors.rate>5?"text-red-600":"text-green-600"}`,children:[h.errors.rate.toFixed(2),"%"]}),s.jsxs("p",{className:"text-xs text-gray-500",children:[h.errors.total," errors"]})]}),s.jsx("div",{className:`h-12 w-12 rounded-full flex items-center justify-center ${h.errors.rate>5?"bg-red-100":"bg-green-100"}`,children:s.jsx(ur,{className:`h-6 w-6 ${h.errors.rate>5?"text-red-600":"text-green-600"}`})})]})})}),s.jsx(B,{children:s.jsx(q,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Cache Hit Rate"}),s.jsxs("div",{className:`text-2xl font-bold ${S(h.cache.hitRate)}`,children:[h.cache.hitRate.toFixed(1),"%"]}),s.jsx("p",{className:"text-xs text-gray-500",children:"cache performance"})]}),s.jsx("div",{className:"h-12 w-12 bg-purple-100 rounded-full flex items-center justify-center",children:s.jsx(nS,{className:"h-6 w-6 text-purple-600"})})]})})})]}),g.length>0&&s.jsxs(B,{className:"mb-8",children:[s.jsx(ae,{children:s.jsxs(ie,{className:"flex items-center",children:[s.jsx(ur,{className:"h-5 w-5 mr-2 text-red-600"}),"Active Alerts (",g.filter(C=>!C.resolved).length,")"]})}),s.jsx(q,{children:s.jsx("div",{className:"space-y-4",children:g.filter(C=>!C.resolved).map(C=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx(Z,{variant:"outline",className:w(C.severity),children:C.severity}),s.jsx("h4",{className:"font-semibold",children:C.title})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:C.description}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Current: ",C.currentValue.toFixed(2)," | Threshold: ",C.threshold," | Triggered: ",Me(new Date(C.timestamp),"MMM d, HH:mm")]})]}),s.jsxs(D,{onClick:()=>v.mutate(C.id),disabled:v.isPending,size:"sm",variant:"outline","data-testid":`button-resolve-alert-${C.id}`,children:[s.jsx(Bt,{className:"h-4 w-4 mr-2"}),"Resolve"]})]},C.id))})})]}),s.jsxs(Kn,{value:t,onValueChange:n,children:[s.jsxs(Mn,{className:"grid w-full grid-cols-4",children:[s.jsx(Re,{value:"overview",children:"System Overview"}),s.jsx(Re,{value:"performance",children:"Performance Metrics"}),s.jsx(Re,{value:"cache",children:"Cache Management"}),s.jsx(Re,{value:"alerts",children:"Alert History"})]}),s.jsxs(Fe,{value:"overview",className:"space-y-6",children:[h&&s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(B,{children:[s.jsx(ae,{children:s.jsxs(ie,{className:"flex items-center",children:[s.jsx(C0e,{className:"h-5 w-5 mr-2"}),"Resource Utilization"]})}),s.jsx(q,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsxs("span",{className:"text-sm font-medium flex items-center",children:[s.jsx(ZQ,{className:"h-4 w-4 mr-2"}),"CPU Usage"]}),s.jsxs("span",{className:`font-medium ${S(100-h.resources.cpuUsage)}`,children:[h.resources.cpuUsage.toFixed(1),"%"]})]}),s.jsx(bn,{value:h.resources.cpuUsage,className:"h-2"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsxs("span",{className:"text-sm font-medium flex items-center",children:[s.jsx(z3,{className:"h-4 w-4 mr-2"}),"Memory Usage"]}),s.jsxs("span",{className:`font-medium ${S(100-h.resources.memoryUsage)}`,children:[h.resources.memoryUsage.toFixed(1),"%"]})]}),s.jsx(bn,{value:h.resources.memoryUsage,className:"h-2"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsxs("span",{className:"text-sm font-medium flex items-center",children:[s.jsx(qE,{className:"h-4 w-4 mr-2"}),"Disk Usage"]}),s.jsxs("span",{className:`font-medium ${S(100-h.resources.diskUsage)}`,children:[h.resources.diskUsage.toFixed(1),"%"]})]}),s.jsx(bn,{value:h.resources.diskUsage,className:"h-2"})]})]})})]}),s.jsxs(B,{children:[s.jsx(ae,{children:s.jsxs(ie,{className:"flex items-center",children:[s.jsx(nS,{className:"h-5 w-5 mr-2"}),"Database Performance"]})}),s.jsx(q,{children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[Math.round(h.database.queryTime),"ms"]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Avg Query Time"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:h.database.connectionPool}),s.jsx("div",{className:"text-sm text-gray-600",children:"Connections"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:h.database.activeQueries}),s.jsx("div",{className:"text-sm text-gray-600",children:"Active Queries"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`text-2xl font-bold ${h.database.slowQueries>0?"text-red-600":"text-green-600"}`,children:h.database.slowQueries}),s.jsx("div",{className:"text-sm text-gray-600",children:"Slow Queries"})]})]})})]})]}),P.length>0&&s.jsxs(B,{children:[s.jsx(ae,{children:s.jsx(ie,{children:"Resource Usage Trends"})}),s.jsx(q,{children:s.jsx(df,{width:"100%",height:300,children:s.jsxs(WI,{data:P,children:[s.jsx(zl,{strokeDasharray:"3 3"}),s.jsx(Ba,{dataKey:"time"}),s.jsx(Na,{domain:[0,100]}),s.jsx(Gs,{}),s.jsx(Gl,{}),s.jsx(Ji,{type:"monotone",dataKey:"cpu",stackId:"1",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.3}),s.jsx(Ji,{type:"monotone",dataKey:"memory",stackId:"1",stroke:"#10b981",fill:"#10b981",fillOpacity:.3}),s.jsx(Ji,{type:"monotone",dataKey:"disk",stackId:"1",stroke:"#f59e0b",fill:"#f59e0b",fillOpacity:.3})]})})})]})]}),s.jsxs(Fe,{value:"performance",className:"space-y-6",children:[_.length>0&&s.jsxs(B,{children:[s.jsx(ae,{children:s.jsx(ie,{children:"Response Time Trends"})}),s.jsx(q,{children:s.jsx(df,{width:"100%",height:300,children:s.jsxs(qO,{data:_,children:[s.jsx(zl,{strokeDasharray:"3 3"}),s.jsx(Ba,{dataKey:"time"}),s.jsx(Na,{}),s.jsx(Gs,{}),s.jsx(Gl,{}),s.jsx(Rl,{type:"monotone",dataKey:"average",stroke:"#3b82f6",strokeWidth:2}),s.jsx(Rl,{type:"monotone",dataKey:"p95",stroke:"#f59e0b",strokeWidth:2}),s.jsx(Rl,{type:"monotone",dataKey:"p99",stroke:"#ef4444",strokeWidth:2})]})})})]}),T.length>0&&s.jsxs(B,{children:[s.jsx(ae,{children:s.jsx(ie,{children:"Throughput & Error Rate"})}),s.jsx(q,{children:s.jsx(df,{width:"100%",height:300,children:s.jsxs(qO,{data:T,children:[s.jsx(zl,{strokeDasharray:"3 3"}),s.jsx(Ba,{dataKey:"time"}),s.jsx(Na,{yAxisId:"left"}),s.jsx(Na,{yAxisId:"right",orientation:"right"}),s.jsx(Gs,{}),s.jsx(Gl,{}),s.jsx(Rl,{yAxisId:"left",type:"monotone",dataKey:"rps",stroke:"#10b981",strokeWidth:2}),s.jsx(Rl,{yAxisId:"right",type:"monotone",dataKey:"errorRate",stroke:"#ef4444",strokeWidth:2})]})})})]})]}),s.jsxs(Fe,{value:"cache",className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Cache Management"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Monitor and manage application cache performance"})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(D,{onClick:()=>o(!0),variant:"outline","data-testid":"button-invalidate-cache",children:[s.jsx(Jn,{className:"h-4 w-4 mr-2"}),"Invalidate"]}),s.jsxs(D,{onClick:()=>y.mutate(),disabled:y.isPending,variant:"destructive","data-testid":"button-flush-cache",children:[s.jsx(Sh,{className:"h-4 w-4 mr-2"}),"Flush All"]})]})]}),p&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(B,{children:s.jsxs(q,{className:"p-6 text-center",children:[s.jsx(X2,{className:"h-8 w-8 mx-auto mb-3 text-blue-600"}),s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:p.totalKeys.toLocaleString()}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Keys"})]})}),s.jsx(B,{children:s.jsxs(q,{className:"p-6 text-center",children:[s.jsx(z3,{className:"h-8 w-8 mx-auto mb-3 text-green-600"}),s.jsx("div",{className:"text-2xl font-bold text-green-600",children:k(p.usedMemory)}),s.jsx("div",{className:"text-sm text-gray-600",children:"Memory Used"})]})}),s.jsx(B,{children:s.jsxs(q,{className:"p-6 text-center",children:[s.jsx(fn,{className:"h-8 w-8 mx-auto mb-3 text-purple-600"}),s.jsxs("div",{className:`text-2xl font-bold ${S(p.hitRate)}`,children:[p.hitRate.toFixed(1),"%"]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Hit Rate"})]})}),s.jsx(B,{children:s.jsxs(q,{className:"p-6 text-center",children:[s.jsx(gj,{className:"h-8 w-8 mx-auto mb-3 text-orange-600"}),s.jsx("div",{className:"text-2xl font-bold text-orange-600",children:p.operationsPerSecond.toFixed(1)}),s.jsx("div",{className:"text-sm text-gray-600",children:"Ops/Sec"})]})})]}),s.jsxs(B,{children:[s.jsx(ae,{children:s.jsx(ie,{children:"Cache Performance"})}),s.jsx(q,{children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"Hit vs Miss Rate"}),p&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Hits"}),s.jsxs("span",{className:"text-green-600 font-medium",children:[p.hitRate.toFixed(1),"%"]})]}),s.jsx(bn,{value:p.hitRate,className:"h-3"}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Misses"}),s.jsxs("span",{className:"text-red-600 font-medium",children:[p.missRate.toFixed(1),"%"]})]}),s.jsx(bn,{value:p.missRate,className:"h-3"})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"Performance Metrics"}),p&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Avg Response Time"}),s.jsxs("span",{className:"font-medium",children:[p.averageResponseTime.toFixed(2),"ms"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Evictions"}),s.jsx("span",{className:"font-medium",children:p.evictionCount})]})]})]})]})})]})]}),s.jsx(Fe,{value:"alerts",className:"space-y-6",children:s.jsxs(B,{children:[s.jsxs(ae,{children:[s.jsx(ie,{children:"Alert History"}),s.jsx(Lt,{children:"All performance alerts including resolved ones"})]}),s.jsx(q,{children:g.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Bt,{className:"h-12 w-12 mx-auto mb-4 text-green-500"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"No Alerts"}),s.jsx("p",{className:"text-gray-500",children:"System is performing well with no alerts triggered"})]}):s.jsx("div",{className:"space-y-4",children:g.map(C=>s.jsx("div",{className:`p-4 border rounded-lg ${C.resolved?"bg-gray-50":"bg-white"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx(Z,{variant:"outline",className:w(C.severity),children:C.severity}),s.jsx("h4",{className:`font-semibold ${C.resolved?"text-gray-600":"text-gray-900"}`,children:C.title}),C.resolved&&s.jsx(Z,{variant:"secondary",className:"bg-green-100 text-green-800",children:"Resolved"})]}),s.jsx("p",{className:`text-sm mb-2 ${C.resolved?"text-gray-500":"text-gray-600"}`,children:C.description}),s.jsxs("div",{className:"text-xs text-gray-400",children:["Triggered: ",Me(new Date(C.timestamp),"MMM d, yyyy HH:mm")," | Current: ",C.currentValue.toFixed(2)," | Threshold: ",C.threshold,C.resolvedAt&&s.jsxs(s.Fragment,{children:[" | Resolved: ",Me(new Date(C.resolvedAt),"MMM d, yyyy HH:mm")]})]})]}),!C.resolved&&s.jsxs(D,{onClick:()=>v.mutate(C.id),disabled:v.isPending,size:"sm",variant:"outline",children:[s.jsx(Bt,{className:"h-4 w-4 mr-2"}),"Resolve"]})]})},C.id))})})]})})]}),s.jsx(ut,{open:i,onOpenChange:o,children:s.jsxs(lt,{children:[s.jsxs(ct,{children:[s.jsxs(dt,{className:"flex items-center",children:[s.jsx(Jn,{className:"h-5 w-5 mr-2 text-red-600"}),"Invalidate Cache"]}),s.jsx(Gt,{children:"Remove specific cache entries by pattern or tags"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(W,{children:"Pattern (optional)"}),s.jsx(te,{value:l,onChange:C=>c(C.target.value),placeholder:"user:* or task:123 or leave * for all"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Use * for wildcards"})]}),s.jsxs("div",{children:[s.jsx(W,{children:"Tags (optional)"}),s.jsx(te,{value:d,onChange:C=>u(C.target.value),placeholder:"user-data,project-data"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Comma-separated tag list"})]}),x&&s.jsxs("div",{children:[s.jsxs(W,{children:["Matching Keys (",x.total,")"]}),s.jsxs("div",{className:"max-h-32 overflow-y-auto border rounded p-2 bg-gray-50",children:[x.keys.slice(0,20).map(C=>s.jsx("div",{className:"text-xs text-gray-600 font-mono",children:C},C)),x.total>20&&s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["...and ",x.total-20," more"]})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx(D,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),s.jsx(D,{onClick:()=>j.mutate(),disabled:j.isPending||!l&&!d.trim(),variant:"destructive","data-testid":"button-confirm-invalidate",children:j.isPending?s.jsxs(s.Fragment,{children:[s.jsx(rc,{className:"h-4 w-4 mr-2 animate-spin"}),"Invalidating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Jn,{className:"h-4 w-4 mr-2"}),"Invalidate"]})})]})]})})]})]})}function OW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function MW(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OW(Object(n),!0).forEach(function(r){cpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OW(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _1(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_1=function(t){return typeof t}:_1=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_1(e)}function cpe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qwt(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function Zwt(e,t){if(e==null)return{};var n=Qwt(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function dpe(e,t){return Jwt(e)||eNt(e,t)||tNt(e,t)||nNt()}function Jwt(e){if(Array.isArray(e))return e}function eNt(e,t){var n=e&&(typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"]);if(n!=null){var r=[],a=!0,i=!1,o,l;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(r.push(o.value),!(t&&r.length===t));a=!0);}catch(c){i=!0,l=c}finally{try{!a&&n.return!=null&&n.return()}finally{if(i)throw l}}return r}}function tNt(e,t){if(e){if(typeof e=="string")return RW(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RW(e,t)}}function RW(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nNt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var da=function(t,n,r){var a=!!r,i=O.useRef(r);O.useEffect(function(){i.current=r},[r]),O.useEffect(function(){if(!a||!t)return function(){};var o=function(){i.current&&i.current.apply(i,arguments)};return t.on(n,o),function(){t.off(n,o)}},[a,n,t,i])},g4=function(t){var n=O.useRef(t);return O.useEffect(function(){n.current=t},[t]),n.current},sv=function(t){return t!==null&&_1(t)==="object"},rNt=function(t){return sv(t)&&typeof t.then=="function"},sNt=function(t){return sv(t)&&typeof t.elements=="function"&&typeof t.createToken=="function"&&typeof t.createPaymentMethod=="function"&&typeof t.confirmCardPayment=="function"},$W="[object Object]",aNt=function e(t,n){if(!sv(t)||!sv(n))return t===n;var r=Array.isArray(t),a=Array.isArray(n);if(r!==a)return!1;var i=Object.prototype.toString.call(t)===$W,o=Object.prototype.toString.call(n)===$W;if(i!==o)return!1;if(!i&&!r)return t===n;var l=Object.keys(t),c=Object.keys(n);if(l.length!==c.length)return!1;for(var d={},u=0;u<l.length;u+=1)d[l[u]]=!0;for(var h=0;h<c.length;h+=1)d[c[h]]=!0;var f=Object.keys(d);if(f.length!==l.length)return!1;var g=t,m=n,p=function(v){return e(g[v],m[v])};return f.every(p)},upe=function(t,n,r){return sv(t)?Object.keys(t).reduce(function(a,i){var o=!sv(n)||!aNt(t[i],n[i]);return r.includes(i)?(o&&console.warn("Unsupported prop change: options.".concat(i," is not a mutable property.")),a):o?MW(MW({},a||{}),{},cpe({},i,t[i])):a},null):null},hpe="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",IW=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:hpe;if(t===null||sNt(t))return t;throw new Error(n)},iNt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:hpe;if(rNt(t))return{tag:"async",stripePromise:Promise.resolve(t).then(function(a){return IW(a,n)})};var r=IW(t,n);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},oNt=function(t){!t||!t._registerWrapper||!t.registerAppInfo||(t._registerWrapper({name:"react-stripe-js",version:"3.10.0"}),t.registerAppInfo({name:"react-stripe-js",version:"3.10.0",url:"https://stripe.com/docs/stripe-js/react"}))},lP=O.createContext(null);lP.displayName="ElementsContext";var fpe=function(t,n){if(!t)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return t},mpe=function(t){var n=t.stripe,r=t.options,a=t.children,i=O.useMemo(function(){return iNt(n)},[n]),o=O.useState(function(){return{stripe:i.tag==="sync"?i.stripe:null,elements:i.tag==="sync"?i.stripe.elements(r):null}}),l=dpe(o,2),c=l[0],d=l[1];O.useEffect(function(){var f=!0,g=function(p){d(function(x){return x.stripe?x:{stripe:p,elements:p.elements(r)}})};return i.tag==="async"&&!c.stripe?i.stripePromise.then(function(m){m&&f&&g(m)}):i.tag==="sync"&&!c.stripe&&g(i.stripe),function(){f=!1}},[i,c,r]);var u=g4(n);O.useEffect(function(){u!==null&&u!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[u,n]);var h=g4(r);return O.useEffect(function(){if(c.elements){var f=upe(r,h,["clientSecret","fonts"]);f&&c.elements.update(f)}},[r,h,c.elements]),O.useEffect(function(){oNt(c.stripe)},[c.stripe]),O.createElement(lP.Provider,{value:c},a)};mpe.propTypes={stripe:ce.any,options:ce.object};var lNt=function(t){var n=O.useContext(lP);return fpe(n,t)},cNt=function(){var t=lNt("calls useElements()"),n=t.elements;return n};ce.func.isRequired;var ppe=O.createContext(null);ppe.displayName="CheckoutSdkContext";var dNt=function(t,n){if(!t)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(n," in an <CheckoutProvider> provider."));return t},uNt=O.createContext(null);uNt.displayName="CheckoutContext";ce.any,ce.shape({fetchClientSecret:ce.func.isRequired,elementsOptions:ce.object}).isRequired;var v4=function(t){var n=O.useContext(ppe),r=O.useContext(lP);if(n&&r)throw new Error("You cannot wrap the part of your app that ".concat(t," in both <CheckoutProvider> and <Elements> providers."));return n?dNt(n,t):fpe(r,t)},hNt=["mode"],fNt=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},Ir=function(t,n){var r="".concat(fNt(t),"Element"),a=function(c){var d=c.id,u=c.className,h=c.options,f=h===void 0?{}:h,g=c.onBlur,m=c.onFocus,p=c.onReady,x=c.onChange,v=c.onEscape,y=c.onClick,j=c.onLoadError,N=c.onLoaderStart,w=c.onNetworksChange,S=c.onConfirm,k=c.onCancel,_=c.onShippingAddressChange,T=c.onShippingRateChange,P=c.onSavedPaymentMethodRemove,C=c.onSavedPaymentMethodUpdate,A=v4("mounts <".concat(r,">")),E="elements"in A?A.elements:null,I="checkoutSdk"in A?A.checkoutSdk:null,$=O.useState(null),U=dpe($,2),M=U[0],F=U[1],V=O.useRef(null),Y=O.useRef(null);da(M,"blur",g),da(M,"focus",m),da(M,"escape",v),da(M,"click",y),da(M,"loaderror",j),da(M,"loaderstart",N),da(M,"networkschange",w),da(M,"confirm",S),da(M,"cancel",k),da(M,"shippingaddresschange",_),da(M,"shippingratechange",T),da(M,"savedpaymentmethodremove",P),da(M,"savedpaymentmethodupdate",C),da(M,"change",x);var K;p&&(t==="expressCheckout"?K=p:K=function(){p(M)}),da(M,"ready",K),O.useLayoutEffect(function(){if(V.current===null&&Y.current!==null&&(E||I)){var L=null;if(I)switch(t){case"payment":L=I.createPaymentElement(f);break;case"address":if("mode"in f){var ee=f.mode,le=Zwt(f,hNt);if(ee==="shipping")L=I.createShippingAddressElement(le);else if(ee==="billing")L=I.createBillingAddressElement(le);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":L=I.createExpressCheckoutElement(f);break;case"currencySelector":L=I.createCurrencySelectorElement();break;case"taxId":L=I.createTaxIdElement(f);break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else E&&(L=E.create(t,f));V.current=L,F(L),L&&L.mount(Y.current)}},[E,I,f]);var z=g4(f);return O.useEffect(function(){if(V.current){var L=upe(f,z,["paymentRequest"]);L&&"update"in V.current&&V.current.update(L)}},[f,z]),O.useLayoutEffect(function(){return function(){if(V.current&&typeof V.current.destroy=="function")try{V.current.destroy(),V.current=null}catch{}}},[]),O.createElement("div",{id:d,className:u,ref:Y})},i=function(c){v4("mounts <".concat(r,">"));var d=c.id,u=c.className;return O.createElement("div",{id:d,className:u})},o=n?i:a;return o.propTypes={id:ce.string,className:ce.string,onChange:ce.func,onBlur:ce.func,onFocus:ce.func,onReady:ce.func,onEscape:ce.func,onClick:ce.func,onLoadError:ce.func,onLoaderStart:ce.func,onNetworksChange:ce.func,onConfirm:ce.func,onCancel:ce.func,onShippingAddressChange:ce.func,onShippingRateChange:ce.func,onSavedPaymentMethodRemove:ce.func,onSavedPaymentMethodUpdate:ce.func,options:ce.object},o.displayName=r,o.__elementType=t,o},Fr=typeof window>"u",mNt=O.createContext(null);mNt.displayName="EmbeddedCheckoutProviderContext";var pNt=function(){var t=v4("calls useStripe()"),n=t.stripe;return n};Ir("auBankAccount",Fr);Ir("card",Fr);Ir("cardNumber",Fr);Ir("cardExpiry",Fr);Ir("cardCvc",Fr);Ir("fpxBank",Fr);Ir("iban",Fr);Ir("idealBank",Fr);Ir("p24Bank",Fr);Ir("epsBank",Fr);var gNt=Ir("payment",Fr);Ir("expressCheckout",Fr);Ir("currencySelector",Fr);Ir("paymentRequestButton",Fr);Ir("linkAuthentication",Fr);Ir("address",Fr);Ir("shippingAddress",Fr);Ir("paymentMethodMessaging",Fr);Ir("affirmMessage",Fr);Ir("afterpayClearpayMessage",Fr);Ir("taxId",Fr);var gpe="basil",vNt=function(t){return t===3?"v3":t},vpe="https://js.stripe.com",xNt="".concat(vpe,"/").concat(gpe,"/stripe.js"),yNt=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,bNt=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,FW="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",jNt=function(t){return yNt.test(t)||bNt.test(t)},wNt=function(){for(var t=document.querySelectorAll('script[src^="'.concat(vpe,'"]')),n=0;n<t.length;n++){var r=t[n];if(jNt(r.src))return r}return null},LW=function(t){var n="",r=document.createElement("script");r.src="".concat(xNt).concat(n);var a=document.head||document.body;if(!a)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return a.appendChild(r),r},NNt=function(t,n){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"7.9.0",startTime:n})},Dx=null,$N=null,IN=null,SNt=function(t){return function(n){t(new Error("Failed to load Stripe.js",{cause:n}))}},CNt=function(t,n){return function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))}},kNt=function(t){return Dx!==null?Dx:(Dx=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe&&t&&console.warn(FW),window.Stripe){n(window.Stripe);return}try{var a=wNt();if(a&&t)console.warn(FW);else if(!a)a=LW(t);else if(a&&IN!==null&&$N!==null){var i;a.removeEventListener("load",IN),a.removeEventListener("error",$N),(i=a.parentNode)===null||i===void 0||i.removeChild(a),a=LW(t)}IN=CNt(n,r),$N=SNt(r),a.addEventListener("load",IN),a.addEventListener("error",$N)}catch(o){r(o);return}}),Dx.catch(function(n){return Dx=null,Promise.reject(n)}))},_Nt=function(t,n,r){if(t===null)return null;var a=n[0],i=a.match(/^pk_test/),o=vNt(t.version),l=gpe;i&&o!==l&&console.warn("Stripe.js@".concat(o," was loaded on the page, but @stripe/stripe-js@").concat("7.9.0"," expected Stripe.js@").concat(l,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var c=t.apply(void 0,n);return NNt(c,r),c},Ox,xpe=!1,ype=function(){return Ox||(Ox=kNt(null).catch(function(t){return Ox=null,Promise.reject(t)}),Ox)};Promise.resolve().then(function(){return ype()}).catch(function(e){xpe||console.warn(e)});var PNt=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];xpe=!0;var a=Date.now();return ype().then(function(i){return _Nt(i,n,a)})};const TNt=PNt("");function ANt({invoice:e,clientSecret:t}){const n=pNt(),r=cNt(),{toast:a}=mt();Fs();const[i,o]=b.useState(!1),l=async c=>{if(c.preventDefault(),!(!n||!r)){o(!0);try{const{error:d}=await n.confirmPayment({elements:r,confirmParams:{return_url:`${window.location.origin}/payment-success?invoice=${e.invoiceNumber}`}});d&&a({title:"Payment Failed",description:d.message,variant:"destructive"})}catch{a({title:"Payment Error",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{o(!1)}}};return s.jsxs("form",{onSubmit:l,className:"space-y-6",children:[s.jsx(gNt,{}),s.jsx(D,{type:"submit",disabled:!n||i,className:"w-full",size:"lg","data-testid":"button-submit-payment",children:i?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Processing Payment..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Wo,{className:"h-4 w-4 mr-2"}),"Pay $",e.totalAmount]})})]})}function ENt(){Fs(),mt();const t=new URLSearchParams(window.location.search).get("link");if(!t)return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:s.jsx(B,{className:"max-w-md w-full",children:s.jsx(q,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx(hs,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Invalid Payment Link"}),s.jsx("p",{className:"text-gray-600",children:"This payment link is invalid or has expired."})]})})})});const{data:n,isLoading:r,error:a}=he({queryKey:["/api/public/invoice",t],queryFn:async()=>{const l=await fetch(`/api/public/invoice/${t}`);if(!l.ok)throw new Error("Invoice not found or payment link expired");return l.json()}}),{data:i,isLoading:o}=he({queryKey:["/api/public/create-payment-intent",t],queryFn:async()=>{const l=await fetch("/api/public/create-payment-intent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({paymentLink:t})});if(!l.ok)throw new Error("Failed to create payment intent");return l.json()},enabled:!!n&&n.status!=="paid"});return r?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading invoice..."})]})}):a||!n?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:s.jsx(B,{className:"max-w-md w-full",children:s.jsx(q,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx(hs,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Invoice Not Found"}),s.jsx("p",{className:"text-gray-600",children:"This invoice doesn't exist or the payment link has expired."})]})})})}):n.status==="paid"?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:s.jsx(B,{className:"max-w-md w-full",children:s.jsx(q,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Bt,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Already Paid"}),s.jsxs("p",{className:"text-gray-600",children:["Invoice #",n.invoiceNumber," has already been paid."]})]})})})}):s.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Pay Invoice"}),s.jsx("p",{className:"text-gray-600",children:"Secure payment powered by Stripe"})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[s.jsxs(B,{children:[s.jsxs(ae,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ie,{children:"Invoice Details"}),s.jsx(Z,{variant:n.status==="overdue"?"destructive":"secondary",children:n.status==="overdue"?s.jsxs(s.Fragment,{children:[s.jsx(bt,{className:"h-3 w-3 mr-1"}),"Overdue"]}):n.status.charAt(0).toUpperCase()+n.status.slice(1)})]}),s.jsxs(Lt,{children:["Invoice #",n.invoiceNumber]})]}),s.jsxs(q,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-sm text-gray-700 mb-1",children:"From"}),s.jsx("p",{className:"font-medium",children:n.companyName||"Company Name"}),n.companyAddress&&s.jsx("p",{className:"text-sm text-gray-600 whitespace-pre-line",children:n.companyAddress})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-sm text-gray-700 mb-1",children:"Bill To"}),s.jsx("p",{className:"font-medium",children:n.clientName}),s.jsx("p",{className:"text-sm text-gray-600",children:n.clientEmail})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Invoice Date:"}),s.jsx("p",{className:"font-medium",children:n.invoiceDate})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Due Date:"}),s.jsx("p",{className:"font-medium",children:n.dueDate})]})]}),s.jsx(_s,{}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"font-semibold text-sm text-gray-700",children:"Line Items"}),n.lineItems.map((l,c)=>s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:l.description}),s.jsxs("p",{className:"text-gray-600",children:[l.quantity,"  $",l.rate.toFixed(2)]})]}),s.jsxs("p",{className:"font-medium",children:["$",l.amount.toFixed(2)]})]},c))]}),s.jsx(_s,{}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Subtotal:"}),s.jsxs("span",{children:["$",n.subtotal]})]}),parseFloat(n.taxAmount)>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{children:["Tax (",n.taxRate,"%):"]}),s.jsxs("span",{children:["$",n.taxAmount]})]}),s.jsxs("div",{className:"flex justify-between font-bold text-lg pt-2 border-t",children:[s.jsx("span",{children:"Total:"}),s.jsxs("span",{children:["$",n.totalAmount]})]})]}),n.notes&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-sm text-gray-700 mb-1",children:"Notes"}),s.jsx("p",{className:"text-sm text-gray-600 whitespace-pre-line",children:n.notes})]})]})]}),s.jsxs(B,{children:[s.jsxs(ae,{children:[s.jsx(ie,{children:"Payment Information"}),s.jsx(Lt,{children:"Enter your payment details to complete the transaction"})]}),s.jsx(q,{children:o?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-4 border-primary border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Setting up payment..."})]}):i!=null&&i.clientSecret?s.jsx(mpe,{stripe:TNt,options:{clientSecret:i.clientSecret},children:s.jsx(ANt,{invoice:n,clientSecret:i.clientSecret})}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(hs,{className:"h-8 w-8 text-red-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Unable to set up payment. Please try again later."})]})})]})]}),s.jsx("div",{className:"text-center mt-8 text-sm text-gray-500",children:s.jsx("p",{children:" Your payment is secured by Stripe. We do not store your payment information."})})]})})}function zW(){return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#004C6D] to-[#0B1D3A]",children:[s.jsx("div",{className:"bg-[#004C6D] px-4 py-6 shadow-lg",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:" Gigster Garage"}),s.jsx("p",{className:"text-blue-100",children:"Smarter tools for bolder dreams"})]})}),s.jsxs("div",{className:"p-4 space-y-6",children:[s.jsxs(B,{className:"bg-white/95 backdrop-blur border-0 shadow-lg","data-testid":"card-quick-access",children:[s.jsx(ae,{className:"pb-3",children:s.jsxs(ie,{className:"flex items-center text-[#004C6D]",children:[s.jsx(cn,{className:"h-5 w-5 mr-2"}),"Quick Access"]})}),s.jsxs(q,{children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(ze,{href:"/mobile/dashboard",children:s.jsxs(D,{variant:"outline",className:"w-full h-24 flex-col space-y-2 text-[#004C6D] border-[#004C6D]/20 hover:bg-[#004C6D]/5","data-testid":"button-dashboard",children:[s.jsx(Sn,{className:"h-8 w-8"}),s.jsx("span",{className:"text-sm font-medium",children:"Dashboard"})]})}),s.jsx(ze,{href:"/mobile/tasks",children:s.jsxs(D,{variant:"outline",className:"w-full h-24 flex-col space-y-2 text-[#004C6D] border-[#004C6D]/20 hover:bg-[#004C6D]/5","data-testid":"button-tasks",children:[s.jsx(ji,{className:"h-8 w-8"}),s.jsx("span",{className:"text-sm font-medium",children:"Tasks"})]})}),s.jsx(ze,{href:"/mobile/time-tracking",children:s.jsxs(D,{variant:"outline",className:"w-full h-24 flex-col space-y-2 text-[#004C6D] border-[#004C6D]/20 hover:bg-[#004C6D]/5","data-testid":"button-time-tracking",children:[s.jsx(gj,{className:"h-8 w-8"}),s.jsx("span",{className:"text-sm font-medium",children:"Time Tracking"})]})}),s.jsx(ze,{href:"/mobile/projects",children:s.jsxs(D,{variant:"outline",className:"w-full h-24 flex-col space-y-2 text-[#004C6D] border-[#004C6D]/20 hover:bg-[#004C6D]/5","data-testid":"button-projects",children:[s.jsx(Pu,{className:"h-8 w-8"}),s.jsx("span",{className:"text-sm font-medium",children:"Projects"})]})})]}),s.jsx("div",{className:"grid grid-cols-1 gap-4 mt-4",children:s.jsx(ze,{href:"/mobile/workflows",children:s.jsxs(D,{variant:"outline",className:"w-full h-20 flex items-center space-x-3 text-[#004C6D] border-[#004C6D]/20 hover:bg-[#004C6D]/5","data-testid":"button-workflows",children:[s.jsx(cn,{className:"h-6 w-6"}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"text-sm font-medium",children:"Workflows & Automation"}),s.jsx("div",{className:"text-xs text-gray-600",children:"Manage automation rules"})]})]})})})]})]}),s.jsxs(B,{className:"bg-white/95 backdrop-blur border-0 shadow-lg","data-testid":"card-features",children:[s.jsx(ae,{className:"pb-3",children:s.jsx(ie,{className:"text-[#004C6D]",children:"Mobile Features"})}),s.jsxs(q,{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-3"}),s.jsx("span",{className:"text-sm font-medium text-green-800",children:"Offline Mode"})]}),s.jsx(Z,{variant:"secondary",className:"bg-green-100 text-green-800",children:"Active"})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mr-3"}),s.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Push Notifications"})]}),s.jsx(Z,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:"Enabled"})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-purple-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full mr-3"}),s.jsx("span",{className:"text-sm font-medium text-purple-800",children:"Background Sync"})]}),s.jsx(Z,{variant:"secondary",className:"bg-purple-100 text-purple-800",children:"Running"})]})]})]}),s.jsxs(B,{className:"bg-white/95 backdrop-blur border-0 shadow-lg","data-testid":"card-account",children:[s.jsx(ae,{className:"pb-3",children:s.jsx(ie,{className:"text-[#004C6D]",children:"Account"})}),s.jsx(q,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs(D,{variant:"outline",className:"w-full justify-start text-[#004C6D] border-[#004C6D]/20 hover:bg-[#004C6D]/5","data-testid":"button-profile",children:[s.jsx(Fa,{className:"h-4 w-4 mr-2"}),"Profile Settings"]}),s.jsxs(D,{variant:"outline",className:"w-full justify-start text-[#004C6D] border-[#004C6D]/20 hover:bg-[#004C6D]/5","data-testid":"button-notifications",children:[s.jsx(Yf,{className:"h-4 w-4 mr-2"}),"Notifications"]}),s.jsxs(D,{variant:"outline",className:"w-full justify-start text-[#004C6D] border-[#004C6D]/20 hover:bg-[#004C6D]/5","data-testid":"button-settings",children:[s.jsx(dr,{className:"h-4 w-4 mr-2"}),"App Settings"]})]})})]}),s.jsx(B,{className:"bg-white/95 backdrop-blur border-0 shadow-lg","data-testid":"card-switch-desktop",children:s.jsx(q,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Need more features?"}),s.jsx("a",{href:"/?desktop=true",className:"inline-block bg-[#004C6D] text-white px-6 py-3 rounded-lg font-medium hover:bg-[#003A52] transition-colors","data-testid":"link-desktop-version",children:" Switch to Desktop Version"})]})})}),s.jsx("div",{className:"h-8"})]})]})}function DNt(){const[,e]=Fs(),[t,n]=b.useState(new Date);b.useEffect(()=>{const d=setInterval(()=>n(new Date),1e3);return()=>clearInterval(d)},[]);const{data:r=[]}=he({queryKey:["/api/tasks"]}),{data:a=[]}=he({queryKey:["/api/projects"]}),{data:i=[]}=he({queryKey:["/api/timelogs"]}),o={quickStats:{todayTasks:r.filter(d=>{const u=new Date().toISOString().split("T")[0];return d.dueDate&&d.dueDate.startsWith(u)}).length,activeProjects:a.filter(d=>d.status==="active").length,hoursLogged:Math.round(i.reduce((d,u)=>{const h=new Date().toISOString().split("T")[0];return u.date===h?d+(u.duration||0)/60:d},0)*10)/10,overdueItems:r.filter(d=>{const u=new Date;return d.dueDate&&new Date(d.dueDate)<u&&!d.completed}).length},recentTasks:r.slice(0,4),activeTimers:i.filter(d=>!d.endTime),upcomingDeadlines:r.filter(d=>{const u=new Date,h=new Date(u.getTime()+7*24*60*60*1e3);return d.dueDate&&new Date(d.dueDate)>=u&&new Date(d.dueDate)<=h}).slice(0,3),quickActions:[{id:"start_timer",type:"startTimer",label:"Start Timer",icon:"play-circle",shortcut:"ST"},{id:"log_time",type:"logTime",label:"Log Time",icon:"clock",shortcut:"LT"},{id:"create_task",type:"createTask",label:"New Task",icon:"plus-circle",shortcut:"NT"},{id:"voice_note",type:"voiceNote",label:"Voice Note",icon:"mic",shortcut:"VN"}],notifications:r.filter(d=>{const u=new Date;return d.dueDate&&new Date(d.dueDate)<u&&!d.completed}).slice(0,3).map(d=>({id:`overdue_${d.id}`,type:"task_due",title:"Overdue Task",body:`"${d.title}" is overdue`,data:{taskId:d.id}}))},l=d=>{switch(d){case"urgent":return"bg-red-500";case"high":return"bg-orange-500";case"medium":return"bg-yellow-500";case"low":return"bg-green-500";default:return"bg-gray-500"}},c=d=>{switch(d){case"completed":return"text-green-400";case"in-progress":return"text-blue-400";case"pending":return"text-yellow-400";default:return"text-gray-400"}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#004C6D] to-[#0B1D3A]",children:[s.jsx("div",{className:"bg-[#004C6D] px-4 py-6 shadow-lg",children:s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(D,{variant:"ghost",size:"sm",onClick:()=>e("/mobile"),className:"text-white hover:bg-white/20 p-2","data-testid":"button-back-home",children:s.jsx(Xo,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-white flex items-center",children:" Gigster Garage"}),s.jsx("p",{className:"text-blue-100 text-sm",children:" Dashboard"})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-white text-sm font-medium",children:Me(t,"h:mm a")}),s.jsx("div",{className:"text-blue-100 text-xs",children:Me(t,"MMM d, yyyy")})]})]})}),s.jsxs("div",{className:"p-4 space-y-6",children:[s.jsxs(B,{className:"bg-white/95 backdrop-blur border-0 shadow-lg","data-testid":"card-performance-metrics",children:[s.jsx(ae,{className:"pb-3",children:s.jsxs(ie,{className:"flex items-center text-[#004C6D]",children:[s.jsx(Sn,{className:"h-5 w-5 mr-2"})," Performance Metrics"]})}),s.jsxs(q,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-[#004C6D]","data-testid":"text-hours-logged",children:[o.quickStats.hoursLogged,"h"]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Hours Today"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-[#004C6D]","data-testid":"text-active-projects",children:o.quickStats.activeProjects}),s.jsx("div",{className:"text-sm text-gray-600",children:"Active Projects"})]})]}),o.activeTimers.length>0&&s.jsxs("div",{className:"bg-green-50 p-3 rounded-lg border border-green-200",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse mr-2"}),s.jsx("span",{className:"text-sm font-medium text-green-800",children:"Timer Running"})]}),s.jsx(gj,{className:"h-4 w-4 text-green-600"})]}),s.jsx("div",{className:"text-xs text-green-600 mt-1",children:o.activeTimers[0].description||"Active task"})]})]})]}),s.jsxs(B,{className:"bg-white/95 backdrop-blur border-0 shadow-lg","data-testid":"card-activity-overview",children:[s.jsx(ae,{className:"pb-3",children:s.jsxs(ie,{className:"flex items-center text-[#004C6D]",children:[s.jsx(us,{className:"h-5 w-5 mr-2"})," Activity Overview"]})}),s.jsx(q,{children:s.jsxs("div",{className:"space-y-3",children:[o.recentTasks.slice(0,4).map((d,u)=>s.jsxs("div",{className:"flex items-center space-x-3 p-2 bg-gray-50 rounded-lg","data-testid":`row-recent-task-${u}`,children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${l(d.priority)}`}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:d.title}),s.jsx("div",{className:"text-xs text-gray-500",children:d.projectName||"No project"})]}),d.completed?s.jsx(ji,{className:"h-4 w-4 text-green-500"}):s.jsx(bt,{className:`h-4 w-4 ${c(d.status)}`})]},d.id)),o.recentTasks.length===0&&s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(us,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{className:"text-sm",children:"No recent activity"})]})]})})]}),s.jsxs(B,{className:"bg-white/95 backdrop-blur border-0 shadow-lg","data-testid":"card-key-indicators",children:[s.jsx(ae,{className:"pb-3",children:s.jsxs(ie,{className:"flex items-center text-[#004C6D]",children:[s.jsx(sc,{className:"h-5 w-5 mr-2"})," Key Indicators"]})}),s.jsxs(q,{children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[s.jsx("div",{className:"text-xl font-bold text-blue-600","data-testid":"text-today-tasks",children:o.quickStats.todayTasks}),s.jsx("div",{className:"text-xs text-blue-600",children:"Due Today"})]}),s.jsxs("div",{className:"text-center p-3 bg-red-50 rounded-lg",children:[s.jsx("div",{className:"text-xl font-bold text-red-600","data-testid":"text-overdue-items",children:o.quickStats.overdueItems}),s.jsx("div",{className:"text-xs text-red-600",children:"Overdue"})]})]}),o.upcomingDeadlines.length>0&&s.jsxs("div",{className:"mt-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"Upcoming Deadlines"}),s.jsx("div",{className:"space-y-2",children:o.upcomingDeadlines.slice(0,3).map((d,u)=>s.jsxs("div",{className:"flex items-center justify-between text-xs","data-testid":`row-upcoming-deadline-${u}`,children:[s.jsx("span",{className:"text-gray-900 truncate flex-1 mr-2",children:d.title}),s.jsx("span",{className:"text-orange-600 font-medium",children:d.dueDate?Me(new Date(d.dueDate),"MMM d"):"No date"})]},d.id))})]}),o.notifications.length>0&&s.jsxs("div",{className:"mt-4 p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(ur,{className:"h-4 w-4 text-yellow-600 mr-1"}),s.jsx("span",{className:"text-sm font-medium text-yellow-800",children:"Alerts"})]}),o.notifications.slice(0,2).map((d,u)=>s.jsx("div",{className:"text-xs text-yellow-700","data-testid":`text-notification-${u}`,children:d.body},d.id))]})]})]}),s.jsxs(B,{className:"bg-white/95 backdrop-blur border-0 shadow-lg","data-testid":"card-quick-actions",children:[s.jsx(ae,{className:"pb-3",children:s.jsxs(ie,{className:"flex items-center text-[#004C6D]",children:[s.jsx(cn,{className:"h-5 w-5 mr-2"})," Quick Actions"]})}),s.jsxs(q,{children:[s.jsx("div",{className:"grid grid-cols-2 gap-3",children:o.quickActions.map(d=>{const h=(f=>{switch(f){case"play-circle":return Tu;case"clock":return bt;case"plus-circle":return st;case"mic":return tZ;default:return st}})(d.icon);return s.jsxs(D,{variant:"outline",className:"h-20 flex-col space-y-1 text-[#004C6D] border-[#004C6D]/20 hover:bg-[#004C6D]/5","data-testid":`button-quick-action-${d.type}`,onClick:()=>{switch(d.type){case"startTimer":e("/mobile/time-tracking");break;case"logTime":e("/mobile/time-tracking");break;case"createTask":e("/mobile/tasks");break}},children:[s.jsx(h,{className:"h-6 w-6"}),s.jsx("span",{className:"text-xs font-medium",children:d.label}),d.shortcut&&s.jsx(Z,{variant:"secondary",className:"text-xs px-1 py-0",children:d.shortcut})]},d.id)})}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-3",children:[s.jsx(ze,{href:"/mobile/tasks",children:s.jsxs(D,{variant:"outline",className:"w-full h-20 flex-col space-y-1 text-[#004C6D] border-[#004C6D]/20 hover:bg-[#004C6D]/5","data-testid":"button-view-tasks",children:[s.jsx(ji,{className:"h-6 w-6"}),s.jsx("span",{className:"text-xs font-medium",children:"View Tasks"})]})}),s.jsx(ze,{href:"/mobile/projects",children:s.jsxs(D,{variant:"outline",className:"w-full h-20 flex-col space-y-1 text-[#004C6D] border-[#004C6D]/20 hover:bg-[#004C6D]/5","data-testid":"button-view-projects",children:[s.jsx(ra,{className:"h-6 w-6"}),s.jsx("span",{className:"text-xs font-medium",children:"Projects"})]})})]})]})]}),s.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white/95 backdrop-blur border-t border-gray-200 p-4",children:s.jsx("div",{className:"flex justify-center",children:s.jsxs(D,{onClick:()=>e("/mobile"),className:"bg-[#004C6D] hover:bg-[#003A52] text-white px-8 py-3 rounded-full shadow-lg","data-testid":"button-back-to-home",children:[s.jsx(Xo,{className:"h-5 w-5 mr-2"})," Back to Home"]})})}),s.jsx(B,{className:"bg-white/95 backdrop-blur border-0 shadow-lg mb-4","data-testid":"card-switch-desktop",children:s.jsx(q,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Need the full platform?"}),s.jsx("a",{href:"/?desktop=true",className:"inline-block bg-[#004C6D] text-white px-6 py-3 rounded-lg font-medium hover:bg-[#003A52] transition-colors","data-testid":"link-desktop-version",children:" Switch to Desktop Version"})]})})}),s.jsx("div",{className:"h-20"})]})]})}function ONt(){const[e,t]=b.useState(""),[n,r]=b.useState("all"),[a,i]=b.useState(!1),[o,l]=b.useState(!1),[c,d]=b.useState(null),[u,h]=b.useState({title:"",description:"",priority:"medium",status:"pending",dueDate:"",projectId:"",assignedToId:""}),{toast:f}=mt(),g=qr(),{data:m=[],isLoading:p}=he({queryKey:["/api/tasks"]}),{data:x=[]}=he({queryKey:["/api/projects"]}),{data:v=[]}=he({queryKey:["/api/users"]}),y=m.filter(P=>{const C=P.title.toLowerCase().includes(e.toLowerCase())||(P.description||"").toLowerCase().includes(e.toLowerCase());return n==="all"?C:n==="completed"?C&&(P.completed||!1):n==="pending"?C&&!P.completed:C}),j=P=>{switch(P){case"urgent":return"bg-red-500";case"high":return"bg-orange-500";case"medium":return"bg-yellow-500";case"low":return"bg-green-500";default:return"bg-gray-500"}},N=(P,C)=>{if(C)return"text-green-600";switch(P){case"in-progress":return"text-blue-600";case"pending":return"text-yellow-600";default:return"text-gray-600"}},w=Se({mutationFn:async P=>{const C=await fetch("/api/tasks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...P,dueDate:P.dueDate?new Date(P.dueDate).toISOString():void 0})});if(!C.ok)throw new Error("Failed to create task");return C.json()},onSuccess:()=>{g.invalidateQueries({queryKey:["/api/tasks"]}),i(!1),h({title:"",description:"",priority:"medium",status:"pending",dueDate:"",projectId:"",assignedToId:""}),f({title:"Task Created",description:"New task has been created successfully"})},onError:()=>{f({title:"Error",description:"Failed to create task",variant:"destructive"})}}),S=Se({mutationFn:async({id:P,completed:C})=>{const A=await fetch(`/api/tasks/${P}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({completed:!C})});if(!A.ok)throw new Error("Failed to update task");return A.json()},onSuccess:()=>{g.invalidateQueries({queryKey:["/api/tasks"]})}}),k=()=>{if(!u.title.trim()){f({title:"Error",description:"Task title is required",variant:"destructive"});return}w.mutate(u)},_=P=>{d(P),l(!0)},T=P=>{S.mutate({id:P.id,completed:P.completed||!1})};return p?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#004C6D] to-[#0B1D3A] flex items-center justify-center p-4",children:s.jsxs("div",{className:"text-center text-white",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),s.jsx("p",{className:"text-lg font-medium",children:"Loading Tasks..."})]})}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#004C6D] to-[#0B1D3A]",children:[s.jsxs("div",{className:"bg-[#004C6D] px-4 py-6 shadow-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ze,{href:"/mobile",children:s.jsx(D,{variant:"ghost",size:"sm",className:"text-white hover:bg-white/20 p-2","data-testid":"button-back",children:s.jsx(ln,{className:"h-5 w-5"})})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:" Tasks"}),s.jsxs("p",{className:"text-blue-100 text-sm",children:[y.length," tasks"]})]})]}),s.jsx(ze,{href:"/mobile",children:s.jsx(D,{variant:"ghost",size:"sm",className:"text-white hover:bg-white/20 p-2","data-testid":"button-home",children:s.jsx(Xo,{className:"h-5 w-5"})})})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Ya,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(te,{placeholder:"Search tasks...",value:e,onChange:P=>t(P.target.value),className:"pl-10 bg-white/90 border-0","data-testid":"input-search"})]})]}),s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(D,{variant:n==="all"?"default":"outline",size:"sm",onClick:()=>r("all"),className:n==="all"?"bg-[#004C6D] text-white":"text-[#004C6D] border-[#004C6D]/20","data-testid":"button-filter-all",children:"All"}),s.jsx(D,{variant:n==="pending"?"default":"outline",size:"sm",onClick:()=>r("pending"),className:n==="pending"?"bg-[#004C6D] text-white":"text-[#004C6D] border-[#004C6D]/20","data-testid":"button-filter-pending",children:"Pending"}),s.jsx(D,{variant:n==="completed"?"default":"outline",size:"sm",onClick:()=>r("completed"),className:n==="completed"?"bg-[#004C6D] text-white":"text-[#004C6D] border-[#004C6D]/20","data-testid":"button-filter-completed",children:"Completed"})]}),s.jsxs("div",{className:"space-y-3",children:[y.map((P,C)=>s.jsx(B,{className:"bg-white/95 backdrop-blur border-0 shadow-lg cursor-pointer","data-testid":`card-task-${C}`,children:s.jsx(q,{className:"p-4",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:`w-3 h-3 rounded-full mt-1 ${j(P.priority||"medium")}`}),s.jsxs("div",{className:"flex-1 min-w-0",onClick:()=>_(P),children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 line-clamp-2",children:P.title}),P.description&&s.jsx("p",{className:"text-xs text-gray-600 mt-1 line-clamp-2",children:P.description}),s.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[P.projectId&&s.jsx(Z,{variant:"secondary",className:"text-xs",children:"Project"}),s.jsx(Z,{variant:"outline",className:`text-xs ${P.priority==="high"?"border-red-500 text-red-700":P.priority==="medium"?"border-orange-500 text-orange-700":P.priority==="low"?"border-yellow-500 text-yellow-700":"border-green-500 text-green-700"}`,children:P.priority||"medium"})]})]}),s.jsxs("div",{className:"text-right flex items-center space-x-2",children:[s.jsx(D,{variant:"ghost",size:"sm",onClick:A=>{A.stopPropagation(),T(P)},className:"p-1 h-auto","data-testid":`button-toggle-${C}`,children:P.completed?s.jsx(ji,{className:"h-5 w-5 text-green-500"}):s.jsx(bt,{className:`h-5 w-5 ${N(P.status||"pending",P.completed||!1)}`})}),s.jsx(D,{variant:"ghost",size:"sm",onClick:A=>{A.stopPropagation(),_(P)},className:"p-1 h-auto","data-testid":`button-view-${C}`,children:s.jsx(fn,{className:"h-4 w-4 text-gray-400"})})]})]}),P.dueDate&&s.jsxs("div",{className:"flex items-center mt-2 text-xs text-gray-500",children:[s.jsx(en,{className:"h-3 w-3 mr-1"}),"Due ",Me(new Date(P.dueDate),"MMM d, yyyy")]})]})]})})},P.id)),y.length===0&&s.jsx(B,{className:"bg-white/95 backdrop-blur border-0 shadow-lg",children:s.jsxs(q,{className:"py-12 text-center",children:[s.jsx(ji,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Tasks Found"}),s.jsx("p",{className:"text-gray-600 text-sm",children:e?"Try adjusting your search terms":"Get started by creating your first task"})]})})]}),s.jsx(B,{className:"bg-white/95 backdrop-blur border-0 shadow-lg","data-testid":"card-switch-desktop",children:s.jsx(q,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Need the full platform?"}),s.jsx("a",{href:"/?desktop=true",className:"inline-block bg-[#004C6D] text-white px-6 py-3 rounded-lg font-medium hover:bg-[#003A52] transition-colors","data-testid":"link-desktop-version",children:" Switch to Desktop Version"})]})})}),s.jsx("div",{className:"h-20"})]}),s.jsx("div",{className:"fixed bottom-6 right-6",children:s.jsxs(ut,{open:a,onOpenChange:i,children:[s.jsx(Ns,{asChild:!0,children:s.jsx(D,{size:"lg",className:"h-14 w-14 rounded-full bg-[#004C6D] hover:bg-[#003A52] shadow-lg","data-testid":"button-add-task",children:s.jsx(st,{className:"h-6 w-6"})})}),s.jsxs(lt,{className:"w-[95vw] max-w-md mx-auto",children:[s.jsx(ct,{children:s.jsx(dt,{className:"text-[#004C6D]",children:"Create New Task"})}),s.jsxs("div",{className:"space-y-4 mt-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"title",children:"Title *"}),s.jsx(te,{id:"title",value:u.title,onChange:P=>h({...u,title:P.target.value}),placeholder:"Enter task title",className:"mt-1","data-testid":"input-task-title"})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"description",children:"Description"}),s.jsx(it,{id:"description",value:u.description,onChange:P=>h({...u,description:P.target.value}),placeholder:"Enter task description",className:"mt-1 h-20","data-testid":"textarea-task-description"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(W,{htmlFor:"priority",children:"Priority"}),s.jsxs(Ke,{value:u.priority,onValueChange:P=>h({...u,priority:P}),children:[s.jsx(He,{className:"mt-1","data-testid":"select-task-priority",children:s.jsx(Ge,{})}),s.jsxs(qe,{children:[s.jsx(Q,{value:"low",children:"Low"}),s.jsx(Q,{value:"medium",children:"Medium"}),s.jsx(Q,{value:"high",children:"High"}),s.jsx(Q,{value:"urgent",children:"Urgent"})]})]})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"status",children:"Status"}),s.jsxs(Ke,{value:u.status,onValueChange:P=>h({...u,status:P}),children:[s.jsx(He,{className:"mt-1","data-testid":"select-task-status",children:s.jsx(Ge,{})}),s.jsxs(qe,{children:[s.jsx(Q,{value:"pending",children:"Pending"}),s.jsx(Q,{value:"in-progress",children:"In Progress"}),s.jsx(Q,{value:"completed",children:"Completed"})]})]})]})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"dueDate",children:"Due Date"}),s.jsx(te,{id:"dueDate",type:"datetime-local",value:u.dueDate,onChange:P=>h({...u,dueDate:P.target.value}),className:"mt-1","data-testid":"input-task-due-date"})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"project",children:"Project"}),s.jsxs(Ke,{value:u.projectId,onValueChange:P=>h({...u,projectId:P}),children:[s.jsx(He,{className:"mt-1","data-testid":"select-task-project",children:s.jsx(Ge,{placeholder:"Select project"})}),s.jsxs(qe,{children:[s.jsx(Q,{value:"",children:"No Project"}),x.map(P=>s.jsx(Q,{value:P.id,children:P.name},P.id))]})]})]}),s.jsxs("div",{children:[s.jsx(W,{htmlFor:"assignee",children:"Assign To"}),s.jsxs(Ke,{value:u.assignedToId,onValueChange:P=>h({...u,assignedToId:P}),children:[s.jsx(He,{className:"mt-1","data-testid":"select-task-assignee",children:s.jsx(Ge,{placeholder:"Select assignee"})}),s.jsxs(qe,{children:[s.jsx(Q,{value:"",children:"Unassigned"}),v.map(P=>s.jsx(Q,{value:P.id,children:P.name||P.username},P.id))]})]})]}),s.jsxs("div",{className:"flex space-x-3 pt-4",children:[s.jsx(D,{variant:"outline",onClick:()=>i(!1),className:"flex-1","data-testid":"button-cancel-task",children:"Cancel"}),s.jsx(D,{onClick:k,disabled:w.isPending,className:"flex-1 bg-[#004C6D] hover:bg-[#003A52]","data-testid":"button-create-task",children:w.isPending?"Creating...":"Create Task"})]})]})]})]})}),s.jsx(ut,{open:o,onOpenChange:l,children:s.jsx(lt,{className:"w-[95vw] max-w-md mx-auto",children:c&&s.jsxs(s.Fragment,{children:[s.jsx(ct,{children:s.jsx(dt,{className:"text-[#004C6D] pr-8",children:c.title})}),s.jsxs("div",{className:"space-y-4 mt-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${j(c.priority||"medium")}`}),s.jsxs(Z,{variant:"outline",className:"text-xs",children:[c.priority||"medium"," priority"]}),s.jsx(Z,{variant:"secondary",className:"text-xs",children:c.status||"pending"}),c.completed&&s.jsx(Z,{className:"text-xs bg-green-100 text-green-800",children:"Completed"})]}),c.description&&s.jsxs("div",{children:[s.jsx(W,{className:"text-sm font-medium",children:"Description"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:c.description})]}),c.projectId&&s.jsxs("div",{children:[s.jsx(W,{className:"text-sm font-medium",children:"Project"}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Project ID: ",c.projectId]})]}),c.dueDate&&s.jsxs("div",{children:[s.jsx(W,{className:"text-sm font-medium",children:"Due Date"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:Me(new Date(c.dueDate),"MMMM d, yyyy - h:mm a")})]}),s.jsxs("div",{className:"flex space-x-3 pt-4",children:[s.jsx(D,{variant:"outline",onClick:()=>T(c),className:"flex-1",disabled:S.isPending,"data-testid":"button-toggle-completion",children:c.completed?s.jsxs(s.Fragment,{children:[s.jsx(Kt,{className:"h-4 w-4 mr-2"}),"Mark Incomplete"]}):s.jsxs(s.Fragment,{children:[s.jsx(hv,{className:"h-4 w-4 mr-2"}),"Mark Complete"]})}),s.jsx(D,{onClick:()=>l(!1),className:"flex-1 bg-[#004C6D] hover:bg-[#003A52]","data-testid":"button-close-detail",children:"Close"})]})]})]})})})]})}function MNt(){const{data:e=[],isLoading:t}=he({queryKey:["/api/projects"]}),{data:n=[],isLoading:r}=he({queryKey:["/api/tasks"]}),a=t||r,i=e.map(c=>{const d=n.filter(g=>g.projectId===c.id),u=d.filter(g=>g.completed).length,h=d.length,f=h>0?Math.round(u/h*100):0;return{...c,progress:f,taskCount:h,completedTasks:u}}),o=c=>{switch(c){case"active":return"bg-green-100 text-green-800";case"completed":return"bg-blue-100 text-blue-800";case"on-hold":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},l=c=>c>=80?"bg-green-500":c>=50?"bg-blue-500":c>=20?"bg-yellow-500":"bg-gray-300";return a?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[var(--garage-navy)] to-[var(--ignition-teal)] flex items-center justify-center p-4",children:s.jsxs("div",{className:"text-center text-white",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),s.jsx("p",{className:"text-lg font-medium",children:"Loading Projects..."})]})}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[var(--garage-navy)] to-[var(--ignition-teal)]",children:[s.jsx("div",{className:"bg-[#004C6D] px-4 py-6 shadow-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ze,{href:"/mobile",children:s.jsx(D,{variant:"ghost",size:"sm",className:"text-white hover:bg-white/20 p-2","data-testid":"button-back",children:s.jsx(ln,{className:"h-5 w-5"})})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:" Projects"}),s.jsxs("p",{className:"text-blue-100 text-sm",children:[i.length," projects"]})]})]}),s.jsx(ze,{href:"/mobile",children:s.jsx(D,{variant:"ghost",size:"sm",className:"text-white hover:bg-white/20 p-2","data-testid":"button-home",children:s.jsx(Xo,{className:"h-5 w-5"})})})]})}),s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsx(B,{className:"bg-white/95 backdrop-blur border-0 shadow-lg","data-testid":"card-project-stats",children:s.jsx(q,{className:"pt-6",children:s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-[#004C6D]",children:i.filter(c=>c.status==="active").length}),s.jsx("div",{className:"text-xs text-gray-600",children:"Active"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-[#004C6D]",children:i.filter(c=>c.status==="completed").length}),s.jsx("div",{className:"text-xs text-gray-600",children:"Completed"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-2xl font-bold text-[#004C6D]",children:[Math.round(i.reduce((c,d)=>c+d.progress,0)/i.length)||0,"%"]}),s.jsx("div",{className:"text-xs text-gray-600",children:"Avg Progress"})]})]})})}),s.jsxs("div",{className:"space-y-3",children:[i.map((c,d)=>s.jsx(B,{className:"bg-white/95 backdrop-blur border-0 shadow-lg","data-testid":`card-project-${d}`,children:s.jsx(q,{className:"p-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-900 line-clamp-1",children:c.name}),c.description&&s.jsx("p",{className:"text-xs text-gray-600 mt-1 line-clamp-2",children:c.description})]}),s.jsx(Z,{className:`text-xs ${o(c.status||"active")}`,children:c.status})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:"text-gray-600",children:"Progress"}),s.jsxs("span",{className:"font-medium text-gray-900",children:[c.progress,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${l(c.progress)}`,style:{width:`${c.progress}%`}})})]}),s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx(ji,{className:"h-3 w-3 mr-1"}),c.completedTasks,"/",c.taskCount," tasks"]}),s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx(en,{className:"h-3 w-3 mr-1"}),"Created ",c.createdAt?Me(new Date(c.createdAt.toString()),"MMM d"):"Recently"]})]}),s.jsx(ze,{href:`/project/${c.id}`,children:s.jsx(D,{variant:"outline",size:"sm",className:"h-6 px-2 text-xs text-[#004C6D] border-[#004C6D]/20 hover:bg-[#004C6D]/5","data-testid":`button-view-project-${d}`,children:"View"})})]})]})})},c.id)),i.length===0&&s.jsx(B,{className:"bg-white/95 backdrop-blur border-0 shadow-lg",children:s.jsxs(q,{className:"py-12 text-center",children:[s.jsx(Pu,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Projects Found"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Create your first project to get started with organizing your work."})]})})]}),s.jsx(B,{className:"bg-white/95 backdrop-blur border-0 shadow-lg","data-testid":"card-switch-desktop",children:s.jsx(q,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Need the full platform?"}),s.jsx("a",{href:"/?desktop=true",className:"inline-block bg-[#004C6D] text-white px-6 py-3 rounded-lg font-medium hover:bg-[#003A52] transition-colors","data-testid":"link-desktop-version",children:" Switch to Desktop Version"})]})})}),s.jsx("div",{className:"h-8"})]})]})}function RNt(){const[e,t]=b.useState(!1),[n,r]=b.useState(0),[a,i]=b.useState(null),[o,l]=b.useState("");b.useEffect(()=>{let w;return e&&a&&(w=setInterval(()=>{r(Math.floor((new Date().getTime()-a.getTime())/1e3))},1e3)),()=>clearInterval(w)},[e,a]);const{data:c=[],isLoading:d}=he({queryKey:["/api/timelogs"]}),u=w=>{const S=Math.floor(w/3600),k=Math.floor(w%3600/60),_=w%60;return`${S.toString().padStart(2,"0")}:${k.toString().padStart(2,"0")}:${_.toString().padStart(2,"0")}`},h=w=>{const S=Math.floor(w/60),k=w%60;return S>0?`${S}h ${k}m`:`${k}m`},f=()=>{t(!0),i(new Date),r(0)},g=()=>{t(!1)},m=()=>{t(!1),i(null),r(0),l("")},p=new Date().toISOString().split("T")[0],x=c.filter(w=>w.date===p),v=x.reduce((w,S)=>w+S.duration,0),y=new Date;y.setDate(y.getDate()-y.getDay());const N=c.filter(w=>new Date(w.date)>=y).reduce((w,S)=>w+S.duration,0);return d?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#004C6D] to-[#0B1D3A] flex items-center justify-center p-4",children:s.jsxs("div",{className:"text-center text-white",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),s.jsx("p",{className:"text-lg font-medium",children:"Loading Time Tracking..."})]})}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#004C6D] to-[#0B1D3A]",children:[s.jsx("div",{className:"bg-[#004C6D] px-4 py-6 shadow-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ze,{href:"/mobile",children:s.jsx(D,{variant:"ghost",size:"sm",className:"text-white hover:bg-white/20 p-2","data-testid":"button-back",children:s.jsx(ln,{className:"h-5 w-5"})})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:" Time Tracking"}),s.jsx("p",{className:"text-blue-100 text-sm",children:"Track your productivity"})]})]}),s.jsx(ze,{href:"/mobile",children:s.jsx(D,{variant:"ghost",size:"sm",className:"text-white hover:bg-white/20 p-2","data-testid":"button-home",children:s.jsx(Xo,{className:"h-5 w-5"})})})]})}),s.jsxs("div",{className:"p-4 space-y-6",children:[s.jsx(B,{className:"bg-white/95 backdrop-blur border-0 shadow-lg","data-testid":"card-active-timer",children:s.jsx(q,{className:"pt-6",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"text-4xl font-mono font-bold text-[#004C6D]","data-testid":"text-timer-display",children:u(n)}),e&&s.jsxs("div",{className:"flex items-center justify-center text-sm text-green-600",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse mr-2"}),"Recording time..."]}),s.jsx("div",{className:"space-y-2",children:s.jsx(te,{placeholder:"What are you working on?",value:o,onChange:w=>l(w.target.value),className:"text-center","data-testid":"input-description"})}),s.jsx("div",{className:"flex justify-center space-x-4",children:e?s.jsxs(s.Fragment,{children:[s.jsxs(D,{onClick:g,variant:"outline",className:"px-6 py-3 rounded-full","data-testid":"button-pause-timer",children:[s.jsx(nZ,{className:"h-5 w-5 mr-2"}),"Pause"]}),s.jsxs(D,{onClick:m,className:"bg-red-500 hover:bg-red-600 text-white px-6 py-3 rounded-full","data-testid":"button-stop-timer",children:[s.jsx(Q2,{className:"h-4 w-4 mr-2"}),"Stop"]})]}):s.jsxs(D,{onClick:f,className:"bg-green-500 hover:bg-green-600 text-white px-8 py-3 rounded-full","data-testid":"button-start-timer",children:[s.jsx(Tu,{className:"h-5 w-5 mr-2"}),"Start"]})})]})})}),s.jsxs(B,{className:"bg-white/95 backdrop-blur border-0 shadow-lg","data-testid":"card-time-summary",children:[s.jsx(ae,{className:"pb-3",children:s.jsxs(ie,{className:"flex items-center text-[#004C6D]",children:[s.jsx(Sn,{className:"h-5 w-5 mr-2"}),"Time Summary"]})}),s.jsx(q,{children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[s.jsx("div",{className:"text-xl font-bold text-blue-600","data-testid":"text-today-total",children:h(v)}),s.jsx("div",{className:"text-xs text-blue-600",children:"Today"})]}),s.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[s.jsx("div",{className:"text-xl font-bold text-green-600","data-testid":"text-week-total",children:h(N)}),s.jsx("div",{className:"text-xs text-green-600",children:"This Week"})]})]})})]}),s.jsxs(B,{className:"bg-white/95 backdrop-blur border-0 shadow-lg","data-testid":"card-recent-logs",children:[s.jsx(ae,{className:"pb-3",children:s.jsxs(ie,{className:"flex items-center text-[#004C6D]",children:[s.jsx(bt,{className:"h-5 w-5 mr-2"}),"Recent Logs"]})}),s.jsx(q,{children:s.jsxs("div",{className:"space-y-3",children:[x.slice(0,5).map((w,S)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg","data-testid":`row-time-log-${S}`,children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:w.description||"Untitled session"}),s.jsxs("div",{className:"text-xs text-gray-500 flex items-center",children:[s.jsx(en,{className:"h-3 w-3 mr-1"}),Me(new Date(w.date),"MMM d, yyyy"),w.startTime&&s.jsx("span",{className:"ml-2",children:Me(new Date(w.startTime),"h:mm a")})]})]}),s.jsx("div",{className:"text-right",children:s.jsx("div",{className:"text-sm font-medium text-[#004C6D]",children:h(w.duration)})})]},w.id)),x.length===0&&s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(gj,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{className:"text-sm",children:"No time logged today"}),s.jsx("p",{className:"text-xs",children:"Start your first timer above"})]})]})})]}),s.jsx(B,{className:"bg-white/95 backdrop-blur border-0 shadow-lg","data-testid":"card-switch-desktop",children:s.jsx(q,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Need the full platform?"}),s.jsx("a",{href:"/?desktop=true",className:"inline-block bg-[#004C6D] text-white px-6 py-3 rounded-lg font-medium hover:bg-[#003A52] transition-colors","data-testid":"link-desktop-version",children:" Switch to Desktop Version"})]})})}),s.jsx("div",{className:"h-8"})]})]})}function $Nt(){const[e,t]=b.useState("templates"),{toast:n}=mt(),r=qr(),{data:a=[],isLoading:i}=he({queryKey:["/api/workflows/templates"]}),{data:o,isLoading:l}=he({queryKey:["/api/workflows/stats"]}),{data:c=[],isLoading:d}=he({queryKey:["/api/invoices/automation/rules"]}),{data:u=[],isLoading:h}=he({queryKey:["/api/notifications/rules"]}),f=Se({mutationFn:async x=>{const v=await fetch(`/api/workflows/${x}/execute`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({trigger:{source:"mobile",timestamp:new Date().toISOString()}})});if(!v.ok)throw new Error("Failed to execute workflow");return v.json()},onSuccess:()=>{n({title:"Workflow Executed",description:"Workflow has been executed successfully"}),r.invalidateQueries({queryKey:["/api/workflows/stats"]})},onError:()=>{n({title:"Execution Failed",description:"Failed to execute workflow",variant:"destructive"})}}),g=Se({mutationFn:async x=>{const y=await fetch({workflows:"/api/workflows/trigger",invoicing:"/api/invoices/automation/trigger",notifications:"/api/notifications/trigger"}[x],{method:"POST",headers:{"Content-Type":"application/json"}});if(!y.ok)throw new Error(`Failed to trigger ${x}`);return y.json()},onSuccess:(x,v)=>{n({title:"Automation Triggered",description:`${v.charAt(0).toUpperCase()+v.slice(1)} automation executed successfully`}),r.invalidateQueries({queryKey:["/api/workflows/stats"]})},onError:(x,v)=>{n({title:"Trigger Failed",description:`Failed to trigger ${v} automation`,variant:"destructive"})}});if(i||l||d||h)return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#004C6D] to-[#0B1D3A] flex items-center justify-center p-4",children:s.jsxs("div",{className:"text-center text-white",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),s.jsx("p",{className:"text-lg font-medium",children:"Loading Workflows..."})]})});const p=[...c,...u];return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#004C6D] to-[#0B1D3A]",children:[s.jsxs("div",{className:"bg-[#004C6D] px-4 py-6 shadow-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ze,{href:"/mobile",children:s.jsx(D,{variant:"ghost",size:"sm",className:"text-white hover:bg-white/20 p-2","data-testid":"button-back",children:s.jsx(ln,{className:"h-5 w-5"})})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:" Workflows"}),s.jsx("p",{className:"text-blue-100 text-sm",children:"Automation & Rules"})]})]}),s.jsx(ze,{href:"/mobile",children:s.jsx(D,{variant:"ghost",size:"sm",className:"text-white hover:bg-white/20 p-2","data-testid":"button-home",children:s.jsx(Xo,{className:"h-5 w-5"})})})]}),s.jsxs("div",{className:"flex space-x-1 bg-white/10 rounded-lg p-1",children:[s.jsxs(D,{variant:e==="templates"?"default":"ghost",size:"sm",onClick:()=>t("templates"),className:`flex-1 ${e==="templates"?"bg-white text-[#004C6D]":"text-white hover:bg-white/20"}`,"data-testid":"tab-templates",children:[s.jsx(cn,{className:"h-4 w-4 mr-1"}),"Templates"]}),s.jsxs(D,{variant:e==="automation"?"default":"ghost",size:"sm",onClick:()=>t("automation"),className:`flex-1 ${e==="automation"?"bg-white text-[#004C6D]":"text-white hover:bg-white/20"}`,"data-testid":"tab-automation",children:[s.jsx(dr,{className:"h-4 w-4 mr-1"}),"Rules"]}),s.jsxs(D,{variant:e==="stats"?"default":"ghost",size:"sm",onClick:()=>t("stats"),className:`flex-1 ${e==="stats"?"bg-white text-[#004C6D]":"text-white hover:bg-white/20"}`,"data-testid":"tab-stats",children:[s.jsx(Sn,{className:"h-4 w-4 mr-1"}),"Stats"]})]})]}),s.jsxs("div",{className:"p-4 space-y-4",children:[e==="templates"&&s.jsxs(s.Fragment,{children:[s.jsxs(B,{className:"bg-white/95 backdrop-blur border-0 shadow-lg","data-testid":"card-quick-actions",children:[s.jsx(ae,{className:"pb-3",children:s.jsx(ie,{className:"text-[#004C6D]",children:" Quick Actions"})}),s.jsx(q,{children:s.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[s.jsxs(D,{onClick:()=>g.mutate("workflows"),disabled:g.isPending,className:"bg-[#004C6D] hover:bg-[#003A52] text-white justify-start","data-testid":"button-trigger-workflows",children:[s.jsx(Tu,{className:"h-4 w-4 mr-2"}),"Trigger All Workflows"]}),s.jsxs(D,{onClick:()=>g.mutate("invoicing"),disabled:g.isPending,variant:"outline",className:"text-[#004C6D] border-[#004C6D]/20 justify-start","data-testid":"button-trigger-invoicing",children:[s.jsx(us,{className:"h-4 w-4 mr-2"}),"Trigger Invoice Automation"]}),s.jsxs(D,{onClick:()=>g.mutate("notifications"),disabled:g.isPending,variant:"outline",className:"text-[#004C6D] border-[#004C6D]/20 justify-start","data-testid":"button-trigger-notifications",children:[s.jsx(ur,{className:"h-4 w-4 mr-2"}),"Trigger Smart Notifications"]})]})})]}),s.jsxs(B,{className:"bg-white/95 backdrop-blur border-0 shadow-lg","data-testid":"card-workflow-templates",children:[s.jsx(ae,{className:"pb-3",children:s.jsx(ie,{className:"text-[#004C6D]",children:" Workflow Templates"})}),s.jsx(q,{children:s.jsxs("div",{className:"space-y-3",children:[a.map((x,v)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg","data-testid":`template-${v}`,children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:x.name}),s.jsx(Z,{variant:"secondary",className:"text-xs",children:x.category})]}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:x.description}),s.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-xs text-gray-500",children:[s.jsxs("span",{children:[" ",x.rating,"/5"]}),s.jsxs("span",{children:[" ",x.popularity," uses"]}),s.jsxs("span",{children:[" ",x.author]})]})]}),s.jsx(D,{size:"sm",onClick:()=>f.mutate(x.id),disabled:f.isPending,className:"bg-[#004C6D] hover:bg-[#003A52] text-white ml-3","data-testid":`button-execute-template-${v}`,children:s.jsx(Tu,{className:"h-4 w-4"})})]},x.id)),a.length===0&&s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(cn,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{className:"text-sm",children:"No workflow templates available"})]})]})})]})]}),e==="automation"&&s.jsxs(B,{className:"bg-white/95 backdrop-blur border-0 shadow-lg","data-testid":"card-automation-rules",children:[s.jsx(ae,{className:"pb-3",children:s.jsx(ie,{className:"text-[#004C6D]",children:" Active Rules"})}),s.jsx(q,{children:s.jsxs("div",{className:"space-y-3",children:[p.map((x,v)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg","data-testid":`rule-${v}`,children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:x.name}),s.jsx(Z,{variant:x.isActive?"default":"secondary",className:"text-xs",children:x.isActive?"Active":"Inactive"})]}),x.description&&s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:x.description}),s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Type: ",x.type||"Automation Rule"]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(jr,{checked:x.isActive,disabled:!0,className:"scale-75","data-testid":`switch-rule-${v}`}),s.jsx(D,{size:"sm",variant:"outline",className:"text-[#004C6D] border-[#004C6D]/20","data-testid":`button-edit-rule-${v}`,children:s.jsx(dr,{className:"h-4 w-4"})})]})]},x.id)),p.length===0&&s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(dr,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{className:"text-sm",children:"No automation rules configured"}),s.jsx("p",{className:"text-xs",children:"Create rules to automate your workflow"})]})]})})]}),e==="stats"&&o&&s.jsxs(s.Fragment,{children:[s.jsxs(B,{className:"bg-white/95 backdrop-blur border-0 shadow-lg","data-testid":"card-workflow-stats",children:[s.jsx(ae,{className:"pb-3",children:s.jsx(ie,{className:"text-[#004C6D]",children:" Workflow Statistics"})}),s.jsx(q,{children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600","data-testid":"text-total-templates",children:o.totalTemplates}),s.jsx("div",{className:"text-xs text-blue-600",children:"Templates"})]}),s.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600","data-testid":"text-active-workflows",children:o.activeWorkflows}),s.jsx("div",{className:"text-xs text-green-600",children:"Active"})]}),s.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600","data-testid":"text-total-executions",children:o.totalExecutions}),s.jsx("div",{className:"text-xs text-purple-600",children:"Executions"})]}),s.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-orange-600","data-testid":"text-system-templates",children:o.systemTemplates}),s.jsx("div",{className:"text-xs text-orange-600",children:"System"})]})]})})]}),s.jsxs(B,{className:"bg-white/95 backdrop-blur border-0 shadow-lg","data-testid":"card-performance",children:[s.jsx(ae,{className:"pb-3",children:s.jsx(ie,{className:"text-[#004C6D]",children:" Performance"})}),s.jsx(q,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Success Rate"}),s.jsx("span",{className:"text-sm font-medium text-green-600",children:"95.2%"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Avg Execution Time"}),s.jsx("span",{className:"text-sm font-medium text-blue-600",children:"1.2s"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Today's Runs"}),s.jsx("span",{className:"text-sm font-medium text-purple-600",children:"47"})]})]})})]})]}),s.jsx(B,{className:"bg-white/95 backdrop-blur border-0 shadow-lg","data-testid":"card-switch-desktop",children:s.jsx(q,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Need the full platform?"}),s.jsx("a",{href:"/?desktop=true",className:"inline-block bg-[#004C6D] text-white px-6 py-3 rounded-lg font-medium hover:bg-[#003A52] transition-colors","data-testid":"link-desktop-version",children:" Switch to Desktop Version"})]})})}),s.jsx("div",{className:"h-8"})]})]})}function INt(){const[e,t]=Fs();if(e.startsWith("/mobile"))return s.jsxs(FP,{children:[s.jsx(gt,{path:"/mobile",component:zW}),s.jsx(gt,{path:"/mobile/dashboard",component:DNt}),s.jsx(gt,{path:"/mobile/tasks",component:ONt}),s.jsx(gt,{path:"/mobile/projects",component:MNt}),s.jsx(gt,{path:"/mobile/time-tracking",component:RNt}),s.jsx(gt,{path:"/mobile/workflows",component:$Nt}),s.jsx(gt,{component:zW})]});const{user:r,isAuthenticated:a,isLoading:i,isAdmin:o}=er();return b.useEffect(()=>{a&&(e==="/login"||e==="/signup")&&t("/")},[a,e,t]),i?s.jsx("div",{className:"min-h-screen bg-neutral-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Loading..."})]})}):a?r&&!r.hasCompletedOnboarding?s.jsx(ryt,{onComplete:()=>window.location.reload()}):s.jsxs(FP,{children:[s.jsx(gt,{path:"/",component:vPe}),s.jsx(gt,{path:"/tasks",component:$dt}),s.jsx(gt,{path:"/productivity",component:Kdt}),s.jsx(gt,{path:"/project/:projectId",component:Rdt}),s.jsx(gt,{path:"/messages",component:Ogt}),s.jsx(gt,{path:"/create-proposal",component:Gdt}),s.jsx(gt,{path:"/invoices",component:Xdt}),s.jsx(gt,{path:"/invoices/:id",component:Qdt}),s.jsx(gt,{path:"/create-invoice",component:Ydt}),s.jsx(gt,{path:"/edit-invoice/:id",component:Zdt}),s.jsx(gt,{path:"/payments",component:eut}),s.jsx(gt,{path:"/create-contract",component:tut}),s.jsx(gt,{path:"/create-presentation",component:nut}),s.jsx(gt,{path:"/clients",component:rut}),s.jsx(gt,{path:"/client/:clientId",component:Dgt}),s.jsx(gt,{path:"/filing-cabinet",component:zxt}),s.jsx(gt,{path:"/agency-hub",component:Bxt}),s.jsx(gt,{path:"/user-manual",component:Uxt}),s.jsx(gt,{path:"/bulk-operations",component:qxt}),s.jsx(gt,{path:"/custom-fields",component:Yxt}),s.jsx(gt,{path:"/workflow-automation",component:tyt}),s.jsx(gt,{path:"/garage-assistant",component:Pwt}),s.jsx(gt,{path:"/analytics",component:Owt}),s.jsx(gt,{path:"/ai-insights",component:Mwt}),s.jsx(gt,{path:"/team-collaboration",component:$wt}),s.jsx(gt,{path:"/advanced-reporting",component:Iwt}),s.jsx(gt,{path:"/api-webhooks",component:Lwt}),s.jsx(gt,{path:"/sso-management",component:zwt}),s.jsx(gt,{path:"/permissions-management",component:Bwt}),s.jsx(gt,{path:"/audit-logging",component:Uwt}),s.jsx(gt,{path:"/white-label",component:Vwt}),s.jsx(gt,{path:"/smart-scheduling",component:Wwt}),s.jsx(gt,{path:"/predictive-analytics",component:Hwt}),s.jsx(gt,{path:"/email-management",component:Gwt}),s.jsx(gt,{path:"/slack-integration",component:Ywt}),s.jsx(gt,{path:"/performance-dashboard",component:Xwt}),o&&s.jsx(gt,{path:"/admin",component:kPe}),o&&s.jsx(gt,{path:"/dashboard",component:WJe}),s.jsx(gt,{component:syt})]}):s.jsxs(FP,{children:[s.jsx(gt,{path:"/login",component:SPe}),s.jsx(gt,{path:"/signup",component:CPe}),s.jsx(gt,{path:"/test-404",component:ayt}),s.jsx(gt,{path:"/pay-invoice",component:ENt}),s.jsx(gt,{component:NPe})]})}function FNt(){return s.jsx(qxe,{client:rt,children:s.jsx(Hje,{children:s.jsx(Uje,{children:s.jsxs(Bje,{children:[s.jsx(Yje,{}),s.jsx(Kje,{}),s.jsx(uNe,{}),s.jsx(mbe,{}),s.jsx(INt,{})]})})})})}const LNt=/Mobile|Android|iPhone|iPad|iPod|BlackBerry|Opera Mini/i.test(navigator.userAgent),zNt=/iPhone|iPad|iPod/.test(navigator.userAgent)&&/Safari/.test(navigator.userAgent);LNt&&window.addEventListener("error",e=>{var n;console.error(" Mobile error:",e.error);const t=document.getElementById("root");t&&t.innerHTML===""&&(t.innerHTML=`
        <div style="padding: 20px; background: #EF4444; color: white; font-family: -apple-system, BlinkMacSystemFont, sans-serif;">
          <h2> Mobile Error Detected</h2>
          <p><strong>Device:</strong> ${navigator.userAgent}</p>
          <p><strong>Error:</strong> ${((n=e.error)==null?void 0:n.message)||"Unknown error"}</p>
          <a href="/mobile" style="display: inline-block; background: #DC2626; color: white; padding: 10px 20px; text-decoration: none; border-radius: 6px; margin-top: 15px;">
             Try Mobile Version
          </a>
        </div>
      `)});try{console.log(" Starting React app..."),zNt&&console.log(" iOS Safari detected - using compatibility mode"),XX(document.getElementById("root")).render(s.jsx(FNt,{})),console.log(" React app rendered successfully")}catch(e){console.error(" React render error:",e),document.getElementById("root").innerHTML=`
    <div style="padding: 20px; background: #DC2626; color: white; font-family: -apple-system, BlinkMacSystemFont, sans-serif;">
      <h2> React Render Error</h2>
      <p><strong>Error:</strong> ${e}</p>
      <a href="/mobile" style="display: inline-block; background: #B91C1C; color: white; padding: 10px 20px; text-decoration: none; border-radius: 6px; margin-top: 15px;">
         Try Mobile Version
      </a>
    </div>
  `}});export default BNt();
